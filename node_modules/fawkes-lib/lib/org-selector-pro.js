module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/dist/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 190);
/******/ })
/************************************************************************/
/******/ ({

/***/ 0:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return normalizeComponent; });
/* globals __VUE_SSR_CONTEXT__ */

// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).
// This module is a runtime utility for cleaner component module output and will
// be included in the final webpack user bundle.

function normalizeComponent(
  scriptExports,
  render,
  staticRenderFns,
  functionalTemplate,
  injectStyles,
  scopeId,
  moduleIdentifier /* server only */,
  shadowMode /* vue-cli only */
) {
  // Vue.extend constructor export interop
  var options =
    typeof scriptExports === 'function' ? scriptExports.options : scriptExports

  // render functions
  if (render) {
    options.render = render
    options.staticRenderFns = staticRenderFns
    options._compiled = true
  }

  // functional template
  if (functionalTemplate) {
    options.functional = true
  }

  // scopedId
  if (scopeId) {
    options._scopeId = 'data-v-' + scopeId
  }

  var hook
  if (moduleIdentifier) {
    // server build
    hook = function (context) {
      // 2.3 injection
      context =
        context || // cached call
        (this.$vnode && this.$vnode.ssrContext) || // stateful
        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional
      // 2.2 with runInNewContext: true
      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {
        context = __VUE_SSR_CONTEXT__
      }
      // inject component styles
      if (injectStyles) {
        injectStyles.call(this, context)
      }
      // register component module identifier for async chunk inferrence
      if (context && context._registeredComponents) {
        context._registeredComponents.add(moduleIdentifier)
      }
    }
    // used by ssr in case component is cached and beforeCreate
    // never gets called
    options._ssrRegister = hook
  } else if (injectStyles) {
    hook = shadowMode
      ? function () {
          injectStyles.call(
            this,
            (options.functional ? this.parent : this).$root.$options.shadowRoot
          )
        }
      : injectStyles
  }

  if (hook) {
    if (options.functional) {
      // for template-only hot-reload because in that case the render fn doesn't
      // go through the normalizer
      options._injectStyles = hook
      // register for functional component in vue file
      var originalRender = options.render
      options.render = function renderWithStyleInjection(h, context) {
        hook.call(context)
        return originalRender(h, context)
      }
    } else {
      // inject component registration as beforeCreate hook
      var existing = options.beforeCreate
      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]
    }
  }

  return {
    exports: scriptExports,
    options: options
  }
}


/***/ }),

/***/ 10:
/***/ (function(module, exports) {

module.exports = require("fawkes-lib/lib/utils/resize-event");

/***/ }),

/***/ 13:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXTERNAL MODULE: external "axios"
var external_axios_ = __webpack_require__(16);
var external_axios_default = /*#__PURE__*/__webpack_require__.n(external_axios_);

// EXTERNAL MODULE: external "qs"
var external_qs_ = __webpack_require__(25);
var external_qs_default = /*#__PURE__*/__webpack_require__.n(external_qs_);

// EXTERNAL MODULE: external "crypto-js/hmac-sha1"
var hmac_sha1_ = __webpack_require__(18);
var hmac_sha1_default = /*#__PURE__*/__webpack_require__.n(hmac_sha1_);

// EXTERNAL MODULE: external "crypto-js/enc-base64"
var enc_base64_ = __webpack_require__(19);
var enc_base64_default = /*#__PURE__*/__webpack_require__.n(enc_base64_);

// EXTERNAL MODULE: external "vue"
var external_vue_ = __webpack_require__(5);
var external_vue_default = /*#__PURE__*/__webpack_require__.n(external_vue_);

// EXTERNAL MODULE: external "fawkes-lib/lib/utils/types"
var types_ = __webpack_require__(8);

// CONCATENATED MODULE: ./src/utils/util.js
var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };




var util_hasOwnProperty = Object.prototype.hasOwnProperty;

function noop() {}

function hasOwn(obj, key) {
  return util_hasOwnProperty.call(obj, key);
}

function extend(to, _from) {
  for (var key in _from) {
    to[key] = _from[key];
  }
  return to;
}
/**
 * @description 生成UUID
 * @param {Integer} len uuid长度
 * @param {Integer} radix uuid基数
 * @returns {String} UUID
 */
function uuid(len, radix) {
  var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');
  var uuid = [],
      i = void 0;
  radix = radix || chars.length;

  if (len) {
    // Compact form
    for (i = 0; i < len; i++) {
      uuid[i] = chars[0 | Math.random() * radix];
    }
  } else {
    // rfc4122, version 4 form
    var r = void 0;
    // rfc4122 requires these characters
    uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';
    uuid[14] = '4';
    // Fill in random data.  At i==19 set the high bits of clock sequence as
    // per rfc4122, sec. 4.1.5
    for (i = 0; i < 36; i++) {
      if (!uuid[i]) {
        r = 0 | Math.random() * 16;
        uuid[i] = chars[i == 19 ? r & 0x3 | 0x8 : r];
      }
    }
  }
  return uuid.join('');
}

function toObject(arr) {
  var res = {};
  for (var i = 0; i < arr.length; i++) {
    if (arr[i]) {
      extend(res, arr[i]);
    }
  }
  return res;
}

var getValueByPath = function getValueByPath(object, prop) {
  prop = prop || '';
  var paths = prop.split('.');
  var current = object;
  var result = null;
  for (var i = 0, j = paths.length; i < j; i++) {
    var path = paths[i];
    if (!current) break;

    if (i === j - 1) {
      result = current[path];
      break;
    }
    current = current[path];
  }
  return result;
};

function getPropByPath(obj, path, strict) {
  var tempObj = obj;
  path = path.replace(/\[(\w+)\]/g, '.$1');
  path = path.replace(/^\./, '');

  var keyArr = path.split('.');
  var i = 0;
  for (var len = keyArr.length; i < len - 1; ++i) {
    if (!tempObj && !strict) break;
    var key = keyArr[i];
    if (key in tempObj) {
      tempObj = tempObj[key];
    } else {
      if (strict) {
        throw new Error('please transfer a valid prop path to form item!');
      }
      break;
    }
  }
  return {
    o: tempObj,
    k: keyArr[i],
    v: tempObj ? tempObj[keyArr[i]] : null
  };
}

var generateId = function generateId() {
  return Math.floor(Math.random() * 10000);
};

var valueEquals = function valueEquals(a, b) {
  // see: https://stackoverflow.com/questions/3115982/how-to-check-if-two-arrays-are-equal-with-javascript
  if (a === b) return true;
  if (!(a instanceof Array)) return false;
  if (!(b instanceof Array)) return false;
  if (a.length !== b.length) return false;
  for (var i = 0; i !== a.length; ++i) {
    if (a[i] !== b[i]) return false;
  }
  return true;
};

var escapeRegexpString = function escapeRegexpString() {
  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  return String(value).replace(/[|\\{}()[\]^$+*?.]/g, '\\$&');
};

// TODO: use native Array.find, Array.findIndex when IE support is dropped
var arrayFindIndex = function arrayFindIndex(arr, pred) {
  for (var i = 0; i !== arr.length; ++i) {
    if (pred(arr[i])) {
      return i;
    }
  }
  return -1;
};

var arrayFind = function arrayFind(arr, pred) {
  var idx = arrayFindIndex(arr, pred);
  return idx !== -1 ? arr[idx] : undefined;
};
var treeFind = function treeFind(arr, pred) {
  for (var i = 0; i !== arr.length; ++i) {
    if (pred(arr[i])) {
      return arr[i];
    } else if (Array.isArray(arr[i].children) && arr[i].children.length > 0) {
      var res = treeFind(arr[i].children, pred);
      if (res) return res;
    }
  }
  return undefined;
};
// coerce truthy value to array
var coerceTruthyValueToArray = function coerceTruthyValueToArray(val) {
  if (Array.isArray(val)) {
    return val;
  } else if (val) {
    return [val];
  } else {
    return [];
  }
};

var util_isIE = function isIE() {
  return !external_vue_default.a.prototype.$isServer && !isNaN(Number(document.documentMode));
};

var util_isEdge = function isEdge() {
  return !external_vue_default.a.prototype.$isServer && navigator.userAgent.indexOf('Edge') > -1;
};

var util_isFirefox = function isFirefox() {
  return !external_vue_default.a.prototype.$isServer && !!window.navigator.userAgent.match(/firefox/i);
};

var autoprefixer = function autoprefixer(style) {
  if ((typeof style === 'undefined' ? 'undefined' : _typeof(style)) !== 'object') return style;
  var rules = ['transform', 'transition', 'animation'];
  var prefixes = ['ms-', 'webkit-'];
  rules.forEach(function (rule) {
    var value = style[rule];
    if (rule && value) {
      prefixes.forEach(function (prefix) {
        style[prefix + rule] = value;
      });
    }
  });
  return style;
};

var kebabCase = function kebabCase(str) {
  var hyphenateRE = /([^-])([A-Z])/g;
  return str.replace(hyphenateRE, '$1-$2').replace(hyphenateRE, '$1-$2').toLowerCase();
};

var util_capitalize = function capitalize(str) {
  if (!Object(types_["isString"])(str)) return str;
  return str.charAt(0).toUpperCase() + str.slice(1);
};

var util_looseEqual = function looseEqual(a, b) {
  var isObjectA = Object(types_["isObject"])(a);
  var isObjectB = Object(types_["isObject"])(b);
  if (isObjectA && isObjectB) {
    return JSON.stringify(a) === JSON.stringify(b);
  } else if (!isObjectA && !isObjectB) {
    return String(a) === String(b);
  } else {
    return false;
  }
};

var arrayEquals = function arrayEquals(arrayA, arrayB) {
  arrayA = arrayA || [];
  arrayB = arrayB || [];

  if (arrayA.length !== arrayB.length) {
    return false;
  }

  for (var i = 0; i < arrayA.length; i++) {
    if (!util_looseEqual(arrayA[i], arrayB[i])) {
      return false;
    }
  }

  return true;
};

var isEqual = function isEqual(value1, value2) {
  if (Array.isArray(value1) && Array.isArray(value2)) {
    return arrayEquals(value1, value2);
  }
  return util_looseEqual(value1, value2);
};

var isEmpty = function isEmpty(val) {
  // null or undefined
  if (val == null) return true;

  if (typeof val === 'boolean') return false;

  if (typeof val === 'number') return !val;

  if (val instanceof Error) return val.message === '';

  switch (Object.prototype.toString.call(val)) {
    // String or Array
    case '[object String]':
    case '[object Array]':
      return !val.length;

    // Map or Set or File
    case '[object File]':
    case '[object Map]':
    case '[object Set]':
      {
        return !val.size;
      }
    // Plain Object
    case '[object Object]':
      {
        return !Object.keys(val).length;
      }
  }

  return false;
};

function rafThrottle(fn) {
  var locked = false;
  return function () {
    var _this = this;

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    if (locked) return;
    locked = true;
    window.requestAnimationFrame(function (_) {
      fn.apply(_this, args);
      locked = false;
    });
  };
}

function objToArray(obj) {
  if (Array.isArray(obj)) {
    return obj;
  }
  return isEmpty(obj) ? [] : [obj];
}
// CONCATENATED MODULE: ./src/utils/sign.js
var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

/*
 * @Author: gao_m3
 * @Date: 2021-03-29 17:51:08
 * @LastEditors: wei_jt@ecidi.com
 * @LastEditTime: 2022-03-31 09:36:48
 * @Descripttion: 
 */




var CLIENT = 'fawkes'; //'dca84d27aeaa6783b6405fd222a2897a'//应用id
var CLIENT_SECRET = 'fawkes_secret'; //'73af5c8eb55cd81e696f97ec8151cf5eafa62ce2659c0139ebda3dec41e18594'
var dayjs = __webpack_require__(27);
//获取加密后的url参数字符串
var sign_getUrl = function getUrl(rest) {
  var Params = "";
  var ts = dayjs().unix();
  var ttl = 30;
  var obj = rest;
  Params += "ts=" + ts + "&ttl=" + ttl + "&uid=" + CLIENT + (isEmpty(obj) ? '' : "&" + objTransUrlParams(obj));
  var ParamArr = sortUrlParams(Params);
  ParamArr = objKeySort(ParamArr);
  var paramstr = [];
  for (var i in ParamArr) {
    paramstr.push(i + "=" + ParamArr[i]);
  }
  paramstr = paramstr.join("&");
  var signWordArray = hmac_sha1_default()(paramstr, CLIENT_SECRET);
  var sign = enc_base64_default.a.stringify(signWordArray);
  var encodeSign = encodeURIComponent(sign);
  return paramstr + "&sign=" + encodeSign;
};

//获取加密后的参数对象
var sign_getSign = function getSign(rest) {
  var Params = "";
  var ts = dayjs().unix();
  var ttl = 180;
  var obj = rest;
  Params += "ts=" + ts + "&ttl=" + ttl + "&uid=" + CLIENT + (isEmpty(obj) ? '' : "&" + objTransUrlParams(obj));
  var ParamArr = sortUrlParams(Params);
  ParamArr = objKeySort(ParamArr);
  var paramstr = [];
  for (var i in ParamArr) {
    paramstr.push(i + "=" + ParamArr[i]);
  }
  paramstr = paramstr.join("&");
  var signWordArray = hmac_sha1_default()(paramstr, CLIENT_SECRET);
  var sign = enc_base64_default.a.stringify(signWordArray);
  return _extends({ sign: sign, ts: ts, ttl: ttl, uid: CLIENT }, ParamArr);
};

var objKeySort = function objKeySort(obj) {
  var newkey = Object.keys(obj).sort();
  var newObj = {};
  for (var i = 0; i < newkey.length; i++) {
    newObj[newkey[i]] = obj[newkey[i]];
  }
  return newObj;
};

var sortUrlParams = function sortUrlParams(str) {
  if (typeof str !== 'string') {
    return {};
  }
  var paramObj = {};
  var paramArr = decodeURI(str).split('&');
  // let paramArr = str.split('&');
  for (var i = 0; i < paramArr.length; i++) {
    var tmp = paramArr[i].split('=');
    var key = tmp[0];
    var value = tmp[1] || "";
    //if (typeof value === 'string' && isNaN(Number(value)) === false && value !== "") {
    //  value = Number(value);
    //}
    if (typeof paramObj[key] === 'undefined') {
      paramObj[key] = value;
    } else {
      var newValue = Array.isArray(paramObj[key]) ? paramObj[key] : [paramObj[key]];
      newValue.push(value);
      paramObj[key] = newValue;
    }
  }
  return paramObj;
};

var objTransUrlParams = function objTransUrlParams(obj) {
  var params = [];
  Object.keys(obj).forEach(function (key) {
    var value = obj[key];
    if (typeof value === 'undefined') {
      value = '';
    }
    params.push([key, value].join('='));
  });
  return params.join('&');
};


// CONCATENATED MODULE: ./src/utils/request.js
/*
 * @Author: wei_jt@ecidi.com
 * @Date: 2019-07-05 16:35:39
 * @LastEditors: Please set LastEditors
 * @LastEditTime: 2021-03-10 15:06:30
 * @Description: 请求配置
 */

 //qs一般装了axios就自带不用再装，如果没有，自己安装下
 //签名校验

//开发环境添加代理前缀
var prefix = '../api';
if (false) {}

var request = external_axios_default.a.create({
  baseURL: prefix, //这里配置你自己的url
  transformRequest: [function (data) {
    data = external_qs_default.a.stringify(data); //序列化参数
    return data;
  }],
  withCredentials: true // 允许携带cookie
});
var pending = []; //声明一个数组用于存储每个ajax请求的取消函数和ajax标识

var cancelToken = external_axios_default.a.CancelToken;

var removePending = function removePending(config) {
  for (var p in pending) {
    if (config.remove) {
      //当当前请求在数组中存在时执行函数体
      pending[p].f(); //执行取消操作
      pending.splice(p, 1); //把这条记录从数组中移除
    }
  }
};
//添加请求拦截器
request.interceptors.request.use(function (config) {
  removePending(config); //在一个ajax发送前执行一下取消操作
  config.cancelToken = new cancelToken(function (c) {
    //这里的ajax标识我是用请求地址&请求方式拼接的字符串，当然你可以选择其他的一些方式
    if (config.remove) {
      pending.push({
        u: config.url + '&' + config.method,
        f: c
      });
    }
  });
  config.params = sign_getSign(config.params);
  // config.headers['Fawkes-Auth'] = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6ImZhd2tlcyIsInVzZXJfbmFtZSI6IndlaV9qdCIsInNleCI6IueUtyIsInVzZXJObyI6IjIwMTgyNzMiLCJ1c2VyTmFtZSI6IndlaV9qdCIsImNsaWVudF9pZCI6ImZhd2tlcyIsImxpY2Vuc2UiOiJwb3dlcmVkIGJ5IGZhd2tlcyIsImF1ZCI6WyJvYXV0aDItcmVzb3VyY2UiLCJvYXV0aDItc2VydmVyIl0sInBob25lIjoiMTM3MzU4OTk3NDEiLCJzY29wZSI6WyJhbGwiXSwidGVuYW50SWQiOjEwMDAwMCwidXNlckZ1bGxuYW1lIjoi6Z-m6ZSm5rabIiwiaWQiOiIxMTkwMTUzNDcyMTkyODkyOTg1IiwiZXhwIjoxNTk5NzE3NjA0LCJqdGkiOiI0ODM5OGRiYy03OWM2LTQ5NDUtYTI4MC1mZDdkOWMzYTY5YzciLCJlbWFpbCI6IndlaV9qdEBlY2lkaS5jb20ifQ.LqK4UszX71C89SpMSo6MTKtfWB2v5ow0-jjrUZb3iiA'

  return config;
}, function (error) {
  return Promise.reject(error);
});
//添加响应拦截器
request.interceptors.response.use(function (res) {
  removePending(res.config); //在一个ajax响应后再执行一下取消操作，把已经完成的请求从pending中移除
  return res.data;
}, function (error) {
  return {
    // data: {
    //   errmsg: error.message
    // }
  };
});
/* harmony default export */ var utils_request = __webpack_exports__["a"] = (request);

/***/ }),

/***/ 16:
/***/ (function(module, exports) {

module.exports = require("axios");

/***/ }),

/***/ 17:
/***/ (function(module, exports) {

module.exports = require("fawkes-lib/lib/locale");

/***/ }),

/***/ 18:
/***/ (function(module, exports) {

module.exports = require("crypto-js/hmac-sha1");

/***/ }),

/***/ 19:
/***/ (function(module, exports) {

module.exports = require("crypto-js/enc-base64");

/***/ }),

/***/ 190:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./packages/selector-component/index.vue + 14 modules
var selector_component = __webpack_require__(51);

// EXTERNAL MODULE: ./src/mixins/emitter.js
var emitter = __webpack_require__(50);

// EXTERNAL MODULE: external "fawkes-lib/lib/locale"
var locale_ = __webpack_require__(17);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./packages/org-selector-pro/src/index.vue?vue&type=script&lang=js&
var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

//
//
//
//
//
//
//
//





/* harmony default export */ var srcvue_type_script_lang_js_ = ({
  extends: selector_component["a" /* default */],
  name: 'FksOrgSelectorPro',
  mixins: [emitter["a" /* default */]],
  componentName: 'FksOrgSelectorPro',
  props: {
    deptId: {
      type: String,
      default: ''
    },
    urlPath: {
      type: String,
      default: '/sys-user/orgs/tree'
    },
    placeholder: {
      type: String,
      default: Object(locale_["t"])('fks.org.selectbranch')
    },
    deptName: {
      type: String,
      default: ''
    }
  },

  data: function data() {
    return {
      ids: this.deptId || '',
      dialogTitle: Object(locale_["t"])('fks.org.selectbranch'),
      searchPlaceholder: Object(locale_["t"])('fks.org.name')
    };
  },

  watch: {
    deptId: function deptId(val) {
      this.ids = val;
    },
    ids: function ids(val) {
      if (this.deptId !== val) {
        this.$emit('change', this.selectedObjArray);
        this.$emit('update:deptId', val);
        this.dispatch('FksFormItem', 'fks.form.change', val);
      }
    },
    selectedObjArray: function selectedObjArray(val) {
      this.$emit('update:deptName', val.map(function (item) {
        return item.name;
      }).join(','));
    }
  },
  methods: {
    dataFormat: function dataFormat(data) {
      var analyze = function analyze(data) {
        return data.map(function (item) {
          return _extends({}, item.content, {
            id: item.id,
            orgId: item.content.id,
            children: !item.children ? [] : analyze(item.children)
          });
        });
      };
      return analyze(data);
    }
  }

});
// CONCATENATED MODULE: ./packages/org-selector-pro/src/index.vue?vue&type=script&lang=js&
 /* harmony default export */ var org_selector_pro_srcvue_type_script_lang_js_ = (srcvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(0);

// CONCATENATED MODULE: ./packages/org-selector-pro/src/index.vue
var render, staticRenderFns




/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  org_selector_pro_srcvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var src = (component.exports);
// CONCATENATED MODULE: ./packages/org-selector-pro/index.js
/*
 * @Author: zhong_m
 * @Date: 2022-07-08 10:31:37
 * @LastEditTime: 2022-07-11 15:11:40
 * @LastEditors: zhong_m
 * @Description: 
 * @FilePath: \fawkes-lib\packages\org-selector-pro\index.js
 */
// 导入组件，组件必须声明 name


// 为组件提供 install 安装方法，供按需引入
src.install = function (Vue) {
  Vue.component(src.name, src);
};

// 默认导出组件
/* harmony default export */ var org_selector_pro = __webpack_exports__["default"] = (src);

/***/ }),

/***/ 24:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*
 * @Author: wei_jt@ecidi.com
 * @Date: 2019-07-19 19:40:56
 * @LastEditors: Please set LastEditors
 * @LastEditTime: 2021-03-09 16:12:13
 * @Description: 选择组件通用部分
 */
/* harmony default export */ __webpack_exports__["a"] = ({
  inject: {
    fksForm: {
      default: function _default() {
        return {};
      }
    },
    fksFormItem: {
      default: function _default() {
        return {};
      }
    }
  },
  props: {
    showAllUser: {
      type: Boolean,
      default: false
    },
    width: {
      type: String,
      default: '100%'
    },
    url: {
      type: String,
      default: ''
    },
    params: {
      type: Object,
      default: function _default() {
        return {};
      }
    },
    headers: {
      type: Object,
      default: function _default() {
        return {};
      }
    },
    multiple: Boolean,
    multipleLimit: {
      type: Number,
      default: 0
    },
    readonly: Boolean,
    disabled: Boolean,
    /** 标签是否收缩 */
    collapseTags: Boolean,
    size: String,
    related: {
      type: Object,
      default: function _default() {
        return {};
      }
    }
  },
  data: function data() {
    return {
      initialInputHeight: 0,
      visible: false
    };
  },

  computed: {
    collapseTagSize: function collapseTagSize() {
      return ['small', 'mini'].indexOf(this.size) > -1 ? 'mini' : 'small';
    },
    forbidden: function forbidden() {
      return this.disabled || !!(this.fksForm && this.fksForm.disabled) || ((this.fksForm || {}).flowConfig || {})[(this.fksFormItem || {}).prop] == 'disabled';
    },
    uploadReadOnly: function uploadReadOnly() {
      return this.readonly || ((this.fksForm || {}).flowConfig || {})[(this.fksFormItem || {}).prop] == 'readonly';
    }
  },
  methods: {
    resetInputHeight: function resetInputHeight() {
      var _this = this;

      this.$nextTick(function () {
        if (!_this.$refs.input) return;
        var inputChildNodes = _this.$refs.input.$el.childNodes;
        var input = [].filter.call(inputChildNodes, function (item) {
          return item.tagName === 'INPUT';
        })[0];
        var tags = _this.$refs.tags;
        var sizeInMap = _this.initialInputHeight || 36;
        var list = _this.sureList || _this.chosedList;
        input.style.height = list.length === 0 ? sizeInMap + 'px' : Math.max(tags ? tags.clientHeight + (tags.clientHeight > sizeInMap ? 4 : 0) : 0, sizeInMap) + 'px';
      });
    }
  },
  watch: {
    collapseTags: function collapseTags() {
      if (this.multiple) {
        this.resetInputHeight();
      }
    }
  },
  mounted: function mounted() {
    var sizeMap = {
      large: 40,
      small: 32,
      mini: 28
    };
    this.initialInputHeight = sizeMap[this.size];
  }
});

/***/ }),

/***/ 25:
/***/ (function(module, exports) {

module.exports = require("qs");

/***/ }),

/***/ 27:
/***/ (function(module, exports) {

module.exports = require("dayjs");

/***/ }),

/***/ 29:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./packages/selector-component/portalTree.vue?vue&type=template&id=e2fb8ece&
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "fks-portal-tree" },
    _vm._l(_vm.portalData, function (group, index) {
      return _c(
        "div",
        { key: index, staticClass: "fks-portal-group" },
        [
          _c("span", { staticClass: "fks-portal-group__title" }, [
            _vm._v(_vm._s(_vm.getPortalTypeName(group[0].type))),
          ]),
          _vm._l(group, function (item) {
            return _c(
              "span",
              {
                key: item.id,
                staticClass: "fks-portal-group__item",
                class: { selected: _vm.portalId === item.id },
                on: {
                  click: function ($event) {
                    return _vm.setActive(item)
                  },
                },
              },
              [_vm._v(" " + _vm._s(item.name))]
            )
          }),
        ],
        2
      )
    }),
    0
  )
}
var staticRenderFns = []
render._withStripped = true


// CONCATENATED MODULE: ./packages/selector-component/portalTree.vue?vue&type=template&id=e2fb8ece&

// EXTERNAL MODULE: ./src/utils/request.js + 2 modules
var request = __webpack_require__(13);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./packages/selector-component/portalTree.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


var portalLabel = {
  'zh-CN': ['零', '一', '二', '三', '四', '五', '六', '七', '八', '九'],
  'en-US': ['zero', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine']
};
/* harmony default export */ var portalTreevue_type_script_lang_js_ = ({
  props: {
    portalId: {
      type: String,
      default: ''
    },
    portalFilter: {
      type: Function,
      default: function _default(data) {
        return data;
      }
    },
    portal: {
      type: Object,
      default: undefined
    }
  },
  data: function data() {
    return {
      portalData: []
    };
  },

  watch: {
    portalId: function portalId(val) {
      var _this = this;

      if (!val) {
        this.$emit('update:portal', undefined);
        return;
      }

      var oId = this.portal ? this.portal.id : '';
      if (val && val !== oId) {
        var portal = this.portalData.find(function (item) {
          return item.id === _this.portalId;
        });
        this.$emit('update:portal', portal);
      }
    }
  },
  mounted: function mounted() {
    this.getPortalList();
  },

  methods: {
    getPortalList: function getPortalList() {
      var _this2 = this;

      var r1 = this.$axios || request["a" /* default */];
      r1({
        method: 'get',
        url: 'sys-user/portals/tree',
        ctM: true
      }).then(function (res) {
        var data = _this2.portalFilter(res.data);
        // 遍历门户树 转为Array
        var portalData = _this2.getPortal(data);
        // 转为二维数组
        _this2.portalData = portalData.reduce(function (tal, val) {
          if (tal[tal.length - 1] && tal[tal.length - 1][0].type === val.type) {
            tal[tal.length - 1].push(val);
          } else {
            tal.push([val]);
          }
          return tal;
        }, []);
        // 初始化
        if (_this2.portalId) {
          var portal = portalData.find(function (item) {
            return item.id === _this2.portalId;
          });
          _this2.$emit('update:portal', portal);
        }
      });
    },
    getPortal: function getPortal(tree) {
      var _this3 = this;

      var list = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];

      tree.forEach(function (node) {
        list.push({
          name: node.content.name,
          id: node.content.id,
          type: node.content.type
        });
        if (node.children) {
          _this3.getPortal(node.children, list);
        }
      });

      return list.sort(function (a, b) {
        return a.type - b.type;
      });
    },
    getPortalTypeName: function getPortalTypeName(type) {
      var zh = portalLabel['zh-CN'][type] + '\u7EA7\u95E8\u6237';
      var en = 'Level ' + portalLabel['en-US'][type];
      return this.$lang !== 'en-US' ? zh : en;
    },
    setActive: function setActive(item) {
      this.$emit('update:portalId', item.id);
      this.$emit('update:portal', item);
    }
  }
});
// CONCATENATED MODULE: ./packages/selector-component/portalTree.vue?vue&type=script&lang=js&
 /* harmony default export */ var selector_component_portalTreevue_type_script_lang_js_ = (portalTreevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(0);

// CONCATENATED MODULE: ./packages/selector-component/portalTree.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  selector_component_portalTreevue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var portalTree = __webpack_exports__["a"] = (component.exports);

/***/ }),

/***/ 4:
/***/ (function(module, exports) {

module.exports = require("fawkes-lib/lib/mixins/locale");

/***/ }),

/***/ 5:
/***/ (function(module, exports) {

module.exports = require("vue");

/***/ }),

/***/ 50:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
function _broadcast(componentName, eventName, params) {
  this.$children.forEach(function (child) {
    var name = child.$options.componentName;

    if (name === componentName) {
      child.$emit.apply(child, [eventName].concat(params));
    } else {
      _broadcast.apply(child, [componentName, eventName].concat([params]));
    }
  });
}
/* harmony default export */ __webpack_exports__["a"] = ({
  methods: {
    dispatch: function dispatch(componentName, eventName, params) {
      var parent = this.$parent || this.$root;
      var name = parent.$options.componentName;

      while (parent && (!name || name !== componentName)) {
        parent = parent.$parent;

        if (parent) {
          name = parent.$options.componentName;
        }
      }
      if (parent) {
        parent.$emit.apply(parent, [eventName].concat(params));
      }
    },
    broadcast: function broadcast(componentName, eventName, params) {
      _broadcast.call(this, componentName, eventName, params);
    }
  }
});

/***/ }),

/***/ 51:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./packages/selector-component/index.vue?vue&type=template&id=5fe7b6e6&
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "fks-selector-page", style: { width: _vm.width } },
    [
      _c(
        "fks-popover",
        {
          ref: "popover",
          attrs: {
            "popper-class": "fks-selector-popover " + _vm.popperClass,
            placement: _vm.popoverPosition,
            "close-delay": 0,
            disabled: _vm.uploadReadOnly || _vm.forbidden || _vm.dialog,
          },
          on: { show: _vm.open },
          model: {
            value: _vm.popflag,
            callback: function ($$v) {
              _vm.popflag = $$v
            },
            expression: "popflag",
          },
        },
        [
          !_vm.dialog
            ? [
                _vm.multiPortal
                  ? [
                      _c("PortalTree", {
                        attrs: {
                          portalId: _vm.activePortalId,
                          portal: _vm.activePortal,
                          portalFilter: _vm.portalFilter,
                        },
                        on: {
                          "update:portalId": function ($event) {
                            _vm.activePortalId = $event
                          },
                          "update:portal-id": function ($event) {
                            _vm.activePortalId = $event
                          },
                          "update:portal": function ($event) {
                            _vm.activePortal = $event
                          },
                        },
                      }),
                      _c("div", { staticClass: "divider" }),
                    ]
                  : _vm._e(),
                _c("data-tree", {
                  ref: "dataTree",
                  attrs: { showAllUser: _vm.showAllUser, ids: _vm.ids },
                  on: { updateIds: _vm.updateIds },
                }),
              ]
            : _vm._e(),
          _vm._t(
            "reference",
            function () {
              return [
                _c(
                  "div",
                  {
                    ref: "reference",
                    staticClass: "selector-input",
                    on: { click: _vm.triggerDialog },
                  },
                  [
                    _c(
                      "div",
                      {
                        ref: "tags",
                        staticClass: "selector-tags",
                        class: {
                          suffix: _vm.fksForm.statusIcon,
                        },
                      },
                      [
                        _vm.collapseTags
                          ? _c(
                              "span",
                              { staticStyle: { width: "100%" } },
                              [
                                _vm.selectedObjArray.length > 0
                                  ? _c(
                                      "fks-tag",
                                      {
                                        attrs: {
                                          closable:
                                            !_vm.uploadReadOnly &&
                                            !_vm.forbidden,
                                          size: _vm.size,
                                          type: "info",
                                          "disable-transitions": "",
                                        },
                                        on: {
                                          close: function ($event) {
                                            return _vm.deleteOne(
                                              _vm.selectedObjArray[0]
                                            )
                                          },
                                        },
                                      },
                                      [
                                        _c(
                                          "span",
                                          {
                                            staticClass:
                                              "fks-select__tags-text",
                                          },
                                          [
                                            _vm._v(
                                              _vm._s(
                                                _vm.selectedObjArray[0].name
                                              )
                                            ),
                                          ]
                                        ),
                                      ]
                                    )
                                  : _vm._e(),
                                _vm.selectedObjArray.length > 1
                                  ? _c(
                                      "fks-tag",
                                      {
                                        attrs: {
                                          closable: false,
                                          size: _vm.size,
                                          type: "info",
                                          "disable-transitions": "",
                                        },
                                      },
                                      [
                                        _c(
                                          "span",
                                          {
                                            staticClass:
                                              "fks-select__tags-text",
                                          },
                                          [
                                            _vm._v(
                                              "+ " +
                                                _vm._s(
                                                  _vm.selectedObjArray.length -
                                                    1
                                                )
                                            ),
                                          ]
                                        ),
                                      ]
                                    )
                                  : _vm._e(),
                              ],
                              1
                            )
                          : _c("span", { staticStyle: { width: "100%" } }, [
                              _vm.selectedObjArray.length > 0
                                ? _c(
                                    "div",
                                    _vm._l(
                                      _vm.selectedObjArray,
                                      function (item, index) {
                                        return _c(
                                          "fks-tag",
                                          {
                                            key: index,
                                            attrs: {
                                              closable:
                                                !_vm.uploadReadOnly &&
                                                !_vm.forbidden,
                                              size: _vm.size,
                                              "disable-transitions": "",
                                              type: "info",
                                            },
                                            on: {
                                              close: function ($event) {
                                                return _vm.deleteOne(item)
                                              },
                                            },
                                          },
                                          [
                                            _c(
                                              "span",
                                              {
                                                staticClass:
                                                  "fks-select__tags-text",
                                              },
                                              [_vm._v(_vm._s(item.name))]
                                            ),
                                          ]
                                        )
                                      }
                                    ),
                                    1
                                  )
                                : _vm._e(),
                            ]),
                      ]
                    ),
                    _c(
                      "fks-input",
                      {
                        ref: "input",
                        staticClass: "fks-post-out-input",
                        attrs: {
                          readonly: "",
                          size: _vm.size,
                          disabled: _vm.forbidden,
                          placeholder: _vm.ids ? "" : _vm.placeholder,
                        },
                      },
                      [
                        !_vm.uploadReadOnly && !_vm.forbidden
                          ? _c("template", { slot: "suffix" }, [
                              _vm.popflag
                                ? _c("i", {
                                    staticClass:
                                      "fks-icon-arrow-up fks-input__icon",
                                  })
                                : _c("i", {
                                    staticClass:
                                      "fks-icon-arrow-down fks-input__icon",
                                  }),
                            ])
                          : _vm._e(),
                      ],
                      2
                    ),
                  ],
                  1
                ),
              ]
            },
            {
              slot: "reference",
              popflag: _vm.popflag,
              triggerDialog: _vm.triggerDialog,
              selectedArray: _vm.selectedObjArray,
            }
          ),
        ],
        2
      ),
      _vm.dialog
        ? _c("selectorDialog", {
            attrs: {
              showAllUser: _vm.showAllUser,
              visible: _vm.dialogVisible,
              multiPortal: _vm.multiPortal,
              ids: _vm.ids,
              disabled: _vm.uploadReadOnly || _vm.forbidden,
            },
            on: {
              "update:visible": function ($event) {
                _vm.dialogVisible = $event
              },
            },
          })
        : _vm._e(),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true


// CONCATENATED MODULE: ./packages/selector-component/index.vue?vue&type=template&id=5fe7b6e6&

// EXTERNAL MODULE: ./src/mixins/selector.js
var selector = __webpack_require__(24);

// EXTERNAL MODULE: ./packages/selector-component/portalTree.vue + 4 modules
var portalTree = __webpack_require__(29);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./packages/selector-component/dataTree.vue?vue&type=template&id=331fab2e&
var dataTreevue_type_template_id_331fab2e_render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "fks-selector__searchtree" },
    [
      !_vm.dialog
        ? _c("fks-input", {
            attrs: {
              placeholder: _vm.selector.searchPlaceholder,
              "suffix-icon": _vm.filterText ? "" : "fks-icon-search",
              clearable: "",
            },
            model: {
              value: _vm.filterText,
              callback: function ($$v) {
                _vm.filterText = $$v
              },
              expression: "filterText",
            },
          })
        : _vm._e(),
      _vm.selectAll
        ? _c(
            "div",
            {
              staticClass: "fks-tree-node__content",
              staticStyle: { "padding-left": "24px" },
              on: { click: _vm.clickAllNode },
            },
            [
              _c("fks-checkbox", {
                attrs: { indeterminate: _vm.indeterminate },
                on: {
                  change: _vm.clickAllNode,
                  click: function ($event) {
                    $event.stopPropagation()
                  },
                },
                model: {
                  value: _vm.checkAll,
                  callback: function ($$v) {
                    _vm.checkAll = $$v
                  },
                  expression: "checkAll",
                },
              }),
              _c("span", { staticClass: "fks-tree-node__label" }, [
                _c(
                  "span",
                  {
                    staticStyle: {
                      overflow: "hidden",
                      "text-overflow": "ellipsis",
                      "white-space": "nowrap",
                      width: "80%",
                    },
                  },
                  [_vm._v(_vm._s(_vm.t("fks.selectorPro.allselect")))]
                ),
              ]),
            ],
            1
          )
        : _vm._e(),
      _c("fks-tree", {
        key: _vm.key,
        ref: "selectTree",
        staticClass: "filter-tree",
        attrs: {
          data: _vm.showData,
          props: _vm.defaultProps,
          "highlight-current": !_vm.multiple,
          "node-key": _vm.defaultProps.id,
          "expand-on-click-node": false,
          "default-expanded-keys": _vm.defaultExpandedKeys,
          "filter-node-method": _vm.filterNode,
          "show-checkbox": _vm.multiple,
          "check-strictly": "",
        },
        on: {
          "check-change": _vm.handleCheckChange,
          "node-click": _vm.handleNodeClick,
        },
        scopedSlots: _vm._u([
          {
            key: "default",
            fn: function (ref) {
              var data = ref.data
              return _c("span", { staticClass: "fks-tree-node__label" }, [
                _c(
                  "span",
                  {
                    staticStyle: {
                      overflow: "hidden",
                      "text-overflow": "ellipsis",
                      "white-space": "nowrap",
                      width: "80%",
                    },
                    attrs: { title: data.name },
                  },
                  [_vm._v(_vm._s(data.name))]
                ),
              ])
            },
          },
        ]),
      }),
    ],
    1
  )
}
var dataTreevue_type_template_id_331fab2e_staticRenderFns = []
dataTreevue_type_template_id_331fab2e_render._withStripped = true


// CONCATENATED MODULE: ./packages/selector-component/dataTree.vue?vue&type=template&id=331fab2e&

// EXTERNAL MODULE: ./src/utils/request.js + 2 modules
var request = __webpack_require__(13);

// EXTERNAL MODULE: external "fawkes-lib/lib/mixins/locale"
var locale_ = __webpack_require__(4);
var locale_default = /*#__PURE__*/__webpack_require__.n(locale_);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./packages/selector-component/dataTree.vue?vue&type=script&lang=js&
function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ var dataTreevue_type_script_lang_js_ = ({
  componentName: 'FksOrgSelector',
  mixins: [locale_default.a],
  inject: ['selector'],
  props: {
    ids: {},
    searchKey: {
      type: String,
      default: ''
    },
    dialog: {
      type: Boolean,
      default: false
    }

  },
  data: function data() {
    var _this = this;

    return {
      showPresent: false,
      newDeptId: '',
      filterText: '',
      data: [],
      defaultProps: {
        children: 'children',
        label: 'name',
        id: 'id',
        disabled: function disabled(data) {
          return _this.multipleLimit > 0 && _this.chosedList.length >= _this.multipleLimit && !_this.checkedKeys.includes(data.id);
        }
      },
      chosedList: [],
      key: new Date().getTime(), // 刷新选择
      checkAll: false,
      indeterminate: false,
      visibleKeys: [], // 可见节点id
      isMultiPortal: typeof this.multiPortal === 'boolean' ? this.multiPortal : !!this.$fawkes.multiPortal
    };
  },

  computed: {
    checkedKeys: function checkedKeys() {
      return this.chosedList.map(function (key) {
        return key.id;
      });
    },
    defaultExpandedKeys: function defaultExpandedKeys() {
      // 默认展开一级
      return this.showData.map(function (item) {
        return item.id;
      }) || [];
    },
    multiPortal: function multiPortal() {
      return this.selector.multiPortal;
    },
    multiple: function multiple() {
      return this.selector.multiple;
    },
    multipleLimit: function multipleLimit() {
      return this.selector.multipleLimit;
    },
    showData: function showData() {
      var _this2 = this;

      var data = this.data;
      if (this.selector.activePortalId) {
        data = data.filter(function (item) {
          return item.portalId === _this2.selector.activePortalId;
        });
      }
      return data;
    },

    // 是否展示全选
    selectAll: function selectAll() {
      return this.selector.selectAll && this.multiple && !this.multipleLimit;
    }
  },
  watch: {
    filterText: function filterText(val) {
      this.filter(val);
    },
    searchKey: function searchKey(val) {
      this.filter(val);
    },
    showData: function showData() {
      var _this3 = this;

      if (this.selectAll && this.multiPortal) {
        this.$refs.selectTree && (this.$refs.selectTree.store.nodesMap = {});
      }
      this.$nextTick(function () {
        _this3.$refs.selectTree.setCheckedKeys(_this3.checkedKeys);
        if (!_this3.selectAll) {
          return;
        }
        var nodesMap = _this3.$refs.selectTree.store.nodesMap;
        _this3.visibleKeys = Object.keys(nodesMap).filter(function (key) {
          return nodesMap[key] && nodesMap[key].visible;
        });
      });
    },

    ids: {
      immediate: true,
      handler: function handler(val) {
        if (!this.data.length) return;
        if (val.split(',').sort().toString() !== this.checkedKeys.sort().toString()) {
          this.initialList();
        }
      }
    },
    chosedList: {
      handler: function handler(val) {
        var _this4 = this;

        var ids = val.map(function (item) {
          return item.id;
        }).toString() || '';
        if (val.length === 1) {
          this.$nextTick(function () {
            _this4.$refs.selectTree.setCurrentKey(ids);
          });
        }
        this.$emit('updateIds', ids);
      }
    },
    // 状态还原请求数据
    forbidden: function forbidden(val) {
      if (!val && !this.data.length) {

        this.initData();
      }
    },
    visibleKeys: function visibleKeys() {
      this.setCheckAll();
    },
    checkedKeys: function checkedKeys() {
      this.setCheckAll();
    }
  },
  methods: {
    // 设置全选状态
    setCheckAll: function setCheckAll() {
      if (!this.selectAll) {
        return;
      }
      var flag = 0;
      for (var i = 0; i < this.visibleKeys.length; i++) {
        if (flag > 0 && flag < i) {
          // 部分选中
          break;
        }
        if (this.checkedKeys.includes(this.visibleKeys[i])) {
          flag++;
        }
      }
      this.checkAll = flag === this.visibleKeys.length;
      this.indeterminate = !!flag && !this.checkAll;
    },

    // 点击全选node
    clickAllNode: function clickAllNode() {
      this.checkAll = !this.checkAll;
      this.checkAllChange(this.checkAll);
    },

    // 搜索方法
    filter: function filter(str) {
      var _this5 = this;

      this.$refs.selectTree.filter(str.trim());
      if (!this.selectAll) {
        return;
      }
      // 更新可见节点
      this.$nextTick(function () {
        var nodesMap = _this5.$refs.selectTree.store.nodesMap;
        _this5.visibleKeys = Object.keys(nodesMap).filter(function (key) {
          return nodesMap[key] && nodesMap[key].visible;
        });
      });
    },
    initialList: function initialList() {
      if (this.ids) {
        var idArray = this.ids.split(',');
        var len = idArray.length;
        if (len > 1 && !this.multiple) {
          console.error(this.$options.name + ' \u4E2D\u521D\u503C\u4E3A\u591A\u4E2A\uFF0C\u8BF7\u6DFB\u52A0multiple\u5C5E\u6027');
        } else {
          this.chosedList = this.selector.objArray.filter(function (item) {
            return idArray.includes(item.id);
          });
        }
      } else {
        this.chosedList = [];
      }
      this.$refs.selectTree.setCheckedKeys(this.ids.split(',') || []);
    },

    /**
     * @description 设置树形组件节点的选中状态
     */
    setChecked: function setChecked(key, checked) {
      this.$refs.selectTree.setChecked(key, checked);
    },

    /**
     * @description: 单选, 重复选择重置
     * @param {type}
     * @return {type}
     */
    handleNodeClick: function handleNodeClick(data, node) {
      if (node.disabled) return false;
      if (this.multiple) {
        this.$refs.selectTree.setChecked(data.id, !node.checked);
        return false;
      }
      if (this.chosedList.length && this.chosedList[0].id === data.id) {
        this.chosedList = [];
        this.$refs.selectTree.setCurrentKey();
      } else {
        this.chosedList = [data];
      }
    },

    /**
     * @description:多选
     * @param {type}
     * @return {type}
     */
    handleCheckChange: function handleCheckChange(data, checked) {
      if (!this.multiple) {
        return false;
      }
      var index = this.chosedList.findIndex(function (item) {
        return item.id === data.id;
      });

      if (index < 0) {
        checked && this.chosedList.push(data);
      } else {
        checked || this.chosedList.splice(index, 1);
      }
      this.selector.$emit('check-change', data, checked);
    },
    filterNode: function filterNode(value, data) {
      if (!value) return true;
      return data.name.indexOf(value) !== -1;
    },
    checkAllChange: function checkAllChange(checked) {
      var _this6 = this;

      var ids = '';
      if (checked) {
        ids = Array.from(new Set([].concat(this.checkedKeys, this.visibleKeys))).toString();
      } else {
        ids = this.checkedKeys.filter(function (key) {
          return !_this6.visibleKeys.includes(key);
        }).toString();
      }
      this.$emit('updateIds', ids);
    },
    initData: function initData() {
      var _this7 = this;

      var r = this.$axios || request["a" /* default */];
      var tempParams = {
        pageNo: 1,
        pageSize: 999
      };
      if (this.selector.showAllUser) {
        var portal = JSON.parse(this.$storage.get('portal') || null);
        if (portal) {
          tempParams.portalId = portal.id;
        }
      }
      r({
        method: 'get',
        params: tempParams,
        url: this.selector.url + this.selector.urlPath,
        headers: this.selector.headers
      }).then(function (res) {
        var response = res;
        if (res.data.status) {
          // 排除拦截器影响
          response = res.data;
        }
        if (response.status) {
          var data = _this7.selector.dataFilter(response.data);
          _this7.data = _this7.selector.dataFormat(data);
          var treeToArray = function treeToArray() {
            var tree = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

            return tree.flatMap(function (item) {
              var children = item.children,
                  rest = _objectWithoutProperties(item, ['children']);

              return [rest].concat(treeToArray(children));
            });
          };
          _this7.selector.objArray = treeToArray(_this7.data);
          _this7.initialList();
          _this7.selector.$emit('ready', true);
        } else {
          console.log('请求失败');
        }
      }).catch(function (err) {
        console.log(err);
      });
    }
  },
  mounted: function mounted() {
    this.initData();
  }
});
// CONCATENATED MODULE: ./packages/selector-component/dataTree.vue?vue&type=script&lang=js&
 /* harmony default export */ var selector_component_dataTreevue_type_script_lang_js_ = (dataTreevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(0);

// CONCATENATED MODULE: ./packages/selector-component/dataTree.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  selector_component_dataTreevue_type_script_lang_js_,
  dataTreevue_type_template_id_331fab2e_render,
  dataTreevue_type_template_id_331fab2e_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var dataTree = (component.exports);
// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./packages/selector-component/selectorDialog.vue?vue&type=template&id=5caa5f0d&
var selectorDialogvue_type_template_id_5caa5f0d_render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "fks-dialog",
    {
      ref: "dialog",
      attrs: {
        "custom-class": "fks-selector-dialog",
        visible: _vm.visible,
        title: _vm.selector.dialogTitle,
        width: "700px",
      },
      on: { close: _vm.closeDialog },
    },
    [
      _c("div", { staticClass: "fks-selector-dialog__left" }, [
        _c(
          "div",
          { staticClass: "title" },
          [
            _c("span", [_vm._v(_vm._s(_vm.t("fks.selectorPro.select")))]),
            _vm.multiPortal
              ? _c(
                  "fks-popover",
                  {
                    attrs: { "popper-class": "fks-popover-portal-tree" },
                    model: {
                      value: _vm.portalTreeVisible,
                      callback: function ($$v) {
                        _vm.portalTreeVisible = $$v
                      },
                      expression: "portalTreeVisible",
                    },
                  },
                  [
                    _c("PortalTree", {
                      attrs: {
                        portalId: _vm.selector.activePortalId,
                        portal: _vm.selector.activePortal,
                        portalFilter: _vm.selector.portalFilter,
                      },
                      on: {
                        "update:portalId": function ($event) {
                          return _vm.$set(
                            _vm.selector,
                            "activePortalId",
                            $event
                          )
                        },
                        "update:portal-id": function ($event) {
                          return _vm.$set(
                            _vm.selector,
                            "activePortalId",
                            $event
                          )
                        },
                        "update:portal": function ($event) {
                          return _vm.$set(_vm.selector, "activePortal", $event)
                        },
                      },
                    }),
                    _c(
                      "span",
                      {
                        class: [
                          "fks-popover__reference",
                          !_vm.activePortal && "lighter",
                        ],
                        attrs: { slot: "reference" },
                        slot: "reference",
                      },
                      [
                        _c("span", { staticClass: "reference-title" }, [
                          _vm._v(
                            _vm._s(
                              (_vm.activePortal && _vm.activePortal.name) ||
                                _vm.t("fks.selectorPro.placeSelectPortal")
                            )
                          ),
                        ]),
                        _c("i", {
                          directives: [
                            {
                              name: "show",
                              rawName: "v-show",
                              value: _vm.selector.activePortalId,
                              expression: "selector.activePortalId",
                            },
                          ],
                          staticClass: "fks-icon-circle-close hover-icon",
                          on: {
                            click: function ($event) {
                              $event.stopPropagation()
                              _vm.selector.activePortalId = ""
                            },
                          },
                        }),
                        _c("i", {
                          class:
                            "fks-icon-arrow-" +
                            (_vm.portalTreeVisible ? "up" : "down"),
                        }),
                      ]
                    ),
                  ],
                  1
                )
              : _vm._e(),
            _c("fks-input", {
              attrs: {
                placeholder: _vm.selector.searchPlaceholder,
                size: "small",
                maxlangth: 50,
                "suffix-icon": "fks-icon-search",
                clearable: "",
              },
              model: {
                value: _vm.searchKey,
                callback: function ($$v) {
                  _vm.searchKey = $$v
                },
                expression: "searchKey",
              },
            }),
          ],
          1
        ),
        _c(
          "div",
          { staticClass: "fks-selector-box" },
          [
            _c(
              "data-tree",
              _vm._b(
                {
                  attrs: {
                    ids: _vm.tempIds,
                    dialog: true,
                    searchKey: _vm.searchKey,
                  },
                  on: { updateIds: _vm.updateTempIds },
                },
                "data-tree",
                _vm.$attrs,
                false
              )
            ),
          ],
          1
        ),
      ]),
      _c("div", { staticClass: "fks-selector-dialog__right" }, [
        _c(
          "div",
          { staticClass: "title" },
          [
            _c("span", [
              _vm._v(
                _vm._s(
                  _vm.t("fks.selectorPro.selected") +
                    "（" +
                    _vm.tempArray.length +
                    "）"
                )
              ),
            ]),
            _c(
              "fks-button",
              {
                attrs: { size: "small", plain: "" },
                on: {
                  click: function ($event) {
                    return _vm.updateTempIds("")
                  },
                },
              },
              [
                _c("i", { staticClass: "fks-icon-reset" }),
                _vm._v(_vm._s(_vm.t("fks.clear"))),
              ]
            ),
          ],
          1
        ),
        _c("div", { staticClass: "fks-selector-box" }, [
          _c(
            "ul",
            { staticClass: "fks-selector-list" },
            _vm._l(_vm.tempArray, function (item) {
              return _c("li", { key: item.id }, [
                _c("span", [_vm._v(_vm._s(item.name))]),
                _c("i", {
                  staticClass: "fks-icon-error",
                  on: {
                    click: function ($event) {
                      return _vm.deleteItem(item)
                    },
                  },
                }),
              ])
            }),
            0
          ),
        ]),
      ]),
      _c(
        "span",
        {
          staticClass: "dialog-footer",
          attrs: { slot: "footer" },
          slot: "footer",
        },
        [
          _c(
            "fks-button",
            {
              attrs: {
                type: "primary",
                icon: "fks-icon-check",
                disabled: _vm.disabled,
              },
              on: { click: _vm.submit },
            },
            [_vm._v(_vm._s(_vm.t("fks.confirm")))]
          ),
        ],
        1
      ),
    ]
  )
}
var selectorDialogvue_type_template_id_5caa5f0d_staticRenderFns = []
selectorDialogvue_type_template_id_5caa5f0d_render._withStripped = true


// CONCATENATED MODULE: ./packages/selector-component/selectorDialog.vue?vue&type=template&id=5caa5f0d&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./packages/selector-component/selectorDialog.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var selectorDialogvue_type_script_lang_js_ = ({
  components: { PortalTree: portalTree["a" /* default */], DataTree: dataTree },
  inject: ['selector'],
  mixins: [locale_default.a],
  props: {
    visible: {
      type: Boolean,
      default: false
    },
    ids: {
      type: String,
      require: true
    },
    disabled: {
      type: Boolean,
      require: false
    }
  },
  data: function data() {
    return {
      searchKey: '',
      tempIds: '',
      portalTreeVisible: false
    };
  },

  computed: {
    activePortal: function activePortal() {
      return this.selector.activePortal;
    },
    multiPortal: function multiPortal() {
      return this.selector.multiPortal;
    },
    idsArray: function idsArray() {
      return this.tempIds.split(',');
    },
    tempArray: function tempArray() {
      var _this = this;

      return this.selector.objArray.filter(function (item) {
        return _this.idsArray.includes(item.id);
      });
    }
  },
  watch: {
    ids: {
      immediate: true,
      handler: function handler(val) {
        this.tempIds = val;
      }
    },
    activePortal: function activePortal() {
      this.portalTreeVisible = false;
    }
  },
  mounted: function mounted() {
    // 提前渲染
    this.$refs.dialog.rendered = true;
  },

  methods: {
    closeDialog: function closeDialog() {
      this.$emit('update:visible', false);
      this.tempIds = this.ids;
      this.searchKey = '';
    },
    updateTempIds: function updateTempIds(val) {
      this.tempIds = val;
    },
    deleteItem: function deleteItem(item) {
      var idArray = this.tempIds.split(',');
      var index = this.idsArray.indexOf(item.id);
      if (index > -1) {
        idArray.splice(index, 1);
      }
      this.tempIds = idArray.toString();
    },
    submit: function submit() {
      this.selector.updateIds(this.tempIds);
      this.$emit('update:visible', false);
    }
  }
});
// CONCATENATED MODULE: ./packages/selector-component/selectorDialog.vue?vue&type=script&lang=js&
 /* harmony default export */ var selector_component_selectorDialogvue_type_script_lang_js_ = (selectorDialogvue_type_script_lang_js_); 
// CONCATENATED MODULE: ./packages/selector-component/selectorDialog.vue





/* normalize component */

var selectorDialog_component = Object(componentNormalizer["a" /* default */])(
  selector_component_selectorDialogvue_type_script_lang_js_,
  selectorDialogvue_type_template_id_5caa5f0d_render,
  selectorDialogvue_type_template_id_5caa5f0d_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var selectorDialog = (selectorDialog_component.exports);
// EXTERNAL MODULE: external "fawkes-lib/lib/utils/resize-event"
var resize_event_ = __webpack_require__(10);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./packages/selector-component/index.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ var selector_componentvue_type_script_lang_js_ = ({
  components: { PortalTree: portalTree["a" /* default */], DataTree: dataTree, selectorDialog: selectorDialog },
  mixins: [selector["a" /* default */]],
  provide: function provide() {
    return {
      selector: this
    };
  },

  props: {
    placeholder: {
      type: String
    },
    url: {
      type: String,
      default: ''
    },
    urlPath: {
      type: String,
      default: ''
    },
    multiPortal: {
      type: Boolean,
      default: false
    },
    multiIndex: {
      type: Array
    },
    popperClass: {
      type: String,
      default: ''
    },
    multiple: {
      type: Boolean,
      default: false
    },
    multipleLimit: {
      type: Number,
      default: 0
    },
    dialog: {
      type: Boolean,
      default: false
    },
    width: {
      type: String,
      default: '40%'
    },
    headers: {
      type: Object,
      default: function _default() {
        return {};
      }
    },
    params: {
      type: Object,
      default: function _default() {
        return {};
      }
    },
    portalFilter: {
      type: Function,
      default: function _default(data) {
        return data;
      }
    },
    dataFilter: {
      type: Function,
      default: function _default(data) {
        return data;
      }
    },
    selectAll: {
      type: Boolean,
      default: false
    }
  },
  data: function data() {
    var portal = JSON.parse(this.$storage.get('portal') || null);
    return {
      activePortalId: portal ? portal.id : '',
      inputWidth: 0,
      initialInputHeight: 0,
      popoverPosition: 'bottom-start',
      popflag: false,
      ids: '',
      objArray: [], // 可选树
      dialogVisible: false,
      activePortal: null,
      isMultiPortal: typeof this.multiPortal === 'boolean' ? this.multiPortal : !!this.$fawkes.multiPortal
    };
  },

  computed: {
    idsArray: function idsArray() {
      return this.ids.split(',') || [];
    },
    selectedObjArray: function selectedObjArray() {
      var _this = this;

      return this.objArray.filter(function (item) {
        return _this.idsArray.includes(item.id);
      });
    }
  },
  watch: {
    ids: function ids(val) {
      if (this.$scopedSlots.reference) return;
      if (this.multiple && !this.collapseTags) {
        this.resetInputHeight();
      }
    },

    params: {
      handler: function handler(val) {
        if (val.portalId !== undefined) {
          this.activePortalId = val.portalId;
        }
      },

      immediate: true,
      deep: true
    }
  },
  methods: {
    setPortal: function setPortal(portal) {
      this.activePortal = portal;
      this.activePortalId = portal.id;
    },
    updateIds: function updateIds(val) {
      this.ids = val;
      if (!this.multiple) {
        this.popflag = false;
      }
    },
    clearData: function clearData() {
      this.ids = '';
    },
    resetInputHeight: function resetInputHeight() {
      var _this2 = this;

      if (this.collapseTags) return;
      this.$nextTick(function () {
        if (!_this2.$refs.input) return;
        var inputChildNodes = _this2.$refs.input.$el.childNodes;
        var input = [].filter.call(inputChildNodes, function (item) {
          return item.tagName === 'INPUT';
        })[0];
        var tags = _this2.$refs.tags;
        var sizeInMap = _this2.initialInputHeight || 40;
        input.style.height = _this2.selectedObjArray.length === 0 ? sizeInMap + 'px' : Math.max(tags ? tags.clientHeight + (tags.clientHeight > sizeInMap ? 6 : 0) : 0, sizeInMap) - 2 + 'px';
      });
    },
    deleteOne: function deleteOne(item) {
      var idArray = this.ids.split(',');
      var index = idArray.indexOf(item.id);
      if (index > -1) {
        idArray.splice(index, 1);
      }
      this.updateIds(idArray.toString());
      if (!this.collapseTags) {
        this.resetInputHeight();
      }
    },

    /**
     * @description: 宽度resize
     * @param {type}
     * @return:
     */

    handleResize: function handleResize() {
      var _this3 = this;

      this.$nextTick(function () {
        var reference = _this3.$refs.reference;
        _this3.inputWidth = Math.max(reference.getBoundingClientRect().width - 20, _this3.multiPortal ? 400 : 250);
      });
    },
    open: function open() {
      if (this.$scopedSlots.reference) return;
      var rect = this.$refs.popover.$el.getBoundingClientRect();
      var clientTop = document.documentElement.clientTop;
      var clientHeight = document.documentElement.clientHeight;
      var top = rect.top - clientTop;
      var bottom = clientHeight - top - this.$refs.input.$el.offsetHeight;
      if (bottom < 330) {
        this.popoverPosition = 'top-start';
        this.$refs.popover.updatePopper();
      }
    },
    triggerDialog: function triggerDialog() {
      if (!this.dialog) return;
      this.dialogVisible = true;
    },
    dataFormat: function dataFormat(data) {
      return data;
    }
  },
  mounted: function mounted() {
    var _this4 = this;

    if (this.$scopedSlots.reference) return;
    this.$nextTick(function () {
      var reference = _this4.$refs.reference;
      Object(resize_event_["addResizeListener"])(reference, _this4.handleResize);
      _this4.handleResize();
    });
  },
  beforeDestroy: function beforeDestroy() {
    if (this.$scopedSlots.reference) return;
    var reference = this.$refs.reference;
    Object(resize_event_["removeResizeListener"])(reference, this.handleResize);
  }
});
// CONCATENATED MODULE: ./packages/selector-component/index.vue?vue&type=script&lang=js&
 /* harmony default export */ var packages_selector_componentvue_type_script_lang_js_ = (selector_componentvue_type_script_lang_js_); 
// CONCATENATED MODULE: ./packages/selector-component/index.vue





/* normalize component */

var selector_component_component = Object(componentNormalizer["a" /* default */])(
  packages_selector_componentvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var selector_component = __webpack_exports__["a"] = (selector_component_component.exports);

/***/ }),

/***/ 8:
/***/ (function(module, exports) {

module.exports = require("fawkes-lib/lib/utils/types");

/***/ })

/******/ });