{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\Todo\\index.vue?vue&type=style&index=0&id=3fb0af03&lang=less&scoped=true","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\Todo\\index.vue","mtime":1705912800074},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoudGFzay1jb250YWluZXIgew0KICBoZWlnaHQ6IDEwMCU7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIGJhY2tncm91bmQ6ICNmMWYyZjM7DQp9DQovZGVlcC8gLmZtLXB1bGwtcmVmcmVzaCB7DQogIG92ZXJmbG93OiB2aXNpYmxlOw0KfQ0KDQouY2FyZC1jb250YWluZXIgew0KICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDQwMHB4KTsNCiAgb3ZlcmZsb3c6IGF1dG87DQogIHBhZGRpbmctbGVmdDogMzBweDsNCiAgcGFkZGluZy1yaWdodDogMzBweDsNCn0NCi52LXRhc2staXRlbSB7DQogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQogIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogIG1hcmdpbi10b3A6IDMwcHg7DQogICZfX2JveCB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KDQogICAgJi10aHVtYm5haWwgew0KICAgICAgd2lkdGg6IDE4MHB4Ow0KICAgICAgaGVpZ2h0OiAxODBweDsNCiAgICAgIG1hcmdpbi1yaWdodDogMzBweDsNCg0KICAgICAgaW1hZ2Ugew0KICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgfQ0KICAgIH0NCg0KICAgICYtaW5mbyB7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgIGZsZXg6IDE7DQogICAgICBvdmVyZmxvdzogaGlkZGVuOw0KDQogICAgICAuYm94LWluZm9fX2JvdHRvbSB7DQogICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgIH0NCiAgICB9DQogIH0NCg0KICAudi10YXNrLWl0ZW1fX2JveCArIC52LXRhc2staXRlbV9fYm94IHsNCiAgICBtYXJnaW4tdG9wOiAzMHB4Ow0KICAgIHBhZGRpbmctdG9wOiAzMHB4Ow0KICB9DQoNCiAgLy/kv67mlLnmu5HlnZfog4zmma/popzoibINCiAgL2RlZXAvLnUtc3dpcGUtY29udGVudCB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsNCiAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICB9DQp9DQoNCi8vIOWNoeeJh+agh+mimOagjw0KLmJveC1pbmZvX190b3Agew0KICBwYWRkaW5nLWxlZnQ6IDMwcHg7DQogIHBhZGRpbmctcmlnaHQ6IDMwcHg7DQogIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCAjZjJmMmYzOw0KICBwYWRkaW5nLWJvdHRvbTogMzJweDsNCn0NCg0KLy8g5qCH6aKYDQouYm94LWluZm9fX3RpdGxlIHsNCiAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogIGZvbnQtc2l6ZTogMzJweDsNCiAgLypkaXNwbGF5OiBibG9jazsqLw0KICBwYWRkaW5nLXRvcDogMzJweDsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgLy8g5oyH56S65Z2XDQogICYtYmFyIHsNCiAgICB3aWR0aDogNnB4Ow0KICAgIGhlaWdodDogMzBweDsNCiAgICBiYWNrZ3JvdW5kOiAjMDI3YWZmOw0KICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCiAgfQ0KICAvLyDmoIfpopjlhoXlrrkNCiAgJi10ZXh0IHsNCiAgICBtYXJnaW4tbGVmdDogMTZweDsNCiAgICBjb2xvcjogIzMzMzMzMzsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCiAgICBmbGV4OiAxOw0KICB9DQp9DQoNCi5ib3gtaW5mb19fYXR0ciB7DQogIGNvbG9yOiAjOTk5Ow0KICBmb250LXNpemU6IDIwcHg7DQogIG1hcmdpbi10b3A6IDIwcHg7DQp9DQoNCi8vIOWNoeeJh+S7u+WKoeWGheWuueagjw0KLmJveC1pbmZvX190YXNrLWluZm8gew0KICBwYWRkaW5nLXRvcDogMzJweDsNCiAgcGFkZGluZy1sZWZ0OiA0OHB4Ow0KICBwYWRkaW5nLWJvdHRvbTogMzJweDsNCn0NCg0KLy8g5Lu75Yqh5ZCN56ewDQouYm94LWluZm9fX3Rhc2stbmFtZSB7DQogIGZvbnQtc2l6ZTogMjhweDsNCiAgY29sb3I6ICM5OTk5OTk7DQogIGRpc3BsYXk6IGZsZXg7DQp9DQoNCi5ib3gtaW5mb19fdGFzay1zdGFydGVyIHsNCiAgZm9udC1zaXplOiAyOHB4Ow0KICBjb2xvcjogIzk5OTk5OTsNCiAgZGlzcGxheTogZmxleDsNCiAgcGFkZGluZy10b3A6IDI4cHg7DQoNCiAgLnN0YXJ0ZXItdGV4dCB7DQogICAgbWFyZ2luLWxlZnQ6IDY0cHg7DQogIH0NCn0NCg0KLy8g5Lu75Yqh546v6IqCDQouYm94LWluZm9fX3Rhc2stbm9kZSB7DQogIGZvbnQtc2l6ZTogMjhweDsNCiAgcGFkZGluZy10b3A6IDEwcHg7DQogIGNvbG9yOiAjOTk5OTk5Ow0KICBkaXNwbGF5OiBmbGV4Ow0KfQ0KDQoudGFzay10ZXh0IHsNCiAgY29sb3I6ICMzMzMzMzM7DQogIGZvbnQtc2l6ZTogMjhweDsNCiAgZm9udC13ZWlnaHQ6IDQwMDsNCiAgbWFyZ2luLWxlZnQ6IDM2cHg7DQogIGZsZXg6IDE7DQogIHdoaXRlLXNwYWNlOiBub3dyYXA7IC8v5LiN5o2i6KGMDQogIG92ZXJmbG93OiBoaWRkZW47IC8v6LaF5Ye66ZqQ6JePDQogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyAvLyDotoXlh7rpg6jliIbnnIHnlaXooajnpLoNCiAgcGFkZGluZy1yaWdodDogMjBweDsNCn0NCg0KLyoudGltZS10ZXh0IHsNCiAgbWFyZ2luLWJvdHRvbTogMzBweDsNCn0qLw0KLnN0YXRlLXRleHQgew0KICBtYXJnaW4tbGVmdDogOTJweDsNCn0NCg0KLnN0b3AtdGV4dCB7DQogIGNvbG9yOiAjZjMyMTExOw0KfQ0KDQovLyDku7vliqHml7bpl7QNCi5ib3gtaW5mb19fdGFzay10aW1lIHsNCiAgcGFkZGluZy10b3A6IDI4cHg7DQogIGNvbG9yOiAjOTk5OTk5Ow0KICBmb250LXNpemU6IDI4cHg7DQogIGRpc3BsYXk6IGZsZXg7DQp9DQouYm94LWluZm9fX3Rhc2stc3RhdGUgew0KICAvKnBhZGRpbmctdG9wOiAxMHB4OyovDQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgcmlnaHQ6IDMycHg7DQogIGNvbG9yOiAjOTk5OTk5Ow0KICBmb250LXNpemU6IDI4cHg7DQogIGRpc3BsYXk6IGZsZXg7DQogIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCn0NCi5zdGF0ZS10ZXh0LWZpbmlzaCB7DQogIHBhZGRpbmc6IDhweCAxMnB4Ow0KICBib3JkZXItcmFkaXVzOiA0cHg7DQogIGJhY2tncm91bmQtY29sb3I6ICNlY2Y4ZWY7DQogIGJvcmRlcjogMXB4IHNvbGlkICM0MGJiNWE7DQogIGNvbG9yOiAjNDBiYjVhOw0KfQ0KLnN0YXRlLXRleHQtcnVuIHsNCiAgcGFkZGluZzogOHB4IDEycHg7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZjRmZjsNCiAgYm9yZGVyOiAxcHggc29saWQgIzE3OTBmZTsNCiAgY29sb3I6ICMxNzkwZmU7DQp9DQouc3RhdGUtdGV4dC13YXN0ZSB7DQogIHBhZGRpbmc6IDhweCAxMnB4Ow0KICBib3JkZXItcmFkaXVzOiA0cHg7DQogIGJhY2tncm91bmQtY29sb3I6ICNmZmVkZWQ7DQogIGJvcmRlcjogMXB4IHNvbGlkICNmZjRkNGY7DQogIGNvbG9yOiAjZmY0ZDRmOw0KfQ0KLmJveC1pbmZvX190YXNrLXRpbWUgew0KICBwYWRkaW5nLWJvdHRvbTogMTBweDsNCn0NCg0KLmJveC1pbmZvX19pdGVtLWxhYmVsIHsNCiAgd2lkdGg6IDE0MHB4Ow0KfQ0KDQouYm94LWluZm8td2FybiB7DQogIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCiAgZmxvYXQ6IHJpZ2h0Ow0KICBjb2xvcjogI2ZmNGI0YjsNCiAgZm9udC1zaXplOiAyNHB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlZGVkOw0KICAvLyBwYWRkaW5nOiAzcHggMTBweDsNCn0NCg0KLnRhc2stYnRuLWdyb3VwIHsNCiAgZGlzcGxheTogZmxleDsNCiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICBib3JkZXItdG9wOiAxcHggc29saWQgI2YyZjJmMjsNCiAgLmJ0biB7DQogICAgYm9yZGVyLXJhZGl1czogMDsNCiAgICBib3JkZXI6IG5vbmU7DQogICAgaGVpZ2h0OiA4OHB4Ow0KICAgIHdpZHRoOiA1MCU7DQogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICBsaW5lLWhlaWdodDogODhweDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCiAgICBwYWRkaW5nOiAwcHg7DQogICAgLy8gY29sb3I6ICNmZmY7DQogICAgJjo6YWZ0ZXIgew0KICAgICAgZGlzcGxheTogbm9uZTsNCiAgICB9DQogIH0NCiAgLmVudGVyIHsNCiAgICBjb2xvcjogI2ZkYWM0MjsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNmMmYyZjI7DQogICAgZm9udC1zaXplOiAzMnB4Ow0KICAgIC8vIGJhY2tncm91bmQtY29sb3I6ICNGREFDNDI7DQogIH0NCiAgLmVudHJ1c3Qgew0KICAgIGNvbG9yOiAjMDA5N2Q4Ow0KICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQogICAgZm9udC1zaXplOiAzMnB4Ow0KICAgIC8vIGJhY2tncm91bmQtY29sb3I6ICMwMDk3RDg7DQogIH0NCiAgLmFjdGl2ZSB7DQogICAgJjpob3ZlciB7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwOw0KICAgIH0NCiAgfQ0KfQ0KLm5vLWRhdGEtaW1nIHsNCiAgbWFyZ2luOiAyMDBweCA5NXB4IDAgOTVweDsNCn0NCi5uby1kYXRhLXRleHQgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCn0NCi5uby1kYXRhLXRleHQtZGVzY3JpcGUgew0KICBmb250LXNpemU6IDMycHg7DQogIGZvbnQtd2VpZ2h0OiA0MDA7DQogIGNvbG9yOiAjOTk5OTk5Ow0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAmXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Todo","sourcesContent":["<template>\r\n  <div class=\"task-container\">\r\n    <fm-nav-bar title=\"表单中心\" left-text=\"\" right-text=\"\" />\r\n    <fm-search\r\n      v-model=\"searchValue\"\r\n      placeholder=\"请输入表单名称\"\r\n      @clear=\"onClear\"\r\n      @search=\"onSearch\"\r\n    />\r\n    <fm-tabs @tab-click=\"changeType\" line-width=\"60px\">\r\n      <fm-tab v-for=\"(item, index) in tabs\" :label=\"item\" :key=\"index\" :name=\"item\"> </fm-tab>\r\n    </fm-tabs>\r\n    <div class=\"card-container\" v-if=\"displayList.length !== 0\">\r\n      <fm-pull-refresh\r\n        ref=\"taskScroller\"\r\n        refresh-layer-color=\"#4b8bf4\"\r\n        v-model=\"refreshing\"\r\n        success-text=\"刷新成功\"\r\n        @refresh=\"onRefresh()\"\r\n      >\r\n        <fm-list\r\n          v-model=\"loading\"\r\n          :finished=\"finished\"\r\n          finished-text=\"我们是有底线的\"\r\n          :immediate-check=\"false\"\r\n          @load=\"onLoad\"\r\n        >\r\n          <div class=\"v-task-item\" v-for=\"(item, index) in displayList\" :key=\"index\">\r\n            <div class=\"v-task-item__box\">\r\n              <div class=\"v-task-item__box-info\" @click=\"handleContentClick(item)\">\r\n                <div class=\"box-info__top\">\r\n                  <!-- 标题和时间 -->\r\n                  <div class=\"box-info__title\">\r\n                    <div class=\"box-info__title-bar\"></div>\r\n                    <div class=\"box-info__title-text\">\r\n                      <div>{{ item.formName }}</div>\r\n                    </div>\r\n                    <div v-if=\"currentTab != '任务待办'\" class=\"box-info__task-state\">\r\n                      <div\r\n                        class=\"task-text state-text-run\"\r\n                        v-if=\"item.taskState == 0 || item.taskState == 3\"\r\n                      >\r\n                        流转中\r\n                      </div>\r\n                      <div class=\"task-text state-text-finish\" v-else-if=\"item.taskState == 1\">\r\n                        已完成\r\n                      </div>\r\n                      <div class=\"task-text state-text-waste\" v-else>废弃</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"box-info__task-info\">\r\n                  <div class=\"box-info__task-name\">\r\n                    <div>任务名称</div>\r\n                    <div class=\"task-text sub-text\">{{ item.taskSubject }}</div>\r\n                  </div>\r\n                  <div class=\"box-info__task-starter\">\r\n                    <div>发起人</div>\r\n                    <div class=\"task-text starter-text\">\r\n                      {{ item.taskCreatorName }}\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"box-info__task-time\">\r\n                    <div>开始时间</div>\r\n                    <div class=\"task-text time-text\">\r\n                      {{ item.processCreateDate }}\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"box-info__task-stop\" v-if=\"!checkTask(item)\">\r\n                    <div class=\"task-text stop-text\">该阶段暂不支持移动端审批</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fm-list>\r\n      </fm-pull-refresh>\r\n    </div>\r\n    <div class=\"card-container\" v-else>\r\n      <div class=\"no-data-img\">\r\n        <fm-image fit=\"cover\" :src=\"require('@/assets/img/no-data-img.png')\" />\r\n      </div>\r\n      <div class=\"no-data-text\">\r\n        <div class=\"no-data-text-descripe\">暂无数据</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Image, Search, NavBar, Tab, Tabs, PullRefresh, List, Toast } from 'fawkes-mobile-lib'\r\nimport { userTaskLists, relTaskLists, circulationLists } from './api'\r\nimport { FORM_KEY_NAME } from '@/common/constant'\r\nimport { eventBackButton, exitApp } from '@/utils/app'\r\n\r\nexport default {\r\n  name: 'Todo',\r\n  components: {\r\n    [Image.name]: Image,\r\n    [Search.name]: Search,\r\n    [NavBar.name]: NavBar,\r\n    [Tab.name]: Tab,\r\n    [Tabs.name]: Tabs,\r\n    [PullRefresh.name]: PullRefresh,\r\n    [List.name]: List,\r\n    [Toast.name]: Toast,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      value: '',\r\n      tabs: ['任务待办', '流程跟踪', '表单查询'],\r\n      displayList: [],\r\n      taskList: [],\r\n      flowList: [],\r\n      formList: [],\r\n      taskPage: 1,\r\n      flowPage: 1,\r\n      formPage: 1,\r\n      pageSize: 20,\r\n      finished: false,\r\n      refreshing: false,\r\n      loading: false,\r\n      loadingFinished: [false, false, false],\r\n      searchValue: '',\r\n      currentTab: '任务待办',\r\n    }\r\n  },\r\n  mounted() {\r\n    Toast.loading({\r\n      message: '加载中...',\r\n      forbidClick: true,\r\n    })\r\n  },\r\n  activated() {\r\n    // 页面激活时移除默认的返回上一级路由处理事件，设置退出应用事件\r\n    document.removeEventListener('backbutton', this.$back, false)\r\n    document.addEventListener('backbutton', eventBackButton, false)\r\n    this.getList()\r\n  },\r\n  deactivated() {\r\n    // 页面隐藏时移除退出应用事件，恢复默认的返回上一级路由的处理事件\r\n    document.removeEventListener('backbutton', eventBackButton, false)\r\n    document.removeEventListener('backbutton', exitApp, false)\r\n    document.addEventListener('backbutton', this.$back, false)\r\n    this.pageReset()\r\n  },\r\n  methods: {\r\n    // 重置列表page,list值\r\n    pageReset() {\r\n      this.taskPage = 1\r\n      this.flowPage = 1\r\n      this.formPage = 1\r\n      this.taskList = []\r\n      this.flowList = []\r\n      this.formList = []\r\n    },\r\n    changeType(name, title) {\r\n      Toast.loading({\r\n        message: '加载中...',\r\n        forbidClick: true,\r\n      })\r\n      this.currentTab = title\r\n      // this.$store.commit('SET_CURRENT_TAB', this.currentTab)\r\n      this.loading = false\r\n      var index = this.search(this.tabs, name)\r\n      this.finished = this.loadingFinished[index]\r\n      this.pageReset()\r\n      this.getList()\r\n      if (this.currentTab == title) {\r\n        return false\r\n      }\r\n    },\r\n    search(arr, dst) {\r\n      var i = arr.length\r\n      while (i--) {\r\n        if (arr[i] == dst) {\r\n          return i\r\n        }\r\n      }\r\n      return false\r\n    },\r\n    onRefresh() {\r\n      this.pageReset()\r\n      this.loading = false\r\n      this.finished = false\r\n      this.getList()\r\n    },\r\n    onLoad() {\r\n      this.loading = true\r\n      this.getList()\r\n    },\r\n    getList() {\r\n      switch (this.currentTab) {\r\n        case '任务待办':\r\n          userTaskLists({\r\n            page: this.taskPage++,\r\n            size: this.pageSize,\r\n            taskSubject: '',\r\n            formName: this.searchValue,\r\n            cloumn: '',\r\n            order: '',\r\n          })\r\n            .then((res) => {\r\n              if (res.status && res.data.total == 0) {\r\n                this.loadingFinished[0] = true\r\n                this.finished = this.loadingFinished[0]\r\n                this.refreshing = false\r\n              }\r\n              if (res.status) {\r\n                this.refreshing = false\r\n                if (this.taskList.length === res.data.total) {\r\n                  this.loadingFinished[0] = true\r\n                  this.finished = this.loadingFinished[0]\r\n                } else {\r\n                  this.taskList = [...this.taskList, ...res.data.list]\r\n                }\r\n                this.displayList = this.taskList\r\n              }\r\n            })\r\n            .catch(() => {\r\n              this.finished = true\r\n            })\r\n            .finally(() => {\r\n              Toast.clear()\r\n              this.loading = false\r\n            })\r\n          break\r\n        case '流程跟踪':\r\n          relTaskLists({\r\n            page: this.flowPage++,\r\n            size: this.pageSize,\r\n            taskSubject: '',\r\n            formName: this.searchValue,\r\n            cloumn: '',\r\n            order: '',\r\n          })\r\n            .then((res) => {\r\n              if (res.status && res.data.total == 0) {\r\n                this.loadingFinished[1] = true\r\n                this.finished = this.loadingFinished[1]\r\n                this.refreshing = false\r\n              }\r\n              if (res.status) {\r\n                this.refreshing = false\r\n                if (this.flowList.length === res.data.total) {\r\n                  this.loadingFinished[1] = true\r\n                  this.finished = this.loadingFinished[1]\r\n                } else {\r\n                  this.flowList = [...this.flowList, ...res.data.list]\r\n                }\r\n                this.displayList = this.flowList\r\n              }\r\n            })\r\n            .catch(() => {\r\n              this.finished = true\r\n            })\r\n            .finally(() => {\r\n              Toast.clear()\r\n              this.loading = false\r\n            })\r\n          break\r\n        case '表单查询':\r\n          circulationLists({\r\n            asignee: '',\r\n            creator: '',\r\n            startDate: '',\r\n            endDate: '',\r\n            taskState: '',\r\n            taskSubject: '',\r\n            formName: this.searchValue,\r\n            page: this.formPage++,\r\n            size: this.pageSize,\r\n            order: '',\r\n            column: '',\r\n          })\r\n            .then((res) => {\r\n              if (res.status && res.data.total == 0) {\r\n                this.loadingFinished[2] = true\r\n                this.finished = this.loadingFinished[2]\r\n                this.refreshing = false\r\n              }\r\n              if (res.status) {\r\n                this.refreshing = false\r\n                if (this.formList.length === res.data.total) {\r\n                  this.loadingFinished[2] = true\r\n                  this.finished = this.loadingFinished[2]\r\n                } else {\r\n                  this.formList = [...this.formList, ...res.data.list]\r\n                }\r\n                this.displayList = this.formList\r\n                if (!this.searchValue) {\r\n                  this.displayList = this.displayList.filter((item) => {\r\n                    return item.taskState != 2\r\n                  })\r\n                }\r\n              }\r\n            })\r\n            .catch(() => {\r\n              this.finished = true\r\n            })\r\n            .finally(() => {\r\n              Toast.clear()\r\n              this.loading = false\r\n            })\r\n          break\r\n      }\r\n    },\r\n    onSearch(val) {\r\n      this.searchValue = val\r\n      this.onRefresh()\r\n    },\r\n    onClear() {\r\n      this.searchValue = ''\r\n      this.onRefresh()\r\n    },\r\n    // 判断是否支持审批\r\n    checkTask(item) {\r\n      if (item.formKey in FORM_KEY_NAME) {\r\n        // 显示所有在formKeyName数组中配置过的key值\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n    // 打开任务详情页面\r\n    handleContentClick(item) {\r\n      if (this.checkTask(item)) {\r\n        this.$store.commit('SET_CURRENT_ROW', item)\r\n        if (this.currentTab == '任务待办') {\r\n          this.$router.push({\r\n            name: 'FormCenter',\r\n            params: {\r\n              type: 'execute',\r\n              formKey: item.formKey,\r\n              taskKey: item.taskKey,\r\n              taskId: item.taskId,\r\n              bizId: item.formBizId,\r\n            },\r\n          })\r\n        } else if (this.currentTab == '流程跟踪') {\r\n          // 流程跟踪\r\n          this.$router.push({\r\n            name: 'FormCenter',\r\n            params: {\r\n              type: 'flowView',\r\n              formKey: item.formKey,\r\n              taskKey: item.taskKey,\r\n              taskId: item.taskId,\r\n              bizId: item.formBizId,\r\n            },\r\n          })\r\n        } else {\r\n          // 表单查询\r\n          this.$router.push({\r\n            name: 'FormCenter',\r\n            params: {\r\n              type: 'view',\r\n              formKey: item.formKey,\r\n              taskKey: item.taskKey,\r\n              taskId: item.taskId,\r\n              bizId: item.formBizId,\r\n            },\r\n          })\r\n        }\r\n      } else {\r\n        Toast('该阶段暂不支持移动端审批', 'middle')\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.task-container {\r\n  height: 100%;\r\n  overflow: hidden;\r\n  background: #f1f2f3;\r\n}\r\n/deep/ .fm-pull-refresh {\r\n  overflow: visible;\r\n}\r\n\r\n.card-container {\r\n  height: calc(100% - 400px);\r\n  overflow: auto;\r\n  padding-left: 30px;\r\n  padding-right: 30px;\r\n}\r\n.v-task-item {\r\n  background-color: #fff;\r\n  border-radius: 10px;\r\n  margin-top: 30px;\r\n  &__box {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    &-thumbnail {\r\n      width: 180px;\r\n      height: 180px;\r\n      margin-right: 30px;\r\n\r\n      image {\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    }\r\n\r\n    &-info {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n      flex: 1;\r\n      overflow: hidden;\r\n\r\n      .box-info__bottom {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n      }\r\n    }\r\n  }\r\n\r\n  .v-task-item__box + .v-task-item__box {\r\n    margin-top: 30px;\r\n    padding-top: 30px;\r\n  }\r\n\r\n  //修改滑块背景颜色\r\n  /deep/.u-swipe-content {\r\n    background-color: #fff;\r\n    border-radius: 16px;\r\n  }\r\n}\r\n\r\n// 卡片标题栏\r\n.box-info__top {\r\n  padding-left: 30px;\r\n  padding-right: 30px;\r\n  border-bottom: solid 1px #f2f2f3;\r\n  padding-bottom: 32px;\r\n}\r\n\r\n// 标题\r\n.box-info__title {\r\n  font-weight: bold;\r\n  font-size: 32px;\r\n  /*display: block;*/\r\n  padding-top: 32px;\r\n  display: flex;\r\n  align-items: center;\r\n  // 指示块\r\n  &-bar {\r\n    width: 6px;\r\n    height: 30px;\r\n    background: #027aff;\r\n    border-radius: 4px;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n  }\r\n  // 标题内容\r\n  &-text {\r\n    margin-left: 16px;\r\n    color: #333333;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    flex: 1;\r\n  }\r\n}\r\n\r\n.box-info__attr {\r\n  color: #999;\r\n  font-size: 20px;\r\n  margin-top: 20px;\r\n}\r\n\r\n// 卡片任务内容栏\r\n.box-info__task-info {\r\n  padding-top: 32px;\r\n  padding-left: 48px;\r\n  padding-bottom: 32px;\r\n}\r\n\r\n// 任务名称\r\n.box-info__task-name {\r\n  font-size: 28px;\r\n  color: #999999;\r\n  display: flex;\r\n}\r\n\r\n.box-info__task-starter {\r\n  font-size: 28px;\r\n  color: #999999;\r\n  display: flex;\r\n  padding-top: 28px;\r\n\r\n  .starter-text {\r\n    margin-left: 64px;\r\n  }\r\n}\r\n\r\n// 任务环节\r\n.box-info__task-node {\r\n  font-size: 28px;\r\n  padding-top: 10px;\r\n  color: #999999;\r\n  display: flex;\r\n}\r\n\r\n.task-text {\r\n  color: #333333;\r\n  font-size: 28px;\r\n  font-weight: 400;\r\n  margin-left: 36px;\r\n  flex: 1;\r\n  white-space: nowrap; //不换行\r\n  overflow: hidden; //超出隐藏\r\n  text-overflow: ellipsis; // 超出部分省略表示\r\n  padding-right: 20px;\r\n}\r\n\r\n/*.time-text {\r\n  margin-bottom: 30px;\r\n}*/\r\n.state-text {\r\n  margin-left: 92px;\r\n}\r\n\r\n.stop-text {\r\n  color: #f32111;\r\n}\r\n\r\n// 任务时间\r\n.box-info__task-time {\r\n  padding-top: 28px;\r\n  color: #999999;\r\n  font-size: 28px;\r\n  display: flex;\r\n}\r\n.box-info__task-state {\r\n  /*padding-top: 10px;*/\r\n  position: absolute;\r\n  right: 32px;\r\n  color: #999999;\r\n  font-size: 28px;\r\n  display: flex;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n}\r\n.state-text-finish {\r\n  padding: 8px 12px;\r\n  border-radius: 4px;\r\n  background-color: #ecf8ef;\r\n  border: 1px solid #40bb5a;\r\n  color: #40bb5a;\r\n}\r\n.state-text-run {\r\n  padding: 8px 12px;\r\n  border-radius: 4px;\r\n  background-color: #e8f4ff;\r\n  border: 1px solid #1790fe;\r\n  color: #1790fe;\r\n}\r\n.state-text-waste {\r\n  padding: 8px 12px;\r\n  border-radius: 4px;\r\n  background-color: #ffeded;\r\n  border: 1px solid #ff4d4f;\r\n  color: #ff4d4f;\r\n}\r\n.box-info__task-time {\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.box-info__item-label {\r\n  width: 140px;\r\n}\r\n\r\n.box-info-warn {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  float: right;\r\n  color: #ff4b4b;\r\n  font-size: 24px;\r\n  background-color: #ffeded;\r\n  // padding: 3px 10px;\r\n}\r\n\r\n.task-btn-group {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  border-top: 1px solid #f2f2f2;\r\n  .btn {\r\n    border-radius: 0;\r\n    border: none;\r\n    height: 88px;\r\n    width: 50%;\r\n    white-space: nowrap;\r\n    line-height: 88px;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    padding: 0px;\r\n    // color: #fff;\r\n    &::after {\r\n      display: none;\r\n    }\r\n  }\r\n  .enter {\r\n    color: #fdac42;\r\n    background-color: #fff;\r\n    border-right: 1px solid #f2f2f2;\r\n    font-size: 32px;\r\n    // background-color: #FDAC42;\r\n  }\r\n  .entrust {\r\n    color: #0097d8;\r\n    background-color: #fff;\r\n    font-size: 32px;\r\n    // background-color: #0097D8;\r\n  }\r\n  .active {\r\n    &:hover {\r\n      background-color: #f0f0f0;\r\n    }\r\n  }\r\n}\r\n.no-data-img {\r\n  margin: 200px 95px 0 95px;\r\n}\r\n.no-data-text {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.no-data-text-descripe {\r\n  font-size: 32px;\r\n  font-weight: 400;\r\n  color: #999999;\r\n}\r\n</style>\r\n"]}]}