{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\components\\xa-map\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\components\\xa-map\\index.vue","mtime":1705912915773},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgKiBhcyB0dXJmIGZyb20gJ0B0dXJmL3R1cmYnDQppbXBvcnQgTWFwSW5pdCBmcm9tICIuL21hcEluaXQiOw0KaW1wb3J0IGxheWVyQ29udHJvbCBmcm9tICIuL2xheWVyQ29udHJvbC5qcyI7DQppbXBvcnQgQVBJIGZyb20gJ0AvY29tbW9uL2NvbmZpZy5qcyc7DQppbXBvcnQgbWFwYm94Z2wgZnJvbSAibWFwYm94LWdsIjsNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQppbXBvcnQgeyBsZWdlbmRMaXN0SW1wb3J0IH0gZnJvbSAiLi9sZWdlbmRMaXN0LmpzIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1hhTWFwJywNCiAgcHJvcHM6IHsNCiAgICBjcmVhdGU6IHsNCiAgICAgIHR5cGU6IEZ1bmN0aW9uLA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuICgpID0+IHt9DQogICAgICB9LA0KICAgIH0sDQogICAgbGVnZW5kQ29uZmlnOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIHJldHVybiBbXTsNCiAgICAgIH0sDQogICAgfSwNCiAgICBsZWdlbmRMaXN0OiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIHJldHVybiBsZWdlbmRMaXN0SW1wb3J0DQogICAgICB9DQogICAgfSwgICAgDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRlZmF1bHRCYXNlTGF5ZXJzOltdDQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIGxlZ2VuZENvbmZpZzogew0KICAgICAgaGFuZGxlcihuZXdWYWwpIHsNCiAgICAgICAgdGhpcy5jaGFuZ2VMZWdlbmQoKQ0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUNCiAgICB9DQogIH0sICANCiAgYXN5bmMgbW91bnRlZCgpIHsNCiAgICB3aW5kb3cudHVyZiA9IHR1cmYNCiAgICB3aW5kb3cueGFNYXAgPSAnJw0KICAgIHdpbmRvdy54YU1hcEJ1aWxkZXIgPSAnJw0KICAgIGxldCBvcHRpb25zID0gew0KICAgICAgc3R5bGU6IHsNCiAgICAgICAgdmVyc2lvbjogOCwNCiAgICAgICAgcGl0Y2g6IDAsDQogICAgICAgIHpvb206IDEzLjU3MDUzMjM2MDU3NzY1NSwNCiAgICAgICAgY2VudGVyOiBbMTE1LjkyNDg2MTAxMzY5NDI4LCAzOS4wNjA3NTU0OTU4OTA3M10sDQogICAgICAgIGdseXBoczoNCiAgICAgICAgICBBUEkuVlVFX0FQUF9NQVBfVVJMICsgJy9tYXBib3hTb3VyY2UvZm9udHMve2ZvbnRzdGFja30ve3JhbmdlfS5wYmYnLA0KICAgICAgICBzcHJpdGU6IEFQSS5WVUVfQVBQX01BUF9VUkwgKyAnL21hcGJveFNvdXJjZS9zcHJpdGVzL3Nwcml0ZScsDQogICAgICAgIHNvdXJjZXM6IHt9LA0KICAgICAgICBsYXllcnM6IFt7DQogICAgICAgICAgaWQ6ICdlbXB0eScsDQogICAgICAgICAgdHlwZTogImJhY2tncm91bmQiLA0KICAgICAgICAgIGxheW91dDogew0KICAgICAgICAgICAgdmlzaWJpbGl0eTogIm5vbmUiDQogICAgICAgICAgfQ0KICAgICAgICB9LHsNCiAgICAgICAgICBpZDogJ2VtcHR5MScsDQogICAgICAgICAgdHlwZTogImJhY2tncm91bmQiLA0KICAgICAgICAgIGxheW91dDogew0KICAgICAgICAgICAgdmlzaWJpbGl0eTogIm5vbmUiDQogICAgICAgICAgfQ0KICAgICAgICB9LHsNCiAgICAgICAgICBpZDogJ2VtcHR5MicsDQogICAgICAgICAgdHlwZTogImJhY2tncm91bmQiLA0KICAgICAgICAgIGxheW91dDogew0KICAgICAgICAgICAgdmlzaWJpbGl0eTogIm5vbmUiDQogICAgICAgICAgfQ0KICAgICAgICB9XSwNCiAgICAgIH0sDQogICAgfQ0KICAgIG1hcGJveGdsLmFjY2Vzc1Rva2VuID0NCiAgICAgICdway5leUoxSWpvaU9UTTBNRGswTWpnMklpd2lZU0k2SW1Oc01uTm1kbVZyWkRCclpHTXpaRzUwY0hKdWRYSmtiVzhpZlEuQzB3S2hKZ3JUb0ZKZ0w4R0g1TThyZycNCiAgICBjb25zdCBtYXBCdWlsZGVyID0gKHdpbmRvdy54YU1hcEJ1aWxkZXIgPSBuZXcgTWFwSW5pdCh7DQogICAgICBjb250YWluZXI6ICdtYXAnLA0KICAgICAgb3B0aW9uczogb3B0aW9ucywNCiAgICAgIGNlbnRlcjogWzExNS45MjQ4NjEwMTM2OTQyOCwgMzkuMDYwNzU1NDk1ODkwNzNdLA0KICAgIH0pKQ0KICAgIHdpbmRvdy54YU1hcCA9IG1hcEJ1aWxkZXIubWFwDQogICAgY29uc3QgbWFwID0gbWFwQnVpbGRlci5tYXANCg0KICAgIC8v5Y676ZmkbWFwYm9455qEbG9nbw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21hcGJveGdsLWN0cmwtbG9nbycpWzBdLnN0eWxlLmRpc3BsYXkgPQ0KICAgICAgJ25vbmUnDQoNCiAgICBtYXAub24oJ2xvYWQnLCBhc3luYyAoKSA9PiB7DQogICAgICAvKirmt7vliqDmiYDmnInlupXlm77vvIzkuI3lvbHlk41tYXBib3jliJ3lp4vljJbml7bpl7QgKi8NCiAgICAgIGF3YWl0IHRoaXMuYWRkQWxsQmFzZU1hcCgpDQoNCiAgICAgIC8qKua3u+WKoOaJgOacieWbvuWxgiAqLw0KICAgICAgYXdhaXQgdGhpcy5hZGRMYXllcnMoKTsNCg0KICAgICAgLyoq55So5oi36Ieq5a6a5LmJ5LqL5Lu2ICovDQogICAgICB0aGlzLmNyZWF0ZSgpDQogICAgfSkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNoYW5nZUxlZ2VuZCgpIHsNCiAgICAgIGlmKHRoaXMubGVnZW5kQ29uZmlnICYmIHRoaXMubGVnZW5kQ29uZmlnLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy5sZWdlbmRDb25maWcuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICAgIHRoaXMubGVnZW5kTGlzdC5mb3JFYWNoKChsZWdlbmQpID0+IHsNCiAgICAgICAgICAgIC8v5o6n5Yi25LiA57qn5Zu+5bGCDQogICAgICAgICAgICBpZiAoaXRlbS5sYWJlbCA9PSBsZWdlbmQubGFiZWwpIHsNCiAgICAgICAgICAgICAgbGVnZW5kLnRpdGxlU3RhdHVzID0gaXRlbS5jbGlja0ZsYWc7DQogICAgICAgICAgICAgIC8vIA0KICAgICAgICAgICAgICBsZWdlbmQub3B0aW9ucy5mb3JFYWNoKChzbWFsbEl0ZW0pID0+IHsNCiAgICAgICAgICAgICAgICAvLyDlvZPor6XmoIfpopjkuIvlm77lsYLlhoXlrrnkuLrmmL7npLrnirbmgIHml7bmiY3ov5vlhaXliKTmlq0NCiAgICAgICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgICBsZWdlbmQudGl0bGVTdGF0dXMgPT09IHRydWUgJiYNCiAgICAgICAgICAgICAgICAgIHR5cGVvZiBzbWFsbEl0ZW0uaWQgPT0gIm51bWJlciINCiAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsDQogICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogc21hbGxJdGVtLmxhYmVsICsgIuWbvuWxguaaguaXoOaVsOaNru+8gSIsDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgfSwgMCk7DQogICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChsZWdlbmQudGl0bGVTdGF0dXMgPT09IHRydWUpIHsNCiAgICAgICAgICAgICAgICAgIC8vIOagh+mimOeKtuaAgeeCueS6ruaXtg0KICAgICAgICAgICAgICAgICAgc21hbGxJdGVtLmNsaWNrRmxhZyA9IGZhbHNlOyAvLyDlm77lsYLlnYfmmL7npLoNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgc21hbGxJdGVtLmNsaWNrRmxhZyA9IHRydWU7IC8vIOWbvuWxguWdh+makOiXjw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmxlZ2VuZENvbnRyb2xMYXllcihzbWFsbEl0ZW0pOw0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgbGVnZW5kLm9wdGlvbnMuZm9yRWFjaChzbWFsbEl0ZW0gPT4gew0KICAgICAgICAgICAgICAgIGlmKGl0ZW0ubGFiZWwgPT0gc21hbGxJdGVtLmxhYmVsKSB7DQogICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoc21hbGxJdGVtLCAnY2xpY2tGbGFnJywgaXRlbS5jbGlja0ZsYWcpDQogICAgICAgICAgICAgICAgICB0aGlzLmxlZ2VuZENvbnRyb2xMYXllcihzbWFsbEl0ZW0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgbGVnZW5kQ29udHJvbExheWVyKGl0ZW0pIHsNCiAgICAgIGxldCBtYXAgPSB3aW5kb3cueGFNYXANCiAgICAgIC8vIGlmIChpdGVtLmNsaWNrRmxhZykgew0KICAgICAgLy8gICBpZihpdGVtLmlkID09ICLljovlipvnm5HmtYso5L6bKSoiKXsNCiAgICAgIC8vICAgICBsZXQgZG9tTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInByZXNzdXJlLXN1cHBseSIpDQogICAgICAvLyAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChkb21MaXN0LCAoZG9tKSA9PiB7DQogICAgICAvLyAgICAgICBkb20uc3R5bGUuZGlzcGxheSA9ICJub25lIg0KICAgICAgLy8gICAgIH0pDQogICAgICAvLyAgIH1lbHNlIGlmKGl0ZW0uaWQgPT0gIuWOi+WKm+ebkea1iyjlho3nlJ8pKiIpIHsNCiAgICAgIC8vICAgICBsZXQgZG9tTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInByZXNzdXJlLXJlY3ljbGUiKQ0KICAgICAgLy8gICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZG9tTGlzdCwgKGRvbSkgPT4gew0KICAgICAgLy8gICAgICAgZG9tLnN0eWxlLmRpc3BsYXkgPSAibm9uZSINCiAgICAgIC8vICAgICB9KQ0KICAgICAgLy8gICB9ZWxzZSBpZihpdGVtLmlkID09ICLmtYHph4/orqEo5L6bKSoiKSB7DQogICAgICAvLyAgICAgbGV0IGRvbUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJmbG93LXN1cHBseSIpDQogICAgICAvLyAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChkb21MaXN0LCAoZG9tKSA9PiB7DQogICAgICAvLyAgICAgICBkb20uc3R5bGUuZGlzcGxheSA9ICJub25lIg0KICAgICAgLy8gICAgIH0pDQogICAgICAvLyAgIH1lbHNlIGlmKGl0ZW0uaWQgPT0gIua1gemHj+iuoSjlho3nlJ8pKiIpIHsNCiAgICAgIC8vICAgICBsZXQgZG9tTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImZsb3ctcmVjeWNsZSIpDQogICAgICAvLyAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChkb21MaXN0LCAoZG9tKSA9PiB7DQogICAgICAvLyAgICAgICBkb20uc3R5bGUuZGlzcGxheSA9ICJub25lIg0KICAgICAgLy8gICAgIH0pDQogICAgICAvLyAgIH0NCiAgICAgIC8vIH1lbHNlIHsNCiAgICAgIC8vICAgaWYoaXRlbS5pZCA9PSAi5Y6L5Yqb55uR5rWLKOS+mykqIil7DQogICAgICAvLyAgICAgbGV0IGRvbUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJwcmVzc3VyZS1zdXBwbHkiKQ0KICAgICAgLy8gICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZG9tTGlzdCwgKGRvbSkgPT4gew0KICAgICAgLy8gICAgICAgZG9tLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siDQogICAgICAvLyAgICAgfSkNCiAgICAgIC8vICAgfWVsc2UgaWYoaXRlbS5pZCA9PSAi5Y6L5Yqb55uR5rWLKOWGjeeUnykqIikgew0KICAgICAgLy8gICAgIGxldCBkb21MaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgicHJlc3N1cmUtcmVjeWNsZSIpDQogICAgICAvLyAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChkb21MaXN0LCAoZG9tKSA9PiB7DQogICAgICAvLyAgICAgICBkb20uc3R5bGUuZGlzcGxheSA9ICJibG9jayINCiAgICAgIC8vICAgICB9KQ0KICAgICAgLy8gICB9ZWxzZSBpZihpdGVtLmlkID09ICLmtYHph4/orqEo5L6bKSoiKSB7DQogICAgICAvLyAgICAgbGV0IGRvbUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJmbG93LXN1cHBseSIpDQogICAgICAvLyAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChkb21MaXN0LCAoZG9tKSA9PiB7DQogICAgICAvLyAgICAgICBkb20uc3R5bGUuZGlzcGxheSA9ICJibG9jayINCiAgICAgIC8vICAgICB9KQ0KICAgICAgLy8gICB9ZWxzZSBpZihpdGVtLmlkID09ICLmtYHph4/orqEo5YaN55SfKSoiKSB7DQogICAgICAvLyAgICAgbGV0IGRvbUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJmbG93LXJlY3ljbGUiKQ0KICAgICAgLy8gICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZG9tTGlzdCwgKGRvbSkgPT4gew0KICAgICAgLy8gICAgICAgZG9tLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siDQogICAgICAvLyAgICAgfSkNCiAgICAgIC8vICAgfQ0KICAgICAgLy8gfQ0KICAgICAgaWYgKG1hcC5nZXRMYXllcihpdGVtLmlkKSkgew0KICAgICAgICBpZiAoaXRlbS5jbGlja0ZsYWcpIHsNCiAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoaXRlbS5pZCwgInZpc2liaWxpdHkiLCAibm9uZSIpOw0KICAgICAgICAgIGlmIChpdGVtLmlkID09ICJyZF9tYXBfZHJhaW5waXBlX3lzX2JpZyIpIHsNCiAgICAgICAgICAgIGxldCBmaWx0ZXIgPSBtYXAuZ2V0RmlsdGVyKCJyZF9tYXBfbWFuaG9sZSIpDQogICAgICAgICAgICBpZihmaWx0ZXIudG9TdHJpbmcoKSA9PSBbJ2FsbCddLnRvU3RyaW5nKCkgfHwgZmlsdGVyLnRvU3RyaW5nKCkgPT0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAn6Zuo5rC0J10udG9TdHJpbmcoKSl7DQogICAgICAgICAgICAgIGlmKG1hcC5nZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV93c19iaWcnLCAndmlzaWJpbGl0eScpID09ICdub25lJyl7DQogICAgICAgICAgICAgICAgZmlsdGVyID0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAnJ10NCiAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgIGZpbHRlciA9IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJ+axoeawtCddDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8v6Zuo5rC0566h57q/5Zu+5bGC5o6n5Yi26Zuo5rC05LqV44CB6Zuo5rC0566t5aS044CB6Zuo5rC06L6D5bCP5bGC57qn5Zu+5bGC5pi+56S6DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoInJkX21hcF9jb21iIiwgInZpc2liaWxpdHkiLCAibm9uZSIpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBtYXAuc2V0RmlsdGVyKCJyZF9tYXBfbWFuaG9sZSIsIGZpbHRlcik7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJyZF9tYXBfZHJhaW5waXBlX3lzX2JpZ19kaXJlY3Rpb24iLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJub25lIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgInJkX21hcF9kcmFpbnBpcGVfeXNfc21hbGwiLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJub25lIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgInJkX21hcF9kcmFpbnBpcGVfeXNfc21hbGxfZGlyZWN0aW9uIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAibm9uZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlkID09ICJtYXBfc3VwcGx5X3BpcGVfY2lyY3VsYXRpbmciKSB7DQogICAgICAgICAgICAvL+W+queOr+awtO+8iOWbnuawtO+8ieeuoee6v+aOp+WItuW+queOr+awtO+8iOWbnuawtO+8ieiKgueCueaYvuekug0KICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KA0KICAgICAgICAgICAgICAibWFwX3N1cHBseV9ub2RlX2NpcmN1bGF0aW5nIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAibm9uZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlkID09ICJtYXBfc3VwcGx5X3BpcGVfZGlzdHJpYnV0ZSIpIHsNCiAgICAgICAgICAgIC8v6YWN5rC0566h57q/5o6n5Yi26YWN5rC06IqC54K55pi+56S6DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJtYXBfc3VwcGx5X25vZGVfZGlzdHJpYnV0ZSIsDQogICAgICAgICAgICAgICJ2aXNpYmlsaXR5IiwNCiAgICAgICAgICAgICAgIm5vbmUiDQogICAgICAgICAgICApOw0KICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAibWFwX3N1cHBseV9waXBlX2RlbGl2ZXJ5Iikgew0KICAgICAgICAgICAgLy/ovpPmsLTnrqHnur/mjqfliLbovpPmsLToioLngrnmmL7npLoNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgIm1hcF9zdXBwbHlfbm9kZV9kZWxpdmVyeSIsDQogICAgICAgICAgICAgICJ2aXNpYmlsaXR5IiwNCiAgICAgICAgICAgICAgIm5vbmUiDQogICAgICAgICAgICApOw0KICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAibWFwX3JlY3ljbGVfcGlwZSIpIHsNCiAgICAgICAgICAgIC8v5YaN55Sf5rC0566h57q/5o6n5Yi25YaN55Sf5rC06IqC54K55pi+56S6DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJtYXBfcmVjeWNsZV9ub2RlIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAibm9uZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlkID09ICJyZF9tYXBfZHJhaW5waXBlX3dzX2JpZyIpIHsNCiAgICAgICAgICAgIC8v5rGh5rC0566h57q/5Zu+5bGC5o6n5Yi25rGh5rC05LqV44CB5rGh5rC0566t5aS044CB5rGh5rC06L6D5bCP5bGC57qn5Zu+5bGC5pi+56S6DQogICAgICAgICAgICBsZXQgZmlsdGVyID0gbWFwLmdldEZpbHRlcigicmRfbWFwX21hbmhvbGUiKQ0KICAgICAgICAgICAgaWYoZmlsdGVyLnRvU3RyaW5nKCkgPT0gWydhbGwnXS50b1N0cmluZygpIHx8IGZpbHRlci50b1N0cmluZygpID09IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJ+axoeawtCddLnRvU3RyaW5nKCkpew0KICAgICAgICAgICAgICBpZihtYXAuZ2V0TGF5b3V0UHJvcGVydHkoJ3JkX21hcF9kcmFpbnBpcGVfeXNfYmlnJywgJ3Zpc2liaWxpdHknKSA9PSAnbm9uZScpew0KICAgICAgICAgICAgICAgIGZpbHRlciA9IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJyddDQogICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICBmaWx0ZXIgPSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICfpm6jmsLQnXQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9ICAgICAgICAgICAgDQogICAgICAgICAgICBtYXAuc2V0RmlsdGVyKCJyZF9tYXBfbWFuaG9sZSIsIGZpbHRlcik7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJyZF9tYXBfZHJhaW5waXBlX3dzX2JpZ19kaXJlY3Rpb24iLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJub25lIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgInJkX21hcF9kcmFpbnBpcGVfd3Nfc21hbGwiLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJub25lIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgInJkX21hcF9kcmFpbnBpcGVfd3Nfc21hbGxfZGlyZWN0aW9uIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAibm9uZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2UgeyAgICAgICAgICANCiAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoaXRlbS5pZCwgInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOw0KICAgICAgICAgIGlmIChpdGVtLmlkID09ICJyZF9tYXBfZHJhaW5waXBlX3lzX2JpZyIpIHsNCiAgICAgICAgICAgIGxldCBmaWx0ZXIgPSBtYXAuZ2V0RmlsdGVyKCJyZF9tYXBfbWFuaG9sZSIpDQogICAgICAgICAgICBpZihmaWx0ZXIudG9TdHJpbmcoKSA9PSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICcnXS50b1N0cmluZygpIHx8IGZpbHRlci50b1N0cmluZygpID09IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJ+axoeawtCddLnRvU3RyaW5nKCkpew0KICAgICAgICAgICAgICBpZihtYXAuZ2V0TGF5b3V0UHJvcGVydHkoJ3JkX21hcF9kcmFpbnBpcGVfd3NfYmlnJywgJ3Zpc2liaWxpdHknKSAhPSAnbm9uZScpew0KICAgICAgICAgICAgICAgIGZpbHRlciA9IFsnYWxsJ10NCiAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgIGZpbHRlciA9IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJ+mbqOawtCddDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG1hcC5zZXRGaWx0ZXIoInJkX21hcF9tYW5ob2xlIiwgZmlsdGVyKTsNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgInJkX21hcF9jb21iIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAidmlzaWJsZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJyZF9tYXBfZHJhaW5waXBlX3lzX2JpZ19kaXJlY3Rpb24iLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJ2aXNpYmxlIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgInJkX21hcF9kcmFpbnBpcGVfeXNfc21hbGwiLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJ2aXNpYmxlIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgInJkX21hcF9kcmFpbnBpcGVfeXNfc21hbGxfZGlyZWN0aW9uIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAidmlzaWJsZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlkID09ICJtYXBfc3VwcGx5X3BpcGVfY2lyY3VsYXRpbmciKSB7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJtYXBfc3VwcGx5X25vZGVfY2lyY3VsYXRpbmciLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJ2aXNpYmxlIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gIm1hcF9zdXBwbHlfcGlwZV9kaXN0cmlidXRlIikgew0KICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KA0KICAgICAgICAgICAgICAibWFwX3N1cHBseV9ub2RlX2Rpc3RyaWJ1dGUiLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJ2aXNpYmxlIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gIm1hcF9zdXBwbHlfcGlwZV9kZWxpdmVyeSIpIHsNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgIm1hcF9zdXBwbHlfbm9kZV9kZWxpdmVyeSIsDQogICAgICAgICAgICAgICJ2aXNpYmlsaXR5IiwNCiAgICAgICAgICAgICAgInZpc2libGUiDQogICAgICAgICAgICApOw0KICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAibWFwX3JlY3ljbGVfcGlwZSIpIHsNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgIm1hcF9yZWN5Y2xlX25vZGUiLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJ2aXNpYmxlIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gInJkX21hcF9kcmFpbnBpcGVfd3NfYmlnIikgew0KICAgICAgICAgICAgbGV0IGZpbHRlciA9IG1hcC5nZXRGaWx0ZXIoInJkX21hcF9tYW5ob2xlIikNCiAgICAgICAgICAgIGlmKGZpbHRlci50b1N0cmluZygpID09IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJyddLnRvU3RyaW5nKCkgfHwgZmlsdGVyLnRvU3RyaW5nKCkgPT0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAn6Zuo5rC0J10udG9TdHJpbmcoKSl7DQogICAgICAgICAgICAgIGlmKG1hcC5nZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV95c19iaWcnLCAndmlzaWJpbGl0eScpICE9ICdub25lJyl7DQogICAgICAgICAgICAgICAgZmlsdGVyID0gWydhbGwnXQ0KICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgZmlsdGVyID0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAn5rGh5rC0J10NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSAgICAgICAgICAgIA0KICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KA0KICAgICAgICAgICAgICAicmRfbWFwX2RyYWlucGlwZV93c19iaWdfZGlyZWN0aW9uIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAidmlzaWJsZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgICBtYXAuc2V0RmlsdGVyKCJyZF9tYXBfbWFuaG9sZSIsIGZpbHRlcik7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJyZF9tYXBfbWFuaG9sZSIsDQogICAgICAgICAgICAgICJ2aXNpYmlsaXR5IiwNCiAgICAgICAgICAgICAgInZpc2libGUiDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KA0KICAgICAgICAgICAgICAicmRfbWFwX2RyYWlucGlwZV93c19zbWFsbF9kaXJlY3Rpb24iLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJ2aXNpYmxlIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgInJkX21hcF9kcmFpbnBpcGVfd3Nfc21hbGwiLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJ2aXNpYmxlIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIGFkZExheWVycygpIHsNCiAgICAgIGxldCBtYXAgPSB3aW5kb3cueGFNYXA7DQogICAgICBsZXQgZW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlY7DQogICAgICAvL+W6leWbvg0KICAgICAgYXdhaXQgYXhpb3MNCiAgICAgICAgLmdldCgNCiAgICAgICAgICBBUEkuVlVFX0FQUF9NQVBfUkVRVUVTVF9VUkwgKw0KICAgICAgICAgICAgIi9hcGkvc3dhbi9tYXBXb3Jrc2hvcFNvdXJjZS9kZXRhaWw/aWQ9MTU1NzY1MDI3Mzg5NTI4ODgzNCINCiAgICAgICAgKQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgbGV0IGxheWVycyA9IEpTT04ucGFyc2UocmVzLmRhdGEuZGF0YS5jb21iaW5lSnNvbkRhdGEpOw0KDQogICAgICAgICAgT2JqZWN0LmtleXMobGF5ZXJzLnNvdXJjZXMpLmZvckVhY2goKGtleSkgPT4gew0KICAgICAgICAgICAgaWYgKGVudiA9PSAicHJvZHVjdGlvbiIpIHsNCiAgICAgICAgICAgICAgbGV0IHRlbXAgPSBsYXllcnMuc291cmNlc1trZXldLnRpbGVzWzBdOw0KICAgICAgICAgICAgICB0ZW1wID0gdGVtcC5yZXBsYWNlQWxsKCIxNzIuMjMuMC4xMjM6ODAwOCIsICJ4YXN3LmhkZWMuY29tIik7DQogICAgICAgICAgICAgIGxheWVycy5zb3VyY2VzW2tleV0udGlsZXNbMF0gPSB0ZW1wOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbWFwLmFkZFNvdXJjZShrZXksIGxheWVycy5zb3VyY2VzW2tleV0pOw0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGxheWVycy5sYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHsNCiAgICAgICAgICAgIGlmICghbGF5ZXIubGF5b3V0IHx8IGxheWVyLmxheW91dC52aXNpYmlsaXR5ID09ICJ2aXNpYmxlIikgew0KICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRCYXNlTGF5ZXJzLnB1c2gobGF5ZXIpOyAvL+aOp+WItuWcsOWbvuaYvumakA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbWFwLmFkZExheWVyKGxheWVyLCAnZW1wdHkxJyk7DQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy4kZW1pdCgiZ2V0RGVmYXVsdEJhc2VMYXllcnMiLCB0aGlzLmRlZmF1bHRCYXNlTGF5ZXJzKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlKSA9PiB7fSkNCiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge30pOw0KICAgICAgLy/nrqHnur8NCiAgICAgIGF3YWl0IGF4aW9zDQogICAgICAgIC5nZXQoDQogICAgICAgICAgQVBJLlZVRV9BUFBfTUFQX1JFUVVFU1RfVVJMICsNCiAgICAgICAgICAgICIvYXBpL3N3YW4vbWFwV29ya3Nob3BTb3VyY2UvZGV0YWlsP2lkPTE1NDg1NzM0MTI5NjM3NDk4ODkiDQogICAgICAgICkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGxldCBsYXllcnMgPSBKU09OLnBhcnNlKHJlcy5kYXRhLmRhdGEuanNvbkRhdGEpOw0KDQogICAgICAgICAgT2JqZWN0LmtleXMobGF5ZXJzLnNvdXJjZXMpLmZvckVhY2goKGtleSkgPT4gew0KICAgICAgICAgICAgaWYgKGVudiA9PSAicHJvZHVjdGlvbiIpIHsNCiAgICAgICAgICAgICAgbGV0IHRlbXAgPSBsYXllcnMuc291cmNlc1trZXldLnRpbGVzWzBdOw0KICAgICAgICAgICAgICB0ZW1wID0gdGVtcC5yZXBsYWNlQWxsKCIxNzIuMjMuMC4xMjM6ODAwOCIsICJ4YXN3LmhkZWMuY29tIik7DQogICAgICAgICAgICAgIGxheWVycy5zb3VyY2VzW2tleV0udGlsZXNbMF0gPSB0ZW1wOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbWFwLmFkZFNvdXJjZShrZXksIGxheWVycy5zb3VyY2VzW2tleV0pOw0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGxheWVycy5sYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHsNCiAgICAgICAgICAgIG1hcC5hZGRMYXllcihsYXllciwgJ2VtcHR5MScpOw0KICAgICAgICAgICAgLy/lm77lsYLnp7vlhaXnp7vpmaTku6Xlj4rngrnlh7vkuovku7YNCiAgICAgICAgICAgIG1hcC5vbigibW91c2VlbnRlciIsIGxheWVyLmlkLCB0aGlzLmhhbmRsZUxheWVyRW50ZXIpOw0KICAgICAgICAgICAgbWFwLm9uKCJtb3VzZW91dCIsIGxheWVyLmlkLCB0aGlzLmhhbmRsZUxheWVyTGVhdmUpOw0KICAgICAgICAgICAgbWFwLm9uKCJjbGljayIsIGxheWVyLmlkLCB0aGlzLmhhbmRsZUxheWVyQ2xpY2spOyANCiAgICAgICAgICB9KTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlKSA9PiB7fSkNCiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge30pOw0KICAgIH0sDQogICAgaGFuZGxlTGF5ZXJFbnRlcihlKSB7DQogICAgICB0aGlzLiRlbWl0KCJoYW5kbGVMYXllckVudGVyIiwgZSk7DQogICAgfSwNCiAgICBoYW5kbGVMYXllckxlYXZlKGUpIHsNCiAgICAgIHRoaXMuJGVtaXQoImhhbmRsZUxheWVyTGVhdmUiLCBlKTsNCiAgICB9LA0KICAgIGhhbmRsZUxheWVyQ2xpY2soZSkgew0KICAgICAgdGhpcy4kZW1pdCgiaGFuZGxlTGF5ZXJDbGljayIsIGUpOw0KICAgIH0sDQogICAgLyoq5re75Yqg5omA5pyJ55qE5bqV5Zu+ICovDQogICAgYWRkQWxsQmFzZU1hcCgpIHsNCiAgICAgIGxldCBtYXAgPSB3aW5kb3cueGFNYXA7DQogICAgICBsZXQgc291cmNlcyA9IGxheWVyQ29udHJvbC5kZWZhdWx0U291cmNlOw0KICAgICAgbGV0IGxheWVycyA9IGxheWVyQ29udHJvbC5kZWZhdWx0TGF5ZXJzOw0KICAgICAgdGhpcy4kZW1pdCgiZ2V0QmFzZUxheWVyT2JqZWN0IiwgbGF5ZXJzKTsNCiAgICAgIE9iamVjdC5rZXlzKHNvdXJjZXMpLmZvckVhY2goKGtleSkgPT4gew0KICAgICAgICBtYXAuYWRkU291cmNlKGtleSwgc291cmNlc1trZXldKTsNCiAgICAgIH0pOw0KICAgICAgbGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7DQogICAgICAgIG1hcC5hZGRMYXllcihsYXllciwgJ2VtcHR5Jyk7DQogICAgICB9KTsNCiAgICB9LCAgICAgDQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/xa-map","sourcesContent":["<template>\r\n  <div class=\"xa-map\" id=\"map\"></div>\r\n</template>\r\n\r\n<script>\r\nimport * as turf from '@turf/turf'\r\nimport MapInit from \"./mapInit\";\r\nimport layerControl from \"./layerControl.js\";\r\nimport API from '@/common/config.js';\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport axios from \"axios\";\r\nimport { legendListImport } from \"./legendList.js\";\r\nexport default {\r\n  name: 'XaMap',\r\n  props: {\r\n    create: {\r\n      type: Function,\r\n      default() {\r\n        return () => {}\r\n      },\r\n    },\r\n    legendConfig: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    legendList: {\r\n      type: Array,\r\n      default() {\r\n        return legendListImport\r\n      }\r\n    },    \r\n  },\r\n  data() {\r\n    return {\r\n      defaultBaseLayers:[]\r\n    }\r\n  },\r\n  watch: {\r\n    legendConfig: {\r\n      handler(newVal) {\r\n        this.changeLegend()\r\n      },\r\n      deep: true\r\n    }\r\n  },  \r\n  async mounted() {\r\n    window.turf = turf\r\n    window.xaMap = ''\r\n    window.xaMapBuilder = ''\r\n    let options = {\r\n      style: {\r\n        version: 8,\r\n        pitch: 0,\r\n        zoom: 13.570532360577655,\r\n        center: [115.92486101369428, 39.06075549589073],\r\n        glyphs:\r\n          API.VUE_APP_MAP_URL + '/mapboxSource/fonts/{fontstack}/{range}.pbf',\r\n        sprite: API.VUE_APP_MAP_URL + '/mapboxSource/sprites/sprite',\r\n        sources: {},\r\n        layers: [{\r\n          id: 'empty',\r\n          type: \"background\",\r\n          layout: {\r\n            visibility: \"none\"\r\n          }\r\n        },{\r\n          id: 'empty1',\r\n          type: \"background\",\r\n          layout: {\r\n            visibility: \"none\"\r\n          }\r\n        },{\r\n          id: 'empty2',\r\n          type: \"background\",\r\n          layout: {\r\n            visibility: \"none\"\r\n          }\r\n        }],\r\n      },\r\n    }\r\n    mapboxgl.accessToken =\r\n      'pk.eyJ1IjoiOTM0MDk0Mjg2IiwiYSI6ImNsMnNmdmVrZDBrZGMzZG50cHJudXJkbW8ifQ.C0wKhJgrToFJgL8GH5M8rg'\r\n    const mapBuilder = (window.xaMapBuilder = new MapInit({\r\n      container: 'map',\r\n      options: options,\r\n      center: [115.92486101369428, 39.06075549589073],\r\n    }))\r\n    window.xaMap = mapBuilder.map\r\n    const map = mapBuilder.map\r\n\r\n    //去除mapbox的logo\r\n    document.getElementsByClassName('mapboxgl-ctrl-logo')[0].style.display =\r\n      'none'\r\n\r\n    map.on('load', async () => {\r\n      /**添加所有底图，不影响mapbox初始化时间 */\r\n      await this.addAllBaseMap()\r\n\r\n      /**添加所有图层 */\r\n      await this.addLayers();\r\n\r\n      /**用户自定义事件 */\r\n      this.create()\r\n    })\r\n  },\r\n  methods: {\r\n    changeLegend() {\r\n      if(this.legendConfig && this.legendConfig.length > 0) {\r\n        this.legendConfig.forEach((item) => {\r\n          this.legendList.forEach((legend) => {\r\n            //控制一级图层\r\n            if (item.label == legend.label) {\r\n              legend.titleStatus = item.clickFlag;\r\n              // \r\n              legend.options.forEach((smallItem) => {\r\n                // 当该标题下图层内容为显示状态时才进入判断\r\n                if (\r\n                  legend.titleStatus === true &&\r\n                  typeof smallItem.id == \"number\"\r\n                ) {\r\n                  setTimeout(() => {\r\n                    this.$message({\r\n                      type: \"warning\",\r\n                      message: smallItem.label + \"图层暂无数据！\",\r\n                    });\r\n                  }, 0);\r\n                  return;\r\n                }\r\n                if (legend.titleStatus === true) {\r\n                  // 标题状态点亮时\r\n                  smallItem.clickFlag = false; // 图层均显示\r\n                } else {\r\n                  smallItem.clickFlag = true; // 图层均隐藏\r\n                }\r\n                this.legendControlLayer(smallItem);\r\n              });\r\n            }else {\r\n              legend.options.forEach(smallItem => {\r\n                if(item.label == smallItem.label) {\r\n                  this.$set(smallItem, 'clickFlag', item.clickFlag)\r\n                  this.legendControlLayer(smallItem)\r\n                }\r\n              })\r\n            }\r\n            \r\n          });\r\n        });\r\n      }\r\n    },\r\n    legendControlLayer(item) {\r\n      let map = window.xaMap\r\n      // if (item.clickFlag) {\r\n      //   if(item.id == \"压力监测(供)*\"){\r\n      //     let domList = document.getElementsByClassName(\"pressure-supply\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"none\"\r\n      //     })\r\n      //   }else if(item.id == \"压力监测(再生)*\") {\r\n      //     let domList = document.getElementsByClassName(\"pressure-recycle\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"none\"\r\n      //     })\r\n      //   }else if(item.id == \"流量计(供)*\") {\r\n      //     let domList = document.getElementsByClassName(\"flow-supply\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"none\"\r\n      //     })\r\n      //   }else if(item.id == \"流量计(再生)*\") {\r\n      //     let domList = document.getElementsByClassName(\"flow-recycle\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"none\"\r\n      //     })\r\n      //   }\r\n      // }else {\r\n      //   if(item.id == \"压力监测(供)*\"){\r\n      //     let domList = document.getElementsByClassName(\"pressure-supply\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"block\"\r\n      //     })\r\n      //   }else if(item.id == \"压力监测(再生)*\") {\r\n      //     let domList = document.getElementsByClassName(\"pressure-recycle\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"block\"\r\n      //     })\r\n      //   }else if(item.id == \"流量计(供)*\") {\r\n      //     let domList = document.getElementsByClassName(\"flow-supply\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"block\"\r\n      //     })\r\n      //   }else if(item.id == \"流量计(再生)*\") {\r\n      //     let domList = document.getElementsByClassName(\"flow-recycle\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"block\"\r\n      //     })\r\n      //   }\r\n      // }\r\n      if (map.getLayer(item.id)) {\r\n        if (item.clickFlag) {\r\n          map.setLayoutProperty(item.id, \"visibility\", \"none\");\r\n          if (item.id == \"rd_map_drainpipe_ys_big\") {\r\n            let filter = map.getFilter(\"rd_map_manhole\")\r\n            if(filter.toString() == ['all'].toString() || filter.toString() == ['in', 'manhole_type', '雨水'].toString()){\r\n              if(map.getLayoutProperty('rd_map_drainpipe_ws_big', 'visibility') == 'none'){\r\n                filter = ['in', 'manhole_type', '']\r\n              }else {\r\n                filter = ['in', 'manhole_type', '污水']\r\n              }\r\n            }\r\n            //雨水管线图层控制雨水井、雨水箭头、雨水较小层级图层显示\r\n            map.setLayoutProperty(\"rd_map_comb\", \"visibility\", \"none\");\r\n            \r\n            map.setFilter(\"rd_map_manhole\", filter);\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ys_big_direction\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ys_small\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ys_small_direction\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n          } else if (item.id == \"map_supply_pipe_circulating\") {\r\n            //循环水（回水）管线控制循环水（回水）节点显示\r\n            map.setLayoutProperty(\r\n              \"map_supply_node_circulating\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n          } else if (item.id == \"map_supply_pipe_distribute\") {\r\n            //配水管线控制配水节点显示\r\n            map.setLayoutProperty(\r\n              \"map_supply_node_distribute\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n          } else if (item.id == \"map_supply_pipe_delivery\") {\r\n            //输水管线控制输水节点显示\r\n            map.setLayoutProperty(\r\n              \"map_supply_node_delivery\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n          } else if (item.id == \"map_recycle_pipe\") {\r\n            //再生水管线控制再生水节点显示\r\n            map.setLayoutProperty(\r\n              \"map_recycle_node\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n          } else if (item.id == \"rd_map_drainpipe_ws_big\") {\r\n            //污水管线图层控制污水井、污水箭头、污水较小层级图层显示\r\n            let filter = map.getFilter(\"rd_map_manhole\")\r\n            if(filter.toString() == ['all'].toString() || filter.toString() == ['in', 'manhole_type', '污水'].toString()){\r\n              if(map.getLayoutProperty('rd_map_drainpipe_ys_big', 'visibility') == 'none'){\r\n                filter = ['in', 'manhole_type', '']\r\n              }else {\r\n                filter = ['in', 'manhole_type', '雨水']\r\n              }\r\n            }            \r\n            map.setFilter(\"rd_map_manhole\", filter);\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ws_big_direction\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ws_small\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ws_small_direction\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n          }\r\n        } else {          \r\n          map.setLayoutProperty(item.id, \"visibility\", \"visible\");\r\n          if (item.id == \"rd_map_drainpipe_ys_big\") {\r\n            let filter = map.getFilter(\"rd_map_manhole\")\r\n            if(filter.toString() == ['in', 'manhole_type', ''].toString() || filter.toString() == ['in', 'manhole_type', '污水'].toString()){\r\n              if(map.getLayoutProperty('rd_map_drainpipe_ws_big', 'visibility') != 'none'){\r\n                filter = ['all']\r\n              }else {\r\n                filter = ['in', 'manhole_type', '雨水']\r\n              }\r\n            }\r\n            map.setFilter(\"rd_map_manhole\", filter);\r\n            map.setLayoutProperty(\r\n              \"rd_map_comb\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ys_big_direction\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ys_small\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ys_small_direction\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n          } else if (item.id == \"map_supply_pipe_circulating\") {\r\n            map.setLayoutProperty(\r\n              \"map_supply_node_circulating\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n          } else if (item.id == \"map_supply_pipe_distribute\") {\r\n            map.setLayoutProperty(\r\n              \"map_supply_node_distribute\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n          } else if (item.id == \"map_supply_pipe_delivery\") {\r\n            map.setLayoutProperty(\r\n              \"map_supply_node_delivery\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n          } else if (item.id == \"map_recycle_pipe\") {\r\n            map.setLayoutProperty(\r\n              \"map_recycle_node\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n          } else if (item.id == \"rd_map_drainpipe_ws_big\") {\r\n            let filter = map.getFilter(\"rd_map_manhole\")\r\n            if(filter.toString() == ['in', 'manhole_type', ''].toString() || filter.toString() == ['in', 'manhole_type', '雨水'].toString()){\r\n              if(map.getLayoutProperty('rd_map_drainpipe_ys_big', 'visibility') != 'none'){\r\n                filter = ['all']\r\n              }else {\r\n                filter = ['in', 'manhole_type', '污水']\r\n              }\r\n            }            \r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ws_big_direction\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n            map.setFilter(\"rd_map_manhole\", filter);\r\n            map.setLayoutProperty(\r\n              \"rd_map_manhole\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ws_small_direction\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ws_small\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n          }\r\n        }\r\n      }\r\n    },\r\n    async addLayers() {\r\n      let map = window.xaMap;\r\n      let env = process.env.NODE_ENV;\r\n      //底图\r\n      await axios\r\n        .get(\r\n          API.VUE_APP_MAP_REQUEST_URL +\r\n            \"/api/swan/mapWorkshopSource/detail?id=1557650273895288834\"\r\n        )\r\n        .then((res) => {\r\n          let layers = JSON.parse(res.data.data.combineJsonData);\r\n\r\n          Object.keys(layers.sources).forEach((key) => {\r\n            if (env == \"production\") {\r\n              let temp = layers.sources[key].tiles[0];\r\n              temp = temp.replaceAll(\"172.23.0.123:8008\", \"xasw.hdec.com\");\r\n              layers.sources[key].tiles[0] = temp;\r\n            }\r\n            map.addSource(key, layers.sources[key]);\r\n          });\r\n          layers.layers.forEach((layer) => {\r\n            if (!layer.layout || layer.layout.visibility == \"visible\") {\r\n              this.defaultBaseLayers.push(layer); //控制地图显隐\r\n            }\r\n            map.addLayer(layer, 'empty1');\r\n          });\r\n          this.$emit(\"getDefaultBaseLayers\", this.defaultBaseLayers);\r\n        })\r\n        .catch((e) => {})\r\n        .finally(() => {});\r\n      //管线\r\n      await axios\r\n        .get(\r\n          API.VUE_APP_MAP_REQUEST_URL +\r\n            \"/api/swan/mapWorkshopSource/detail?id=1548573412963749889\"\r\n        )\r\n        .then((res) => {\r\n          let layers = JSON.parse(res.data.data.jsonData);\r\n\r\n          Object.keys(layers.sources).forEach((key) => {\r\n            if (env == \"production\") {\r\n              let temp = layers.sources[key].tiles[0];\r\n              temp = temp.replaceAll(\"172.23.0.123:8008\", \"xasw.hdec.com\");\r\n              layers.sources[key].tiles[0] = temp;\r\n            }\r\n            map.addSource(key, layers.sources[key]);\r\n          });\r\n          layers.layers.forEach((layer) => {\r\n            map.addLayer(layer, 'empty1');\r\n            //图层移入移除以及点击事件\r\n            map.on(\"mouseenter\", layer.id, this.handleLayerEnter);\r\n            map.on(\"mouseout\", layer.id, this.handleLayerLeave);\r\n            map.on(\"click\", layer.id, this.handleLayerClick); \r\n          });\r\n        })\r\n        .catch((e) => {})\r\n        .finally(() => {});\r\n    },\r\n    handleLayerEnter(e) {\r\n      this.$emit(\"handleLayerEnter\", e);\r\n    },\r\n    handleLayerLeave(e) {\r\n      this.$emit(\"handleLayerLeave\", e);\r\n    },\r\n    handleLayerClick(e) {\r\n      this.$emit(\"handleLayerClick\", e);\r\n    },\r\n    /**添加所有的底图 */\r\n    addAllBaseMap() {\r\n      let map = window.xaMap;\r\n      let sources = layerControl.defaultSource;\r\n      let layers = layerControl.defaultLayers;\r\n      this.$emit(\"getBaseLayerObject\", layers);\r\n      Object.keys(sources).forEach((key) => {\r\n        map.addSource(key, sources[key]);\r\n      });\r\n      layers.forEach((layer) => {\r\n        map.addLayer(layer, 'empty');\r\n      });\r\n    },     \r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.xa-map {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>"]}]}