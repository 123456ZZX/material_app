{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\components\\xa-map\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\components\\xa-map\\index.vue","mtime":1708928163330},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgKiBhcyB0dXJmIGZyb20gJ0B0dXJmL3R1cmYnDQppbXBvcnQgeyBUb2FzdCwgRGlhbG9nIH0gZnJvbSAnZmF3a2VzLW1vYmlsZS1saWInDQppbXBvcnQgTWFwSW5pdCBmcm9tICIuL21hcEluaXQiOw0KaW1wb3J0IGxheWVyQ29udHJvbCBmcm9tICIuL2xheWVyQ29udHJvbC5qcyI7DQppbXBvcnQgQVBJIGZyb20gJ0AvY29tbW9uL2NvbmZpZy5qcyc7DQppbXBvcnQgbWFwYm94Z2wgZnJvbSAibWFwYm94LWdsIjsNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQppbXBvcnQgeyBsZWdlbmRMaXN0SW1wb3J0IH0gZnJvbSAiLi9sZWdlbmRMaXN0LmpzIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1hhTWFwJywNCiAgcHJvcHM6IHsNCiAgICBjcmVhdGU6IHsNCiAgICAgIHR5cGU6IEZ1bmN0aW9uLA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuICgpID0+IHt9DQogICAgICB9LA0KICAgIH0sDQogICAgbGVnZW5kQ29uZmlnOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIHJldHVybiBbXTsNCiAgICAgIH0sDQogICAgfSwNCiAgICBsZWdlbmRMaXN0OiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIHJldHVybiBsZWdlbmRMaXN0SW1wb3J0DQogICAgICB9DQogICAgfSwgICAgDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRlZmF1bHRCYXNlTGF5ZXJzOltdDQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIGxlZ2VuZENvbmZpZzogew0KICAgICAgaGFuZGxlcihuZXdWYWwpIHsNCiAgICAgICAgdGhpcy5jaGFuZ2VMZWdlbmQoKQ0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUNCiAgICB9DQogIH0sICANCiAgYXN5bmMgbW91bnRlZCgpIHsNCiAgICB3aW5kb3cudHVyZiA9IHR1cmYNCiAgICB3aW5kb3cueGFNYXAgPSAnJw0KICAgIHdpbmRvdy54YU1hcEJ1aWxkZXIgPSAnJw0KICAgIGxldCBvcHRpb25zID0gew0KICAgICAgc3R5bGU6IHsNCiAgICAgICAgdmVyc2lvbjogOCwNCiAgICAgICAgcGl0Y2g6IDAsDQogICAgICAgIHpvb206IDEzLjU3MDUzMjM2MDU3NzY1NSwNCiAgICAgICAgY2VudGVyOiBbMTE1LjkyNDg2MTAxMzY5NDI4LCAzOS4wNjA3NTU0OTU4OTA3M10sDQogICAgICAgIGdseXBoczoNCiAgICAgICAgICBBUEkuVlVFX0FQUF9NQVBfVVJMICsgJy9tYXBib3hTb3VyY2UvZm9udHMve2ZvbnRzdGFja30ve3JhbmdlfS5wYmYnLA0KICAgICAgICBzcHJpdGU6IEFQSS5WVUVfQVBQX01BUF9VUkwgKyAnL21hcGJveFNvdXJjZS9zcHJpdGVzL3Nwcml0ZScsDQogICAgICAgIHNvdXJjZXM6IHt9LA0KICAgICAgICBsYXllcnM6IFt7DQogICAgICAgICAgaWQ6ICdlbXB0eScsDQogICAgICAgICAgdHlwZTogImJhY2tncm91bmQiLA0KICAgICAgICAgIGxheW91dDogew0KICAgICAgICAgICAgdmlzaWJpbGl0eTogIm5vbmUiDQogICAgICAgICAgfQ0KICAgICAgICB9LHsNCiAgICAgICAgICBpZDogJ2VtcHR5MScsDQogICAgICAgICAgdHlwZTogImJhY2tncm91bmQiLA0KICAgICAgICAgIGxheW91dDogew0KICAgICAgICAgICAgdmlzaWJpbGl0eTogIm5vbmUiDQogICAgICAgICAgfQ0KICAgICAgICB9LHsNCiAgICAgICAgICBpZDogJ2VtcHR5MicsDQogICAgICAgICAgdHlwZTogImJhY2tncm91bmQiLA0KICAgICAgICAgIGxheW91dDogew0KICAgICAgICAgICAgdmlzaWJpbGl0eTogIm5vbmUiDQogICAgICAgICAgfQ0KICAgICAgICB9XSwNCiAgICAgIH0sDQogICAgfQ0KICAgIG1hcGJveGdsLmFjY2Vzc1Rva2VuID0NCiAgICAgICdway5leUoxSWpvaU9UTTBNRGswTWpnMklpd2lZU0k2SW1Oc01uTm1kbVZyWkRCclpHTXpaRzUwY0hKdWRYSmtiVzhpZlEuQzB3S2hKZ3JUb0ZKZ0w4R0g1TThyZycNCiAgICBjb25zdCBtYXBCdWlsZGVyID0gKHdpbmRvdy54YU1hcEJ1aWxkZXIgPSBuZXcgTWFwSW5pdCh7DQogICAgICBjb250YWluZXI6ICdtYXAnLA0KICAgICAgb3B0aW9uczogb3B0aW9ucywNCiAgICAgIGNlbnRlcjogWzExNS45MjQ4NjEwMTM2OTQyOCwgMzkuMDYwNzU1NDk1ODkwNzNdLA0KICAgIH0pKQ0KICAgIHdpbmRvdy54YU1hcCA9IG1hcEJ1aWxkZXIubWFwDQogICAgY29uc3QgbWFwID0gbWFwQnVpbGRlci5tYXANCg0KICAgIC8v5Y676ZmkbWFwYm9455qEbG9nbw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21hcGJveGdsLWN0cmwtbG9nbycpWzBdLnN0eWxlLmRpc3BsYXkgPQ0KICAgICAgJ25vbmUnDQoNCiAgICBtYXAub24oJ2xvYWQnLCBhc3luYyAoKSA9PiB7DQogICAgICAvKirmt7vliqDmiYDmnInlupXlm77vvIzkuI3lvbHlk41tYXBib3jliJ3lp4vljJbml7bpl7QgKi8NCiAgICAgIGF3YWl0IHRoaXMuYWRkQWxsQmFzZU1hcCgpDQoNCiAgICAgIC8qKua3u+WKoOaJgOacieWbvuWxgiAqLw0KICAgICAgYXdhaXQgdGhpcy5hZGRMYXllcnMoKTsNCg0KICAgICAgLyoq55So5oi36Ieq5a6a5LmJ5LqL5Lu2ICovDQogICAgICB0aGlzLmNyZWF0ZSgpDQogICAgfSkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOivpeaWueazleeUqOS6juaOp+WItuWbvuS+i+WvueW6lOWbvuWxgueahOaYvuekuumakOiXj++8jOWPquWcqOWcsOWbvuWIneWni+WMluaXtuiwg+eUqOS4gOasoe+8jOWboOS4uiBsZWdlbmRDb25maWcg5piv5Zyo5Zyw5Zu+5Yid5aeL5YyW5pe25Lyg5YWl55qEDQogICAgY2hhbmdlTGVnZW5kKCkgew0KICAgICAgaWYodGhpcy5sZWdlbmRDb25maWcgJiYgdGhpcy5sZWdlbmRDb25maWcubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLmxlZ2VuZENvbmZpZy5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgICAgdGhpcy5sZWdlbmRMaXN0LmZvckVhY2goKGxlZ2VuZCkgPT4gew0KICAgICAgICAgICAgLy/mjqfliLbkuIDnuqflm77lsYINCiAgICAgICAgICAgIGlmIChpdGVtLmxhYmVsID09IGxlZ2VuZC5sYWJlbCkgew0KICAgICAgICAgICAgICBsZWdlbmQudGl0bGVTdGF0dXMgPSBpdGVtLmNsaWNrRmxhZzsNCiAgICAgICAgICAgICAgLy8gDQogICAgICAgICAgICAgIGxlZ2VuZC5vcHRpb25zLmZvckVhY2goKHNtYWxsSXRlbSkgPT4gew0KICAgICAgICAgICAgICAgIC8vIOW9k+ivpeagh+mimOS4i+WbvuWxguWGheWuueS4uuaYvuekuueKtuaAgeaXtuaJjei/m+WFpeWIpOaWrQ0KICAgICAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICAgIGxlZ2VuZC50aXRsZVN0YXR1cyA9PT0gdHJ1ZSAmJg0KICAgICAgICAgICAgICAgICAgdHlwZW9mIHNtYWxsSXRlbS5pZCA9PSAibnVtYmVyIg0KICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIFRvYXN0LmluZm8oew0KICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNtYWxsSXRlbS5sYWJlbCArICLlm77lsYLmmoLml6DmlbDmja7vvIEiLA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgIH0sIDApOw0KICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAobGVnZW5kLnRpdGxlU3RhdHVzID09PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgICAvLyDmoIfpopjnirbmgIHngrnkuq7ml7YNCiAgICAgICAgICAgICAgICAgIHNtYWxsSXRlbS5jbGlja0ZsYWcgPSBmYWxzZTsgLy8g5Zu+5bGC5Z2H5pi+56S6DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgIHNtYWxsSXRlbS5jbGlja0ZsYWcgPSB0cnVlOyAvLyDlm77lsYLlnYfpmpDol48NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5sZWdlbmRDb250cm9sTGF5ZXIoc21hbGxJdGVtKTsNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgIGxlZ2VuZC5vcHRpb25zLmZvckVhY2goc21hbGxJdGVtID0+IHsNCiAgICAgICAgICAgICAgICBpZihpdGVtLmxhYmVsID09IHNtYWxsSXRlbS5sYWJlbCkgew0KICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHNtYWxsSXRlbSwgJ2NsaWNrRmxhZycsIGl0ZW0uY2xpY2tGbGFnKQ0KICAgICAgICAgICAgICAgICAgdGhpcy5sZWdlbmRDb250cm9sTGF5ZXIoc21hbGxJdGVtKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGxlZ2VuZENvbnRyb2xMYXllcihpdGVtKSB7DQogICAgICBsZXQgbWFwID0gd2luZG93LnhhTWFwDQogICAgICAvLyBpZiAoaXRlbS5jbGlja0ZsYWcpIHsNCiAgICAgIC8vICAgaWYoaXRlbS5pZCA9PSAi5Y6L5Yqb55uR5rWLKOS+mykqIil7DQogICAgICAvLyAgICAgbGV0IGRvbUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJwcmVzc3VyZS1zdXBwbHkiKQ0KICAgICAgLy8gICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZG9tTGlzdCwgKGRvbSkgPT4gew0KICAgICAgLy8gICAgICAgZG9tLnN0eWxlLmRpc3BsYXkgPSAibm9uZSINCiAgICAgIC8vICAgICB9KQ0KICAgICAgLy8gICB9ZWxzZSBpZihpdGVtLmlkID09ICLljovlipvnm5HmtYso5YaN55SfKSoiKSB7DQogICAgICAvLyAgICAgbGV0IGRvbUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJwcmVzc3VyZS1yZWN5Y2xlIikNCiAgICAgIC8vICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGRvbUxpc3QsIChkb20pID0+IHsNCiAgICAgIC8vICAgICAgIGRvbS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiDQogICAgICAvLyAgICAgfSkNCiAgICAgIC8vICAgfWVsc2UgaWYoaXRlbS5pZCA9PSAi5rWB6YeP6K6hKOS+mykqIikgew0KICAgICAgLy8gICAgIGxldCBkb21MaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZmxvdy1zdXBwbHkiKQ0KICAgICAgLy8gICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZG9tTGlzdCwgKGRvbSkgPT4gew0KICAgICAgLy8gICAgICAgZG9tLnN0eWxlLmRpc3BsYXkgPSAibm9uZSINCiAgICAgIC8vICAgICB9KQ0KICAgICAgLy8gICB9ZWxzZSBpZihpdGVtLmlkID09ICLmtYHph4/orqEo5YaN55SfKSoiKSB7DQogICAgICAvLyAgICAgbGV0IGRvbUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJmbG93LXJlY3ljbGUiKQ0KICAgICAgLy8gICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZG9tTGlzdCwgKGRvbSkgPT4gew0KICAgICAgLy8gICAgICAgZG9tLnN0eWxlLmRpc3BsYXkgPSAibm9uZSINCiAgICAgIC8vICAgICB9KQ0KICAgICAgLy8gICB9DQogICAgICAvLyB9ZWxzZSB7DQogICAgICAvLyAgIGlmKGl0ZW0uaWQgPT0gIuWOi+WKm+ebkea1iyjkvpspKiIpew0KICAgICAgLy8gICAgIGxldCBkb21MaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgicHJlc3N1cmUtc3VwcGx5IikNCiAgICAgIC8vICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGRvbUxpc3QsIChkb20pID0+IHsNCiAgICAgIC8vICAgICAgIGRvbS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIg0KICAgICAgLy8gICAgIH0pDQogICAgICAvLyAgIH1lbHNlIGlmKGl0ZW0uaWQgPT0gIuWOi+WKm+ebkea1iyjlho3nlJ8pKiIpIHsNCiAgICAgIC8vICAgICBsZXQgZG9tTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInByZXNzdXJlLXJlY3ljbGUiKQ0KICAgICAgLy8gICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZG9tTGlzdCwgKGRvbSkgPT4gew0KICAgICAgLy8gICAgICAgZG9tLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siDQogICAgICAvLyAgICAgfSkNCiAgICAgIC8vICAgfWVsc2UgaWYoaXRlbS5pZCA9PSAi5rWB6YeP6K6hKOS+mykqIikgew0KICAgICAgLy8gICAgIGxldCBkb21MaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZmxvdy1zdXBwbHkiKQ0KICAgICAgLy8gICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZG9tTGlzdCwgKGRvbSkgPT4gew0KICAgICAgLy8gICAgICAgZG9tLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siDQogICAgICAvLyAgICAgfSkNCiAgICAgIC8vICAgfWVsc2UgaWYoaXRlbS5pZCA9PSAi5rWB6YeP6K6hKOWGjeeUnykqIikgew0KICAgICAgLy8gICAgIGxldCBkb21MaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZmxvdy1yZWN5Y2xlIikNCiAgICAgIC8vICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGRvbUxpc3QsIChkb20pID0+IHsNCiAgICAgIC8vICAgICAgIGRvbS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIg0KICAgICAgLy8gICAgIH0pDQogICAgICAvLyAgIH0NCiAgICAgIC8vIH0NCiAgICAgIGlmIChtYXAuZ2V0TGF5ZXIoaXRlbS5pZCkpIHsNCiAgICAgICAgaWYgKGl0ZW0uY2xpY2tGbGFnKSB7DQogICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KGl0ZW0uaWQsICJ2aXNpYmlsaXR5IiwgIm5vbmUiKTsNCiAgICAgICAgICBpZiAoaXRlbS5pZCA9PSAicmRfbWFwX2RyYWlucGlwZV95c19iaWciKSB7DQogICAgICAgICAgICBsZXQgZmlsdGVyID0gbWFwLmdldEZpbHRlcigicmRfbWFwX21hbmhvbGUiKQ0KICAgICAgICAgICAgaWYoZmlsdGVyLnRvU3RyaW5nKCkgPT0gWydhbGwnXS50b1N0cmluZygpIHx8IGZpbHRlci50b1N0cmluZygpID09IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJ+mbqOawtCddLnRvU3RyaW5nKCkpew0KICAgICAgICAgICAgICBpZihtYXAuZ2V0TGF5b3V0UHJvcGVydHkoJ3JkX21hcF9kcmFpbnBpcGVfd3NfYmlnJywgJ3Zpc2liaWxpdHknKSA9PSAnbm9uZScpew0KICAgICAgICAgICAgICAgIGZpbHRlciA9IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJyddDQogICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICBmaWx0ZXIgPSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICfmsaHmsLQnXQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvL+mbqOawtOeuoee6v+WbvuWxguaOp+WItumbqOawtOS6leOAgembqOawtOeureWktOOAgembqOawtOi+g+Wwj+Wxgue6p+WbvuWxguaYvuekug0KICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCJyZF9tYXBfY29tYiIsICJ2aXNpYmlsaXR5IiwgIm5vbmUiKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgbWFwLnNldEZpbHRlcigicmRfbWFwX21hbmhvbGUiLCBmaWx0ZXIpOw0KICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KA0KICAgICAgICAgICAgICAicmRfbWFwX2RyYWlucGlwZV95c19iaWdfZGlyZWN0aW9uIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAibm9uZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJyZF9tYXBfZHJhaW5waXBlX3lzX3NtYWxsIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAibm9uZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJyZF9tYXBfZHJhaW5waXBlX3lzX3NtYWxsX2RpcmVjdGlvbiIsDQogICAgICAgICAgICAgICJ2aXNpYmlsaXR5IiwNCiAgICAgICAgICAgICAgIm5vbmUiDQogICAgICAgICAgICApOw0KICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAibWFwX3N1cHBseV9waXBlX2NpcmN1bGF0aW5nIikgew0KICAgICAgICAgICAgLy/lvqrnjq/msLTvvIjlm57msLTvvInnrqHnur/mjqfliLblvqrnjq/msLTvvIjlm57msLTvvInoioLngrnmmL7npLoNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgIm1hcF9zdXBwbHlfbm9kZV9jaXJjdWxhdGluZyIsDQogICAgICAgICAgICAgICJ2aXNpYmlsaXR5IiwNCiAgICAgICAgICAgICAgIm5vbmUiDQogICAgICAgICAgICApOw0KICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAibWFwX3N1cHBseV9waXBlX2Rpc3RyaWJ1dGUiKSB7DQogICAgICAgICAgICAvL+mFjeawtOeuoee6v+aOp+WItumFjeawtOiKgueCueaYvuekug0KICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KA0KICAgICAgICAgICAgICAibWFwX3N1cHBseV9ub2RlX2Rpc3RyaWJ1dGUiLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJub25lIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gIm1hcF9zdXBwbHlfcGlwZV9kZWxpdmVyeSIpIHsNCiAgICAgICAgICAgIC8v6L6T5rC0566h57q/5o6n5Yi26L6T5rC06IqC54K55pi+56S6DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJtYXBfc3VwcGx5X25vZGVfZGVsaXZlcnkiLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJub25lIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gIm1hcF9yZWN5Y2xlX3BpcGUiKSB7DQogICAgICAgICAgICAvL+WGjeeUn+awtOeuoee6v+aOp+WItuWGjeeUn+awtOiKgueCueaYvuekug0KICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KA0KICAgICAgICAgICAgICAibWFwX3JlY3ljbGVfbm9kZSIsDQogICAgICAgICAgICAgICJ2aXNpYmlsaXR5IiwNCiAgICAgICAgICAgICAgIm5vbmUiDQogICAgICAgICAgICApOw0KICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAicmRfbWFwX2RyYWlucGlwZV93c19iaWciKSB7DQogICAgICAgICAgICAvL+axoeawtOeuoee6v+WbvuWxguaOp+WItuaxoeawtOS6leOAgeaxoeawtOeureWktOOAgeaxoeawtOi+g+Wwj+Wxgue6p+WbvuWxguaYvuekug0KICAgICAgICAgICAgbGV0IGZpbHRlciA9IG1hcC5nZXRGaWx0ZXIoInJkX21hcF9tYW5ob2xlIikNCiAgICAgICAgICAgIGlmKGZpbHRlci50b1N0cmluZygpID09IFsnYWxsJ10udG9TdHJpbmcoKSB8fCBmaWx0ZXIudG9TdHJpbmcoKSA9PSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICfmsaHmsLQnXS50b1N0cmluZygpKXsNCiAgICAgICAgICAgICAgaWYobWFwLmdldExheW91dFByb3BlcnR5KCdyZF9tYXBfZHJhaW5waXBlX3lzX2JpZycsICd2aXNpYmlsaXR5JykgPT0gJ25vbmUnKXsNCiAgICAgICAgICAgICAgICBmaWx0ZXIgPSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICcnXQ0KICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgZmlsdGVyID0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAn6Zuo5rC0J10NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSAgICAgICAgICAgIA0KICAgICAgICAgICAgbWFwLnNldEZpbHRlcigicmRfbWFwX21hbmhvbGUiLCBmaWx0ZXIpOw0KICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KA0KICAgICAgICAgICAgICAicmRfbWFwX2RyYWlucGlwZV93c19iaWdfZGlyZWN0aW9uIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAibm9uZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJyZF9tYXBfZHJhaW5waXBlX3dzX3NtYWxsIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAibm9uZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJyZF9tYXBfZHJhaW5waXBlX3dzX3NtYWxsX2RpcmVjdGlvbiIsDQogICAgICAgICAgICAgICJ2aXNpYmlsaXR5IiwNCiAgICAgICAgICAgICAgIm5vbmUiDQogICAgICAgICAgICApOw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsgICAgICAgICAgDQogICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KGl0ZW0uaWQsICJ2aXNpYmlsaXR5IiwgInZpc2libGUiKTsNCiAgICAgICAgICBpZiAoaXRlbS5pZCA9PSAicmRfbWFwX2RyYWlucGlwZV95c19iaWciKSB7DQogICAgICAgICAgICBsZXQgZmlsdGVyID0gbWFwLmdldEZpbHRlcigicmRfbWFwX21hbmhvbGUiKQ0KICAgICAgICAgICAgaWYoZmlsdGVyLnRvU3RyaW5nKCkgPT0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAnJ10udG9TdHJpbmcoKSB8fCBmaWx0ZXIudG9TdHJpbmcoKSA9PSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICfmsaHmsLQnXS50b1N0cmluZygpKXsNCiAgICAgICAgICAgICAgaWYobWFwLmdldExheW91dFByb3BlcnR5KCdyZF9tYXBfZHJhaW5waXBlX3dzX2JpZycsICd2aXNpYmlsaXR5JykgIT0gJ25vbmUnKXsNCiAgICAgICAgICAgICAgICBmaWx0ZXIgPSBbJ2FsbCddDQogICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICBmaWx0ZXIgPSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICfpm6jmsLQnXQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBtYXAuc2V0RmlsdGVyKCJyZF9tYXBfbWFuaG9sZSIsIGZpbHRlcik7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJyZF9tYXBfY29tYiIsDQogICAgICAgICAgICAgICJ2aXNpYmlsaXR5IiwNCiAgICAgICAgICAgICAgInZpc2libGUiDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KA0KICAgICAgICAgICAgICAicmRfbWFwX2RyYWlucGlwZV95c19iaWdfZGlyZWN0aW9uIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAidmlzaWJsZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJyZF9tYXBfZHJhaW5waXBlX3lzX3NtYWxsIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAidmlzaWJsZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJyZF9tYXBfZHJhaW5waXBlX3lzX3NtYWxsX2RpcmVjdGlvbiIsDQogICAgICAgICAgICAgICJ2aXNpYmlsaXR5IiwNCiAgICAgICAgICAgICAgInZpc2libGUiDQogICAgICAgICAgICApOw0KICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAibWFwX3N1cHBseV9waXBlX2NpcmN1bGF0aW5nIikgew0KICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KA0KICAgICAgICAgICAgICAibWFwX3N1cHBseV9ub2RlX2NpcmN1bGF0aW5nIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAidmlzaWJsZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlkID09ICJtYXBfc3VwcGx5X3BpcGVfZGlzdHJpYnV0ZSIpIHsNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgIm1hcF9zdXBwbHlfbm9kZV9kaXN0cmlidXRlIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAidmlzaWJsZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlkID09ICJtYXBfc3VwcGx5X3BpcGVfZGVsaXZlcnkiKSB7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJtYXBfc3VwcGx5X25vZGVfZGVsaXZlcnkiLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJ2aXNpYmxlIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gIm1hcF9yZWN5Y2xlX3BpcGUiKSB7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJtYXBfcmVjeWNsZV9ub2RlIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAidmlzaWJsZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlkID09ICJyZF9tYXBfZHJhaW5waXBlX3dzX2JpZyIpIHsNCiAgICAgICAgICAgIGxldCBmaWx0ZXIgPSBtYXAuZ2V0RmlsdGVyKCJyZF9tYXBfbWFuaG9sZSIpDQogICAgICAgICAgICBpZihmaWx0ZXIudG9TdHJpbmcoKSA9PSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICcnXS50b1N0cmluZygpIHx8IGZpbHRlci50b1N0cmluZygpID09IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJ+mbqOawtCddLnRvU3RyaW5nKCkpew0KICAgICAgICAgICAgICBpZihtYXAuZ2V0TGF5b3V0UHJvcGVydHkoJ3JkX21hcF9kcmFpbnBpcGVfeXNfYmlnJywgJ3Zpc2liaWxpdHknKSAhPSAnbm9uZScpew0KICAgICAgICAgICAgICAgIGZpbHRlciA9IFsnYWxsJ10NCiAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgIGZpbHRlciA9IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJ+axoeawtCddDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gICAgICAgICAgICANCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgInJkX21hcF9kcmFpbnBpcGVfd3NfYmlnX2RpcmVjdGlvbiIsDQogICAgICAgICAgICAgICJ2aXNpYmlsaXR5IiwNCiAgICAgICAgICAgICAgInZpc2libGUiDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgbWFwLnNldEZpbHRlcigicmRfbWFwX21hbmhvbGUiLCBmaWx0ZXIpOw0KICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KA0KICAgICAgICAgICAgICAicmRfbWFwX21hbmhvbGUiLA0KICAgICAgICAgICAgICAidmlzaWJpbGl0eSIsDQogICAgICAgICAgICAgICJ2aXNpYmxlIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgNCiAgICAgICAgICAgICAgInJkX21hcF9kcmFpbnBpcGVfd3Nfc21hbGxfZGlyZWN0aW9uIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAidmlzaWJsZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoDQogICAgICAgICAgICAgICJyZF9tYXBfZHJhaW5waXBlX3dzX3NtYWxsIiwNCiAgICAgICAgICAgICAgInZpc2liaWxpdHkiLA0KICAgICAgICAgICAgICAidmlzaWJsZSINCiAgICAgICAgICAgICk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBhZGRMYXllcnMoKSB7DQogICAgICBsZXQgbWFwID0gd2luZG93LnhhTWFwOw0KICAgICAgbGV0IGVudiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WOw0KICAgICAgLy/lupXlm74NCiAgICAgIGF3YWl0IGF4aW9zDQogICAgICAgIC5nZXQoDQogICAgICAgICAgQVBJLlZVRV9BUFBfTUFQX1JFUVVFU1RfVVJMICsNCiAgICAgICAgICAgICIvYXBpL3N3YW4vbWFwV29ya3Nob3BTb3VyY2UvZGV0YWlsP2lkPTE1NTc2NTAyNzM4OTUyODg4MzQiDQogICAgICAgICkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGxldCBsYXllcnMgPSBKU09OLnBhcnNlKHJlcy5kYXRhLmRhdGEuY29tYmluZUpzb25EYXRhKTsNCg0KICAgICAgICAgIE9iamVjdC5rZXlzKGxheWVycy5zb3VyY2VzKS5mb3JFYWNoKChrZXkpID0+IHsNCiAgICAgICAgICAgIC8vIGlmIChlbnYgPT0gInByb2R1Y3Rpb24iKSB7DQogICAgICAgICAgICAgIGxldCB0ZW1wID0gbGF5ZXJzLnNvdXJjZXNba2V5XS50aWxlc1swXTsNCiAgICAgICAgICAgICAgLy8gdGVtcCA9IHRlbXAucmVwbGFjZUFsbCgiMTcyLjIzLjAuMTIzOjgwMDgiLCAieGFzdy5oZGVjLmNvbSIpOw0KICAgICAgICAgICAgICB0ZW1wID0gdGVtcC5yZXBsYWNlQWxsKCIxNzIuMTcuMTQyLjEzNjo4MDA4IiwgInN3LmNoaW5heGlvbmdhbi5jbiIpOw0KICAgICAgICAgICAgICBsYXllcnMuc291cmNlc1trZXldLnRpbGVzWzBdID0gdGVtcDsNCiAgICAgICAgICAgIC8vIH0NCiAgICAgICAgICAgIG1hcC5hZGRTb3VyY2Uoa2V5LCBsYXllcnMuc291cmNlc1trZXldKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgICBsYXllcnMubGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7DQogICAgICAgICAgICBpZiAoIWxheWVyLmxheW91dCB8fCBsYXllci5sYXlvdXQudmlzaWJpbGl0eSA9PSAidmlzaWJsZSIpIHsNCiAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0QmFzZUxheWVycy5wdXNoKGxheWVyKTsgLy/mjqfliLblnLDlm77mmL7pmpANCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG1hcC5hZGRMYXllcihsYXllciwgJ2VtcHR5MScpOw0KICAgICAgICAgIH0pOw0KICAgICAgICAgIHRoaXMuJGVtaXQoImdldERlZmF1bHRCYXNlTGF5ZXJzIiwgdGhpcy5kZWZhdWx0QmFzZUxheWVycyk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZSkgPT4ge30pDQogICAgICAgIC5maW5hbGx5KCgpID0+IHt9KTsNCiAgICAgIC8v566h57q/DQogICAgICBhd2FpdCBheGlvcw0KICAgICAgICAuZ2V0KA0KICAgICAgICAgIEFQSS5WVUVfQVBQX01BUF9SRVFVRVNUX1VSTCArDQogICAgICAgICAgICAiL2FwaS9zd2FuL21hcFdvcmtzaG9wU291cmNlL2RldGFpbD9pZD0xNTQ4NTczNDEyOTYzNzQ5ODg5Ig0KICAgICAgICApDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBsZXQgbGF5ZXJzID0gSlNPTi5wYXJzZShyZXMuZGF0YS5kYXRhLmpzb25EYXRhKTsNCg0KICAgICAgICAgIE9iamVjdC5rZXlzKGxheWVycy5zb3VyY2VzKS5mb3JFYWNoKChrZXkpID0+IHsNCiAgICAgICAgICAgIC8vIGlmIChlbnYgPT0gInByb2R1Y3Rpb24iKSB7DQogICAgICAgICAgICAgIGxldCB0ZW1wID0gbGF5ZXJzLnNvdXJjZXNba2V5XS50aWxlc1swXTsNCiAgICAgICAgICAgICAgLy8gdGVtcCA9IHRlbXAucmVwbGFjZUFsbCgiMTcyLjIzLjAuMTIzOjgwMDgiLCAieGFzdy5oZGVjLmNvbSIpOw0KICAgICAgICAgICAgICB0ZW1wID0gdGVtcC5yZXBsYWNlQWxsKCIxNzIuMTcuMTQyLjEzNjo4MDA4IiwgInN3LmNoaW5heGlvbmdhbi5jbiIpOw0KICAgICAgICAgICAgICBsYXllcnMuc291cmNlc1trZXldLnRpbGVzWzBdID0gdGVtcDsNCiAgICAgICAgICAgIC8vIH0NCiAgICAgICAgICAgIG1hcC5hZGRTb3VyY2Uoa2V5LCBsYXllcnMuc291cmNlc1trZXldKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgICBsYXllcnMubGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7DQogICAgICAgICAgICBtYXAuYWRkTGF5ZXIobGF5ZXIsICdlbXB0eTEnKTsNCiAgICAgICAgICAgIC8v5Zu+5bGC56e75YWl56e76Zmk5Lul5Y+K54K55Ye75LqL5Lu2DQogICAgICAgICAgICBtYXAub24oIm1vdXNlZW50ZXIiLCBsYXllci5pZCwgdGhpcy5oYW5kbGVMYXllckVudGVyKTsNCiAgICAgICAgICAgIG1hcC5vbigibW91c2VvdXQiLCBsYXllci5pZCwgdGhpcy5oYW5kbGVMYXllckxlYXZlKTsNCiAgICAgICAgICAgIG1hcC5vbigiY2xpY2siLCBsYXllci5pZCwgdGhpcy5oYW5kbGVMYXllckNsaWNrKTsgDQogICAgICAgICAgfSk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZSkgPT4ge30pDQogICAgICAgIC5maW5hbGx5KCgpID0+IHt9KTsNCiAgICB9LA0KICAgIGhhbmRsZUxheWVyRW50ZXIoZSkgew0KICAgICAgdGhpcy4kZW1pdCgiaGFuZGxlTGF5ZXJFbnRlciIsIGUpOw0KICAgIH0sDQogICAgaGFuZGxlTGF5ZXJMZWF2ZShlKSB7DQogICAgICB0aGlzLiRlbWl0KCJoYW5kbGVMYXllckxlYXZlIiwgZSk7DQogICAgfSwNCiAgICBoYW5kbGVMYXllckNsaWNrKGUpIHsNCiAgICAgIHRoaXMuJGVtaXQoImhhbmRsZUxheWVyQ2xpY2siLCBlKTsNCiAgICB9LA0KICAgIC8qKua3u+WKoOaJgOacieeahOW6leWbviAqLw0KICAgIGFkZEFsbEJhc2VNYXAoKSB7DQogICAgICBsZXQgbWFwID0gd2luZG93LnhhTWFwOw0KICAgICAgbGV0IHNvdXJjZXMgPSBsYXllckNvbnRyb2wuZGVmYXVsdFNvdXJjZTsNCiAgICAgIGxldCBsYXllcnMgPSBsYXllckNvbnRyb2wuZGVmYXVsdExheWVyczsNCiAgICAgIHRoaXMuJGVtaXQoImdldEJhc2VMYXllck9iamVjdCIsIGxheWVycyk7DQogICAgICBPYmplY3Qua2V5cyhzb3VyY2VzKS5mb3JFYWNoKChrZXkpID0+IHsNCiAgICAgICAgbWFwLmFkZFNvdXJjZShrZXksIHNvdXJjZXNba2V5XSk7DQogICAgICB9KTsNCiAgICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4gew0KICAgICAgICBtYXAuYWRkTGF5ZXIobGF5ZXIsICdlbXB0eScpOw0KICAgICAgfSk7DQogICAgfSwgICAgIA0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/xa-map","sourcesContent":["<template>\r\n  <div class=\"xa-map\" id=\"map\"></div>\r\n</template>\r\n\r\n<script>\r\nimport * as turf from '@turf/turf'\r\nimport { Toast, Dialog } from 'fawkes-mobile-lib'\r\nimport MapInit from \"./mapInit\";\r\nimport layerControl from \"./layerControl.js\";\r\nimport API from '@/common/config.js';\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport axios from \"axios\";\r\nimport { legendListImport } from \"./legendList.js\";\r\nexport default {\r\n  name: 'XaMap',\r\n  props: {\r\n    create: {\r\n      type: Function,\r\n      default() {\r\n        return () => {}\r\n      },\r\n    },\r\n    legendConfig: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    legendList: {\r\n      type: Array,\r\n      default() {\r\n        return legendListImport\r\n      }\r\n    },    \r\n  },\r\n  data() {\r\n    return {\r\n      defaultBaseLayers:[]\r\n    }\r\n  },\r\n  watch: {\r\n    legendConfig: {\r\n      handler(newVal) {\r\n        this.changeLegend()\r\n      },\r\n      deep: true\r\n    }\r\n  },  \r\n  async mounted() {\r\n    window.turf = turf\r\n    window.xaMap = ''\r\n    window.xaMapBuilder = ''\r\n    let options = {\r\n      style: {\r\n        version: 8,\r\n        pitch: 0,\r\n        zoom: 13.570532360577655,\r\n        center: [115.92486101369428, 39.06075549589073],\r\n        glyphs:\r\n          API.VUE_APP_MAP_URL + '/mapboxSource/fonts/{fontstack}/{range}.pbf',\r\n        sprite: API.VUE_APP_MAP_URL + '/mapboxSource/sprites/sprite',\r\n        sources: {},\r\n        layers: [{\r\n          id: 'empty',\r\n          type: \"background\",\r\n          layout: {\r\n            visibility: \"none\"\r\n          }\r\n        },{\r\n          id: 'empty1',\r\n          type: \"background\",\r\n          layout: {\r\n            visibility: \"none\"\r\n          }\r\n        },{\r\n          id: 'empty2',\r\n          type: \"background\",\r\n          layout: {\r\n            visibility: \"none\"\r\n          }\r\n        }],\r\n      },\r\n    }\r\n    mapboxgl.accessToken =\r\n      'pk.eyJ1IjoiOTM0MDk0Mjg2IiwiYSI6ImNsMnNmdmVrZDBrZGMzZG50cHJudXJkbW8ifQ.C0wKhJgrToFJgL8GH5M8rg'\r\n    const mapBuilder = (window.xaMapBuilder = new MapInit({\r\n      container: 'map',\r\n      options: options,\r\n      center: [115.92486101369428, 39.06075549589073],\r\n    }))\r\n    window.xaMap = mapBuilder.map\r\n    const map = mapBuilder.map\r\n\r\n    //去除mapbox的logo\r\n    document.getElementsByClassName('mapboxgl-ctrl-logo')[0].style.display =\r\n      'none'\r\n\r\n    map.on('load', async () => {\r\n      /**添加所有底图，不影响mapbox初始化时间 */\r\n      await this.addAllBaseMap()\r\n\r\n      /**添加所有图层 */\r\n      await this.addLayers();\r\n\r\n      /**用户自定义事件 */\r\n      this.create()\r\n    })\r\n  },\r\n  methods: {\r\n    // 该方法用于控制图例对应图层的显示隐藏，只在地图初始化时调用一次，因为 legendConfig 是在地图初始化时传入的\r\n    changeLegend() {\r\n      if(this.legendConfig && this.legendConfig.length > 0) {\r\n        this.legendConfig.forEach((item) => {\r\n          this.legendList.forEach((legend) => {\r\n            //控制一级图层\r\n            if (item.label == legend.label) {\r\n              legend.titleStatus = item.clickFlag;\r\n              // \r\n              legend.options.forEach((smallItem) => {\r\n                // 当该标题下图层内容为显示状态时才进入判断\r\n                if (\r\n                  legend.titleStatus === true &&\r\n                  typeof smallItem.id == \"number\"\r\n                ) {\r\n                  setTimeout(() => {\r\n                    Toast.info({\r\n                      message: smallItem.label + \"图层暂无数据！\",\r\n                    });\r\n                  }, 0);\r\n                  return;\r\n                }\r\n                if (legend.titleStatus === true) {\r\n                  // 标题状态点亮时\r\n                  smallItem.clickFlag = false; // 图层均显示\r\n                } else {\r\n                  smallItem.clickFlag = true; // 图层均隐藏\r\n                }\r\n                this.legendControlLayer(smallItem);\r\n              });\r\n            }else {\r\n              legend.options.forEach(smallItem => {\r\n                if(item.label == smallItem.label) {\r\n                  this.$set(smallItem, 'clickFlag', item.clickFlag)\r\n                  this.legendControlLayer(smallItem)\r\n                }\r\n              })\r\n            }\r\n            \r\n          });\r\n        });\r\n      }\r\n    },\r\n    legendControlLayer(item) {\r\n      let map = window.xaMap\r\n      // if (item.clickFlag) {\r\n      //   if(item.id == \"压力监测(供)*\"){\r\n      //     let domList = document.getElementsByClassName(\"pressure-supply\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"none\"\r\n      //     })\r\n      //   }else if(item.id == \"压力监测(再生)*\") {\r\n      //     let domList = document.getElementsByClassName(\"pressure-recycle\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"none\"\r\n      //     })\r\n      //   }else if(item.id == \"流量计(供)*\") {\r\n      //     let domList = document.getElementsByClassName(\"flow-supply\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"none\"\r\n      //     })\r\n      //   }else if(item.id == \"流量计(再生)*\") {\r\n      //     let domList = document.getElementsByClassName(\"flow-recycle\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"none\"\r\n      //     })\r\n      //   }\r\n      // }else {\r\n      //   if(item.id == \"压力监测(供)*\"){\r\n      //     let domList = document.getElementsByClassName(\"pressure-supply\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"block\"\r\n      //     })\r\n      //   }else if(item.id == \"压力监测(再生)*\") {\r\n      //     let domList = document.getElementsByClassName(\"pressure-recycle\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"block\"\r\n      //     })\r\n      //   }else if(item.id == \"流量计(供)*\") {\r\n      //     let domList = document.getElementsByClassName(\"flow-supply\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"block\"\r\n      //     })\r\n      //   }else if(item.id == \"流量计(再生)*\") {\r\n      //     let domList = document.getElementsByClassName(\"flow-recycle\")\r\n      //     Array.prototype.forEach.call(domList, (dom) => {\r\n      //       dom.style.display = \"block\"\r\n      //     })\r\n      //   }\r\n      // }\r\n      if (map.getLayer(item.id)) {\r\n        if (item.clickFlag) {\r\n          map.setLayoutProperty(item.id, \"visibility\", \"none\");\r\n          if (item.id == \"rd_map_drainpipe_ys_big\") {\r\n            let filter = map.getFilter(\"rd_map_manhole\")\r\n            if(filter.toString() == ['all'].toString() || filter.toString() == ['in', 'manhole_type', '雨水'].toString()){\r\n              if(map.getLayoutProperty('rd_map_drainpipe_ws_big', 'visibility') == 'none'){\r\n                filter = ['in', 'manhole_type', '']\r\n              }else {\r\n                filter = ['in', 'manhole_type', '污水']\r\n              }\r\n            }\r\n            //雨水管线图层控制雨水井、雨水箭头、雨水较小层级图层显示\r\n            map.setLayoutProperty(\"rd_map_comb\", \"visibility\", \"none\");\r\n            \r\n            map.setFilter(\"rd_map_manhole\", filter);\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ys_big_direction\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ys_small\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ys_small_direction\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n          } else if (item.id == \"map_supply_pipe_circulating\") {\r\n            //循环水（回水）管线控制循环水（回水）节点显示\r\n            map.setLayoutProperty(\r\n              \"map_supply_node_circulating\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n          } else if (item.id == \"map_supply_pipe_distribute\") {\r\n            //配水管线控制配水节点显示\r\n            map.setLayoutProperty(\r\n              \"map_supply_node_distribute\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n          } else if (item.id == \"map_supply_pipe_delivery\") {\r\n            //输水管线控制输水节点显示\r\n            map.setLayoutProperty(\r\n              \"map_supply_node_delivery\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n          } else if (item.id == \"map_recycle_pipe\") {\r\n            //再生水管线控制再生水节点显示\r\n            map.setLayoutProperty(\r\n              \"map_recycle_node\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n          } else if (item.id == \"rd_map_drainpipe_ws_big\") {\r\n            //污水管线图层控制污水井、污水箭头、污水较小层级图层显示\r\n            let filter = map.getFilter(\"rd_map_manhole\")\r\n            if(filter.toString() == ['all'].toString() || filter.toString() == ['in', 'manhole_type', '污水'].toString()){\r\n              if(map.getLayoutProperty('rd_map_drainpipe_ys_big', 'visibility') == 'none'){\r\n                filter = ['in', 'manhole_type', '']\r\n              }else {\r\n                filter = ['in', 'manhole_type', '雨水']\r\n              }\r\n            }            \r\n            map.setFilter(\"rd_map_manhole\", filter);\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ws_big_direction\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ws_small\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ws_small_direction\",\r\n              \"visibility\",\r\n              \"none\"\r\n            );\r\n          }\r\n        } else {          \r\n          map.setLayoutProperty(item.id, \"visibility\", \"visible\");\r\n          if (item.id == \"rd_map_drainpipe_ys_big\") {\r\n            let filter = map.getFilter(\"rd_map_manhole\")\r\n            if(filter.toString() == ['in', 'manhole_type', ''].toString() || filter.toString() == ['in', 'manhole_type', '污水'].toString()){\r\n              if(map.getLayoutProperty('rd_map_drainpipe_ws_big', 'visibility') != 'none'){\r\n                filter = ['all']\r\n              }else {\r\n                filter = ['in', 'manhole_type', '雨水']\r\n              }\r\n            }\r\n            map.setFilter(\"rd_map_manhole\", filter);\r\n            map.setLayoutProperty(\r\n              \"rd_map_comb\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ys_big_direction\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ys_small\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ys_small_direction\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n          } else if (item.id == \"map_supply_pipe_circulating\") {\r\n            map.setLayoutProperty(\r\n              \"map_supply_node_circulating\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n          } else if (item.id == \"map_supply_pipe_distribute\") {\r\n            map.setLayoutProperty(\r\n              \"map_supply_node_distribute\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n          } else if (item.id == \"map_supply_pipe_delivery\") {\r\n            map.setLayoutProperty(\r\n              \"map_supply_node_delivery\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n          } else if (item.id == \"map_recycle_pipe\") {\r\n            map.setLayoutProperty(\r\n              \"map_recycle_node\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n          } else if (item.id == \"rd_map_drainpipe_ws_big\") {\r\n            let filter = map.getFilter(\"rd_map_manhole\")\r\n            if(filter.toString() == ['in', 'manhole_type', ''].toString() || filter.toString() == ['in', 'manhole_type', '雨水'].toString()){\r\n              if(map.getLayoutProperty('rd_map_drainpipe_ys_big', 'visibility') != 'none'){\r\n                filter = ['all']\r\n              }else {\r\n                filter = ['in', 'manhole_type', '污水']\r\n              }\r\n            }            \r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ws_big_direction\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n            map.setFilter(\"rd_map_manhole\", filter);\r\n            map.setLayoutProperty(\r\n              \"rd_map_manhole\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ws_small_direction\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n            map.setLayoutProperty(\r\n              \"rd_map_drainpipe_ws_small\",\r\n              \"visibility\",\r\n              \"visible\"\r\n            );\r\n          }\r\n        }\r\n      }\r\n    },\r\n    async addLayers() {\r\n      let map = window.xaMap;\r\n      let env = process.env.NODE_ENV;\r\n      //底图\r\n      await axios\r\n        .get(\r\n          API.VUE_APP_MAP_REQUEST_URL +\r\n            \"/api/swan/mapWorkshopSource/detail?id=1557650273895288834\"\r\n        )\r\n        .then((res) => {\r\n          let layers = JSON.parse(res.data.data.combineJsonData);\r\n\r\n          Object.keys(layers.sources).forEach((key) => {\r\n            // if (env == \"production\") {\r\n              let temp = layers.sources[key].tiles[0];\r\n              // temp = temp.replaceAll(\"172.23.0.123:8008\", \"xasw.hdec.com\");\r\n              temp = temp.replaceAll(\"172.17.142.136:8008\", \"sw.chinaxiongan.cn\");\r\n              layers.sources[key].tiles[0] = temp;\r\n            // }\r\n            map.addSource(key, layers.sources[key]);\r\n          });\r\n          layers.layers.forEach((layer) => {\r\n            if (!layer.layout || layer.layout.visibility == \"visible\") {\r\n              this.defaultBaseLayers.push(layer); //控制地图显隐\r\n            }\r\n            map.addLayer(layer, 'empty1');\r\n          });\r\n          this.$emit(\"getDefaultBaseLayers\", this.defaultBaseLayers);\r\n        })\r\n        .catch((e) => {})\r\n        .finally(() => {});\r\n      //管线\r\n      await axios\r\n        .get(\r\n          API.VUE_APP_MAP_REQUEST_URL +\r\n            \"/api/swan/mapWorkshopSource/detail?id=1548573412963749889\"\r\n        )\r\n        .then((res) => {\r\n          let layers = JSON.parse(res.data.data.jsonData);\r\n\r\n          Object.keys(layers.sources).forEach((key) => {\r\n            // if (env == \"production\") {\r\n              let temp = layers.sources[key].tiles[0];\r\n              // temp = temp.replaceAll(\"172.23.0.123:8008\", \"xasw.hdec.com\");\r\n              temp = temp.replaceAll(\"172.17.142.136:8008\", \"sw.chinaxiongan.cn\");\r\n              layers.sources[key].tiles[0] = temp;\r\n            // }\r\n            map.addSource(key, layers.sources[key]);\r\n          });\r\n          layers.layers.forEach((layer) => {\r\n            map.addLayer(layer, 'empty1');\r\n            //图层移入移除以及点击事件\r\n            map.on(\"mouseenter\", layer.id, this.handleLayerEnter);\r\n            map.on(\"mouseout\", layer.id, this.handleLayerLeave);\r\n            map.on(\"click\", layer.id, this.handleLayerClick); \r\n          });\r\n        })\r\n        .catch((e) => {})\r\n        .finally(() => {});\r\n    },\r\n    handleLayerEnter(e) {\r\n      this.$emit(\"handleLayerEnter\", e);\r\n    },\r\n    handleLayerLeave(e) {\r\n      this.$emit(\"handleLayerLeave\", e);\r\n    },\r\n    handleLayerClick(e) {\r\n      this.$emit(\"handleLayerClick\", e);\r\n    },\r\n    /**添加所有的底图 */\r\n    addAllBaseMap() {\r\n      let map = window.xaMap;\r\n      let sources = layerControl.defaultSource;\r\n      let layers = layerControl.defaultLayers;\r\n      this.$emit(\"getBaseLayerObject\", layers);\r\n      Object.keys(sources).forEach((key) => {\r\n        map.addSource(key, sources[key]);\r\n      });\r\n      layers.forEach((layer) => {\r\n        map.addLayer(layer, 'empty');\r\n      });\r\n    },     \r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.xa-map {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>"]}]}