{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\FormCenter\\components\\FlowApproval\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\FormCenter\\components\\FlowApproval\\index.vue","mtime":1705912800021},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBDVVJSRU5UX1JPVywgUkVKRUNUX1RBU0tfS0VZIH0gZnJvbSAnQC9zdG9yZS9TdGF0ZS9zdGF0ZVR5cGVzJw0KaW1wb3J0IHsgU0VUX1JFSkVDVF9UQVNLX0tFWSB9IGZyb20gJ0Avc3RvcmUvTXV0YXRpb24vbXV0YXRpb25UeXBlcycNCmltcG9ydCB7IENlbGwsIERpYWxvZywgVG9hc3QsIENlbGxHcm91cCwgRmllbGQsIEJ1dHRvbiB9IGZyb20gJ2Zhd2tlcy1tb2JpbGUtbGliJw0KaW1wb3J0IHsgZ2V0QnV0dG9uSW5mbywgY29tZmlybSwgYmFja0RsZywgZ2V0VGFza0tleSwgcHJvY2Vzc0FiYW5kb24gfSBmcm9tICcuL2FwaScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0Zsb3dBcHByb3ZhbCcsDQogIGNvbXBvbmVudHM6IHsNCiAgICBbQ2VsbC5uYW1lXTogQ2VsbCwNCiAgICBbQ2VsbEdyb3VwLm5hbWVdOiBDZWxsR3JvdXAsDQogICAgW1RvYXN0Lm5hbWVdOiBUb2FzdCwNCiAgICBbRmllbGQubmFtZV06IEZpZWxkLA0KICAgIFtEaWFsb2cuQ29tcG9uZW50Lm5hbWVdOiBEaWFsb2cuQ29tcG9uZW50LA0KICAgIFtCdXR0b24ubmFtZV06IEJ1dHRvbiwNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBzdWJtaXRVUkw6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcnLA0KICAgIH0sDQogICAgZW50aXR5TmFtZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycsDQogICAgfSwNCiAgICB1cmxBbmRFbnRpdHk6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQoKSB7fSwNCiAgICB9LA0KICAgIGZvcm1EYXRhOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0KCkge30sDQogICAgfSwNCiAgICBkZXRhaWxQYXJhbUxpc3Q6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIFtdDQogICAgICB9LA0KICAgIH0sDQogICAgbW9kZWxLZXk6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIHJldHVybiAnJw0KICAgICAgfSwNCiAgICB9LA0KICAgIGJlZm9yZVN1Ym1pdDogew0KICAgICAgdHlwZTogRnVuY3Rpb24sDQogICAgICBkZWZhdWx0OiBmdW5jdGlvbiAoKSB7fSwNCiAgICB9LA0KICAgIC8vIOagoemqjOinhOWIme+8jOm7mOiupOS4jeajgOafpQ0KICAgIGNoZWNrUnVsZXM6IHsNCiAgICAgIHR5cGU6IEZ1bmN0aW9uLA0KICAgICAgZGVmYXVsdDogZnVuY3Rpb24gKCkgew0KICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgfSwNCiAgICB9LA0KICAgIGFmdGVyU3VibWl0OiB7DQogICAgICB0eXBlOiBGdW5jdGlvbiwNCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHt9LA0KICAgIH0sDQogICAgYWZ0ZXJlUmVqZWN0OiB7DQogICAgICB0eXBlOiBGdW5jdGlvbiwNCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHt9LA0KICAgIH0sDQogICAgaXNCZWZvcmVTdWJtaXQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZSwNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjb21tZW50OiAnJywgLy8g5a6h5om55oSP6KeBDQogICAgICBpc0Rpc2FibGU6IGZhbHNlLA0KICAgICAgYnV0dG9uTGlzdDogW10sDQogICAgICBzaG93OiBmYWxzZSwNCiAgICAgIHJlamVjdExpc3Q6IFtdLCAvL+a1geeoi+mAgOWbnueahOiKgueCueWIl+ihqA0KICAgICAgY3VycmVudE5vZGU6ICcnLA0KICAgICAgY3VycmVudEtleTogJycsDQogICAgICBzdGFnZUZsYWc6IDAsDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHJvdygpIHsNCiAgICAgIC8vIOmhtemdouS4reS9v+eUqHJvd+adpeaMh+S7o+W9k+WJjeiusOW9lQ0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlW0NVUlJFTlRfUk9XXQ0KICAgIH0sDQogICAgcmVqZWN0VGFza0tleSgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZVtSRUpFQ1RfVEFTS19LRVldDQogICAgfSwNCiAgfSwNCiAgd2F0Y2g6IHt9LA0KICBtb3VudGVkKCkgew0KICAgIGlmICh0aGlzPy5yb3c/LnRhc2tJZCkgew0KICAgICAgdGhpcy5nZXRCdXR0b25JbmZvKCkNCiAgICB9DQoNCiAgICB0aGlzLiRzdG9yZS5jb21taXQoU0VUX1JFSkVDVF9UQVNLX0tFWSwgJycpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDojrflj5bmtYHnqIvorr7orqHkuK3nmoTmjInpkq7kv6Hmga8NCiAgICBnZXRCdXR0b25JbmZvKCkgew0KICAgICAgZ2V0QnV0dG9uSW5mbyh7DQogICAgICAgIHRhc2tJZDogdGhpcy5yb3cudGFza0lkLA0KICAgICAgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGlmIChyZXMuZGF0YSkgew0KICAgICAgICAgIGxldCBidXR0b25JbmZvID0gSlNPTi5wYXJzZShyZXMuZGF0YS5idXR0b25MaXN0KQ0KICAgICAgICAgIGlmIChidXR0b25JbmZvPy50YXNrQnV0dG9uTGlzdD8ubGVuZ3RoKSB7DQogICAgICAgICAgICB0aGlzLmJ1dHRvbkxpc3QgPSBidXR0b25JbmZvLnRhc2tCdXR0b25MaXN0LnNvcnQoDQogICAgICAgICAgICAgIChhLCBiKSA9PiB0aGlzLnNvcnRJY29uKGIpIC0gdGhpcy5zb3J0SWNvbihhKQ0KICAgICAgICAgICAgKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLmJ1dHRvbkxpc3QgPSBidXR0b25JbmZvLnNvcnQoKGEsIGIpID0+IHRoaXMuc29ydEljb24oYikgLSB0aGlzLnNvcnRJY29uKGEpKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGJ1dHRvblR5cGUoaXRlbSkgew0KICAgICAgc3dpdGNoIChpdGVtLnR5cGUpIHsNCiAgICAgICAgY2FzZSAnc3VibWl0JzoNCiAgICAgICAgICByZXR1cm4gJ3ByaW1hcnknDQogICAgICAgIGNhc2UgJ3NhdmVEcmFmdCc6DQogICAgICAgICAgcmV0dXJuICdkZWZhdWx0Jw0KICAgICAgICBjYXNlICdyZWplY3QnOg0KICAgICAgICAgIHJldHVybiAnZGVmYXVsdCcNCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICByZXR1cm4gJycNCiAgICAgIH0NCiAgICB9LA0KICAgIHNvcnRJY29uKGl0ZW0pIHsNCiAgICAgIHN3aXRjaCAoaXRlbS50eXBlKSB7DQogICAgICAgIGNhc2UgJ3N1Ym1pdCc6DQogICAgICAgICAgcmV0dXJuIDENCiAgICAgICAgY2FzZSAnc2F2ZURyYWZ0JzoNCiAgICAgICAgICByZXR1cm4gMg0KICAgICAgICBjYXNlICdyZWplY3QnOg0KICAgICAgICAgIHJldHVybiAzDQogICAgICAgIGNhc2UgJ2FiYW5kb24nOg0KICAgICAgICAgIHJldHVybiA0DQogICAgICAgIGNhc2UgJ2FkZENvdW50ZXJzaWduZWUnOg0KICAgICAgICAgIHJldHVybiA1DQogICAgICAgIGNhc2UgJ2VkaXQnOg0KICAgICAgICAgIHJldHVybiA2DQogICAgICAgIGNhc2UgJ2NpcmN1bGF0ZSc6DQogICAgICAgICAgcmV0dXJuIDcNCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICByZXR1cm4gOA0KICAgICAgfQ0KICAgIH0sDQogICAgY2xpY2tIYW5kbGVyKGl0ZW0pIHsNCiAgICAgIGlmIChpdGVtLnR5cGUgPT0gJ3N1Ym1pdCcpIHsNCiAgICAgICAgdGhpcy5jb25maXJtRGxnKCkNCiAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09ICdyZWplY3QnKSB7DQogICAgICAgIHRoaXMuYmFja0RsZyhpdGVtKQ0KICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT0gJ2FiYW5kb24nKSB7DQogICAgICAgIHRoaXMuYWJhbmRvblRhc2soKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5kcmFmdERsZygpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDmtYHnqIvnmoTmj5DkuqQNCiAgICBjb25maXJtRGxnKCkgew0KICAgICAgdGhpcy5zdGFnZUZsYWcgPSAwDQogICAgICAvLyDooajljZXmj5DkuqTliY3moKHpqowNCiAgICAgIGlmICh0aGlzLmNoZWNrUnVsZXMoKSkgew0KICAgICAgICB0aGlzLmJlZm9yZVN1Ym1pdCgpDQogICAgICAgIHRoaXMuY29uZmlybSgpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDooajljZXmj5DkuqTmlrnms5UNCiAgICBjb25maXJtKCkgew0KICAgICAgdGhpcy5pc0Rpc2FibGUgPSB0cnVlDQogICAgICBsZXQgdXJsID0gdGhpcy5zdWJtaXRVUkwNCiAgICAgIGxldCBmb3JtUHJvY2Vzc1BhcmFtID0gew0KICAgICAgICB0YXNrSWQ6IHRoaXMucm93LnRhc2tJZCwNCiAgICAgICAgYml6SWQ6IHRoaXMucm93LmZvcm1CaXpJZCwNCiAgICAgICAgYXBwcm92YWw6ICcnLA0KICAgICAgICBjb21tZW50OiB0aGlzLmNvbW1lbnQsDQogICAgICAgIHN0YWdlRmxhZzogdGhpcy5zdGFnZUZsYWcsDQogICAgICAgIGZvcm1LZXk6IHRoaXMucm93LmZvcm1LZXksDQogICAgICAgIG1vZGVsS2V5OiB0aGlzLm1vZGVsS2V5LA0KICAgICAgICBwcm9jZXNzSW5zdGFuY2VJZDogdGhpcy5yb3cucHJvY2Vzc0luc3RhbmNlSWQsDQogICAgICAgIHZhcmlhYmxlOiB0aGlzLmZvcm1EYXRhLA0KICAgICAgfQ0KICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgIGRldGFpbFBhcmFtTGlzdDogdGhpcy5kZXRhaWxQYXJhbUxpc3QsDQogICAgICAgIGVudGl0eU5hbWU6IHRoaXMuZW50aXR5TmFtZSwNCiAgICAgICAgZW50aXR5T2JqZWN0OiB0aGlzLmZvcm1EYXRhLA0KICAgICAgICBmb3JtUHJvY2Vzc1BhcmFtOiBmb3JtUHJvY2Vzc1BhcmFtLA0KICAgICAgfQ0KICAgICAgY29tZmlybSh1cmwsIGRhdGEpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLnN0YXR1cykgew0KICAgICAgICAgIGlmICh0aGlzLnN0YWdlRmxhZyA9PSAwKSB7DQogICAgICAgICAgICB0aGlzLmFmdGVyU3VibWl0KCkNCiAgICAgICAgICAgIFRvYXN0KCflrqHmibnmiJDlip8nLCAnbWlkZGxlJykNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgVG9hc3QoJ+aaguWtmOaIkOWKnycsICdtaWRkbGUnKQ0KICAgICAgICAgIH0NCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgIFRvYXN0LmNsZWFyKCkNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvdG9kbz9yZWZyZXNoPXRydWUnKQ0KICAgICAgICAgIH0sIDEwMDApDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgVG9hc3QocmVzLm1lc3NhZ2UsICdtaWRkbGUnKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy8g5rWB56iL6YCA5ZueDQogICAgYmFja0RsZyhpdGVtKSB7DQogICAgICAvLyDlj6rmnInkuIDkuKrpgIDlm57oioLngrnml7bvvIznm7TmjqXpgIDlm54NCiAgICAgIGlmIChpdGVtPy50YXJnZXROb2RlPy5sZW5ndGggPT0gMSkgew0KICAgICAgICBEaWFsb2cuY29uZmlybSh7DQogICAgICAgICAgLy8g57uE5Lu26Zmkc2hvd+WklueahOWxnuaApw0KICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JywNCiAgICAgICAgICBtZXNzYWdlOiAn5piv5ZCm6KaB5omn6KGM6YCA5Zue5pON5L2cPycsDQogICAgICAgIH0pDQogICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5pc0Rpc2FibGUgPSB0cnVlDQogICAgICAgICAgICBiYWNrRGxnKHsNCiAgICAgICAgICAgICAgdGFza0lkOiB0aGlzLnJvdy50YXNrSWQsDQogICAgICAgICAgICAgIGJpeklkOiAnJywNCiAgICAgICAgICAgICAgdGFyZ2V0S2V5OiB0aGlzLnRhcmdldE5vZGUudG9TdHJpbmcoKSwgLy/nm67liY3nmoTmtYHnqIvmsqHmnInlgZrlm57pgIDku7vmhI/oioLngrnvvIzlm57pgIDmlbDnu4TkuK3lj6rlj5bnrKzkuIDkuKrkuroNCiAgICAgICAgICAgICAgY29tbWVudDogdGhpcy5jb21tZW50IHx8ICfpgIDlm54nLA0KICAgICAgICAgICAgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzKSB7DQogICAgICAgICAgICAgICAgdGhpcy5hZnRlcmVSZWplY3QodGhpcy50YXJnZXROb2RlKQ0KICAgICAgICAgICAgICAgIFRvYXN0KCfpgIDlm57miJDlip8nLCAnbWlkZGxlJykNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgIFRvYXN0LmNsZWFyKCkNCiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvdG9kbz9yZWZyZXNoPXRydWUnKQ0KICAgICAgICAgICAgICAgIH0sIDEwMDApDQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgVG9hc3QuZmFpbChyZXMubWVzc2FnZSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHt9LCAyMDAwKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaCgoKSA9PiB7fSkNCiAgICAgIH0gZWxzZSBpZiAoaXRlbT8udGFyZ2V0Tm9kZT8ubGVuZ3RoID4gMSkgew0KICAgICAgICB0aGlzLnNob3dSZWplY3ROb2RlTGlzdChpdGVtLnRhcmdldE5vZGUpDQogICAgICAgIC8vIOWkmuS4qg0KICAgICAgICAvLyB0aGlzLnNob3cgPSB0cnVlDQogICAgICB9DQogICAgfSwNCiAgICAvLyDooajljZXmmoLlrZgNCiAgICBkcmFmdERsZygpIHsNCiAgICAgIGlmICh0aGlzLmNvbW1lbnQucmVwbGFjZSgvXHMrL2csICcnKS5sZW5ndGggPT0gMCkgew0KICAgICAgICB0aGlzLmNvbW1lbnQgPSAn5pqC5a2YJw0KICAgICAgfQ0KICAgICAgdGhpcy5zdGFnZUZsYWcgPSAxDQogICAgICB0aGlzLmJlZm9yZVN1Ym1pdCgpDQogICAgICB0aGlzLmNvbmZpcm0oKQ0KICAgIH0sDQogICAgYWJhbmRvblRhc2soKSB7DQogICAgICBEaWFsb2cuY29uZmlybSh7DQogICAgICAgIC8vIOe7hOS7tumZpHNob3flpJbnmoTlsZ7mgKcNCiAgICAgICAgdGl0bGU6ICfmj5DnpLonLA0KICAgICAgICBtZXNzYWdlOiAn5piv5ZCm6KaB5omn6KGM5bqf5byD5pON5L2cPycsDQogICAgICB9KQ0KICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgY29uc3QgZmxvd0RhdGEgPSB7DQogICAgICAgICAgICB0YXNrSWQ6IHRoaXMucm93LnRhc2tJZCwNCiAgICAgICAgICAgIGJpeklkOiB0aGlzLmJpeklkLA0KICAgICAgICAgICAgY29tbWVudDogdGhpcy5jb21tZW50LA0KICAgICAgICAgICAgZm9ybUtleTogdGhpcy5mb3JtS2V5LA0KICAgICAgICAgIH0NCiAgICAgICAgICBwcm9jZXNzQWJhbmRvbihmbG93RGF0YSkNCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMpIHsNCiAgICAgICAgICAgICAgICBUb2FzdCgn5bqf5byD5oiQ5YqfJywgJ21pZGRsZScpDQogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICBUb2FzdC5jbGVhcigpDQogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3RvZG8/cmVmcmVzaD10cnVlJykNCiAgICAgICAgICAgICAgICB9LCAxMDAwKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpDQogICAgICAgICAgICB9KQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKCkgPT4ge30pDQogICAgfSwNCiAgICBzaG93UmVqZWN0Tm9kZUxpc3QocmVqZWN0Tm9kZSkgew0KICAgICAgZ2V0VGFza0tleSh7DQogICAgICAgIHRhc2tJZDogdGhpcy5yb3cudGFza0lkLA0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGlmIChyZXMuc3RhdHVzKSB7DQogICAgICAgICAgICB0aGlzLnJlamVjdExpc3QgPSByZXMuZGF0YS5maWx0ZXIoKHRhc2spID0+IHJlamVjdE5vZGUuaW5jbHVkZXModGFzay50YXNrS2V5KSkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICB0aGlzLnNob3cgPSB0cnVlDQogICAgICAgIH0pDQogICAgfSwNCiAgICBnZXRSZWplY3ROb2RlKGl0ZW0pIHsNCiAgICAgIHRoaXMuY3VycmVudEtleSA9IGl0ZW0udGFza0tleQ0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KFNFVF9SRUpFQ1RfVEFTS19LRVksIHRoaXMuY3VycmVudEtleSkNCiAgICAgIHRoaXMuY3VycmVudE5vZGUgPSBpdGVtLnRhc2tLZXkNCiAgICB9LA0KICAgIGdldE5vZGUoKSB7DQogICAgICB0aGlzLmlzRGlzYWJsZSA9IHRydWUNCiAgICAgIGJhY2tEbGcoew0KICAgICAgICB0YXNrSWQ6IHRoaXMucm93LnRhc2tJZCwNCiAgICAgICAgYml6SWQ6ICcnLA0KICAgICAgICB0YXJnZXRLZXk6IHRoaXMuY3VycmVudE5vZGUsDQogICAgICAgIGNvbW1lbnQ6IHRoaXMuY29tbWVudCB8fCAn6YCA5ZueJywNCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLnN0YXR1cykgew0KICAgICAgICAgIHRoaXMuYWZ0ZXJlUmVqZWN0KHRoaXMuY3VycmVudE5vZGUpDQogICAgICAgICAgVG9hc3QoJ+mAgOWbnuaIkOWKnycsICdtaWRkbGUnKQ0KICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgVG9hc3QuY2xlYXIoKQ0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy90b2RvP3JlZnJlc2g9dHJ1ZScpDQogICAgICAgICAgfSwgMTAwMCkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBUb2FzdC5mYWlsKHJlcy5tZXNzYWdlKQ0KICAgICAgICB9DQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge30sIDIwMDApDQogICAgICB9KQ0KICAgIH0sDQogIH0sDQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/FormCenter/components/FlowApproval","sourcesContent":["<template>\r\n  <div class=\"approve-textarea\">\r\n    <fm-cell-group label-width=\"100px\" :gutter=\"0\">\r\n      <fm-cell title=\"当前环节\" value-align=\"right\" class=\"approve-textarea__cell\">\r\n        <div class=\"black\">{{ row.taskName }}</div>\r\n      </fm-cell>\r\n\r\n      <div class=\"approve-title\"><span class=\"label-before\"></span>审批意见</div>\r\n      <fm-field\r\n        class=\"approve-textarea-entrust\"\r\n        type=\"textarea\"\r\n        placeholder=\"请输入审批意见\"\r\n        show-word-limit\r\n        :maxlength=\"300\"\r\n        v-model=\"comment\"\r\n      ></fm-field>\r\n      <div class=\"btn-area approve-btn-area\">\r\n        <fm-button\r\n          class=\"btn\"\r\n          v-for=\"(item, index) in buttonList\"\r\n          :key=\"index\"\r\n          :disabled=\"isDisable\"\r\n          :type=\"buttonType(item)\"\r\n          @click=\"clickHandler(item)\"\r\n        >\r\n          {{ item.text }}\r\n        </fm-button>\r\n      </div>\r\n      <fm-dialog :visible.sync=\"show\" title=\"选择退回节点\" show-cancel-button @confirm=\"getNode()\">\r\n        <div v-for=\"(item, index) in rejectList\" :key=\"index\" class=\"reject-node-item\">\r\n          <div\r\n            @click=\"getRejectNode(item)\"\r\n            :class=\"[rejectTaskKey == item.taskKey ? 'hover' : '', 'reject-node']\"\r\n          >\r\n            {{ item.taskName }}\r\n          </div>\r\n        </div>\r\n      </fm-dialog>\r\n    </fm-cell-group>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { CURRENT_ROW, REJECT_TASK_KEY } from '@/store/State/stateTypes'\r\nimport { SET_REJECT_TASK_KEY } from '@/store/Mutation/mutationTypes'\r\nimport { Cell, Dialog, Toast, CellGroup, Field, Button } from 'fawkes-mobile-lib'\r\nimport { getButtonInfo, comfirm, backDlg, getTaskKey, processAbandon } from './api'\r\nexport default {\r\n  name: 'FlowApproval',\r\n  components: {\r\n    [Cell.name]: Cell,\r\n    [CellGroup.name]: CellGroup,\r\n    [Toast.name]: Toast,\r\n    [Field.name]: Field,\r\n    [Dialog.Component.name]: Dialog.Component,\r\n    [Button.name]: Button,\r\n  },\r\n  props: {\r\n    submitURL: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    entityName: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    urlAndEntity: {\r\n      type: Object,\r\n      default() {},\r\n    },\r\n    formData: {\r\n      type: Object,\r\n      default() {},\r\n    },\r\n    detailParamList: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      },\r\n    },\r\n    modelKey: {\r\n      type: String,\r\n      default() {\r\n        return ''\r\n      },\r\n    },\r\n    beforeSubmit: {\r\n      type: Function,\r\n      default: function () {},\r\n    },\r\n    // 校验规则，默认不检查\r\n    checkRules: {\r\n      type: Function,\r\n      default: function () {\r\n        return true\r\n      },\r\n    },\r\n    afterSubmit: {\r\n      type: Function,\r\n      default: function () {},\r\n    },\r\n    aftereReject: {\r\n      type: Function,\r\n      default: function () {},\r\n    },\r\n    isBeforeSubmit: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      comment: '', // 审批意见\r\n      isDisable: false,\r\n      buttonList: [],\r\n      show: false,\r\n      rejectList: [], //流程退回的节点列表\r\n      currentNode: '',\r\n      currentKey: '',\r\n      stageFlag: 0,\r\n    }\r\n  },\r\n  computed: {\r\n    row() {\r\n      // 页面中使用row来指代当前记录\r\n      return this.$store.state[CURRENT_ROW]\r\n    },\r\n    rejectTaskKey() {\r\n      return this.$store.state[REJECT_TASK_KEY]\r\n    },\r\n  },\r\n  watch: {},\r\n  mounted() {\r\n    if (this?.row?.taskId) {\r\n      this.getButtonInfo()\r\n    }\r\n\r\n    this.$store.commit(SET_REJECT_TASK_KEY, '')\r\n  },\r\n  methods: {\r\n    // 获取流程设计中的按钮信息\r\n    getButtonInfo() {\r\n      getButtonInfo({\r\n        taskId: this.row.taskId,\r\n      }).then((res) => {\r\n        if (res.data) {\r\n          let buttonInfo = JSON.parse(res.data.buttonList)\r\n          if (buttonInfo?.taskButtonList?.length) {\r\n            this.buttonList = buttonInfo.taskButtonList.sort(\r\n              (a, b) => this.sortIcon(b) - this.sortIcon(a)\r\n            )\r\n          } else {\r\n            this.buttonList = buttonInfo.sort((a, b) => this.sortIcon(b) - this.sortIcon(a))\r\n          }\r\n        }\r\n      })\r\n    },\r\n    buttonType(item) {\r\n      switch (item.type) {\r\n        case 'submit':\r\n          return 'primary'\r\n        case 'saveDraft':\r\n          return 'default'\r\n        case 'reject':\r\n          return 'default'\r\n        default:\r\n          return ''\r\n      }\r\n    },\r\n    sortIcon(item) {\r\n      switch (item.type) {\r\n        case 'submit':\r\n          return 1\r\n        case 'saveDraft':\r\n          return 2\r\n        case 'reject':\r\n          return 3\r\n        case 'abandon':\r\n          return 4\r\n        case 'addCountersignee':\r\n          return 5\r\n        case 'edit':\r\n          return 6\r\n        case 'circulate':\r\n          return 7\r\n        default:\r\n          return 8\r\n      }\r\n    },\r\n    clickHandler(item) {\r\n      if (item.type == 'submit') {\r\n        this.confirmDlg()\r\n      } else if (item.type == 'reject') {\r\n        this.backDlg(item)\r\n      } else if (item.type == 'abandon') {\r\n        this.abandonTask()\r\n      } else {\r\n        this.draftDlg()\r\n      }\r\n    },\r\n    // 流程的提交\r\n    confirmDlg() {\r\n      this.stageFlag = 0\r\n      // 表单提交前校验\r\n      if (this.checkRules()) {\r\n        this.beforeSubmit()\r\n        this.confirm()\r\n      }\r\n    },\r\n    // 表单提交方法\r\n    confirm() {\r\n      this.isDisable = true\r\n      let url = this.submitURL\r\n      let formProcessParam = {\r\n        taskId: this.row.taskId,\r\n        bizId: this.row.formBizId,\r\n        approval: '',\r\n        comment: this.comment,\r\n        stageFlag: this.stageFlag,\r\n        formKey: this.row.formKey,\r\n        modelKey: this.modelKey,\r\n        processInstanceId: this.row.processInstanceId,\r\n        variable: this.formData,\r\n      }\r\n      let data = {\r\n        detailParamList: this.detailParamList,\r\n        entityName: this.entityName,\r\n        entityObject: this.formData,\r\n        formProcessParam: formProcessParam,\r\n      }\r\n      comfirm(url, data).then((res) => {\r\n        if (res.status) {\r\n          if (this.stageFlag == 0) {\r\n            this.afterSubmit()\r\n            Toast('审批成功', 'middle')\r\n          } else {\r\n            Toast('暂存成功', 'middle')\r\n          }\r\n          setTimeout(() => {\r\n            Toast.clear()\r\n            this.$router.push('/todo?refresh=true')\r\n          }, 1000)\r\n        } else {\r\n          Toast(res.message, 'middle')\r\n        }\r\n      })\r\n    },\r\n    // 流程退回\r\n    backDlg(item) {\r\n      // 只有一个退回节点时，直接退回\r\n      if (item?.targetNode?.length == 1) {\r\n        Dialog.confirm({\r\n          // 组件除show外的属性\r\n          title: '提示',\r\n          message: '是否要执行退回操作?',\r\n        })\r\n          .then(() => {\r\n            this.isDisable = true\r\n            backDlg({\r\n              taskId: this.row.taskId,\r\n              bizId: '',\r\n              targetKey: this.targetNode.toString(), //目前的流程没有做回退任意节点，回退数组中只取第一个人\r\n              comment: this.comment || '退回',\r\n            }).then((res) => {\r\n              if (res.status) {\r\n                this.aftereReject(this.targetNode)\r\n                Toast('退回成功', 'middle')\r\n                setTimeout(() => {\r\n                  Toast.clear()\r\n                  this.$router.push('/todo?refresh=true')\r\n                }, 1000)\r\n              } else {\r\n                Toast.fail(res.message)\r\n              }\r\n              setTimeout(() => {}, 2000)\r\n            })\r\n          })\r\n          .catch(() => {})\r\n      } else if (item?.targetNode?.length > 1) {\r\n        this.showRejectNodeList(item.targetNode)\r\n        // 多个\r\n        // this.show = true\r\n      }\r\n    },\r\n    // 表单暂存\r\n    draftDlg() {\r\n      if (this.comment.replace(/\\s+/g, '').length == 0) {\r\n        this.comment = '暂存'\r\n      }\r\n      this.stageFlag = 1\r\n      this.beforeSubmit()\r\n      this.confirm()\r\n    },\r\n    abandonTask() {\r\n      Dialog.confirm({\r\n        // 组件除show外的属性\r\n        title: '提示',\r\n        message: '是否要执行废弃操作?',\r\n      })\r\n        .then(() => {\r\n          const flowData = {\r\n            taskId: this.row.taskId,\r\n            bizId: this.bizId,\r\n            comment: this.comment,\r\n            formKey: this.formKey,\r\n          }\r\n          processAbandon(flowData)\r\n            .then((res) => {\r\n              if (res.status) {\r\n                Toast('废弃成功', 'middle')\r\n                setTimeout(() => {\r\n                  Toast.clear()\r\n                  this.$router.push('/todo?refresh=true')\r\n                }, 1000)\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              console.error(err)\r\n            })\r\n        })\r\n        .catch(() => {})\r\n    },\r\n    showRejectNodeList(rejectNode) {\r\n      getTaskKey({\r\n        taskId: this.row.taskId,\r\n      })\r\n        .then((res) => {\r\n          if (res.status) {\r\n            this.rejectList = res.data.filter((task) => rejectNode.includes(task.taskKey))\r\n          }\r\n        })\r\n        .finally(() => {\r\n          this.show = true\r\n        })\r\n    },\r\n    getRejectNode(item) {\r\n      this.currentKey = item.taskKey\r\n      this.$store.commit(SET_REJECT_TASK_KEY, this.currentKey)\r\n      this.currentNode = item.taskKey\r\n    },\r\n    getNode() {\r\n      this.isDisable = true\r\n      backDlg({\r\n        taskId: this.row.taskId,\r\n        bizId: '',\r\n        targetKey: this.currentNode,\r\n        comment: this.comment || '退回',\r\n      }).then((res) => {\r\n        if (res.status) {\r\n          this.aftereReject(this.currentNode)\r\n          Toast('退回成功', 'middle')\r\n          setTimeout(() => {\r\n            Toast.clear()\r\n            this.$router.push('/todo?refresh=true')\r\n          }, 1000)\r\n        } else {\r\n          Toast.fail(res.message)\r\n        }\r\n        setTimeout(() => {}, 2000)\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.black {\r\n  font-size: 28px;\r\n  font-family: PingFangSC-Regular, PingFang SC;\r\n  font-weight: 400;\r\n  /*color: rgba(38, 42, 52, 1);*/\r\n  color: #888;\r\n  word-break: break-all;\r\n}\r\n.approve-title {\r\n  font-size: 32px;\r\n  font-family: PingFangSC-Regular, PingFang SC;\r\n  font-weight: 400;\r\n  color: rgba(75, 75, 75, 1);\r\n  line-height: 60px;\r\n}\r\n.approve-textarea {\r\n  background-color: #fff;\r\n}\r\n.approve-textarea /deep/ .fm-cell {\r\n  // margin-top: 60px !important;\r\n  padding: 28px 16px !important;\r\n}\r\n.approve-textarea-entrust /deep/ .fm-cell__value {\r\n  /*background: #eeeeee;*/\r\n  border: 1px solid #bbbbbb;\r\n  opacity: 0.5;\r\n  padding: 20px 40px;\r\n  overflow-y: scroll !important;\r\n  max-height: 400px;\r\n}\r\n/deep/ .fm-field--min-height .fm-field__control {\r\n  min-height: 360px;\r\n}\r\n.approve-textarea /deep/ .fm-field__word-limit {\r\n  margin-top: 0px;\r\n}\r\n.btn-area {\r\n  position: relative;\r\n  width: 100%;\r\n  margin-top: 35%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.btn {\r\n  float: left;\r\n  font-size: 28px;\r\n  height: 90px;\r\n  line-height: 90px;\r\n  width: 280px;\r\n  text-align: center;\r\n  margin: 16px;\r\n}\r\n.general-btn {\r\n  font-size: 32px;\r\n  color: #ffffff;\r\n  background-color: #4d86ff;\r\n  border-radius: 4px;\r\n  font-family: PingFangSC-Medium;\r\n  font-weight: 500;\r\n  width: 100%;\r\n}\r\n.back-btn {\r\n  font-size: 28px;\r\n  border: 1px solid #fbc4c4;\r\n  border-radius: 2px;\r\n  color: #f56c6c;\r\n  background: #fef0f0;\r\n  width: 100%;\r\n}\r\n// ----- 退回节点对话框 start -----\r\n.reject-node-item:last-child {\r\n  margin-bottom: 32px;\r\n}\r\n.reject-node {\r\n  text-align: center;\r\n  padding-top: 48px;\r\n}\r\n.reject-node.hover {\r\n  color: #4d86ff;\r\n}\r\n// ----- 退回节点对话框 end -----\r\n</style>\r\n"]}]}