{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\inspectionManage\\GalleryInspection.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\inspectionManage\\GalleryInspection.vue","mtime":1708928163425},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgVnVlIGZyb20gJ3Z1ZScNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCmltcG9ydCAqIGFzIEFwaSBmcm9tICcuL2FwaScNCmltcG9ydCBidXMgZnJvbSAnQC91dGlscy9idXMnDQppbXBvcnQgeyBFTlVNIH0gZnJvbSAnQC9zdG9yZS9TdGF0ZS9zdGF0ZVR5cGVzJw0KaW1wb3J0ICogYXMgdHVyZiBmcm9tICdAdHVyZi90dXJmJw0KaW1wb3J0IHsgYmJveCwgY2VudGVyIGFzIGdldENlbnRlciB9IGZyb20gJ0B0dXJmL3R1cmYnDQppbXBvcnQgX2Nsb25lRGVlcCBmcm9tICdsb2Rhc2gvY2xvbmVEZWVwJw0KaW1wb3J0IHsgYWRkSWNvblRvTWFwIH0gZnJvbSAnQC91dGlscy9tYXBVdGlscycNCmltcG9ydCBtYXBib3hnbCBmcm9tICdtYXBib3gtZ2wnDQppbXBvcnQgeyBUb2FzdCwgRGlhbG9nLCBOb3RpZnkgfSBmcm9tICdmYXdrZXMtbW9iaWxlLWxpYicNCmltcG9ydCBtaXhpbnMgZnJvbSAnQC92aWV3cy9pbnNwZWN0TWFwL21peGlucy9taXhpbnMuanMnDQppbXBvcnQgZGF5anMgZnJvbSAnZGF5anMnDQppbXBvcnQgcmVxdWVzdCBmcm9tICdAL3V0aWxzL3JlcXVlc3QnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJycsDQogIC8vIG1peGluczogW21peGluc10sDQogIGNvbXBvbmVudHM6IHt9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyDnlKjkuo7nu5nov5vluqbmnaHplb/luqbotYvlgLwNCiAgICAgIHRhc2tQcm9jZXNzOiAxMDAsDQogICAgICBkaXZXaWR0aDogMCwNCiAgICAgIHBlcmNlbnROdW06IDEsDQoNCiAgICAgIC8vIOW9k+WJjeeCueWHu+eahOS7u+WKoQ0KICAgICAgdGFza0RldGFpbDoge30sDQogICAgICAvLyDlt6Hmo4DlkZjkv6Hmga8NCiAgICAgIHVzZXJJbmZvOiB7fSwNCiAgICAgIC8vIOaYr+WQpuW8gOWni+iusOW9lQ0KICAgICAgaWZSZWNvcmRpbmc6IGZhbHNlLA0KICAgICAgLy8g5piv5ZCm5Li65p+l55yL54q25oCBDQogICAgICBpc1ZpZXc6IGZhbHNlLA0KICAgICAgLy8g5piv5ZCm5Li65beh5qOA5ZGY55m76ZmG77yMZmFsc2XkuLrlt6Hmo4DlkZjnmbvlvZUNCiAgICAgIGlzRmxhZzogZmFsc2UsDQoNCiAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLiRzdG9yYWdlLmdldCgnYWNjZXNzX3Rva2VuJyksDQogICAgICBmb3JtVG9rZW46ICcnLA0KICAgICAgaGVhZGVyOiB7fSwNCg0KICAgICAgSW5zcE9iamVjdFR5cGVMaXN0OiBbXSwNCiAgICAgIEluc3BPYmplY3RMaXN0OiBbXSwNCiAgICAgIG5vd0NsaWNrOiAn5YWo6YOoJywNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLy8g5YCS6K6h5pe2DQogICAgdGltZVJlc3QoKSB7DQogICAgICAvLyByZXR1cm4gbmV3IERhdGUoJzIwMjMtMDctMDEgMDA6MDA6MDAnKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZSgpLmdldFRpbWUoKQ0KICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMudGFza0RldGFpbC50YXNrRW5kVGltZSkuZ2V0VGltZSgpIC0gbmV3IERhdGUoKS5nZXRUaW1lKCkNCiAgICB9LA0KICAgIHN0eWxlVmFyKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgLy8g6L+b5bqm5p2h5YWo6ZW/DQogICAgICAgICctLXRvdGFsV2lkdGgnOiB0aGlzLmRpdldpZHRoICsgJ3B4JywNCiAgICAgICAgJy0tYmFyV2lkdGgnOiAnMTAwcHgnLA0KICAgICAgICAnLS1jb2xvckJsdWUnOiAnYmx1ZScsDQogICAgICB9DQogICAgfSwNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBjb25zb2xlLmxvZygn5a2Y5YKo5Zyo5pys5Zyw55qE5qOA5ryP5Lu75YqhJywgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FsbGVyeVRhc2tEYXRhJykpKQ0KDQogICAgLy8g5b2T5YmN54K55Ye755qE5Lu75Yqh77yM5LuO5pys5Zyw5Lit6I635Y+WDQogICAgdGhpcy50YXNrRGV0YWlsID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FsbGVyeVRhc2tEYXRhJykpDQogICAgdGhpcy50YXNrUHJvY2VzcyA9IHRoaXMuY2hhbmdlVG9SYXRlKHRoaXMudGFza0RldGFpbC5yZXBvcnRSYXRlKSAvLyDku7vliqHov5vluqYNCiAgICB0aGlzLnVzZXJJbmZvID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8NCiAgICBjb25zb2xlLmxvZygndGhpcy51c2VySW5mbycsIHRoaXMudXNlckluZm8pDQogICAgY29uc29sZS5sb2coJ+W9k+WJjeeCueWHu+eahOS7u+WKoScsIHRoaXMudGFza0RldGFpbCkNCiAgICBjb25zb2xlLmxvZygNCiAgICAgIHRoaXMudXNlckluZm8udXNlck5hbWUsDQogICAgICB0aGlzLnRhc2tEZXRhaWwuaW5zcGVjdG9yLA0KICAgICAgJy0tLS0tLeW3oeajgOS6uuWRmOS4juW9k+WJjeeZu+mZhui0puWPty0tLS0tLScsDQogICAgICB0aGlzLnVzZXJJbmZvLnVzZXJGdWxsbmFtZSwNCiAgICAgIHRoaXMudGFza0RldGFpbC5pbnNwZWN0b3JGdWxsTmFtZQ0KICAgICkNCg0KICAgIC8vIOW9k+W3oeajgOS6uuWRmOS4juW9k+WJjeeZu+mZhui0puWPt+S4gOiHtOaXtuaJjeiDveajgOa8jw0KICAgIGlmICgNCiAgICAgIHRoaXMudXNlckluZm8udXNlck5hbWUgIT0gdGhpcy50YXNrRGV0YWlsLmluc3BlY3RvciAmJg0KICAgICAgdGhpcy51c2VySW5mby51c2VyRnVsbG5hbWUgIT0gdGhpcy50YXNrRGV0YWlsLmluc3BlY3RvckZ1bGxOYW1lDQogICAgKSB7DQogICAgICBjb25zb2xlLmxvZygn5Lq65ZGY5LiN5LiA6Ie0JykNCiAgICAgIC8vIHRydWXkuLrlt6Hmo4DlkZjmnKrnmbvlvZXvvIzkuLrmn6XnnIvnirbmgIENCiAgICAgIC8vIHRoaXMuaXNGbGFnID0gdHJ1ZQ0KICAgIH0NCiAgICAvLyBpbnNwZWN0b3I6ICJjaGVuX2JvbGluIg0KICAgIC8vIGluc3BlY3RvckZ1bGxOYW1lOiAi6ZmI5Y2a5p6XIg0KDQogICAgLy8gdXNlckZ1bGxuYW1lOiAi5a6L5Yev6b6ZIg0KICAgIC8vIHVzZXJOYW1lOiAic29uZ19rbCINCg0KICAgIC8vIOiOt+WPlmhlYWRlcu+8jOafpeivouW3peWNleeUqA0KICAgIGF4aW9zKHsNCiAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9USElSRF9SRVFVRVNUX1VSTCArICcvbWFpbi91c2VyQ2VudGVyQXBpL3Nzby90b2tlbkJ5VG9rZW4nLA0KICAgICAgbWV0aG9kOiAncG9zdCcsDQogICAgICBwYXJhbXM6IHsNCiAgICAgICAgdG9rZW46IHRoaXMuYWNjZXNzVG9rZW4sDQogICAgICB9LA0KICAgICAgaGVhZGVyczogew0KICAgICAgICBBdXRob3JpemF0aW9uOiAnQmFzaWMgYjNWMGQyOXlhenAzY0djeU1ESXcnLA0KICAgICAgfSwNCiAgICB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgew0KICAgICAgICB0aGlzLmZvcm1Ub2tlbiA9IHJlcy5kYXRhLnJlc3VsdERhdGEudG9rZW4NCiAgICAgICAgdGhpcy5oZWFkZXIgPSB7DQogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyICcgKyB0aGlzLmZvcm1Ub2tlbiwNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5kaXZXaWR0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXh0V2lkdGgnKS5jbGllbnRXaWR0aA0KICAgIGNvbnNvbGUubG9nKCd0ZXh0V2lkdGggd2lkdGg6ICcgKyB0aGlzLmRpdldpZHRoKQ0KICAgIHRoaXMuc3R5bGVWYXJbJy0tYmFyV2lkdGgnXSA9IHBhcnNlSW50KHRoaXMuZGl2V2lkdGggKiB0aGlzLnBlcmNlbnROdW0pICsgJ3B4Jw0KICAgIHRoaXMuZ2V0SW5zcE9iamVjdExpc3QoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY2hhbmdlVG9SYXRlKGNvdmVyYWdlKSB7DQogICAgICBpZiAoY292ZXJhZ2UuaW5jbHVkZXMoJy8nKSkgew0KICAgICAgICBsZXQgaW5zcCA9IE51bWJlcihjb3ZlcmFnZS5zcGxpdCgnLycpWzBdKQ0KICAgICAgICBsZXQgdW5pbnNwID0gTnVtYmVyKGNvdmVyYWdlLnNwbGl0KCcvJylbMV0pDQogICAgICAgIGlmICh1bmluc3ApIHsNCiAgICAgICAgICB0aGlzLnBlcmNlbnROdW0gPSBpbnNwIC8gdW5pbnNwIHx8IDANCiAgICAgICAgICByZXR1cm4gKChpbnNwIC8gdW5pbnNwKSAqIDEwMCkudG9GaXhlZCgyKSArICclJw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHJldHVybiAnMCUnDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAnMCUnDQogICAgICB9DQogICAgfSwNCiAgICAvLyDov5Tlm57ku7vliqHpobUNCiAgICBnb0JhY2tUb1Rhc2soKSB7DQogICAgICBpZiAodGhpcy5pZlJlY29yZGluZykgew0KICAgICAgICAvLyDlvZPliY3mraPlnKjlt6Hmo4DkuK3ml7bvvIzov5Tlm57ku7vliqHpobXml7bmj5DnpLrmmK/lkKbnprvlvIDor6Xku7vliqENCiAgICAgICAgdGhpcy5pZkxlYXZlVGFzayA9IHRydWUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSkNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIGdldEluc3BPYmplY3RMaXN0KCkgew0KICAgICAgbGV0IHJlcyA9IGF3YWl0IEFwaS5pbnNwT2JqZWN0KHsgdGFza0lkOiB0aGlzLnRhc2tEZXRhaWwuaWQgfSkNCiAgICAgIGlmIChyZXMuc3RhdHVzKSB7DQogICAgICAgIHJlcy5kYXRhLm9iamVjdFR5cGVMaXN0ID8gdGhpcy5JbnNwT2JqZWN0VHlwZUxpc3QgPSByZXMuZGF0YS5vYmplY3RUeXBlTGlzdCA6ICcnDQogICAgICAgIHRoaXMuSW5zcE9iamVjdExpc3QgPSByZXMuZGF0YS5vYmplY3RzDQogICAgICB9DQogICAgfSwNCiAgICAvLyDlhajpg6jjgIHmlK/lu4rjgIHmsLTkv6HoiLHngrnlh7sNCiAgICBhc3luYyBidG5DbGljayh0ZXh0KSB7DQogICAgICB0aGlzLm5vd0NsaWNrID0gdGV4dA0KICAgICAgbGV0IHJlcyA9IHt9DQogICAgICBpZiAodGV4dCA9PSAn5YWo6YOoJykgew0KICAgICAgICB0aGlzLmdldEluc3BPYmplY3RMaXN0KCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJlcyA9IGF3YWl0IEFwaS5pbnNwT2JqZWN0KHsgdGFza0lkOiB0aGlzLnRhc2tEZXRhaWwuaWQsIG9iamVjdFN0YXR1czogdGhpcy5ub3dDbGlja0RvbmUsIG9iamVjdFR5cGU6IHRleHQgfSkNCiAgICAgICAgaWYgKHJlcy5zdGF0dXMpIHsNCiAgICAgICAgICB0aGlzLkluc3BPYmplY3RMaXN0ID0gcmVzLmRhdGEub2JqZWN0cw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICAvLyDlvIDlp4vnrqHlu4rlt6Hmo4ANCiAgICBzdGFydEdhbGxlcnlJbnNwKCkgew0KICAgICAgLy8gdGhpcy50YXNrRGV0YWlsIOS4uuW9k+WJjeS7u+WKoeivpuaDhe+8jOWPr+mAmui/hyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYWxsZXJ5VGFza0RhdGEnKSkg6I635Y+WDQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIG5hbWU6ICdTdGFydEdhbGxlcnlJbnNwZWN0aW9uJywNCiAgICAgIH0pDQogICAgfSwNCiAgfSwNCn0NCg=="},{"version":3,"sources":["GalleryInspection.vue"],"names":[],"mappings":";AAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GalleryInspection.vue","sourceRoot":"src/views/inspectionManage","sourcesContent":["<template>\r\n  <div class=\"GalleryInspectionStyle\">\r\n    <fm-nav-bar left-arrow :title=\"taskDetail.taskName\" @click-left=\"goBackToTask\">\r\n    </fm-nav-bar>\r\n    <div class=\"mapContainer\">\r\n      <div class=\"topCard\">\r\n        <div class=\"leftSide\">\r\n          <div class=\"littleLine1\">\r\n            <div class=\"textWidth\">\r\n              <span>任务进度</span>\r\n              <span>{{ taskProcess }}</span>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"true\" class=\"littleLine2\">\r\n            <!--  第一层，固定进度条宽度 -->\r\n            <div :style=\"styleVar\" class=\"progressWidth\">\r\n              <!-- 第二层，计算得到的实际比率宽度 -->\r\n              <div :style=\"styleVar\" class=\"colorWidth\">\r\n                <!-- 第三层，动画 -->\r\n                <div :style=\"styleVar\" class=\"progressAnimate\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"littleLine3\">\r\n            <img src=\"../../assets/img/inspection/剩余时间.png\" alt=\"\" />\r\n            <div class=\"titleText\">剩余时间：</div>\r\n            <fm-count-down :time=\"timeRest\">\r\n              <template #default=\"timeData\">\r\n                <span class=\"block\">{{ timeData.days }}</span>\r\n                <span class=\"colon\">天</span>\r\n                <span class=\"block\">{{ timeData.hours }}</span>\r\n                <span class=\"colon\"> : </span>\r\n                <span class=\"block\">{{ timeData.minutes }}</span>\r\n              </template>\r\n            </fm-count-down>\r\n          </div>\r\n        </div>\r\n        <div class=\"rightSide\">\r\n          <img @click=\"startGalleryInsp\" src=\"@/assets/img/inspection/暂停.png\" alt=\"\" />\r\n          <!-- <img src=\"@/assets/img/inspection/开始.png\" alt=\"\"> -->\r\n        </div>\r\n      </div>\r\n      <div class=\"bottomCard\">\r\n        <div class=\"topThreeBtn\">\r\n          <div class=\"buttonStyle\" @click=\"btnClick('全部')\" :class=\"nowClick == '全部' ? 'chooseStyle' : ''\">\r\n            全部\r\n          </div>\r\n          <div class=\"buttonStyle\" v-for=\"(item, index) in InspObjectTypeList\" :key=\"index\" @click=\"btnClick(item)\"\r\n            :class=\"nowClick == item ? 'chooseStyle' : ''\">\r\n            {{ item }}\r\n          </div>\r\n        </div>\r\n        <div class=\"bottomList\">\r\n          <div class=\"lineStyle\" v-for=\"(item, index) in InspObjectList\" :key=\"index\">\r\n            <span class=\"numStyle\">{{ index + 1 }}</span>\r\n            <span class=\"textStyle\">{{ item.objectName }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport * as Api from './api'\r\nimport bus from '@/utils/bus'\r\nimport { ENUM } from '@/store/State/stateTypes'\r\nimport * as turf from '@turf/turf'\r\nimport { bbox, center as getCenter } from '@turf/turf'\r\nimport _cloneDeep from 'lodash/cloneDeep'\r\nimport { addIconToMap } from '@/utils/mapUtils'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport { Toast, Dialog, Notify } from 'fawkes-mobile-lib'\r\nimport mixins from '@/views/inspectMap/mixins/mixins.js'\r\nimport dayjs from 'dayjs'\r\nimport request from '@/utils/request'\r\n\r\nexport default {\r\n  name: '',\r\n  // mixins: [mixins],\r\n  components: {},\r\n  data() {\r\n    return {\r\n      // 用于给进度条长度赋值\r\n      taskProcess: 100,\r\n      divWidth: 0,\r\n      percentNum: 1,\r\n\r\n      // 当前点击的任务\r\n      taskDetail: {},\r\n      // 巡检员信息\r\n      userInfo: {},\r\n      // 是否开始记录\r\n      ifRecording: false,\r\n      // 是否为查看状态\r\n      isView: false,\r\n      // 是否为巡检员登陆，false为巡检员登录\r\n      isFlag: false,\r\n\r\n      accessToken: this.$storage.get('access_token'),\r\n      formToken: '',\r\n      header: {},\r\n\r\n      InspObjectTypeList: [],\r\n      InspObjectList: [],\r\n      nowClick: '全部',\r\n    }\r\n  },\r\n  computed: {\r\n    // 倒计时\r\n    timeRest() {\r\n      // return new Date('2023-07-01 00:00:00').getTime() - new Date().getTime()\r\n      return new Date(this.taskDetail.taskEndTime).getTime() - new Date().getTime()\r\n    },\r\n    styleVar() {\r\n      return {\r\n        // 进度条全长\r\n        '--totalWidth': this.divWidth + 'px',\r\n        '--barWidth': '100px',\r\n        '--colorBlue': 'blue',\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    console.log('存储在本地的检漏任务', JSON.parse(localStorage.getItem('galleryTaskData')))\r\n\r\n    // 当前点击的任务，从本地中获取\r\n    this.taskDetail = JSON.parse(localStorage.getItem('galleryTaskData'))\r\n    this.taskProcess = this.changeToRate(this.taskDetail.reportRate) // 任务进度\r\n    this.userInfo = this.$store.state.userInfo\r\n    console.log('this.userInfo', this.userInfo)\r\n    console.log('当前点击的任务', this.taskDetail)\r\n    console.log(\r\n      this.userInfo.userName,\r\n      this.taskDetail.inspector,\r\n      '------巡检人员与当前登陆账号------',\r\n      this.userInfo.userFullname,\r\n      this.taskDetail.inspectorFullName\r\n    )\r\n\r\n    // 当巡检人员与当前登陆账号一致时才能检漏\r\n    if (\r\n      this.userInfo.userName != this.taskDetail.inspector &&\r\n      this.userInfo.userFullname != this.taskDetail.inspectorFullName\r\n    ) {\r\n      console.log('人员不一致')\r\n      // true为巡检员未登录，为查看状态\r\n      // this.isFlag = true\r\n    }\r\n    // inspector: \"chen_bolin\"\r\n    // inspectorFullName: \"陈博林\"\r\n\r\n    // userFullname: \"宋凯龙\"\r\n    // userName: \"song_kl\"\r\n\r\n    // 获取header，查询工单用\r\n    axios({\r\n      url: process.env.VUE_APP_THIRD_REQUEST_URL + '/main/userCenterApi/sso/tokenByToken',\r\n      method: 'post',\r\n      params: {\r\n        token: this.accessToken,\r\n      },\r\n      headers: {\r\n        Authorization: 'Basic b3V0d29yazp3cGcyMDIw',\r\n      },\r\n    }).then((res) => {\r\n      if (res.status == 200) {\r\n        this.formToken = res.data.resultData.token\r\n        this.header = {\r\n          'Content-Type': 'application/json',\r\n          Authorization: 'Bearer ' + this.formToken,\r\n        }\r\n      }\r\n    })\r\n  },\r\n  mounted() {\r\n    this.divWidth = document.querySelector('.textWidth').clientWidth\r\n    console.log('textWidth width: ' + this.divWidth)\r\n    this.styleVar['--barWidth'] = parseInt(this.divWidth * this.percentNum) + 'px'\r\n    this.getInspObjectList()\r\n  },\r\n  methods: {\r\n    changeToRate(coverage) {\r\n      if (coverage.includes('/')) {\r\n        let insp = Number(coverage.split('/')[0])\r\n        let uninsp = Number(coverage.split('/')[1])\r\n        if (uninsp) {\r\n          this.percentNum = insp / uninsp || 0\r\n          return ((insp / uninsp) * 100).toFixed(2) + '%'\r\n        } else {\r\n          return '0%'\r\n        }\r\n      } else {\r\n        return '0%'\r\n      }\r\n    },\r\n    // 返回任务页\r\n    goBackToTask() {\r\n      if (this.ifRecording) {\r\n        // 当前正在巡检中时，返回任务页时提示是否离开该任务\r\n        this.ifLeaveTask = true\r\n      } else {\r\n        this.$router.go(-1)\r\n      }\r\n    },\r\n    async getInspObjectList() {\r\n      let res = await Api.inspObject({ taskId: this.taskDetail.id })\r\n      if (res.status) {\r\n        res.data.objectTypeList ? this.InspObjectTypeList = res.data.objectTypeList : ''\r\n        this.InspObjectList = res.data.objects\r\n      }\r\n    },\r\n    // 全部、支廊、水信舱点击\r\n    async btnClick(text) {\r\n      this.nowClick = text\r\n      let res = {}\r\n      if (text == '全部') {\r\n        this.getInspObjectList()\r\n      } else {\r\n        res = await Api.inspObject({ taskId: this.taskDetail.id, objectStatus: this.nowClickDone, objectType: text })\r\n        if (res.status) {\r\n          this.InspObjectList = res.data.objects\r\n        }\r\n      }\r\n    },\r\n    // 开始管廊巡检\r\n    startGalleryInsp() {\r\n      // this.taskDetail 为当前任务详情，可通过 JSON.parse(localStorage.getItem('galleryTaskData')) 获取\r\n      this.$router.push({\r\n        name: 'StartGalleryInspection',\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.GalleryInspectionStyle {\r\n  background-color: #ffffff !important;\r\n  height: 100%;\r\n\r\n  // 顶部标题背景色\r\n  /deep/.fm-nav-bar__content {\r\n    background-color: #ffffff;\r\n  }\r\n\r\n  /deep/.fm-nav-bar__title {\r\n    color: #191919 !important;\r\n  }\r\n\r\n  /deep/ .fm-nav-bar .fm-icon {\r\n    color: #191919 !important;\r\n  }\r\n\r\n  .mapContainer {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    height: calc(100% - 92px);\r\n    width: 100%;\r\n    background: linear-gradient(0deg,\r\n        rgba(211, 231, 254, 0) 0%,\r\n        rgba(211, 231, 254, 0.05) 50%,\r\n        rgba(211, 231, 254, 0.4) 100%);\r\n\r\n    .topCard {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      width: 690px;\r\n      min-height: 175px;\r\n      margin-top: 48px;\r\n      background: #ffffff;\r\n      box-shadow: 0px 4px 16px 0px rgba(104, 115, 127, 0.06);\r\n      border-radius: 16px;\r\n\r\n      .leftSide {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-evenly;\r\n        width: 70%;\r\n        height: 100%;\r\n\r\n        // background-color: rgb(255, 196, 196);\r\n        .littleLine1 {\r\n          display: flex;\r\n          align-items: center;\r\n          min-height: 85px;\r\n          padding: 0 32px;\r\n          font-size: 36px;\r\n          font-family: Helvetica-Bold, Helvetica;\r\n          font-weight: bold;\r\n          color: #191919;\r\n\r\n          .textWidth {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            width: 90%;\r\n            min-height: 85px;\r\n          }\r\n        }\r\n\r\n        .littleLine2 {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          min-height: 24px;\r\n          padding-left: 32px;\r\n\r\n          // 第一层，固定进度条宽度\r\n          .progressWidth {\r\n            width: var(--totalWidth);\r\n            height: 16px;\r\n            border-radius: 8px;\r\n            background: rgba(27, 103, 216, 0.08);\r\n            box-shadow: inset 0px 0px 5px 0px rgba(39, 123, 214, 0.15);\r\n\r\n            // 第二层，计算得到的实际比率宽度\r\n            .colorWidth {\r\n              width: var(--barWidth);\r\n              height: 16px;\r\n              border-radius: 8px;\r\n              box-shadow: 0px 4px 8px 0px rgba(50, 127, 211, 0.24);\r\n              border-radius: 8px;\r\n              background: linear-gradient(-45deg, #1b67d8 0%, rgba(58, 160, 238, 0.42) 100%);\r\n\r\n              // 第三层，动画\r\n              .progressAnimate {\r\n                width: 0;\r\n                height: 16px;\r\n                border-radius: 8px;\r\n                background: linear-gradient(270deg, #1b67d8 0%, rgba(58, 160, 238, 0.42) 100%);\r\n                // background: linear-gradient(to top right, #CDDC39, #8BC34A, #FFEB3B);\r\n                animation: w 3s linear infinite;\r\n\r\n                @keyframes w {\r\n                  0% {\r\n                    width: 0;\r\n                  }\r\n\r\n                  100% {\r\n                    width: var(--barWidth);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // 剩余时间\r\n        .littleLine3 {\r\n          display: flex;\r\n          align-items: center;\r\n          width: 100%;\r\n          min-height: 85px;\r\n          font-size: 28px;\r\n          font-family: PingFangSC-Regular, PingFang SC;\r\n          font-weight: 400;\r\n          color: #999999;\r\n\r\n          img {\r\n            width: 32px;\r\n            height: 32px;\r\n            margin: 0 10px 0 32px;\r\n          }\r\n\r\n          // background-color: rgb(255, 129, 245);\r\n          .colon {\r\n            display: inline-block;\r\n            margin: 0 20px;\r\n            font-size: 24px;\r\n            font-weight: 400;\r\n            color: #2062c4;\r\n            line-height: 33px;\r\n          }\r\n\r\n          .block {\r\n            display: inline-block;\r\n            width: 38px;\r\n            font-size: 24px;\r\n            text-align: center;\r\n            color: #2062c4;\r\n            background: rgba(27, 103, 216, 0.1);\r\n            border-radius: 8px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .rightSide {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 30%;\r\n        height: 100%;\r\n\r\n        // background-color: rgb(196, 255, 196);\r\n        img {\r\n          width: 140px;\r\n          height: 140px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .bottomCard {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 690px;\r\n      height: calc(100% - 278px);\r\n      margin-top: 32px;\r\n      background: #FFFFFF;\r\n      box-shadow: 0px 4px 16px 0px rgba(104, 115, 127, 0.06);\r\n      border-radius: 16px 16px 0 0;\r\n\r\n      .topThreeBtn {\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n        width: 100%;\r\n        height: 110px;\r\n\r\n        .buttonStyle {\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          width: 196px;\r\n          height: 64px;\r\n          margin-top: 30px;\r\n          background: #f5f5f5;\r\n          border-radius: 36px;\r\n          transition: all 0.4s;\r\n          font-size: 28px;\r\n          font-family: PingFangSC-Regular, PingFang SC;\r\n          font-weight: 400;\r\n          color: #555555;\r\n        }\r\n\r\n        .chooseStyle {\r\n          color: #1b67d8;\r\n          background: #dde8f9;\r\n        }\r\n      }\r\n\r\n      .bottomList {\r\n        width: 100%;\r\n        height: calc(100% - 110px);\r\n        overflow-y: scroll;\r\n\r\n        // background-color: rgb(130, 247, 139);\r\n        .lineStyle {\r\n          position: relative;\r\n          display: flex;\r\n          align-items: center;\r\n          // width: 100%;\r\n          height: 96px;\r\n          line-height: 96px;\r\n          padding-left: 8px;\r\n\r\n          .numStyle {\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            width: 60px;\r\n            font-size: 36px;\r\n            font-family: Helvetica-Bold, Helvetica;\r\n            font-weight: bold;\r\n            color: #1b67d8;\r\n          }\r\n\r\n          .textStyle {\r\n            display: flex;\r\n            align-items: center;\r\n            padding-left: 24px;\r\n            font-size: 32px;\r\n            font-family: PingFangSC-Regular, PingFang SC;\r\n            font-weight: 400;\r\n            color: #333333;\r\n          }\r\n\r\n          &::after {\r\n            content: '';\r\n            position: absolute;\r\n            display: block;\r\n            width: 89%;\r\n            height: 1px;\r\n            background-color: #eeeeee;\r\n            bottom: 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}