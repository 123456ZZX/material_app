{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\MeterReading\\BookIndex.vue?vue&type=style&index=0&id=483b1b37&lang=less&scoped=true","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\MeterReading\\BookIndex.vue","mtime":1708935543695},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiNCb29rSW5kZXggewogIGhlaWdodDogMTAwJTsKICBvdmVyZmxvdzogYXV0bzsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWNmNGZmICFpbXBvcnRhbnQ7CgogIC9kZWVwLyAuZm0tbmF2LWJhcl9fY29udGVudCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDY3NmZkICFpbXBvcnRhbnQ7CiAgICBoZWlnaHQ6IDEuOHJlbTsKICB9CgogIC9kZWVwLyAuZm0tbmF2LWJhcl9fdGl0bGUgewogICAgY29sb3I6ICNmZmZmZmYgIWltcG9ydGFudDsKICB9CgogIC9kZWVwLyAuZm0tbmF2LWJhciAuZm0taWNvbiB7CiAgICBjb2xvcjogI2ZmZmZmZiAhaW1wb3J0YW50OwogIH0KCiAgL2RlZXAvIC5mbS1wdWxsLXJlZnJlc2ggewogICAgb3ZlcmZsb3c6IHZpc2libGU7CiAgfQoKICAvKiDmmoLml6DmlbDmja5iZWdpbiAqLwoKICAubm8tZGF0YS1pbWcgewogICAgbWFyZ2luOiAyMDBweCA5NXB4IDAgOTVweDsKICB9CgogIC5uby1kYXRhLXRleHQgewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICB9CgogIC5uby1kYXRhLXRleHQtZGVzY3JpcGUgewogICAgZm9udC1zaXplOiAzMnB4OwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIGNvbG9yOiAjOTk5OTk5OwogIH0KCiAgLmxpc3QtaXRlbSB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogODBweDsKICAgIC8vIHBhZGRpbmc6IDAgMTBweDsKICAgIGxpbmUtaGVpZ2h0OiA4MHB4OwogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmZmY7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWNmNGZmOwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogbGVmdDsKCiAgICAucHRpdGxlIHsKICAgICAgd2lkdGg6IDgwJTsKICAgICAgcGFkZGluZy1sZWZ0OiA2cHg7CiAgICAgIGZvbnQtc2l6ZTogMjRweDsKICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["BookIndex.vue"],"names":[],"mappings":";AA+HA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BookIndex.vue","sourceRoot":"src/views/MeterReading","sourcesContent":["<template>\n  <div id='BookIndex'>\n    <fm-pull-refresh id='BookIndex' v-model='refreshing' success-text='刷新成功' @refresh='onRefresh'>\n      <fm-nav-bar title='我的表册' left-arrow @click-left=\"$router.replace('/index')\">\n      </fm-nav-bar>\n      <div class='plan-container'>\n        <fm-list v-model='loading' @load='onLoad' :immediate-check='false'>\n          <div v-for='(item, index) in planList' :key='index' class='list-item' @click='toTask(item.bookCode)'>\n            <img src='@/assets/svg/doc_books.svg'>\n            <span class='ptitle'>{{ item.bookName }}</span>\n          </div>\n        </fm-list>\n        <template v-if='planList && planList.length == 0'>\n          <div class='no-data-img'>\n            <fm-image fit='cover' :src=\"require('@/assets/img/no-data-img.png')\" />\n          </div>\n          <div class='no-data-text'>\n            <div class='no-data-text-descripe'>暂无表册数据</div>\n          </div>\n        </template>\n      </div>\n    </fm-pull-refresh>\n  </div>\n</template>\n<script>\nimport { NavBar, List, PullRefresh, Toast } from 'fawkes-mobile-lib'\nimport { getReadingBook } from './api'\n\nexport default {\n  components: {\n    [NavBar.name]: NavBar,\n    [List.name]: List,\n    [PullRefresh.name]: PullRefresh,\n    [Toast.name]: Toast\n  },\n  props: {\n    type: null\n  },\n  data() {\n    return {\n      refreshing: false,\n      loading: false,\n      inExecutionPage: 1,\n      todoPage: 1,\n      finishedPage: 1,\n      planList: []\n    }\n  },\n  methods: {\n    pageReset() {\n      this.inExecutionPage = 1\n      this.todoPage = 1\n      this.finishedPage = 1\n    },\n    // 页面加载/下拉刷新\n    onRefresh() {\n      this.pageReset()\n      this.firstRequestFinished = false\n      this.loading = true\n      this.getList()\n    },\n    // 列表加载更多\n    onLoad() {\n      this.getList()\n    },\n    getList() {\n      this.loading = false\n      let uid = localStorage.getItem('cs_userId')\n      let params = {}\n      params.chargePerson = uid\n      params.type = this.type == 'survey' ? 'ZCBS' : 'SDCB'\n      getReadingBook(params)\n        .then((res) => {\n          if (res.data) {\n            this.planList = res.data\n          }\n        })\n        .finally(() => {\n          this.loading = false\n          this.refreshing = false\n          this.firstRequestFinished = true\n        })\n    },\n    toTask(code) {\n      localStorage.setItem('bookCode', code)\n      localStorage.setItem('taskType', this.type)\n      this.$router.push({\n        name: 'TaskIndex'\n      })\n    },\n    getLocation() {\n      /**\n       * {\n              \"accuracy\": \"\",    //定位精度（Android返回）\n              \"address\": \"浙江省杭州市余杭区智溢路靠近中国(杭州)人工智能小镇\", （若请求回逆地理位置信息则返回）\n              \"latitude\": \"30.2706469726562517\",（必返回）\n              \"longitude\":\"119.9658680555555605\",（必返回）\n              \"locTime\":\"2022-03-09 09:45:19\",（必返回）\n              \"locType\":\"\"    //定位模式（Android返回）\n          }\n       */\n      if (typeof yuanchu != 'undefined') {\n        yuanchu.locationAMap.requestSingleLocation(\n          ['1'],\n          (res) => {\n            let userPosition = [res.longitude, res.latitude]\n            this.upPosition(userPosition)\n          },\n          (err) => {\n\n          }\n        )\n      }\n    }\n  },\n  mounted() {\n    Toast.loading({\n      message: '加载中...',\n      forbidClick: true\n    })\n    this.onRefresh()\n    this.getLocation()\n  }\n}\n</script>\n\n<style lang='less' scoped>\n#BookIndex {\n  height: 100%;\n  overflow: auto;\n  background-color: #ecf4ff !important;\n\n  /deep/ .fm-nav-bar__content {\n    background-color: #0676fd !important;\n    height: 1.8rem;\n  }\n\n  /deep/ .fm-nav-bar__title {\n    color: #ffffff !important;\n  }\n\n  /deep/ .fm-nav-bar .fm-icon {\n    color: #ffffff !important;\n  }\n\n  /deep/ .fm-pull-refresh {\n    overflow: visible;\n  }\n\n  /* 暂无数据begin */\n\n  .no-data-img {\n    margin: 200px 95px 0 95px;\n  }\n\n  .no-data-text {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .no-data-text-descripe {\n    font-size: 32px;\n    font-weight: 400;\n    color: #999999;\n  }\n\n  .list-item {\n    width: 100%;\n    height: 80px;\n    // padding: 0 10px;\n    line-height: 80px;\n    border-bottom: 1px solid #fff;\n    background-color: #ecf4ff;\n    display: flex;\n    justify-content: left;\n\n    .ptitle {\n      width: 80%;\n      padding-left: 6px;\n      font-size: 24px;\n      font-weight: 500;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      text-align: left;\n    }\n  }\n}\n</style>\n"]}]}