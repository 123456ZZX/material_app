{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\components\\select-personnel\\components\\Tree\\TreeNode.vue?vue&type=style&index=0&id=45783b10&lang=scss&scoped=true","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\components\\select-personnel\\components\\Tree\\TreeNode.vue","mtime":1705912799958},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoudHJlZS1ub2RlLWJveCB7DQogIC5pdGVtIHsNCiAgICBtYXJnaW4tbGVmdDogMjhweDsNCiAgICBsaW5lLWhlaWdodDogNTZweDsNCg0KICAgICYgPiBkaXYgew0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQoNCiAgICAgICYgPiBpIHsNCiAgICAgICAgZm9udC1zaXplOiAyOHB4Ow0KICAgICAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICAgIH0NCiAgICB9DQoNCiAgICAuYWN0aXZlIHsNCiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgICAgY29sb3I6ICMwMjdhZmY7DQogICAgfQ0KDQogICAgLm1sLTI0IHsNCiAgICAgIG1hcmdpbi1sZWZ0OiAyNHB4Ow0KICAgIH0NCg0KICAgIC5uYW1lIHsNCiAgICAgIGZsZXg6IDE7DQogICAgICBtYXJnaW4tbGVmdDogMTZweDsNCiAgICAgIGZvbnQtc2l6ZTogMzBweDsNCiAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsNCiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["TreeNode.vue"],"names":[],"mappings":";AAwGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TreeNode.vue","sourceRoot":"src/components/select-personnel/components/Tree","sourcesContent":["<!--\r\n * @Description: \r\n * @Author: ye_xf\r\n * @Date: 2021-09-10 09:18:17\r\n * @LastEditTime: 2022-06-10 09:37:14\r\n * @LastEditors: ye_xf\r\n * @Reference: \r\n-->\r\n\r\n<template>\r\n  <div v-show=\"!isHide\" class=\"tree-node-box\">\r\n    <div v-for=\"(item, index) in list\" :key=\"item.content.id\" class=\"item\">\r\n      <div\r\n        @click=\"nodeClick(item, index)\"\r\n        :class=\"{ active: item.content.id === activeId }\"\r\n      >\r\n        <i\r\n          v-if=\"item.children && item.children.length\"\r\n          class=\"fm-icon\"\r\n          :class=\"\r\n            indexList.includes(index)\r\n              ? 'fm-icon-arrow-up'\r\n              : 'fm-icon-arrow-down'\r\n          \"\r\n        ></i>\r\n        <span\r\n          class=\"name\"\r\n          :class=\"{ 'ml-24': !item.children || !item.children.length }\"\r\n        >\r\n          {{ item.content.name }}\r\n        </span>\r\n      </div>\r\n      <!-- 递归调用组件 -->\r\n      <tree-node\r\n        ref=\"treeNode\"\r\n        :list=\"item.children ? item.children : []\"\r\n        :activeId=\"activeId\"\r\n        @setActiveId=\"setNodeActiveId\"\r\n        @treeClick=\"treeNodeClick\"\r\n      ></tree-node>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'treeNode',\r\n  props: {\r\n    list: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    activeId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isHide: false,\r\n      indexList: [], //保存收起状态的下标\r\n      activeIndex: null,\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  methods: {\r\n    setNodeActiveId(id) {\r\n      this.$emit('setActiveId', id)\r\n    },\r\n    treeNodeClick(data) {\r\n      this.$emit('treeClick', data)\r\n    },\r\n    nodeClick(data, index) {\r\n      this.setNodeActiveId(data.content.id) //递归设置activeId\r\n      this.activeIndex = index\r\n\r\n      //若存在，则移除\r\n      if (this.indexList.includes(index)) {\r\n        this.indexList.splice(this.indexList.indexOf(index), 1)\r\n        this.$refs.treeNode[index].show()\r\n      } else {\r\n        this.indexList.push(index)\r\n        this.$refs.treeNode[index].hide()\r\n      }\r\n\r\n      if (!data.children || !data.children.length) {\r\n        this.treeNodeClick(data)\r\n        return\r\n      }\r\n    },\r\n    hide() {\r\n      this.isHide = true\r\n    },\r\n    show() {\r\n      this.isHide = false\r\n    },\r\n  },\r\n  created() {},\r\n  mounted() {},\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tree-node-box {\r\n  .item {\r\n    margin-left: 28px;\r\n    line-height: 56px;\r\n\r\n    & > div {\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      & > i {\r\n        font-size: 28px;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n\r\n    .active {\r\n      font-weight: bold;\r\n      color: #027aff;\r\n    }\r\n\r\n    .ml-24 {\r\n      margin-left: 24px;\r\n    }\r\n\r\n    .name {\r\n      flex: 1;\r\n      margin-left: 16px;\r\n      font-size: 30px;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}