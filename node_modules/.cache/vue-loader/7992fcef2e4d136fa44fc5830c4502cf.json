{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\DispatchCenter\\components\\SchedulingEvents\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\DispatchCenter\\components\\SchedulingEvents\\index.vue","mtime":1708928163368},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBUb2FzdCB9IGZyb20gJ2Zhd2tlcy1tb2JpbGUtbGliJw0KLy8g5LiL5ouJ6YCJ5oup5qGGDQppbXBvcnQgU2VsZWN0IGZyb20gJy4vU2VsZWN0LnZ1ZScNCmltcG9ydCBsaXN0RXZlbnRzIGZyb20gJy4vbGlzdEV2ZW50cy52dWUnDQppbXBvcnQgeyBhZGRJY29uVG9NYXAgfSBmcm9tICdAL3V0aWxzL21hcFV0aWxzJw0KLy8gaW1wb3J0IGluZm9Qb3B1cCBmcm9tICdAL3ZpZXdzL0Rpc3BhdGNoQ2VudGVyL2NvbXBvbmVudHMvcG9wdXAudnVlJyAvLyDkuovku7blvLnnqpcNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCmltcG9ydCB7IEVOVU0gfSBmcm9tICdAL3N0b3JlL1N0YXRlL3N0YXRlVHlwZXMnDQppbXBvcnQgbWFwYm94Z2wgZnJvbSAnbWFwYm94LWdsJw0KY29uc3QgTWFwT2JqID0gew0KICAgIG1hcDogbnVsbCwNCiAgICAvLyAgIHZpZXdlcjogbnVsbCwNCiAgICAvLyAgIHBvcHVwSXRlbTogJycsIC8vIG1hcGJveOawlOazoeahhg0KICAgIC8vICAgbWFya2VyOiAnJywNCiAgICAvLyAgIG1vbml0b3JQb3B1cHM6IFtdLA0KICAgIC8vICAgbW9uaXRvclBvcHVwQ29udGVudDogW10sDQogICAgLy8gICBldmVudFBvcHVwQXJyYXk6IFtdLC8vIOS6i+S7tueCuXBvcHVw6ZuG5ZCIDQp9DQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIlNjaGVkdWxpbmdFdmVudHMiLA0KICAgIGNvbXBvbmVudHM6IHsgVG9hc3QsIGxpc3RFdmVudHMsIFNlbGVjdCB9LA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBpY29uczogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+S6i+S7tueCuScsDQogICAgICAgICAgICAgICAgICAgIHVybDogcmVxdWlyZSgnQC9hc3NldHMvaW1nL21hcC9kdy5wbmcnKSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIC8vIOS6i+S7tg0KICAgICAgICAgICAgYWNjZXNzVG9rZW46IHRoaXMuJHN0b3JhZ2UuZ2V0KCdhY2Nlc3NfdG9rZW4nKSwNCiAgICAgICAgICAgIGZvcm1Ub2tlbjogJycsDQogICAgICAgICAgICBoZWFkZXI6IHt9LA0KICAgICAgICAgICAgdGFibGVEYXRhOiBbXSwvL+aLv+WIsOWFqOmDqOaVsOaNru+8jOWIh+aNouWFqOmDqC/lvoXlpITnkIYv5bey5a6M5oiQ5pe25LiN5Y+Y77yM562b6YCJ5pe26Ze05ZKM5a+56LGh5pe25omN5Y+YDQogICAgICAgICAgICB0YWJsZUxpc3Q6IFtdLC8v55So5LqO5YiX6KGo5riy5p+TDQogICAgICAgICAgICB0YWJsZUdlbzogW10sLy/nlKjkuo7lnLDlm77ogZrnsbvlsZXnpLoNCiAgICAgICAgICAgIC8v5LqL5Lu257uf6K6h5LiO5YiX6KGoDQogICAgICAgICAgICBhY3RpdmVOYW1lOiAibnVtVG90YWwiLA0KICAgICAgICAgICAgbnVtVG90YWw6IDAsDQogICAgICAgICAgICBudW1Jbmc6IDAsDQogICAgICAgICAgICBudW1Ib3ZlcjogMCwNCiAgICAgICAgICAgIG51bUVkOiAwLA0KICAgICAgICAgICAgLy8g562b6YCJDQogICAgICAgICAgICBkYXRlVHlwZUxpc3Q6IFsNCiAgICAgICAgICAgICAgICB7IHR5cGU6IDEsIG5hbWU6ICflhajpg6jml7bpl7QnLCB2YWx1ZTogJ+WFqOmDqOaXtumXtCcgfSwNCiAgICAgICAgICAgICAgICB7IHR5cGU6IDEsIG5hbWU6ICfku4rml6UnLCB2YWx1ZTogJ+S7iuaXpScgfSwNCiAgICAgICAgICAgICAgICB7IHR5cGU6IDEsIG5hbWU6ICfov5HkuIDlkagnLCB2YWx1ZTogJ+i/keS4gOWRqCcgfSwNCiAgICAgICAgICAgICAgICB7IHR5cGU6IDEsIG5hbWU6ICfov5HkuIDmnIgnLCB2YWx1ZTogJ+i/keS4gOaciCcgfSwNCiAgICAgICAgICAgICAgICB7IHR5cGU6IDEsIG5hbWU6ICfov5HkuInmnIgnLCB2YWx1ZTogJ+i/keS4ieaciCcgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBPYmpUeXBlTGlzdDogWw0KICAgICAgICAgICAgICAgIHsgdHlwZTogMiwgbmFtZTogJ+WFqOmDqOexu+WeiycsIHZhbHVlOiAn5YWo6YOo57G75Z6LJyB9LA0KICAgICAgICAgICAgICAgIHsgdHlwZTogMiwgbmFtZTogJ+axoeawtCcsIHZhbHVlOiAn5rGh5rC0JyB9LA0KICAgICAgICAgICAgICAgIHsgdHlwZTogMiwgbmFtZTogJ+mbqOawtCcsIHZhbHVlOiAn6Zuo5rC0JyB9LA0KICAgICAgICAgICAgICAgIHsgdHlwZTogMiwgbmFtZTogJ+S+m+awtCcsIHZhbHVlOiAn5L6b5rC0JyB9LA0KICAgICAgICAgICAgICAgIHsgdHlwZTogMiwgbmFtZTogJ+WGjeeUn+awtCcsIHZhbHVlOiAn5YaN55Sf5rC0JyB9DQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgZGF0ZVR5cGU6ICflhajpg6jml7bpl7QnLA0KICAgICAgICAgICAgc3RhcnREYXRlOiAiIiwNCiAgICAgICAgICAgIGVuZERhdGU6ICIiLA0KICAgICAgICAgICAgT2JqVHlwZTogJ+WFqOmDqOexu+WeiycsDQogICAgICAgIH0NCiAgICB9LA0KICAgIHdhdGNoOiB7DQogICAgICAgIGFjdGl2ZU5hbWU6IHsNCiAgICAgICAgICAgIGhhbmRsZXIodmFsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0QnlTdGF0dXModmFsKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICBkYXRlVHlwZTogew0KICAgICAgICAgICAgaGFuZGxlcih2YWwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZURhdGVPYmoodmFsKQ0KICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRzTGF5ZXIoKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgICAgT2JqVHlwZTogew0KICAgICAgICAgICAgaGFuZGxlcih2YWwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZURhdGVPYmoodmFsKQ0KICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRzTGF5ZXIoKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIC8vIOWIneWni+WMluS4i+aLieahhg0KICAgICAgICB0aGlzLmRhdGVUeXBlID0gdGhpcy5kYXRlVHlwZUxpc3RbMF0udmFsdWUNCiAgICAgICAgdGhpcy5PYmpUeXBlID0gdGhpcy5PYmpUeXBlTGlzdFswXS52YWx1ZQ0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICAgICAgVG9hc3QubG9hZGluZyh7DQogICAgICAgICAgICBtZXNzYWdlOiAn5Yqg6L295LitLi4uJywNCiAgICAgICAgICAgIGZvcmJpZENsaWNrOiB0cnVlLA0KICAgICAgICAgICAgZHVyYXRpb246IDANCiAgICAgICAgfSkNCiAgICAgICAgY29uc29sZS5sb2coInRpbWVtbW1tbW1tbW1tOiIsIHRoaXMuJGRheWpzKCkpOw0KICAgICAgICBjb25zb2xlLmxvZygi5LuK5pelOiIsIHRoaXMuJGRheWpzKCkuc3VidHJhY3QoMCwgJ2RheScpLmZvcm1hdCgnWVlZWS1NTS1ERCcpKTsNCiAgICAgICAgY29uc29sZS5sb2coIuS7iuaXpToiLCB0aGlzLiRkYXlqcygpLmZvcm1hdCgnWVlZWS1NTS1ERCcpKTsNCiAgICAgICAgY29uc29sZS5sb2coInRpbWVtbW1tbW1tbW1tOiIsIHRoaXMuJGRheWpzKCkuc3VidHJhY3QoNywgJ2RheScpKTsNCiAgICAgICAgY29uc29sZS5sb2coInRpbWVtbW1tbW1tbW1tOiIsIHRoaXMuJGRheWpzKCkuc3VidHJhY3QoMSwgJ21vbnRoJykpOw0KICAgICAgICBjb25zb2xlLmxvZygidGltZW1tbW1tbW1tbW06IiwgdGhpcy4kZGF5anMoKS5zdWJ0cmFjdCgxLCAnbW9udGgnKS5mb3JtYXQoJ1lZWVktTU0tREQnKSk7DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC8vIOiOt+WPluWIl+ihqOaVsOaNrg0KICAgICAgICBjaGFuZ2VEYXRlT2JqKCkgew0KICAgICAgICAgICAgbGV0IHN0YXJ0VGltZSA9ICcnDQogICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZGF0ZVR5cGUpIHsNCiAgICAgICAgICAgICAgICBjYXNlICfku4rml6UnOg0KICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSB0aGlzLiRkYXlqcygpLnN1YnRyYWN0KDAsICdkYXknKS5mb3JtYXQoJ1lZWVktTU0tREQnKQ0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICfov5HkuIDlkagnOg0KICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSB0aGlzLiRkYXlqcygpLnN1YnRyYWN0KDcsICdkYXknKS5mb3JtYXQoJ1lZWVktTU0tREQnKQ0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICfov5HkuIDmnIgnOg0KICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSB0aGlzLiRkYXlqcygpLnN1YnRyYWN0KDEsICdtb250aCcpLmZvcm1hdCgnWVlZWS1NTS1ERCcpDQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgJ+i/keS4ieaciCc6DQogICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IHRoaXMuJGRheWpzKCkuc3VidHJhY3QoMywgJ21vbnRoJykuZm9ybWF0KCdZWVlZLU1NLUREJykNCiAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSAnJw0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5zdGFydERhdGUgPSBzdGFydFRpbWUNCiAgICAgICAgICAgIHRoaXMuZW5kRGF0ZSA9IHRoaXMuJGRheWpzKCkuZm9ybWF0KCdZWVlZLU1NLUREJykNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRlVHlwZTogJywgdGhpcy5kYXRlVHlwZSk7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnc3RhcnRUaW1lOiAnLCBzdGFydFRpbWUpOw0KICAgICAgICAgICAgY29uc29sZS5sb2coJ09ialR5cGU6ICcsIHRoaXMuT2JqVHlwZSk7DQogICAgICAgIH0sDQogICAgICAgIC8vIHNlbGVjdOahhumAieaLqeWbnuiwgw0KICAgICAgICBnZXRWYWx1ZSh0eXBlLCBuYW1lLCB2YWx1ZSkgew0KICAgICAgICAgICAgaWYgKHR5cGUgPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRhdGVUeXBlID0gdmFsdWUNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMikgew0KICAgICAgICAgICAgICAgIHRoaXMuT2JqVHlwZSA9IHZhbHVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHRvVGFyZ2V0KGxuZ2xhdCkgew0KICAgICAgICAgICAgaWYgKGxuZ2xhdC5sZW5ndGggPT0gMikgew0KICAgICAgICAgICAgICAgIHdpbmRvdy54YU1hcC5mbHlUbyh7DQogICAgICAgICAgICAgICAgICAgIGNlbnRlcjogbG5nbGF0LA0KICAgICAgICAgICAgICAgICAgICB6b29tOiAxOSwNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5peg5L2N572u5L+h5oGvIikNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy8gLyrliJ3lp4vljJblnLDlm77kuovku7YqLw0KICAgICAgICBhc3luYyBpbml0U2NlbmUoKSB7DQogICAgICAgICAgICBNYXBPYmoubWFwID0gd2luZG93LnhhTWFwDQogICAgICAgICAgICBhd2FpdCBhZGRJY29uVG9NYXAoTWFwT2JqLm1hcCwgdGhpcy5pY29ucykNCiAgICAgICAgICAgIC8vIE1hcE9iai5tYXAucmVzaXplKCkNCiAgICAgICAgICAgIC8vIOa3u+WKoOS6i+S7tuWbvuWxgiA9PiBnZXRUYWJsZURhdGEoKSArIHRoaXMuZ2V0R2VvSnNvbigpID0+IHJlbmRlckNsdXN0ZXIoKSDmuLLmn5Plm77lsYLlkozlvLnnqpcNCiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRzTGF5ZXIoKQ0KICAgICAgICB9LA0KICAgICAgICAvLyDkuovku7blnLDlm77pg6jliIYtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIC8vIOa3u+WKoOS6i+S7tuWbvuWxgu+8jOWFiOiOt+WPlmhlYWRlcu+8jOWGjemAmui/h2hlYWRlcuiOt+WPluS6i+S7tu+8jOWGjeWwhuS6i+S7tuWIl+ihqOa3u+WKoOiHs+WcsOWbvg0KICAgICAgICBhc3luYyBhZGRFdmVudHNMYXllcigpIHsNCiAgICAgICAgICAgIFRvYXN0LmxvYWRpbmcoew0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfliqDovb3kuK0uLi4nLA0KICAgICAgICAgICAgICAgIGZvcmJpZENsaWNrOiB0cnVlLA0KICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLy8g6I635Y+WaGVhZGVy77yM5p+l6K+i5bel5Y2V55SoDQogICAgICAgICAgICBheGlvcyh7DQogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX1RISVJEX1JFUVVFU1RfVVJMICsgJy9tYWluL3VzZXJDZW50ZXJBcGkvc3NvL3Rva2VuQnlUb2tlbicsDQogICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsDQogICAgICAgICAgICAgICAgcGFyYW1zOiB7IHRva2VuOiB0aGlzLmFjY2Vzc1Rva2VuLCB9LA0KICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogJ0Jhc2ljIGIzVjBkMjl5YXpwM2NHY3lNREl3JywgfSwNCiAgICAgICAgICAgIH0pLnRoZW4oYXN5bmMgKHJlcykgPT4gew0KICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1Ub2tlbiA9IHJlcy5kYXRhLnJlc3VsdERhdGEudG9rZW4NCiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWFkZXIgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAvLyDoi6XmnIkg5YiZ5paH5Lu25LiK5LygIOWHuumUmQ0KICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgdGhpcy5mb3JtVG9rZW4sDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGV4dFBhcmFtID0gSlNPTi5zdHJpbmdpZnkoDQogICAgICAgICAgICAgICAgICAgIC8vICAgICB7DQogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY3JlYXRlVHlwZTogJ1BDJywNCiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8gKQ0KICAgICAgICAgICAgICAgICAgICBsZXQgZXh0TGlzdFBhcmFtID0gW10NCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuT2JqVHlwZSA9PSAn5YWo6YOo57G75Z6LJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgZXh0TGlzdFBhcmFtID0gWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5TGlzdDogWydkZXZpY2VUeXBlJ10sIHZhbHVlTGlzdDogWydyZWN5Y2xlJywgJ3N1cHBseScsICfkvpvmsLQnLCAn5YaN55Sf5rC0JywgJ+axoeawtCcsICfpm6jmsLQnLCAnc2V3YWdlJywgJ3JhaW4nXSB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgZXh0TGlzdFBhcmFtID0gWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5TGlzdDogWydkZXZpY2VUeXBlJ10sIHZhbHVlTGlzdDogW3RoaXMuT2JqVHlwZV0gfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgc3lzQ29kZTogJ291dHdvcmsnLA0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gc21hbGxUeXBlOiAnYWJub3JtYWxfaW5mb3JtJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsVHlwZTogJ2Rpc3BhdGNoX3Byb2JsZW0nLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiB0aGlzLnN0YXJ0RGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZERhdGU6IHRoaXMuZW5kRGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4dFBhcmFtOiBleHRQYXJhbSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4dExpc3RQYXJhbTogZXh0TGlzdFBhcmFtLCAvLyDlkIzml7bmn6Xlho3nlJ/msLTlkozkvpvmsLQNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IC0xLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmdldFRhYmxlRGF0YShwYXJhbXMpIC8vIOiOt+WPluS6i+S7tuWIl+ihqA0KICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdlb0pzb24oKS8v5bCG6I635Y+W5Yiw55qE5LqL5Lu25YiX6KGo5p6E6YCg5oiQR2VvSnNvbg0KICAgICAgICAgICAgICAgICAgICBUb2FzdC5jbGVhcigpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgLy8g6I635Y+W5LqL5Lu25YiX6KGoDQogICAgICAgIGFzeW5jIGdldFRhYmxlRGF0YShwYXJhbXMpIHsNCiAgICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gW10NCiAgICAgICAgICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfVEhJUkRfUkVRVUVTVF9VUkwgKyAnL21haW4vb3V0d29ya2FwaS90aWNrZXRTdGF0aXN0aWNDbGllbnQvZ2V0VGlja2V0TGlzdCcsDQogICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsDQogICAgICAgICAgICAgICAgZGF0YTogcGFyYW1zLA0KICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyLA0KICAgICAgICAgICAgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+iOt+WPluS6i+S7tuWIl+ihqOe7k+aenCcsIHJlcykNCiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDAgJiYgcmVzLmRhdGEgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhPy5yZXN1bHREYXRhPy5yZWNvcmRzIHx8IFtdDQogICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVHZW8gPSB0aGlzLnRhYmxlRGF0YQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLm51bVRvdGFsID0gcmVzLmRhdGE/LnJlc3VsdERhdGE/LnJlY29yZHM/Lmxlbmd0aCB8fCAwDQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfkuovku7bliJfooah0YWJsZURhdGEnLCB0aGlzLnRhYmxlRGF0YSkNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0QnlTdGF0dXMoIm51bUluZyIpDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdEJ5U3RhdHVzKCJudW1Ib3ZlciIpDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdEJ5U3RhdHVzKCJudW1FZCIpDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdEJ5U3RhdHVzKCJudW1Ub3RhbCIpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgLy/mjInlhajpg6jjgIHlpITnkIbkuK3jgIHlt7Llroznu5PliJLliIZ0YWJsZURhdGENCiAgICAgICAgZ2V0TGlzdEJ5U3RhdHVzKHZhbCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ2dldExpc3RCeVN0YXR1cy12YWw6ICcsIHZhbCk7DQogICAgICAgICAgICB0aGlzLnRhYmxlR2VvID0gW10NCiAgICAgICAgICAgIHRoaXMudGFibGVMaXN0ID0gW10NCiAgICAgICAgICAgIHN3aXRjaCAodmFsKSB7DQogICAgICAgICAgICAgICAgY2FzZSAnbnVtVG90YWwnOg0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5mb3JFYWNoKCh0ZCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHRkLmlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZU5hbWU6IHRkLmZvcm1WYWx1ZS5kZXZpY2VUeXBlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tldE5vOiB0ZC50aWNrZXRObywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGF3c05hbWU6IHRkLmZvcm1WYWx1ZS5mYXVsdFR5cGVzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdGQudGlja2V0U3RhdHVzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiB0ZC50aWNrZXRTdGF0dXNOYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRkLmZvcm1WYWx1ZS5xdWVzdGlvbkRlc2NyaWJlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlb3BsZTogdGQuY3JlYXRlQnlOYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IHRkLmNyZWF0ZVRpbWUuc2xpY2UoMCwgMTApLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXdzRnJvbTogdGQuZm9ybVZhbHVlLmRlZmVjdEZyb20sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nbGF0OiBbdGQuYXBwZWFsTG5nLCB0ZC5hcHBlYWxMYXRdLA0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUxpc3QucHVzaChpdGVtKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUdlby5wdXNoKHRkKQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLm51bVRvdGFsID0gdGhpcy50YWJsZUxpc3QubGVuZ3RoDQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgY2FzZSAnbnVtSW5nJzoNCiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEuZm9yRWFjaCgodGQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZC50aWNrZXRTdGF0dXMgPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdGQuaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZU5hbWU6IHRkLmZvcm1WYWx1ZS5kZXZpY2VUeXBlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXRObzogdGQudGlja2V0Tm8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXdzTmFtZTogdGQuZm9ybVZhbHVlLmZhdWx0VHlwZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdGQudGlja2V0U3RhdHVzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogdGQudGlja2V0U3RhdHVzTmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogdGQuZm9ybVZhbHVlLnF1ZXN0aW9uRGVzY3JpYmUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlb3BsZTogdGQuY3JlYXRlQnlOYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiB0ZC5jcmVhdGVUaW1lLnNsaWNlKDAsIDEwKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhd3NGcm9tOiB0ZC5mb3JtVmFsdWUuZGVmZWN0RnJvbSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nbGF0OiBbdGQuYXBwZWFsTG5nLCB0ZC5hcHBlYWxMYXRdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlTGlzdC5wdXNoKGl0ZW0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUdlby5wdXNoKHRkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLm51bUluZyA9IHRoaXMudGFibGVMaXN0Lmxlbmd0aA0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIGNhc2UgJ251bUhvdmVyJzoNCiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEuZm9yRWFjaCgodGQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZC50aWNrZXRTdGF0dXMgPT0gMykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdGQuaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZU5hbWU6IHRkLmZvcm1WYWx1ZS5kZXZpY2VUeXBlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXRObzogdGQudGlja2V0Tm8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXdzTmFtZTogdGQuZm9ybVZhbHVlLmZhdWx0VHlwZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdGQudGlja2V0U3RhdHVzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogdGQudGlja2V0U3RhdHVzTmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogdGQuZm9ybVZhbHVlLnF1ZXN0aW9uRGVzY3JpYmUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlb3BsZTogdGQuY3JlYXRlQnlOYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiB0ZC5jcmVhdGVUaW1lLnNsaWNlKDAsIDEwKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhd3NGcm9tOiB0ZC5mb3JtVmFsdWUuZGVmZWN0RnJvbSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nbGF0OiBbdGQuYXBwZWFsTG5nLCB0ZC5hcHBlYWxMYXRdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlTGlzdC5wdXNoKGl0ZW0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUdlby5wdXNoKHRkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLm51bUhvdmVyID0gdGhpcy50YWJsZUxpc3QubGVuZ3RoDQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgY2FzZSAnbnVtRWQnOg0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5mb3JFYWNoKCh0ZCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRkLnRpY2tldFN0YXR1cyA9PSAyIHx8IHRkLnRpY2tldFN0YXR1cyA9PSA5OSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdGQuaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZU5hbWU6IHRkLmZvcm1WYWx1ZS5kZXZpY2VUeXBlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXRObzogdGQudGlja2V0Tm8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXdzTmFtZTogdGQuZm9ybVZhbHVlLmZhdWx0VHlwZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdGQudGlja2V0U3RhdHVzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogdGQudGlja2V0U3RhdHVzTmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogdGQuZm9ybVZhbHVlLnF1ZXN0aW9uRGVzY3JpYmUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlb3BsZTogdGQuY3JlYXRlQnlOYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiB0ZC5jcmVhdGVUaW1lLnNsaWNlKDAsIDEwKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhd3NGcm9tOiB0ZC5mb3JtVmFsdWUuZGVmZWN0RnJvbSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nbGF0OiBbdGQuYXBwZWFsTG5nLCB0ZC5hcHBlYWxMYXRdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlTGlzdC5wdXNoKGl0ZW0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUdlby5wdXNoKHRkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLm51bUVkID0gdGhpcy50YWJsZUxpc3QubGVuZ3RoDQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmdldEdlb0pzb24oKS8v5bCG6I635Y+W5Yiw55qE5LqL5Lu25YiX6KGo5p6E6YCg5oiQR2VvSnNvbg0KICAgICAgICB9LA0KICAgICAgICAvLyDlsIbkuovku7bliJfooajmt7vliqDoh7PlnLDlm74NCiAgICAgICAgZ2V0R2VvSnNvbigpIHsNCiAgICAgICAgICAgIGxldCBmZWF0dXJlcyA9IFtdDQogICAgICAgICAgICBsZXQgd2l0aG91dFBvc2l0aW9uQ291bnQgPSAwDQogICAgICAgICAgICBjb25zb2xlLmxvZygn6KaB6IGa5ZCI5bGV56S655qEdGFibGVHZW8nLCB0aGlzLnRhYmxlR2VvKQ0KICAgICAgICAgICAgaWYgKHRoaXMudGFibGVHZW8ubGVuZ3RoID09IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVNvbWVMYXllcigpDQogICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnRhYmxlR2VvLmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgICAgICAgICBsZXQgZmVhdHVyZSA9IHt9DQogICAgICAgICAgICAgICAgbGV0IHByb3BlcnRpZXMgPSB7fQ0KICAgICAgICAgICAgICAgIGxldCBnZW9tZXRyeSA9IHt9DQoNCiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzID0gaXRlbQ0KICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZGVmZWN0RnJvbSA9IGl0ZW0uZm9ybVZhbHVlLmRlZmVjdEZyb20NCiAgICAgICAgICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzDQogICAgICAgICAgICAgICAgZmVhdHVyZS50eXBlID0gJ0ZlYXR1cmUnDQogICAgICAgICAgICAgICAgZ2VvbWV0cnkudHlwZSA9ICdQb2ludCcNCiAgICAgICAgICAgICAgICBpZiAoaXRlbS5hcHBlYWxMYXQgJiYgaXRlbS5hcHBlYWxMbmcpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gZ2VvbWV0cnkuY29vcmRpbmF0ZXMgPSBbaXRlbS5hcHBlYWxMYXQsIGl0ZW0uYXBwZWFsTG9uXQ0KICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS5jb29yZGluYXRlcyA9IFtpdGVtLmFwcGVhbExuZywgaXRlbS5hcHBlYWxMYXRdIC8vIHdnczg0DQogICAgICAgICAgICAgICAgICAgIGZlYXR1cmUuZ2VvbWV0cnkgPSBnZW9tZXRyeQ0KICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5wdXNoKGZlYXR1cmUpDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICgNCiAgICAgICAgICAgICAgICAgICAgaXRlbS5mb3JtVmFsdWUuZGV2aWNlRGV0YWlsPy5sYXRpdHVkZSAmJg0KICAgICAgICAgICAgICAgICAgICBpdGVtLmZvcm1WYWx1ZS5kZXZpY2VEZXRhaWw/LmxvbmdpdHVkZQ0KICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS5jb29yZGluYXRlcyA9IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZm9ybVZhbHVlLmRldmljZURldGFpbC5sb25naXR1ZGUsDQogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmZvcm1WYWx1ZS5kZXZpY2VEZXRhaWwubGF0aXR1ZGUsDQogICAgICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5nZW9tZXRyeSA9IGdlb21ldHJ5DQogICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goZmVhdHVyZSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKA0KICAgICAgICAgICAgICAgICAgICBpdGVtLmZvcm1WYWx1ZS50aWNrZXRBZGRyZXNzPy5sb25naXR1ZGUgJiYNCiAgICAgICAgICAgICAgICAgICAgaXRlbS5mb3JtVmFsdWUudGlja2V0QWRkcmVzcz8ubGF0aXR1ZGUNCiAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnkuY29vcmRpbmF0ZXMgPSBbDQogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmZvcm1WYWx1ZS50aWNrZXRBZGRyZXNzLmxvbmdpdHVkZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZm9ybVZhbHVlLnRpY2tldEFkZHJlc3MubGF0aXR1ZGUsDQogICAgICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5nZW9tZXRyeSA9IGdlb21ldHJ5DQogICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goZmVhdHVyZSkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAvLyBnZW9tZXRyeS5jb29yZGluYXRlcyA9IFszOS4wNjY4MzA2NDQzNTI0NSwgMTE1Ljk0NTM5NDcwOTcwNjNdDQogICAgICAgICAgICAgICAgICAgIHdpdGhvdXRQb3NpdGlvbkNvdW50ICs9IDENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgY29uc29sZS5sb2coJ+aXoOWdkOagh+S4quaVsCcsIHdpdGhvdXRQb3NpdGlvbkNvdW50KQ0KICAgICAgICAgICAgLy8g6IGa5ZCI5pWw5o2uIOaehOmAoOWktOmDqA0KICAgICAgICAgICAgbGV0IGdlb0pzb24gPSB7DQogICAgICAgICAgICAgICAgdHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJywNCiAgICAgICAgICAgICAgICBjcnM6IHsgdHlwZTogJ25hbWUnLCBwcm9wZXJ0aWVzOiB7IG5hbWU6ICd1cm46b2djOmRlZjpjcnM6T0dDOjEuMzpDUlM4NCcgfSB9LA0KICAgICAgICAgICAgICAgIGZlYXR1cmVzOiBbXSwNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdlb0pzb24uZmVhdHVyZXMgPSBmZWF0dXJlcw0KICAgICAgICAgICAgY29uc29sZS5sb2coJ+iBmuWQiOeahGdlb0pzb24nLCBnZW9Kc29uKQ0KICAgICAgICAgICAgdGhpcy5yZW5kZXJDbHVzdGVyKGdlb0pzb24pDQogICAgICAgIH0sDQogICAgICAgIHJlbW92ZVNvbWVMYXllcigpIHsNCiAgICAgICAgICAgIFsnY2x1c3RlcnMnLCAnY2x1c3Rlci1jb3VudCcsICd1bmNsdXN0ZXJlZC1wb2ludCddLmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoTWFwT2JqLm1hcD8uZ2V0TGF5ZXIoaXRlbSkpIHsNCiAgICAgICAgICAgICAgICAgICAgTWFwT2JqLm1hcC5yZW1vdmVMYXllcihpdGVtKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICBpZiAoTWFwT2JqLm1hcD8uZ2V0U291cmNlKCdlYXJ0aHF1YWtlcycpKSB7DQogICAgICAgICAgICAgICAgTWFwT2JqLm1hcC5yZW1vdmVTb3VyY2UoJ2VhcnRocXVha2VzJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy8g5riy5p+TDQogICAgICAgIHJlbmRlckNsdXN0ZXIoZ2VvSnNvblNvdXJjZSkgew0KICAgICAgICAgICAgdGhpcy5yZW1vdmVTb21lTGF5ZXIoKQ0KICAgICAgICAgICAgTWFwT2JqLm1hcC5hZGRTb3VyY2UoJ2VhcnRocXVha2VzJywgew0KICAgICAgICAgICAgICAgIHR5cGU6ICdnZW9qc29uJywNCiAgICAgICAgICAgICAgICBkYXRhOiBnZW9Kc29uU291cmNlLA0KICAgICAgICAgICAgICAgIGNsdXN0ZXI6IHRydWUsDQogICAgICAgICAgICAgICAgY2x1c3Rlck1heFpvb206IDE0LCAvLyBNYXggem9vbSB0byBjbHVzdGVyIHBvaW50cyBvbg0KICAgICAgICAgICAgICAgIGNsdXN0ZXJSYWRpdXM6IDUwLCAvLyBSYWRpdXMgb2YgZWFjaCBjbHVzdGVyIHdoZW4gY2x1c3RlcmluZyBwb2ludHMgKGRlZmF1bHRzIHRvIDUwKQ0KICAgICAgICAgICAgfSkNCg0KICAgICAgICAgICAgTWFwT2JqLm1hcC5hZGRMYXllcih7DQogICAgICAgICAgICAgICAgaWQ6ICdjbHVzdGVycycsDQogICAgICAgICAgICAgICAgdHlwZTogJ2NpcmNsZScsDQogICAgICAgICAgICAgICAgc291cmNlOiAnZWFydGhxdWFrZXMnLA0KICAgICAgICAgICAgICAgIGZpbHRlcjogWydoYXMnLCAncG9pbnRfY291bnQnXSwNCiAgICAgICAgICAgICAgICBwYWludDogew0KICAgICAgICAgICAgICAgICAgICAnY2lyY2xlLWNvbG9yJzogWydzdGVwJywgWydnZXQnLCAncG9pbnRfY291bnQnXSwgInJnYmEoMCwgMjA5LCAxMzQsIDAuOCkiLCA1LCAicmdiYSgyNTUsIDE0OCwgNDEsIDAuOCkiLCAxNSwgInJnYmEoMjU1LCA3NCwgNjUsIDAuOCkiXSwNCiAgICAgICAgICAgICAgICAgICAgJ2NpcmNsZS1yYWRpdXMnOiBbJ3N0ZXAnLCBbJ2dldCcsICdwb2ludF9jb3VudCddLCAyMCwgNSwgMjUsIDE1LCAzMF0sDQogICAgICAgICAgICAgICAgICAgIC8vIOi/meS4quaYr+Wklui+ueahhueahOminOiJsiBjaXJjbGUtc3Ryb2tlLWNvbG9y6L+Z5Liq5a+55bqU5LqG5LiK6Z2iY2lyY2xlLWNvbG9yDQogICAgICAgICAgICAgICAgICAgICJjaXJjbGUtc3Ryb2tlLWNvbG9yIjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgInN0ZXAiLA0KICAgICAgICAgICAgICAgICAgICAgICAgWyJnZXQiLCAicG9pbnRfY291bnQiXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJyZ2JhKDAsIDIwOSwgMTM0LCAwLjMpIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIDUsDQogICAgICAgICAgICAgICAgICAgICAgICAicmdiYSgyNTUsIDE0OCwgNDEsIDAuMykiLA0KICAgICAgICAgICAgICAgICAgICAgICAgMTUsDQogICAgICAgICAgICAgICAgICAgICAgICAicmdiYSgyNTUsIDc0LCA2NSwgMC4zKSINCiAgICAgICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAgICAgLy8g6L+Z5Liq5piv5aSW6L655qGG5pmV5p+T55qE6IyD5Zu0DQogICAgICAgICAgICAgICAgICAgICJjaXJjbGUtc3Ryb2tlLXdpZHRoIjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgInN0ZXAiLA0KICAgICAgICAgICAgICAgICAgICAgICAgWyJnZXQiLCAicG9pbnRfY291bnQiXSwNCiAgICAgICAgICAgICAgICAgICAgICAgIDgsIC8v6JOd6Imy5pmV5p+T6ZW/5bqm77yM5b2T54K55pWw5bCP5LqOMTAw5pe25Li6NXB45pmV5p+TDQogICAgICAgICAgICAgICAgICAgICAgICA1LCAvL+WvueW6lOS4iumdomNpcmNsZS1jb2xvciDmlbDlrZfvvIzmhI/mgJ3kuLoxMDDku6XlhoUNCiAgICAgICAgICAgICAgICAgICAgICAgIDEyLCAvL+eCueiuoeaVsOWcqDEwMOWIsDc1MOS5i+mXtOaXtuS4uum7hOiJsu+8jDZweOaZleafkw0KICAgICAgICAgICAgICAgICAgICAgICAgMTUsIC8v5a+55bqU5LiK6Z2iY2lyY2xlLWNvbG9yIOaVsOWtl++8jOaEj+aAneS4ujc1MOS7peWGhQ0KICAgICAgICAgICAgICAgICAgICAgICAgMTUgLy/ngrnorqHmlbDlpKfkuo7miJbnrYnkuo43NTDml7bkuLo3cHjlg4/ntKDnmoTnsonnuqLoibLmmZXmn5MNCiAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICBNYXBPYmoubWFwLmFkZExheWVyKHsNCiAgICAgICAgICAgICAgICBpZDogJ2NsdXN0ZXItY291bnQnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICdzeW1ib2wnLA0KICAgICAgICAgICAgICAgIHNvdXJjZTogJ2VhcnRocXVha2VzJywNCiAgICAgICAgICAgICAgICBmaWx0ZXI6IFsnaGFzJywgJ3BvaW50X2NvdW50J10sDQogICAgICAgICAgICAgICAgbGF5b3V0OiB7DQogICAgICAgICAgICAgICAgICAgICd0ZXh0LWZpZWxkJzogJ3twb2ludF9jb3VudF9hYmJyZXZpYXRlZH0nLA0KICAgICAgICAgICAgICAgICAgICAvLyAndGV4dC1mb250JzogWydESU4gT2ZmYyBQcm8gTWVkaXVtJywgJ0FyaWFsIFVuaWNvZGUgTVMgQm9sZCddLA0KICAgICAgICAgICAgICAgICAgICAndGV4dC1zaXplJzogMTIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgIE1hcE9iai5tYXAuYWRkTGF5ZXIoew0KICAgICAgICAgICAgICAgIGlkOiAndW5jbHVzdGVyZWQtcG9pbnQnLA0KICAgICAgICAgICAgICAgIHNvdXJjZTogJ2VhcnRocXVha2VzJywNCiAgICAgICAgICAgICAgICBmaWx0ZXI6IFsnIScsIFsnaGFzJywgJ3BvaW50X2NvdW50J11dLA0KICAgICAgICAgICAgICAgIHR5cGU6ICdzeW1ib2wnLA0KICAgICAgICAgICAgICAgIGxheW91dDogew0KICAgICAgICAgICAgICAgICAgICAnaWNvbi1pbWFnZSc6ICfkuovku7bngrknLCAvLyDngrnnmoTlm77moIcNCiAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ3Zpc2libGUnLA0KICAgICAgICAgICAgICAgICAgICAnaWNvbi1zaXplJzogMC43LA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICBsZXQgZGVmZWN0RnJvbURpYyA9IHRoaXMuJHN0b3JlLnN0YXRlW0VOVU1dLmRlZmVjdEZyb20NCiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpcw0KICAgICAgICAgICAgTWFwT2JqLm1hcC5vbignY2xpY2snLCAndW5jbHVzdGVyZWQtcG9pbnQnLCAoZSkgPT4gew0KICAgICAgICAgICAgICAgIC8vIOWmguaenOW9k+WJjeS6i+S7tueCueaJgOaciXBvcHVw5Li65omT5byA54q25oCB77yM5Y2z5LqL5Lu254K5cG9wdXDmlbDnu4Tplb/luqbkuI3kuLow77yM6YCA5Ye66K+l5qyh54K55Ye75LqL5Lu2DQogICAgICAgICAgICAgICAgLy8gaWYgKE1hcE9iai5ldmVudFBvcHVwQXJyYXkubGVuZ3RoID4gMCkgcmV0dXJuDQogICAgICAgICAgICAgICAgLy8g5q+P5qyh54K55Ye75paw55qE5LqL5Lu254K55bCx5riF6Zmk6aKE5qGI5pWw5o2uDQogICAgICAgICAgICAgICAgLy8gdGhpcy5maWxlTGlzdCA9IFtdDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2UuZmVhdHVyZXM6ICcsIGUuZmVhdHVyZXMpDQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Zvcm1WYWx1ZTogJywgSlNPTi5wYXJzZShlLmZlYXR1cmVzWzBdLnByb3BlcnRpZXMuZm9ybVZhbHVlKSkNCiAgICAgICAgICAgICAgICBNYXBPYmoubWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJw0KDQogICAgICAgICAgICAgICAgbGV0IGZvcm1WYWx1ZSA9IEpTT04ucGFyc2UoZS5mZWF0dXJlc1swXS5wcm9wZXJ0aWVzLmZvcm1WYWx1ZSkNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZm9ybVZhbHVlOiAnLCBmb3JtVmFsdWUpDQoNCiAgICAgICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSBlLmZlYXR1cmVzWzBdLmdlb21ldHJ5LmNvb3JkaW5hdGVzLnNsaWNlKCkNCiAgICAgICAgICAgICAgICB3aGlsZSAoTWF0aC5hYnMoZS5sbmdMYXQubG5nIC0gY29vcmRpbmF0ZXNbMF0pID4gMTgwKSB7DQogICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzWzBdICs9IGUubG5nTGF0LmxuZyA+IGNvb3JkaW5hdGVzWzBdID8gMzYwIDogLTM2MA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBwb3B1cCwgYnV0IGRvbid0IGFkZCBpdCB0byB0aGUgbWFwIHlldC4NCiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwMSA9IG5ldyBtYXBib3hnbC5Qb3B1cCh7DQogICAgICAgICAgICAgICAgICAgIGNsb3NlT25DbGljazogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgY2xvc2VCdXR0b246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICBhbmNob3I6ICdib3R0b20nLA0KICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHsgYm90dG9tOiBbMCwgLTE1XSB9LA0KICAgICAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwMQ0KICAgICAgICAgICAgICAgICAgICAuc2V0TG5nTGF0KGNvb3JkaW5hdGVzKQ0KICAgICAgICAgICAgICAgICAgICAuc2V0SFRNTCgnPGRpdiBpZD0idnVlLXBvcHVwLWN1c3RvbSIgY2xhc3M9InZ1ZS1wb3B1cC1jdXN0b20iPjxoMz4nICsgZm9ybVZhbHVlLmZhdWx0VHlwZXMgKyAnPC9oMz48L2Rpdj4nKS8vZm9ybVZhbHVlLmRldmljZVR5cGVbMV0gKyAnICcgKw0KICAgICAgICAgICAgICAgICAgICAuYWRkVG8oTWFwT2JqLm1hcCkNCiAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgIC8vIGluc3BlY3QgYSBjbHVzdGVyIG9uIGNsaWNrDQogICAgICAgICAgICBNYXBPYmoubWFwLm9uKCdjbGljaycsICdjbHVzdGVycycsIGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgICAgICAgdmFyIGZlYXR1cmVzID0gTWFwT2JqLm1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCwgeyBsYXllcnM6IFsnY2x1c3RlcnMnXSB9KQ0KICAgICAgICAgICAgICAgIHZhciBjbHVzdGVySWQgPSBmZWF0dXJlc1swXS5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWQNCiAgICAgICAgICAgICAgICBNYXBPYmoubWFwDQogICAgICAgICAgICAgICAgICAgIC5nZXRTb3VyY2UoJ2VhcnRocXVha2VzJykNCiAgICAgICAgICAgICAgICAgICAgLmdldENsdXN0ZXJFeHBhbnNpb25ab29tKGNsdXN0ZXJJZCwgZnVuY3Rpb24gKGVyciwgem9vbSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuDQogICAgICAgICAgICAgICAgICAgICAgICBNYXBPYmoubWFwLmVhc2VUbyh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBmZWF0dXJlc1swXS5nZW9tZXRyeS5jb29yZGluYXRlcywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiB6b29tLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICBNYXBPYmoubWFwLnNldE1pblpvb20oMCkNCiAgICAgICAgICAgIE1hcE9iai5tYXAuc2V0TWF4Wm9vbSgzMCkNCiAgICAgICAgfSwNCiAgICB9LA0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/DispatchCenter/components/SchedulingEvents","sourcesContent":["<template>\r\n    <div>\r\n        <fm-nav-bar title=\"事件中心\" left-arrow @click-left=\"$router.go(-1)\" />\r\n        <div class=\"mapContainer\">\r\n            <xa-map :create=\"initScene\"></xa-map>\r\n            <div class=\"selectStyle\">\r\n                <Select :selectData=\"dateTypeList\" :selValue=\"dateType\" color=\"white\" @getValue=\"getValue\"></Select>\r\n                <Select :selectData=\"ObjTypeList\" :selValue=\"ObjType\" color=\"white\" @getValue=\"getValue\"></Select>\r\n                <!-- <div style=\"z-index: 999999;margin-top: -20px\">\r\n                    <img style=\"width:80px;height:80px;\" src=\"@assets/img/dispatchCenter/schedulingEvents/筛选.png\"\r\n                        alt=\"\">\r\n                </div> -->\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"statisPart\">\r\n            <fm-tabs v-model=\"activeName\">\r\n                <fm-tab :label=\"'全部 ' + numTotal\" name=\"numTotal\">\r\n                    <listEvents :tableList=\"tableList\" @toTarget=\"toTarget\"></listEvents>\r\n                </fm-tab>\r\n                <fm-tab :label=\"'办理中 ' + numIng\" name=\"numIng\">\r\n                    <listEvents :tableList=\"tableList\" @toTarget=\"toTarget\"></listEvents>\r\n                </fm-tab>\r\n                <fm-tab :label=\"'挂起 ' + numHover\" name=\"numHover\">\r\n                    <listEvents :tableList=\"tableList\" @toTarget=\"toTarget\"></listEvents>\r\n                </fm-tab>\r\n                <fm-tab :label=\"'已完成 ' + numEd\" name=\"numEd\">\r\n                    <listEvents :tableList=\"tableList\" @toTarget=\"toTarget\"></listEvents>\r\n                </fm-tab>\r\n            </fm-tabs>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from 'fawkes-mobile-lib'\r\n// 下拉选择框\r\nimport Select from './Select.vue'\r\nimport listEvents from './listEvents.vue'\r\nimport { addIconToMap } from '@/utils/mapUtils'\r\n// import infoPopup from '@/views/DispatchCenter/components/popup.vue' // 事件弹窗\r\nimport axios from 'axios'\r\nimport { ENUM } from '@/store/State/stateTypes'\r\nimport mapboxgl from 'mapbox-gl'\r\nconst MapObj = {\r\n    map: null,\r\n    //   viewer: null,\r\n    //   popupItem: '', // mapbox气泡框\r\n    //   marker: '',\r\n    //   monitorPopups: [],\r\n    //   monitorPopupContent: [],\r\n    //   eventPopupArray: [],// 事件点popup集合\r\n}\r\nexport default {\r\n    name: \"SchedulingEvents\",\r\n    components: { Toast, listEvents, Select },\r\n    data() {\r\n        return {\r\n            icons: [\r\n                {\r\n                    name: '事件点',\r\n                    url: require('@/assets/img/map/dw.png'),\r\n                },\r\n            ],\r\n            // 事件\r\n            accessToken: this.$storage.get('access_token'),\r\n            formToken: '',\r\n            header: {},\r\n            tableData: [],//拿到全部数据，切换全部/待处理/已完成时不变，筛选时间和对象时才变\r\n            tableList: [],//用于列表渲染\r\n            tableGeo: [],//用于地图聚类展示\r\n            //事件统计与列表\r\n            activeName: \"numTotal\",\r\n            numTotal: 0,\r\n            numIng: 0,\r\n            numHover: 0,\r\n            numEd: 0,\r\n            // 筛选\r\n            dateTypeList: [\r\n                { type: 1, name: '全部时间', value: '全部时间' },\r\n                { type: 1, name: '今日', value: '今日' },\r\n                { type: 1, name: '近一周', value: '近一周' },\r\n                { type: 1, name: '近一月', value: '近一月' },\r\n                { type: 1, name: '近三月', value: '近三月' },\r\n            ],\r\n            ObjTypeList: [\r\n                { type: 2, name: '全部类型', value: '全部类型' },\r\n                { type: 2, name: '污水', value: '污水' },\r\n                { type: 2, name: '雨水', value: '雨水' },\r\n                { type: 2, name: '供水', value: '供水' },\r\n                { type: 2, name: '再生水', value: '再生水' }\r\n            ],\r\n            dateType: '全部时间',\r\n            startDate: \"\",\r\n            endDate: \"\",\r\n            ObjType: '全部类型',\r\n        }\r\n    },\r\n    watch: {\r\n        activeName: {\r\n            handler(val) {\r\n                this.getListByStatus(val)\r\n            },\r\n            immediate: true\r\n        },\r\n        dateType: {\r\n            handler(val) {\r\n                this.changeDateObj(val)\r\n                this.addEventsLayer()\r\n            },\r\n        },\r\n        ObjType: {\r\n            handler(val) {\r\n                this.changeDateObj(val)\r\n                this.addEventsLayer()\r\n            },\r\n        },\r\n    },\r\n    created() {\r\n        // 初始化下拉框\r\n        this.dateType = this.dateTypeList[0].value\r\n        this.ObjType = this.ObjTypeList[0].value\r\n    },\r\n    mounted() {\r\n        Toast.loading({\r\n            message: '加载中...',\r\n            forbidClick: true,\r\n            duration: 0\r\n        })\r\n        console.log(\"timemmmmmmmmmm:\", this.$dayjs());\r\n        console.log(\"今日:\", this.$dayjs().subtract(0, 'day').format('YYYY-MM-DD'));\r\n        console.log(\"今日:\", this.$dayjs().format('YYYY-MM-DD'));\r\n        console.log(\"timemmmmmmmmmm:\", this.$dayjs().subtract(7, 'day'));\r\n        console.log(\"timemmmmmmmmmm:\", this.$dayjs().subtract(1, 'month'));\r\n        console.log(\"timemmmmmmmmmm:\", this.$dayjs().subtract(1, 'month').format('YYYY-MM-DD'));\r\n    },\r\n    methods: {\r\n        // 获取列表数据\r\n        changeDateObj() {\r\n            let startTime = ''\r\n            switch (this.dateType) {\r\n                case '今日':\r\n                    startTime = this.$dayjs().subtract(0, 'day').format('YYYY-MM-DD')\r\n                    break;\r\n                case '近一周':\r\n                    startTime = this.$dayjs().subtract(7, 'day').format('YYYY-MM-DD')\r\n                    break;\r\n                case '近一月':\r\n                    startTime = this.$dayjs().subtract(1, 'month').format('YYYY-MM-DD')\r\n                    break;\r\n                case '近三月':\r\n                    startTime = this.$dayjs().subtract(3, 'month').format('YYYY-MM-DD')\r\n                    break\r\n                default:\r\n                    startTime = ''\r\n                    break\r\n            }\r\n            this.startDate = startTime\r\n            this.endDate = this.$dayjs().format('YYYY-MM-DD')\r\n            console.log('dateType: ', this.dateType);\r\n            console.log('startTime: ', startTime);\r\n            console.log('ObjType: ', this.ObjType);\r\n        },\r\n        // select框选择回调\r\n        getValue(type, name, value) {\r\n            if (type === 1) {\r\n                this.dateType = value\r\n            } else if (type === 2) {\r\n                this.ObjType = value\r\n            }\r\n        },\r\n        toTarget(lnglat) {\r\n            if (lnglat.length == 2) {\r\n                window.xaMap.flyTo({\r\n                    center: lnglat,\r\n                    zoom: 19,\r\n                })\r\n            } else {\r\n                console.log(\"无位置信息\")\r\n            }\r\n        },\r\n        // /*初始化地图事件*/\r\n        async initScene() {\r\n            MapObj.map = window.xaMap\r\n            await addIconToMap(MapObj.map, this.icons)\r\n            // MapObj.map.resize()\r\n            // 添加事件图层 => getTableData() + this.getGeoJson() => renderCluster() 渲染图层和弹窗\r\n            this.addEventsLayer()\r\n        },\r\n        // 事件地图部分----------------------------------------\r\n        // 添加事件图层，先获取header，再通过header获取事件，再将事件列表添加至地图\r\n        async addEventsLayer() {\r\n            Toast.loading({\r\n                message: '加载中...',\r\n                forbidClick: true,\r\n                duration: 0\r\n            })\r\n            // 获取header，查询工单用\r\n            axios({\r\n                url: process.env.VUE_APP_THIRD_REQUEST_URL + '/main/userCenterApi/sso/tokenByToken',\r\n                method: 'post',\r\n                params: { token: this.accessToken, },\r\n                headers: { Authorization: 'Basic b3V0d29yazp3cGcyMDIw', },\r\n            }).then(async (res) => {\r\n                if (res.status == 200) {\r\n                    this.formToken = res.data.resultData.token\r\n                    this.header = {\r\n                        // 'Content-Type': 'application/json', // 若有 则文件上传 出错\r\n                        Authorization: 'Bearer ' + this.formToken,\r\n                    }\r\n                    // let extParam = JSON.stringify(\r\n                    //     {\r\n                    //         createType: 'PC',\r\n                    //     }\r\n                    // )\r\n                    let extListParam = []\r\n                    if (this.ObjType == '全部类型') {\r\n                        extListParam = [\r\n                            { keyList: ['deviceType'], valueList: ['recycle', 'supply', '供水', '再生水', '污水', '雨水', 'sewage', 'rain'] },\r\n                        ]\r\n                    } else {\r\n                        extListParam = [\r\n                            { keyList: ['deviceType'], valueList: [this.ObjType] },\r\n                        ]\r\n                    }\r\n                    let params = {\r\n                        sysCode: 'outwork',\r\n                        // smallType: 'abnormal_inform',\r\n                        smallType: 'dispatch_problem',\r\n                        startDate: this.startDate,\r\n                        endDate: this.endDate,\r\n                        // extParam: extParam,\r\n                        extListParam: extListParam, // 同时查再生水和供水\r\n                        page: {\r\n                            current: 1,\r\n                            size: -1,\r\n                        },\r\n                    }\r\n                    await this.getTableData(params) // 获取事件列表\r\n                    this.getGeoJson()//将获取到的事件列表构造成GeoJson\r\n                    Toast.clear()\r\n                }\r\n            })\r\n        },\r\n        // 获取事件列表\r\n        async getTableData(params) {\r\n            this.tableData = []\r\n            await axios({\r\n                url: process.env.VUE_APP_THIRD_REQUEST_URL + '/main/outworkapi/ticketStatisticClient/getTicketList',\r\n                method: 'post',\r\n                data: params,\r\n                headers: this.header,\r\n            }).then((res) => {\r\n                console.log('获取事件列表结果', res)\r\n                if (res.status == 200 && res.data != null) {\r\n                    this.tableData = res.data?.resultData?.records || []\r\n                    this.tableGeo = this.tableData\r\n                    this.numTotal = res.data?.resultData?.records?.length || 0\r\n                    console.log('事件列表tableData', this.tableData)\r\n                    this.getListByStatus(\"numIng\")\r\n                    this.getListByStatus(\"numHover\")\r\n                    this.getListByStatus(\"numEd\")\r\n                    this.getListByStatus(\"numTotal\")\r\n                }\r\n            })\r\n        },\r\n        //按全部、处理中、已完结划分tableData\r\n        getListByStatus(val) {\r\n            console.log('getListByStatus-val: ', val);\r\n            this.tableGeo = []\r\n            this.tableList = []\r\n            switch (val) {\r\n                case 'numTotal':\r\n                    this.tableData.forEach((td) => {\r\n                        let item = {\r\n                            id: td.id,\r\n                            deviceName: td.formValue.deviceType,\r\n                            ticketNo: td.ticketNo,\r\n                            flawsName: td.formValue.faultTypes,\r\n                            status: td.ticketStatus,\r\n                            state: td.ticketStatusName,\r\n                            content: td.formValue.questionDescribe,\r\n                            people: td.createByName,\r\n                            time: td.createTime.slice(0, 10),\r\n                            flawsFrom: td.formValue.defectFrom,\r\n                            lnglat: [td.appealLng, td.appealLat],\r\n                        }\r\n                        this.tableList.push(item)\r\n                        this.tableGeo.push(td)\r\n                    })\r\n                    this.numTotal = this.tableList.length\r\n                    break\r\n                case 'numIng':\r\n                    this.tableData.forEach((td) => {\r\n                        if (td.ticketStatus == 1) {\r\n                            let item = {\r\n                                id: td.id,\r\n                                deviceName: td.formValue.deviceType,\r\n                                ticketNo: td.ticketNo,\r\n                                flawsName: td.formValue.faultTypes,\r\n                                status: td.ticketStatus,\r\n                                state: td.ticketStatusName,\r\n                                content: td.formValue.questionDescribe,\r\n                                people: td.createByName,\r\n                                time: td.createTime.slice(0, 10),\r\n                                flawsFrom: td.formValue.defectFrom,\r\n                                lnglat: [td.appealLng, td.appealLat],\r\n                            }\r\n                            this.tableList.push(item)\r\n                            this.tableGeo.push(td)\r\n                        }\r\n                    })\r\n                    this.numIng = this.tableList.length\r\n                    break\r\n                case 'numHover':\r\n                    this.tableData.forEach((td) => {\r\n                        if (td.ticketStatus == 3) {\r\n                            let item = {\r\n                                id: td.id,\r\n                                deviceName: td.formValue.deviceType,\r\n                                ticketNo: td.ticketNo,\r\n                                flawsName: td.formValue.faultTypes,\r\n                                status: td.ticketStatus,\r\n                                state: td.ticketStatusName,\r\n                                content: td.formValue.questionDescribe,\r\n                                people: td.createByName,\r\n                                time: td.createTime.slice(0, 10),\r\n                                flawsFrom: td.formValue.defectFrom,\r\n                                lnglat: [td.appealLng, td.appealLat],\r\n                            }\r\n                            this.tableList.push(item)\r\n                            this.tableGeo.push(td)\r\n                        }\r\n                    })\r\n                    this.numHover = this.tableList.length\r\n                    break\r\n                case 'numEd':\r\n                    this.tableData.forEach((td) => {\r\n                        if (td.ticketStatus == 2 || td.ticketStatus == 99) {\r\n                            let item = {\r\n                                id: td.id,\r\n                                deviceName: td.formValue.deviceType,\r\n                                ticketNo: td.ticketNo,\r\n                                flawsName: td.formValue.faultTypes,\r\n                                status: td.ticketStatus,\r\n                                state: td.ticketStatusName,\r\n                                content: td.formValue.questionDescribe,\r\n                                people: td.createByName,\r\n                                time: td.createTime.slice(0, 10),\r\n                                flawsFrom: td.formValue.defectFrom,\r\n                                lnglat: [td.appealLng, td.appealLat],\r\n                            }\r\n                            this.tableList.push(item)\r\n                            this.tableGeo.push(td)\r\n                        }\r\n                    })\r\n                    this.numEd = this.tableList.length\r\n                    break\r\n            }\r\n            this.getGeoJson()//将获取到的事件列表构造成GeoJson\r\n        },\r\n        // 将事件列表添加至地图\r\n        getGeoJson() {\r\n            let features = []\r\n            let withoutPositionCount = 0\r\n            console.log('要聚合展示的tableGeo', this.tableGeo)\r\n            if (this.tableGeo.length == 0) {\r\n                this.removeSomeLayer()\r\n                return\r\n            }\r\n            this.tableGeo.forEach((item) => {\r\n                let feature = {}\r\n                let properties = {}\r\n                let geometry = {}\r\n\r\n                properties = item\r\n                properties.defectFrom = item.formValue.defectFrom\r\n                feature.properties = properties\r\n                feature.type = 'Feature'\r\n                geometry.type = 'Point'\r\n                if (item.appealLat && item.appealLng) {\r\n                    // geometry.coordinates = [item.appealLat, item.appealLon]\r\n                    geometry.coordinates = [item.appealLng, item.appealLat] // wgs84\r\n                    feature.geometry = geometry\r\n                    features.push(feature)\r\n                } else if (\r\n                    item.formValue.deviceDetail?.latitude &&\r\n                    item.formValue.deviceDetail?.longitude\r\n                ) {\r\n                    geometry.coordinates = [\r\n                        item.formValue.deviceDetail.longitude,\r\n                        item.formValue.deviceDetail.latitude,\r\n                    ]\r\n                    feature.geometry = geometry\r\n                    features.push(feature)\r\n                } else if (\r\n                    item.formValue.ticketAddress?.longitude &&\r\n                    item.formValue.ticketAddress?.latitude\r\n                ) {\r\n                    geometry.coordinates = [\r\n                        item.formValue.ticketAddress.longitude,\r\n                        item.formValue.ticketAddress.latitude,\r\n                    ]\r\n                    feature.geometry = geometry\r\n                    features.push(feature)\r\n                } else {\r\n                    // geometry.coordinates = [39.06683064435245, 115.9453947097063]\r\n                    withoutPositionCount += 1\r\n                }\r\n            })\r\n            console.log('无坐标个数', withoutPositionCount)\r\n            // 聚合数据 构造头部\r\n            let geoJson = {\r\n                type: 'FeatureCollection',\r\n                crs: { type: 'name', properties: { name: 'urn:ogc:def:crs:OGC:1.3:CRS84' } },\r\n                features: [],\r\n            }\r\n            geoJson.features = features\r\n            console.log('聚合的geoJson', geoJson)\r\n            this.renderCluster(geoJson)\r\n        },\r\n        removeSomeLayer() {\r\n            ['clusters', 'cluster-count', 'unclustered-point'].forEach((item) => {\r\n                if (MapObj.map?.getLayer(item)) {\r\n                    MapObj.map.removeLayer(item)\r\n                }\r\n            })\r\n            if (MapObj.map?.getSource('earthquakes')) {\r\n                MapObj.map.removeSource('earthquakes')\r\n            }\r\n        },\r\n        // 渲染\r\n        renderCluster(geoJsonSource) {\r\n            this.removeSomeLayer()\r\n            MapObj.map.addSource('earthquakes', {\r\n                type: 'geojson',\r\n                data: geoJsonSource,\r\n                cluster: true,\r\n                clusterMaxZoom: 14, // Max zoom to cluster points on\r\n                clusterRadius: 50, // Radius of each cluster when clustering points (defaults to 50)\r\n            })\r\n\r\n            MapObj.map.addLayer({\r\n                id: 'clusters',\r\n                type: 'circle',\r\n                source: 'earthquakes',\r\n                filter: ['has', 'point_count'],\r\n                paint: {\r\n                    'circle-color': ['step', ['get', 'point_count'], \"rgba(0, 209, 134, 0.8)\", 5, \"rgba(255, 148, 41, 0.8)\", 15, \"rgba(255, 74, 65, 0.8)\"],\r\n                    'circle-radius': ['step', ['get', 'point_count'], 20, 5, 25, 15, 30],\r\n                    // 这个是外边框的颜色 circle-stroke-color这个对应了上面circle-color\r\n                    \"circle-stroke-color\": [\r\n                        \"step\",\r\n                        [\"get\", \"point_count\"],\r\n                        \"rgba(0, 209, 134, 0.3)\",\r\n                        5,\r\n                        \"rgba(255, 148, 41, 0.3)\",\r\n                        15,\r\n                        \"rgba(255, 74, 65, 0.3)\"\r\n                    ],\r\n                    // 这个是外边框晕染的范围\r\n                    \"circle-stroke-width\": [\r\n                        \"step\",\r\n                        [\"get\", \"point_count\"],\r\n                        8, //蓝色晕染长度，当点数小于100时为5px晕染\r\n                        5, //对应上面circle-color 数字，意思为100以内\r\n                        12, //点计数在100到750之间时为黄色，6px晕染\r\n                        15, //对应上面circle-color 数字，意思为750以内\r\n                        15 //点计数大于或等于750时为7px像素的粉红色晕染\r\n                    ]\r\n                },\r\n            })\r\n\r\n            MapObj.map.addLayer({\r\n                id: 'cluster-count',\r\n                type: 'symbol',\r\n                source: 'earthquakes',\r\n                filter: ['has', 'point_count'],\r\n                layout: {\r\n                    'text-field': '{point_count_abbreviated}',\r\n                    // 'text-font': ['DIN Offc Pro Medium', 'Arial Unicode MS Bold'],\r\n                    'text-size': 12,\r\n                },\r\n            })\r\n\r\n            MapObj.map.addLayer({\r\n                id: 'unclustered-point',\r\n                source: 'earthquakes',\r\n                filter: ['!', ['has', 'point_count']],\r\n                type: 'symbol',\r\n                layout: {\r\n                    'icon-image': '事件点', // 点的图标\r\n                    visibility: 'visible',\r\n                    'icon-size': 0.7,\r\n                },\r\n            })\r\n\r\n            let defectFromDic = this.$store.state[ENUM].defectFrom\r\n            let that = this\r\n            MapObj.map.on('click', 'unclustered-point', (e) => {\r\n                // 如果当前事件点所有popup为打开状态，即事件点popup数组长度不为0，退出该次点击事件\r\n                // if (MapObj.eventPopupArray.length > 0) return\r\n                // 每次点击新的事件点就清除预案数据\r\n                // this.fileList = []\r\n                console.log('e.features: ', e.features)\r\n                // console.log('formValue: ', JSON.parse(e.features[0].properties.formValue))\r\n                MapObj.map.getCanvas().style.cursor = 'pointer'\r\n\r\n                let formValue = JSON.parse(e.features[0].properties.formValue)\r\n                console.log('formValue: ', formValue)\r\n\r\n                var coordinates = e.features[0].geometry.coordinates.slice()\r\n                while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\r\n                    coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360\r\n                }\r\n                // Create a popup, but don't add it to the map yet.\r\n                this.popup1 = new mapboxgl.Popup({\r\n                    closeOnClick: true,\r\n                    closeButton: false,\r\n                    anchor: 'bottom',\r\n                    offset: { bottom: [0, -15] },\r\n                })\r\n\r\n                this.popup1\r\n                    .setLngLat(coordinates)\r\n                    .setHTML('<div id=\"vue-popup-custom\" class=\"vue-popup-custom\"><h3>' + formValue.faultTypes + '</h3></div>')//formValue.deviceType[1] + ' ' +\r\n                    .addTo(MapObj.map)\r\n            })\r\n\r\n            // inspect a cluster on click\r\n            MapObj.map.on('click', 'clusters', function (e) {\r\n                var features = MapObj.map.queryRenderedFeatures(e.point, { layers: ['clusters'] })\r\n                var clusterId = features[0].properties.cluster_id\r\n                MapObj.map\r\n                    .getSource('earthquakes')\r\n                    .getClusterExpansionZoom(clusterId, function (err, zoom) {\r\n                        if (err) return\r\n                        MapObj.map.easeTo({\r\n                            center: features[0].geometry.coordinates,\r\n                            zoom: zoom,\r\n                        })\r\n                    })\r\n            })\r\n            MapObj.map.setMinZoom(0)\r\n            MapObj.map.setMaxZoom(30)\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.mapContainer {\r\n    height: 550px;\r\n    width: 100%;\r\n\r\n}\r\n\r\n/deep/.vue-popup-custom {\r\n    font-size: 20px;\r\n    font-family: PingFangSC-Regular, PingFang SC;\r\n    font-weight: 400;\r\n    color: #555555;\r\n    line-height: 20px;\r\n}\r\n\r\n.selectStyle {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    margin-top: -85px;\r\n}\r\n\r\n\r\n.statisPart {\r\n    width: 750px;\r\n    height: 100px;\r\n    background: #FFFFFF;\r\n    border-radius: 30px 30px 0px 0px;\r\n}\r\n</style>"]}]}