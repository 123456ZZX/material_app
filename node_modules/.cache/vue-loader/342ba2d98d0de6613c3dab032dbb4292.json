{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\inspectionManage\\StartGalleryInspection.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\inspectionManage\\StartGalleryInspection.vue","mtime":1708928163426},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgVnVlIGZyb20gJ3Z1ZScNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCmltcG9ydCAqIGFzIEFwaSBmcm9tICcuL2FwaScNCmltcG9ydCBidXMgZnJvbSAnQC91dGlscy9idXMnDQppbXBvcnQgeyBFTlVNIH0gZnJvbSAnQC9zdG9yZS9TdGF0ZS9zdGF0ZVR5cGVzJw0KaW1wb3J0ICogYXMgdHVyZiBmcm9tICdAdHVyZi90dXJmJw0KaW1wb3J0IHsgYmJveCwgY2VudGVyIGFzIGdldENlbnRlciB9IGZyb20gJ0B0dXJmL3R1cmYnDQppbXBvcnQgX2Nsb25lRGVlcCBmcm9tICdsb2Rhc2gvY2xvbmVEZWVwJw0KaW1wb3J0IHsgYWRkSWNvblRvTWFwIH0gZnJvbSAnQC91dGlscy9tYXBVdGlscycNCmltcG9ydCBtYXBib3hnbCBmcm9tICdtYXBib3gtZ2wnDQppbXBvcnQgeyBUb2FzdCwgRGlhbG9nLCBOb3RpZnkgfSBmcm9tICdmYXdrZXMtbW9iaWxlLWxpYicNCmltcG9ydCBtaXhpbnMgZnJvbSAnQC92aWV3cy9pbnNwZWN0TWFwL21peGlucy9taXhpbnMuanMnDQppbXBvcnQgZGF5anMgZnJvbSAnZGF5anMnDQppbXBvcnQgcmVxdWVzdCBmcm9tICdAL3V0aWxzL3JlcXVlc3QnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJycsDQogIC8vIG1peGluczogW21peGluc10sDQogIGNvbXBvbmVudHM6IHt9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkaXNhYmxlZFN0b3A6IHRydWUsLy/liJrliJrov5vlhaXml7bvvIzlgZzmraLmjInpkq7kuI3lj6/nlKjvvJvlh6Dnp5LlkI7lj6/nlKgNCiAgICAgIHNob3dTdG9wOiBmYWxzZSwgLy8g5by556qX77yM5Y+W5raIL+ehruiupOWBnOatouW3oeajgA0KICAgICAgc3RvcFJlYXNvbjogJycsIC8vIOacieWvueixoeacquWujOaIkO+8jOWBnOatouW3oeajgOaXtuWhq+WGmQ0KICAgICAgcmVwb3J0UHJvYmxlbU51bTogMCwNCiAgICAgIC8vIOeUqOS6jue7mei/m+W6puadoemVv+W6pui1i+WAvA0KICAgICAgdGFza1Byb2Nlc3M6IDAsDQogICAgICBkaXZXaWR0aDogMCwNCiAgICAgIHBlcmNlbnROdW06IDAsDQoNCiAgICAgIC8vIOW9k+WJjeeCueWHu+eahOS7u+WKoQ0KICAgICAgdGFza0RldGFpbDoge30sDQogICAgICAvLyDlt6Hmo4DlkZjkv6Hmga8NCiAgICAgIHVzZXJJbmZvOiB7fSwNCiAgICAgIC8vIOaYr+WQpuW8gOWni+iusOW9lQ0KICAgICAgaWZSZWNvcmRpbmc6IGZhbHNlLA0KICAgICAgLy8g5piv5ZCm5Li65p+l55yL54q25oCBDQogICAgICBpc1ZpZXc6IGZhbHNlLA0KICAgICAgLy8g5piv5ZCm5Li65beh5qOA5ZGY55m76ZmG77yMZmFsc2XkuLrlt6Hmo4DlkZjnmbvlvZUNCiAgICAgIGlzRmxhZzogZmFsc2UsDQoNCiAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLiRzdG9yYWdlLmdldCgnYWNjZXNzX3Rva2VuJyksDQogICAgICBmb3JtVG9rZW46ICcnLA0KICAgICAgaGVhZGVyOiB7fSwNCg0KICAgICAgSW5zcE9iamVjdFR5cGVMaXN0OiBbXSwNCiAgICAgIEluc3BPYmplY3RMaXN0OiBbXSwvLyDlt6Hmo4Dlr7nosaENCiAgICAgIG5vd0NsaWNrOiAn5YWo6YOoJywNCiAgICAgIHVuZG9uZU51bTogMCwNCiAgICAgIGRvbmVOdW06IDAsDQogICAgICBub3dDbGlja0RvbmU6ICfmnKrlrozmiJAnLC8vICDmn6Xlhajpg6gtLeS4jeS8oG9iamVjdFN0YXR1cw0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAvLyDlgJLorqHml7YNCiAgICB0aW1lUmVzdCgpIHsNCiAgICAgIC8vIHJldHVybiBuZXcgRGF0ZSgnMjAyMy0wNy0wMSAwMDowMDowMCcpLmdldFRpbWUoKSAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpDQogICAgICByZXR1cm4gbmV3IERhdGUodGhpcy50YXNrRGV0YWlsLnRhc2tFbmRUaW1lKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZSgpLmdldFRpbWUoKQ0KICAgIH0sDQogICAgc3R5bGVWYXIoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICAvLyDov5vluqbmnaHlhajplb8NCiAgICAgICAgJy0tdG90YWxXaWR0aCc6IHRoaXMuZGl2V2lkdGggKyAncHgnLA0KICAgICAgICAnLS1iYXJXaWR0aCc6ICcxMDBweCcsDQogICAgICAgICctLWNvbG9yQmx1ZSc6ICdibHVlJywNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBhc3luYyBtb3VudGVkKCkgew0KICAgIHRoaXMuaXNWaWV3ID0gdGhpcy4kcm91dGUucXVlcnkuaXNWaWV3DQogICAgdGhpcy5pc1ZpZXcgPyB0aGlzLm5vd0NsaWNrRG9uZSA9ICflt7LlrozmiJAnIDogdGhpcy5ub3dDbGlja0RvbmUgPSAn5pyq5a6M5oiQJw0KDQogICAgLy8g5qC55o2uaWTmn6Xor6Lku7vliqHor6bmg4XvvIzmn5DkuIDkuKrlt6Hmo4Dlr7nosaHlrozmiJDlkI7ov5Tlm57liLDor6XpobXpnaLpnIDopoHph43mlrDojrflj5bku7vliqHliLfmlrDov5vluqbmnaENCiAgICBsZXQgcmVzID0gYXdhaXQgQXBpLmdldERldGFpbERhdGFCeUlkKHsgaWQ6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dhbGxlcnlUYXNrRGF0YScpKS5pZCB9KQ0KICAgIGNvbnNvbGUubG9nKCfmoLnmja5pZOafpeivouS7u+WKoeivpuaDhe+8jOafkOS4gOS4quW3oeajgOWvueixoeWujOaIkOWQjui/lOWbnuWIsOivpemhtemdoumcgOimgemHjeaWsOiOt+WPluS7u+WKoeWIt+aWsOi/m+W6puadoScsIHJlcyk7DQogICAgaWYgKHJlcy5zdGF0dXMgJiYgcmVzLmRhdGEpIHsNCiAgICAgIC8vIOW9k+WJjeeCueWHu+eahOS7u+WKoe+8jOS7juaOpeWPo+aIluiAheacrOWcsOS4reiOt+WPlg0KICAgICAgdGhpcy50YXNrRGV0YWlsID0gcmVzLmRhdGEgfHwgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FsbGVyeVRhc2tEYXRhJykpDQogICAgfQ0KICAgIGNvbnNvbGUubG9nKCflvZPliY3mo4DmvI/ku7vliqEnLCB0aGlzLnRhc2tEZXRhaWwpDQoNCiAgICAvLyDmlLnlj5jku7vliqHnmoTnirbmgIEgdGFza1N0YXR1cyDnirbmgIHvvIgw5pyq5byA5aeLIDHmiafooYzkuK0gMuW3suWujOaIkO+8iQ0KICAgIGlmICh0aGlzLnRhc2tEZXRhaWwudGFza1N0YXR1cyA9PSAwKSB7DQogICAgICB0aGlzLmNoYW5nZVN0YXR1cygpDQogICAgfQ0KDQogICAgdGhpcy50YXNrUHJvY2VzcyA9IHRoaXMuY2hhbmdlVG9SYXRlKHRoaXMudGFza0RldGFpbC5yZXBvcnRSYXRlKSAvLyDku7vliqHov5vluqYNCiAgICB0aGlzLnVzZXJJbmZvID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8NCiAgICBjb25zb2xlLmxvZygndGhpcy51c2VySW5mbycsIHRoaXMudXNlckluZm8pDQogICAgY29uc29sZS5sb2coJ+W9k+WJjeeCueWHu+eahOS7u+WKoScsIHRoaXMudGFza0RldGFpbCkNCiAgICBjb25zb2xlLmxvZygNCiAgICAgIHRoaXMudXNlckluZm8udXNlck5hbWUsDQogICAgICB0aGlzLnRhc2tEZXRhaWwuaW5zcGVjdG9yLA0KICAgICAgJy0tLS0tLeW3oeajgOS6uuWRmOS4juW9k+WJjeeZu+mZhui0puWPty0tLS0tLScsDQogICAgICB0aGlzLnVzZXJJbmZvLnVzZXJGdWxsbmFtZSwNCiAgICAgIHRoaXMudGFza0RldGFpbC5pbnNwZWN0b3JGdWxsTmFtZQ0KICAgICkNCg0KICAgIC8vIOW9k+W3oeajgOS6uuWRmOS4juW9k+WJjeeZu+mZhui0puWPt+S4gOiHtOaXtuaJjeiDveajgOa8jw0KICAgIGlmICgNCiAgICAgIHRoaXMudXNlckluZm8udXNlck5hbWUgIT0gdGhpcy50YXNrRGV0YWlsLmluc3BlY3RvciAmJg0KICAgICAgdGhpcy51c2VySW5mby51c2VyRnVsbG5hbWUgIT0gdGhpcy50YXNrRGV0YWlsLmluc3BlY3RvckZ1bGxOYW1lDQogICAgKSB7DQogICAgICBjb25zb2xlLmxvZygn5Lq65ZGY5LiN5LiA6Ie0JykNCiAgICAgIC8vIHRydWXkuLrlt6Hmo4DlkZjmnKrnmbvlvZXvvIzkuLrmn6XnnIvnirbmgIENCiAgICAgIC8vIHRoaXMuaXNGbGFnID0gdHJ1ZQ0KICAgIH0NCiAgICAvLyBpbnNwZWN0b3I6ICJjaGVuX2JvbGluIg0KICAgIC8vIGluc3BlY3RvckZ1bGxOYW1lOiAi6ZmI5Y2a5p6XIg0KDQogICAgLy8gdXNlckZ1bGxuYW1lOiAi5a6L5Yev6b6ZIg0KICAgIC8vIHVzZXJOYW1lOiAic29uZ19rbCINCg0KICAgIC8vIOiOt+WPlmhlYWRlcu+8jOafpeivouW3peWNleeUqA0KICAgIGF4aW9zKHsNCiAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9USElSRF9SRVFVRVNUX1VSTCArICcvbWFpbi91c2VyQ2VudGVyQXBpL3Nzby90b2tlbkJ5VG9rZW4nLA0KICAgICAgbWV0aG9kOiAncG9zdCcsDQogICAgICBwYXJhbXM6IHsNCiAgICAgICAgdG9rZW46IHRoaXMuYWNjZXNzVG9rZW4sDQogICAgICB9LA0KICAgICAgaGVhZGVyczogew0KICAgICAgICBBdXRob3JpemF0aW9uOiAnQmFzaWMgYjNWMGQyOXlhenAzY0djeU1ESXcnLA0KICAgICAgfSwNCiAgICB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgew0KICAgICAgICB0aGlzLmZvcm1Ub2tlbiA9IHJlcy5kYXRhLnJlc3VsdERhdGEudG9rZW4NCiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMuZm9ybVRva2VuOiAnLCB0aGlzLmZvcm1Ub2tlbik7DQogICAgICAgIHRoaXMuaGVhZGVyID0gew0KICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgdGhpcy5mb3JtVG9rZW4sDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5nZXRQcm9ibGVtRGF0YUxpc3QoKSAvLyDpnIDopoHnoa7kv53mi7/lhYjliLDkuoYgaGVhZGVyDQogICAgICB9DQogICAgfSkNCiAgICB0aGlzLmRpdldpZHRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRleHRXaWR0aCcpLmNsaWVudFdpZHRoDQogICAgY29uc29sZS5sb2coJ3RleHRXaWR0aCB3aWR0aDogJyArIHRoaXMuZGl2V2lkdGgpDQogICAgdGhpcy5zdHlsZVZhclsnLS1iYXJXaWR0aCddID0gcGFyc2VJbnQodGhpcy5kaXZXaWR0aCAqIHRoaXMucGVyY2VudE51bSkgKyAncHgnDQogICAgdGhpcy5nZXRJbnNwT2JqZWN0TGlzdCgpDQogICAgLy/liJrliJrov5vlhaXml7bvvIzlgZzmraLmjInpkq7kuI3lj6/nlKjvvJvlh6Dnp5LlkI7lj6/nlKgNCiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7DQogICAgICB0aGlzLmRpc2FibGVkU3RvcCA9IGZhbHNlDQogICAgfSwgMjAwMCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOaUueWPmOS7u+WKoeeahOeKtuaAgSB0YXNrU3RhdHVzIOeKtuaAge+8iDDmnKrlvIDlp4sgMeaJp+ihjOS4rSAy5bey5a6M5oiQ77yJDQogICAgY2hhbmdlU3RhdHVzKCkgew0KICAgICAgbGV0IHBhcmFtcyA9IF9jbG9uZURlZXAodGhpcy50YXNrRGV0YWlsKQ0KICAgICAgcGFyYW1zLnRhc2tTdGF0dXMgPSAxDQogICAgICBBcGkuY2hhbmdlVGFza1N0YXR1cyhwYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgIH0pDQogICAgfSwNCiAgICBjaGFuZ2VUb1JhdGUoY292ZXJhZ2UpIHsNCiAgICAgIGlmIChjb3ZlcmFnZS5pbmNsdWRlcygnLycpKSB7DQogICAgICAgIGxldCBpbnNwID0gTnVtYmVyKGNvdmVyYWdlLnNwbGl0KCcvJylbMF0pDQogICAgICAgIGxldCB1bmluc3AgPSBOdW1iZXIoY292ZXJhZ2Uuc3BsaXQoJy8nKVsxXSkNCiAgICAgICAgaWYgKHVuaW5zcCkgew0KICAgICAgICAgIHRoaXMucGVyY2VudE51bSA9IGluc3AgLyB1bmluc3AgfHwgMA0KICAgICAgICAgIHJldHVybiAoKGluc3AgLyB1bmluc3ApICogMTAwKS50b0ZpeGVkKDIpICsgJyUnDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgcmV0dXJuICcwJScNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuICcwJScNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOi/lOWbnuS7u+WKoemhtQ0KICAgIGdvQmFja1RvVGFzaygpIHsNCiAgICAgIGlmICh0aGlzLmlmUmVjb3JkaW5nKSB7DQogICAgICAgIC8vIOW9k+WJjeato+WcqOW3oeajgOS4reaXtu+8jOi/lOWbnuS7u+WKoemhteaXtuaPkOekuuaYr+WQpuemu+W8gOivpeS7u+WKoQ0KICAgICAgICB0aGlzLmlmTGVhdmVUYXNrID0gdHJ1ZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g57uf6K6h6K+l5Lu75YqhIOS4iuaKpeeahOmXrumimOW3peWNleaVsA0KICAgIGFzeW5jIGdldFByb2JsZW1EYXRhTGlzdCgpIHsNCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgIHN5c0NvZGU6ICdvdXR3b3JrJywNCiAgICAgICAgLy8gdG9rZW46IHRoaXMuYWNjZXNzVG9rZW4sDQogICAgICAgIHNtYWxsVHlwZTogJ2Fibm9ybWFsX2luZm9ybScsDQogICAgICAgIHBhZ2U6IHsNCiAgICAgICAgICBjdXJyZW50OiAxLA0KICAgICAgICAgIHNpemU6IDk5OTk5LCAvLyDmn6Xlhajpg6gNCiAgICAgICAgfSwNCiAgICAgICAgZXh0UGFyYW06IHsNCiAgICAgICAgICB0YXNrX2lkOiB0aGlzLnRhc2tEZXRhaWwuaWQNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgYXdhaXQgdGhpcy5nZXRBeGlvc0RhdGEocGFyYW1zKQ0KICAgIH0sDQogICAgZ2V0QXhpb3NEYXRhKHBhcmFtcykgew0KICAgICAgY29uc29sZS5sb2coJ3BhcmFtczogJywgcGFyYW1zKTsNCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgICAgIGF4aW9zKHsNCiAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfVEhJUkRfUkVRVUVTVF9VUkwgKyAnL21haW4vb3V0d29ya2FwaS90aWNrZXRTdGF0aXN0aWNDbGllbnQvZ2V0VGlja2V0TGlzdCcsDQogICAgICAgICAgLy8gdXJsOiAnL21haW4vb3V0d29ya2FwaS90aWNrZXRTdGF0aXN0aWNDbGllbnQvZ2V0VGlja2V0TGlzdCcsDQogICAgICAgICAgLy8gdXJsOiAnaHR0cDovLzE3Mi4yMC43OS43MC9tYWluL291dHdvcmthcGkvdGlja2V0U3RhdGlzdGljQ2xpZW50L2dldFRpY2tldExpc3QnLA0KICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLA0KICAgICAgICAgIGRhdGE6IHBhcmFtcywNCiAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlciwNCiAgICAgICAgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coJ2dldEF4aW9zRGF0YS1yZXM6ICcsIHJlcyk7DQogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgJiYgcmVzLmRhdGEuc3VjY2VzcyAmJiByZXMuZGF0YS5yZXN1bHREYXRhKSB7DQogICAgICAgICAgICB0aGlzLnJlcG9ydFByb2JsZW1OdW0gPSByZXMuZGF0YS5yZXN1bHREYXRhLnRvdGFsDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8vIOacquWujOaIkC/lt7LlrozmiJANCiAgICBhc3luYyBnZXRJbnNwT2JqZWN0TGlzdCgpIHsNCiAgICAgIGxldCByZXMgPSBhd2FpdCBBcGkuaW5zcE9iamVjdCh7IHRhc2tJZDogdGhpcy50YXNrRGV0YWlsLmlkLCBvYmplY3RTdGF0dXM6IHRoaXMubm93Q2xpY2tEb25lIH0pDQogICAgICBpZiAocmVzLnN0YXR1cykgew0KICAgICAgICByZXMuZGF0YS5vYmplY3RUeXBlTGlzdCA/IHRoaXMuSW5zcE9iamVjdFR5cGVMaXN0ID0gcmVzLmRhdGEub2JqZWN0VHlwZUxpc3QgOiAnJw0KICAgICAgICB0aGlzLkluc3BPYmplY3RMaXN0ID0gcmVzLmRhdGEub2JqZWN0cw0KICAgICAgfQ0KICAgICAgbGV0IHJlc1VuRG9uZSA9IGF3YWl0IEFwaS5pbnNwT2JqZWN0KHsgdGFza0lkOiB0aGlzLnRhc2tEZXRhaWwuaWQsIG9iamVjdFN0YXR1czogJ+acquWujOaIkCcgfSkNCiAgICAgIGlmIChyZXNVbkRvbmUuc3RhdHVzKSB7DQogICAgICAgIHRoaXMudW5kb25lTnVtID0gcmVzVW5Eb25lLmRhdGEub2JqZWN0cy5sZW5ndGgNCiAgICAgIH0NCiAgICAgIGxldCByZXNEb25lID0gYXdhaXQgQXBpLmluc3BPYmplY3QoeyB0YXNrSWQ6IHRoaXMudGFza0RldGFpbC5pZCwgb2JqZWN0U3RhdHVzOiAn5bey5a6M5oiQJyB9KQ0KICAgICAgaWYgKHJlc0RvbmUuc3RhdHVzKSB7DQogICAgICAgIHRoaXMuZG9uZU51bSA9IHJlc0RvbmUuZGF0YS5vYmplY3RzLmxlbmd0aA0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5YWo6YOo44CB5pSv5buK44CB5rC05L+h6Iix54K55Ye7DQogICAgYXN5bmMgYnRuQ2xpY2sodGV4dCkgew0KICAgICAgdGhpcy5ub3dDbGljayA9IHRleHQNCiAgICAgIGxldCByZXMgPSB7fQ0KICAgICAgaWYgKHRleHQgPT0gJ+WFqOmDqCcpIHsNCiAgICAgICAgdGhpcy5nZXRJbnNwT2JqZWN0TGlzdCgpDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXMgPSBhd2FpdCBBcGkuaW5zcE9iamVjdCh7IHRhc2tJZDogdGhpcy50YXNrRGV0YWlsLmlkLCBvYmplY3RTdGF0dXM6IHRoaXMubm93Q2xpY2tEb25lLCBvYmplY3RUeXBlOiB0ZXh0IH0pDQogICAgICAgIGlmIChyZXMuc3RhdHVzKSB7DQogICAgICAgICAgdGhpcy5JbnNwT2JqZWN0TGlzdCA9IHJlcy5kYXRhLm9iamVjdHMNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5pyq5a6M5oiQ44CB5bey5a6M5oiQ54K55Ye7DQogICAgdHdvQnRuQ2xpY2sodGV4dCkgew0KICAgICAgdGhpcy5ub3dDbGlja0RvbmUgPSB0ZXh0DQogICAgICB0aGlzLmJ0bkNsaWNrKHRoaXMubm93Q2xpY2spDQogICAgfSwNCiAgICBzdG9wSGFuZGxlcigpIHsNCiAgICAgIGlmICghdGhpcy5kaXNhYmxlZFN0b3ApIHsNCiAgICAgICAgaWYgKHRoaXMudW5kb25lTnVtID09IDApIHsNCiAgICAgICAgICAvLyDmsqHmnInmnKrlrozmiJDnmoTlt6Hmo4Dlr7nosaHvvIznm7TmjqXlgZzmraLlt6Hmo4Dku7vliqENCiAgICAgICAgICB0aGlzLnN0b3BHYWxsZXJ5SW5zcCgpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy8g5pyJ5pyq5a6M5oiQ55qE5beh5qOA5a+56LGh77yM5by556qX5Lit5q2i5beh5qOA5Lu75YqhDQogICAgICAgICAgdGhpcy5zaG93U3RvcCA9IHRydWUNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5YGc5q2i566h5buK5beh5qOADQogICAgYXN5bmMgc3RvcEdhbGxlcnlJbnNwKCkgew0KICAgICAgbGV0IGluc3BUYXNrID0gew0KICAgICAgICBpZDogdGhpcy50YXNrRGV0YWlsLmlkLA0KICAgICAgICB0YXNrU3RhdHVzOiAyLA0KICAgICAgICByZW1hcmtzOiB0aGlzLnVuZG9uZU51bSA9PSAwID8gJ+WujOaIkOaJgOacieWvueixoeW3oeajgCcgOiB0aGlzLnN0b3BSZWFzb24NCiAgICAgIH0NCiAgICAgIGxldCByZXMgPSBhd2FpdCBBcGkuc3RvcEdhbGxlcnlJbnNwKGluc3BUYXNrKQ0KICAgICAgY29uc29sZS5sb2coJ+WBnOatoueuoeW7iuW3oeajgC1yZXM6ICcsIHJlcyk7DQogICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAvLyAgIG5hbWU6ICdHYWxsZXJ5SW5zcGVjdGlvbicsDQogICAgICAvLyB9KQ0KICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQ0KICAgIH0sDQogICAgLy8g6L+b5YWl5p+Q5LiA5Liq566h5buK5a6M5oiQ54q25oCB6K+m5oOF6aG16Z2iDQogICAgZ29Ub0RldGFpbChpdGVtKSB7DQogICAgICBjb25zb2xlLmxvZygn5b2T5YmN54K55Ye7566h5buKJywgaXRlbSkNCiAgICAgIGlmICh0aGlzLm5vd0NsaWNrRG9uZSA9PSAn5bey5a6M5oiQJykgew0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgbmFtZTogJ1NpbmdsZUdhbGxlcnlEZXRhaWwnLA0KICAgICAgICAgIHF1ZXJ5OiBpdGVtLA0KICAgICAgICAgIHBhcmFtczogeyB0YXNrSWQ6IHRoaXMudGFza0RldGFpbC5pZCwgbW9kZTogJ3ZpZXcnIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIGVsc2Ugew0KICAgICAgICBpZiAodGhpcy5pc1ZpZXcpIHsNCiAgICAgICAgICBUb2FzdCh7DQogICAgICAgICAgICBtZXNzYWdlOiAn6K+l5beh5qOA5Lu75Yqh5bey57uT5p2fJywNCiAgICAgICAgICAgIGR1cmF0aW9uOiAnMTUwMCcsDQogICAgICAgICAgfSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAvLyDlpoLmnpzlvZPliY3ov5jmnKrojrflj5bliLDlt6XljZV0b2tlbu+8jOS4jeWFgeiuuOS4iuaKpea8j+eCuQ0KICAgICAgICAgIGlmICghdGhpcy5mb3JtVG9rZW4pIHsNCiAgICAgICAgICAgIFRvYXN0KHsNCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+ato+WcqOiOt+WPluW3peWNlXRva2Vu77yM6K+356iN5ZCO5YaN6K+VJywNCiAgICAgICAgICAgICAgZHVyYXRpb246ICcxNTAwJywNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgICAgbmFtZTogJ1NpbmdsZUdhbGxlcnlEZXRhaWwnLA0KICAgICAgICAgICAgcXVlcnk6IGl0ZW0sDQogICAgICAgICAgICBwYXJhbXM6IHsgdGFza0lkOiB0aGlzLnRhc2tEZXRhaWwuaWQsIGZvcm1Ub2tlbjogdGhpcy5mb3JtVG9rZW4sIG1vZGU6ICdlZGl0JyB9DQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9DQo="},{"version":3,"sources":["StartGalleryInspection.vue"],"names":[],"mappings":";AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StartGalleryInspection.vue","sourceRoot":"src/views/inspectionManage","sourcesContent":["<template>\r\n  <div class=\"GalleryInspectionStyle\">\r\n    <fm-nav-bar left-arrow :title=\"taskDetail.taskName\" @click-left=\"goBackToTask\">\r\n    </fm-nav-bar>\r\n    <div class=\"mapContainer\">\r\n      <div class=\"topCard\">\r\n        <div class=\"leftSide\">\r\n          <div class=\"littleLine1\">\r\n            <div class=\"textWidth\">\r\n              <span>任务进度</span>\r\n              <span>{{ taskProcess }}</span>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"true\" class=\"littleLine2\">\r\n            <!--  第一层，固定进度条宽度 -->\r\n            <div :style=\"styleVar\" class=\"progressWidth\">\r\n              <!-- 第二层，计算得到的实际比率宽度 -->\r\n              <div :style=\"styleVar\" class=\"colorWidth\">\r\n                <!-- 第三层，动画 -->\r\n                <div :style=\"styleVar\" class=\"progressAnimate\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"littleLine3\">\r\n            <img src=\"../../assets/img/inspection/剩余时间.png\" alt=\"\" />\r\n            <div class=\"titleText\">剩余时间：</div>\r\n            <fm-count-down :time=\"timeRest\">\r\n              <template #default=\"timeData\">\r\n                <span class=\"block\">{{ timeData.days }}</span>\r\n                <span class=\"colon\">天</span>\r\n                <span class=\"block\">{{ timeData.hours }}</span>\r\n                <span class=\"colon\"> : </span>\r\n                <span class=\"block\">{{ timeData.minutes }}</span>\r\n              </template>\r\n            </fm-count-down>\r\n          </div>\r\n        </div>\r\n        <div class=\"rightSide\" v-if=\"!isView\">\r\n          <!-- <img @click=\"startGalleryInsp\" src=\"@/assets/img/inspection/暂停.png\" alt=\"\" /> -->\r\n          <img @click=\"stopHandler\" src=\"@/assets/img/inspection/结束.png\" alt=\"\" />\r\n          <fm-dialog :visible.sync=\"showStop\" title=\"停止巡检\" show-cancel-button @confirm=\"stopGalleryInsp\">\r\n            <fm-field v-model=\"stopReason\" rows=\"1\" autosize label=\"\" type=\"textarea\" placeholder=\"请输入中止原因\" />\r\n          </fm-dialog>\r\n        </div>\r\n        <div class=\"rightSide\" v-else>\r\n          <img src=\"@/assets/img/inspection/签到成功.png\" alt=\"\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"centerCard\">\r\n        <div class=\"leftSideImg\">\r\n          <img src=\"@/assets/img/inspection/警告.png\" alt=\"\" />\r\n          <span class=\"textStyle1\">共上报问题数</span>\r\n          <span class=\"textStyle2\">{{ reportProblemNum }}</span>\r\n        </div>\r\n        <!-- <img class=\"moreStyle\" src=\"@/assets/img/inspection/查看更多.png\" alt=\"\" /> -->\r\n      </div>\r\n      <div class=\"bottomCard\">\r\n        <div class=\"topTwoTab\">\r\n          <div class=\"buttonStyleTwo\" @click=\"twoBtnClick('未完成')\" :class=\"nowClickDone == '未完成' ? 'chooseStyle' : ''\">\r\n            未完成({{ undoneNum }})\r\n          </div>\r\n          <div class=\"buttonStyleTwo\" @click=\"twoBtnClick('已完成')\" :class=\"nowClickDone == '已完成' ? 'chooseStyle' : ''\">\r\n            已完成({{ doneNum }})\r\n          </div>\r\n        </div>\r\n        <div class=\"topThreeBtn\">\r\n          <div class=\"buttonStyle\" @click=\"btnClick('全部')\" :class=\"nowClick == '全部' ? 'chooseStyle' : ''\">\r\n            全部\r\n          </div>\r\n          <div class=\"buttonStyle\" v-for=\"(item, index) in InspObjectTypeList\" :key=\"index\" @click=\"btnClick(item)\"\r\n            :class=\"nowClick == item ? 'chooseStyle' : ''\">\r\n            {{ item }}\r\n          </div>\r\n        </div>\r\n        <div class=\"bottomList\">\r\n          <div class=\"lineStyle\" v-for=\"(item, index) in InspObjectList\" :key=\"index\">\r\n            <span class=\"numStyle\">{{ index + 1 }}</span>\r\n            <span class=\"textStyle\">{{ item.objectName }}</span>\r\n            <img @click=\"goToDetail(item)\" class=\"imgRight\" src=\"@/assets/img/inspection/查看更多蓝.png\" alt=\"\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport * as Api from './api'\r\nimport bus from '@/utils/bus'\r\nimport { ENUM } from '@/store/State/stateTypes'\r\nimport * as turf from '@turf/turf'\r\nimport { bbox, center as getCenter } from '@turf/turf'\r\nimport _cloneDeep from 'lodash/cloneDeep'\r\nimport { addIconToMap } from '@/utils/mapUtils'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport { Toast, Dialog, Notify } from 'fawkes-mobile-lib'\r\nimport mixins from '@/views/inspectMap/mixins/mixins.js'\r\nimport dayjs from 'dayjs'\r\nimport request from '@/utils/request'\r\n\r\nexport default {\r\n  name: '',\r\n  // mixins: [mixins],\r\n  components: {},\r\n  data() {\r\n    return {\r\n      disabledStop: true,//刚刚进入时，停止按钮不可用；几秒后可用\r\n      showStop: false, // 弹窗，取消/确认停止巡检\r\n      stopReason: '', // 有对象未完成，停止巡检时填写\r\n      reportProblemNum: 0,\r\n      // 用于给进度条长度赋值\r\n      taskProcess: 0,\r\n      divWidth: 0,\r\n      percentNum: 0,\r\n\r\n      // 当前点击的任务\r\n      taskDetail: {},\r\n      // 巡检员信息\r\n      userInfo: {},\r\n      // 是否开始记录\r\n      ifRecording: false,\r\n      // 是否为查看状态\r\n      isView: false,\r\n      // 是否为巡检员登陆，false为巡检员登录\r\n      isFlag: false,\r\n\r\n      accessToken: this.$storage.get('access_token'),\r\n      formToken: '',\r\n      header: {},\r\n\r\n      InspObjectTypeList: [],\r\n      InspObjectList: [],// 巡检对象\r\n      nowClick: '全部',\r\n      undoneNum: 0,\r\n      doneNum: 0,\r\n      nowClickDone: '未完成',//  查全部--不传objectStatus\r\n    }\r\n  },\r\n  computed: {\r\n    // 倒计时\r\n    timeRest() {\r\n      // return new Date('2023-07-01 00:00:00').getTime() - new Date().getTime()\r\n      return new Date(this.taskDetail.taskEndTime).getTime() - new Date().getTime()\r\n    },\r\n    styleVar() {\r\n      return {\r\n        // 进度条全长\r\n        '--totalWidth': this.divWidth + 'px',\r\n        '--barWidth': '100px',\r\n        '--colorBlue': 'blue',\r\n      }\r\n    },\r\n  },\r\n  async mounted() {\r\n    this.isView = this.$route.query.isView\r\n    this.isView ? this.nowClickDone = '已完成' : this.nowClickDone = '未完成'\r\n\r\n    // 根据id查询任务详情，某一个巡检对象完成后返回到该页面需要重新获取任务刷新进度条\r\n    let res = await Api.getDetailDataById({ id: JSON.parse(localStorage.getItem('galleryTaskData')).id })\r\n    console.log('根据id查询任务详情，某一个巡检对象完成后返回到该页面需要重新获取任务刷新进度条', res);\r\n    if (res.status && res.data) {\r\n      // 当前点击的任务，从接口或者本地中获取\r\n      this.taskDetail = res.data || JSON.parse(localStorage.getItem('galleryTaskData'))\r\n    }\r\n    console.log('当前检漏任务', this.taskDetail)\r\n\r\n    // 改变任务的状态 taskStatus 状态（0未开始 1执行中 2已完成）\r\n    if (this.taskDetail.taskStatus == 0) {\r\n      this.changeStatus()\r\n    }\r\n\r\n    this.taskProcess = this.changeToRate(this.taskDetail.reportRate) // 任务进度\r\n    this.userInfo = this.$store.state.userInfo\r\n    console.log('this.userInfo', this.userInfo)\r\n    console.log('当前点击的任务', this.taskDetail)\r\n    console.log(\r\n      this.userInfo.userName,\r\n      this.taskDetail.inspector,\r\n      '------巡检人员与当前登陆账号------',\r\n      this.userInfo.userFullname,\r\n      this.taskDetail.inspectorFullName\r\n    )\r\n\r\n    // 当巡检人员与当前登陆账号一致时才能检漏\r\n    if (\r\n      this.userInfo.userName != this.taskDetail.inspector &&\r\n      this.userInfo.userFullname != this.taskDetail.inspectorFullName\r\n    ) {\r\n      console.log('人员不一致')\r\n      // true为巡检员未登录，为查看状态\r\n      // this.isFlag = true\r\n    }\r\n    // inspector: \"chen_bolin\"\r\n    // inspectorFullName: \"陈博林\"\r\n\r\n    // userFullname: \"宋凯龙\"\r\n    // userName: \"song_kl\"\r\n\r\n    // 获取header，查询工单用\r\n    axios({\r\n      url: process.env.VUE_APP_THIRD_REQUEST_URL + '/main/userCenterApi/sso/tokenByToken',\r\n      method: 'post',\r\n      params: {\r\n        token: this.accessToken,\r\n      },\r\n      headers: {\r\n        Authorization: 'Basic b3V0d29yazp3cGcyMDIw',\r\n      },\r\n    }).then((res) => {\r\n      if (res.status == 200) {\r\n        this.formToken = res.data.resultData.token\r\n        console.log('this.formToken: ', this.formToken);\r\n        this.header = {\r\n          'Content-Type': 'application/json',\r\n          Authorization: 'Bearer ' + this.formToken,\r\n        }\r\n        this.getProblemDataList() // 需要确保拿先到了 header\r\n      }\r\n    })\r\n    this.divWidth = document.querySelector('.textWidth').clientWidth\r\n    console.log('textWidth width: ' + this.divWidth)\r\n    this.styleVar['--barWidth'] = parseInt(this.divWidth * this.percentNum) + 'px'\r\n    this.getInspObjectList()\r\n    //刚刚进入时，停止按钮不可用；几秒后可用\r\n    window.setTimeout(() => {\r\n      this.disabledStop = false\r\n    }, 2000)\r\n  },\r\n  methods: {\r\n    // 改变任务的状态 taskStatus 状态（0未开始 1执行中 2已完成）\r\n    changeStatus() {\r\n      let params = _cloneDeep(this.taskDetail)\r\n      params.taskStatus = 1\r\n      Api.changeTaskStatus(params).then(res => {\r\n        console.log(res);\r\n      })\r\n    },\r\n    changeToRate(coverage) {\r\n      if (coverage.includes('/')) {\r\n        let insp = Number(coverage.split('/')[0])\r\n        let uninsp = Number(coverage.split('/')[1])\r\n        if (uninsp) {\r\n          this.percentNum = insp / uninsp || 0\r\n          return ((insp / uninsp) * 100).toFixed(2) + '%'\r\n        } else {\r\n          return '0%'\r\n        }\r\n      } else {\r\n        return '0%'\r\n      }\r\n    },\r\n    // 返回任务页\r\n    goBackToTask() {\r\n      if (this.ifRecording) {\r\n        // 当前正在巡检中时，返回任务页时提示是否离开该任务\r\n        this.ifLeaveTask = true\r\n      } else {\r\n        this.$router.go(-1)\r\n      }\r\n    },\r\n    // 统计该任务 上报的问题工单数\r\n    async getProblemDataList() {\r\n      let params = {\r\n        sysCode: 'outwork',\r\n        // token: this.accessToken,\r\n        smallType: 'abnormal_inform',\r\n        page: {\r\n          current: 1,\r\n          size: 99999, // 查全部\r\n        },\r\n        extParam: {\r\n          task_id: this.taskDetail.id\r\n        }\r\n      }\r\n      await this.getAxiosData(params)\r\n    },\r\n    getAxiosData(params) {\r\n      console.log('params: ', params);\r\n      return new Promise((resolve, reject) => {\r\n        axios({\r\n          url: process.env.VUE_APP_THIRD_REQUEST_URL + '/main/outworkapi/ticketStatisticClient/getTicketList',\r\n          // url: '/main/outworkapi/ticketStatisticClient/getTicketList',\r\n          // url: 'http://172.20.79.70/main/outworkapi/ticketStatisticClient/getTicketList',\r\n          method: 'post',\r\n          data: params,\r\n          headers: this.header,\r\n        }).then((res) => {\r\n          console.log('getAxiosData-res: ', res);\r\n          if (res.status && res.data.success && res.data.resultData) {\r\n            this.reportProblemNum = res.data.resultData.total\r\n          }\r\n        })\r\n      })\r\n    },\r\n    // 未完成/已完成\r\n    async getInspObjectList() {\r\n      let res = await Api.inspObject({ taskId: this.taskDetail.id, objectStatus: this.nowClickDone })\r\n      if (res.status) {\r\n        res.data.objectTypeList ? this.InspObjectTypeList = res.data.objectTypeList : ''\r\n        this.InspObjectList = res.data.objects\r\n      }\r\n      let resUnDone = await Api.inspObject({ taskId: this.taskDetail.id, objectStatus: '未完成' })\r\n      if (resUnDone.status) {\r\n        this.undoneNum = resUnDone.data.objects.length\r\n      }\r\n      let resDone = await Api.inspObject({ taskId: this.taskDetail.id, objectStatus: '已完成' })\r\n      if (resDone.status) {\r\n        this.doneNum = resDone.data.objects.length\r\n      }\r\n    },\r\n    // 全部、支廊、水信舱点击\r\n    async btnClick(text) {\r\n      this.nowClick = text\r\n      let res = {}\r\n      if (text == '全部') {\r\n        this.getInspObjectList()\r\n      } else {\r\n        res = await Api.inspObject({ taskId: this.taskDetail.id, objectStatus: this.nowClickDone, objectType: text })\r\n        if (res.status) {\r\n          this.InspObjectList = res.data.objects\r\n        }\r\n      }\r\n    },\r\n    // 未完成、已完成点击\r\n    twoBtnClick(text) {\r\n      this.nowClickDone = text\r\n      this.btnClick(this.nowClick)\r\n    },\r\n    stopHandler() {\r\n      if (!this.disabledStop) {\r\n        if (this.undoneNum == 0) {\r\n          // 没有未完成的巡检对象，直接停止巡检任务\r\n          this.stopGalleryInsp()\r\n        } else {\r\n          // 有未完成的巡检对象，弹窗中止巡检任务\r\n          this.showStop = true\r\n        }\r\n      }\r\n    },\r\n    // 停止管廊巡检\r\n    async stopGalleryInsp() {\r\n      let inspTask = {\r\n        id: this.taskDetail.id,\r\n        taskStatus: 2,\r\n        remarks: this.undoneNum == 0 ? '完成所有对象巡检' : this.stopReason\r\n      }\r\n      let res = await Api.stopGalleryInsp(inspTask)\r\n      console.log('停止管廊巡检-res: ', res);\r\n      // this.$router.push({\r\n      //   name: 'GalleryInspection',\r\n      // })\r\n      this.$router.go(-1)\r\n    },\r\n    // 进入某一个管廊完成状态详情页面\r\n    goToDetail(item) {\r\n      console.log('当前点击管廊', item)\r\n      if (this.nowClickDone == '已完成') {\r\n        this.$router.push({\r\n          name: 'SingleGalleryDetail',\r\n          query: item,\r\n          params: { taskId: this.taskDetail.id, mode: 'view' }\r\n        })\r\n      }\r\n      else {\r\n        if (this.isView) {\r\n          Toast({\r\n            message: '该巡检任务已结束',\r\n            duration: '1500',\r\n          })\r\n        } else {\r\n          // 如果当前还未获取到工单token，不允许上报漏点\r\n          if (!this.formToken) {\r\n            Toast({\r\n              message: '正在获取工单token，请稍后再试',\r\n              duration: '1500',\r\n            })\r\n            return\r\n          }\r\n          this.$router.push({\r\n            name: 'SingleGalleryDetail',\r\n            query: item,\r\n            params: { taskId: this.taskDetail.id, formToken: this.formToken, mode: 'edit' }\r\n          })\r\n        }\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.GalleryInspectionStyle {\r\n  background-color: #ffffff !important;\r\n  height: 100%;\r\n\r\n  // 顶部标题背景色\r\n  /deep/.fm-nav-bar__content {\r\n    background-color: #ffffff;\r\n  }\r\n\r\n  /deep/.fm-nav-bar__title {\r\n    color: #191919 !important;\r\n  }\r\n\r\n  /deep/ .fm-nav-bar .fm-icon {\r\n    color: #191919 !important;\r\n  }\r\n\r\n  .mapContainer {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    height: calc(100% - 92px);\r\n    width: 100%;\r\n    background: linear-gradient(0deg,\r\n        rgba(211, 231, 254, 0) 0%,\r\n        rgba(211, 231, 254, 0.05) 50%,\r\n        rgba(211, 231, 254, 0.4) 100%);\r\n\r\n    .topCard {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      width: 690px;\r\n      min-height: 175px;\r\n      margin-top: 48px;\r\n      background: #ffffff;\r\n      box-shadow: 0px 4px 16px 0px rgba(104, 115, 127, 0.06);\r\n      border-radius: 16px;\r\n\r\n      .leftSide {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-evenly;\r\n        width: 70%;\r\n        height: 100%;\r\n\r\n        // background-color: rgb(255, 196, 196);\r\n        .littleLine1 {\r\n          display: flex;\r\n          align-items: center;\r\n          min-height: 85px;\r\n          padding: 0 32px;\r\n          font-size: 36px;\r\n          font-family: Helvetica-Bold, Helvetica;\r\n          font-weight: bold;\r\n          color: #191919;\r\n\r\n          .textWidth {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            width: 90%;\r\n            min-height: 85px;\r\n          }\r\n        }\r\n\r\n        .littleLine2 {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          min-height: 24px;\r\n          padding-left: 32px;\r\n\r\n          // 第一层，固定进度条宽度\r\n          .progressWidth {\r\n            width: var(--totalWidth);\r\n            height: 16px;\r\n            border-radius: 8px;\r\n            background: rgba(27, 103, 216, 0.08);\r\n            box-shadow: inset 0px 0px 5px 0px rgba(39, 123, 214, 0.15);\r\n\r\n            // 第二层，计算得到的实际比率宽度\r\n            .colorWidth {\r\n              width: var(--barWidth);\r\n              height: 16px;\r\n              border-radius: 8px;\r\n              box-shadow: 0px 4px 8px 0px rgba(50, 127, 211, 0.24);\r\n              border-radius: 8px;\r\n              background: linear-gradient(-45deg, #1b67d8 0%, rgba(58, 160, 238, 0.42) 100%);\r\n\r\n              // 第三层，动画\r\n              .progressAnimate {\r\n                width: 0;\r\n                height: 16px;\r\n                border-radius: 8px;\r\n                background: linear-gradient(270deg, #1b67d8 0%, rgba(58, 160, 238, 0.42) 100%);\r\n                // background: linear-gradient(to top right, #CDDC39, #8BC34A, #FFEB3B);\r\n                animation: w 3s linear infinite;\r\n\r\n                @keyframes w {\r\n                  0% {\r\n                    width: 0;\r\n                  }\r\n\r\n                  100% {\r\n                    width: var(--barWidth);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // 剩余时间\r\n        .littleLine3 {\r\n          display: flex;\r\n          align-items: center;\r\n          width: 100%;\r\n          min-height: 85px;\r\n          font-size: 28px;\r\n          font-family: PingFangSC-Regular, PingFang SC;\r\n          font-weight: 400;\r\n          color: #999999;\r\n\r\n          img {\r\n            width: 32px;\r\n            height: 32px;\r\n            margin: 0 10px 0 32px;\r\n          }\r\n\r\n          // background-color: rgb(255, 129, 245);\r\n          .colon {\r\n            display: inline-block;\r\n            margin: 0 20px;\r\n            font-size: 24px;\r\n            font-weight: 400;\r\n            color: #2062c4;\r\n            line-height: 33px;\r\n          }\r\n\r\n          .block {\r\n            display: inline-block;\r\n            width: 38px;\r\n            font-size: 24px;\r\n            text-align: center;\r\n            color: #2062c4;\r\n            background: rgba(27, 103, 216, 0.1);\r\n            border-radius: 8px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .rightSide {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 30%;\r\n        height: 100%;\r\n\r\n        // background-color: rgb(196, 255, 196);\r\n        img {\r\n          width: 140px;\r\n          height: 140px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .centerCard {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      width: 690px;\r\n      height: 82px;\r\n      margin: 24px 0;\r\n      background: linear-gradient(270deg,\r\n          rgba(232, 194, 194, 0) 0%,\r\n          rgba(231, 122, 122, 0.05) 51%,\r\n          rgba(240, 83, 83, 0.1) 100%);\r\n      border-radius: 16px;\r\n\r\n      img {\r\n        width: 44px;\r\n      }\r\n\r\n      .leftSideImg {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-left: 30px;\r\n\r\n        .textStyle1 {\r\n          margin-left: 24px;\r\n          font-size: 28px;\r\n          font-family: PingFangSC-Regular, PingFang SC;\r\n          font-weight: 400;\r\n          color: #333333;\r\n        }\r\n\r\n        .textStyle2 {\r\n          margin-left: 24px;\r\n          font-size: 32px;\r\n          font-family: Helvetica-Bold, Helvetica;\r\n          font-weight: bold;\r\n          color: #ff4d4f;\r\n        }\r\n      }\r\n\r\n      .moreStyle {\r\n        margin-right: 40px;\r\n      }\r\n    }\r\n\r\n    .bottomCard {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 690px;\r\n      height: calc(100% - 376px);\r\n      background: #ffffff;\r\n      box-shadow: 0px 4px 16px 0px rgba(104, 115, 127, 0.06);\r\n      border-radius: 16px 16px 0 0;\r\n\r\n      .topTwoTab {\r\n        display: flex;\r\n        justify-content: space-around;\r\n        width: 100%;\r\n        height: 110px;\r\n\r\n        .buttonStyleTwo {\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          width: 250px;\r\n          height: 64px;\r\n          margin-top: 30px;\r\n          transition: all 0.4s;\r\n          font-size: 32px;\r\n          font-family: PingFangSC-Semibold, PingFang SC;\r\n          font-weight: 600;\r\n          color: #191919;\r\n        }\r\n\r\n        .chooseStyle {\r\n          position: relative;\r\n\r\n          &::after {\r\n            position: absolute;\r\n            content: '';\r\n            display: inline-block;\r\n            width: 140px;\r\n            height: 14px;\r\n            background: linear-gradient(270deg, rgba(58, 160, 238, 0) 0%, #1b67d8 100%);\r\n            border-radius: 7px;\r\n            left: 50%;\r\n            bottom: 0;\r\n            transform: translateX(-50%);\r\n          }\r\n        }\r\n      }\r\n\r\n      .topThreeBtn {\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n        width: 100%;\r\n        height: 110px;\r\n\r\n        .buttonStyle {\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          width: 196px;\r\n          height: 64px;\r\n          margin-top: 30px;\r\n          background: #f5f5f5;\r\n          border-radius: 36px;\r\n          transition: all 0.4s;\r\n          font-size: 28px;\r\n          font-family: PingFangSC-Regular, PingFang SC;\r\n          font-weight: 400;\r\n          color: #555555;\r\n        }\r\n\r\n        .chooseStyle {\r\n          color: #1b67d8;\r\n          background: #dde8f9;\r\n        }\r\n      }\r\n\r\n      .bottomList {\r\n        width: 100%;\r\n        height: calc(100% - 220px);\r\n        overflow-y: scroll;\r\n\r\n        // background-color: rgb(130, 247, 139);\r\n        .lineStyle {\r\n          position: relative;\r\n          display: flex;\r\n          align-items: center;\r\n          // width: 100%;\r\n          height: 96px;\r\n          line-height: 96px;\r\n          padding-left: 8px;\r\n\r\n          .numStyle {\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            width: 60px;\r\n            font-size: 36px;\r\n            font-family: Helvetica-Bold, Helvetica;\r\n            font-weight: bold;\r\n            color: #1b67d8;\r\n          }\r\n\r\n          .textStyle {\r\n            display: flex;\r\n            align-items: center;\r\n            padding-left: 24px;\r\n            font-size: 32px;\r\n            font-family: PingFangSC-Regular, PingFang SC;\r\n            font-weight: 400;\r\n            color: #333333;\r\n          }\r\n\r\n          .imgRight {\r\n            width: 32px;\r\n            position: absolute;\r\n            top: 50%;\r\n            right: 40px;\r\n            -webkit-transform: translateY(-50%);\r\n            transform: translateY(-50%);\r\n          }\r\n\r\n          &::after {\r\n            content: '';\r\n            position: absolute;\r\n            display: block;\r\n            width: 89%;\r\n            height: 1px;\r\n            background-color: #eeeeee;\r\n            bottom: 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}