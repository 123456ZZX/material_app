{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\inspectionManage\\emergency-task.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\inspectionManage\\emergency-task.vue","mtime":1705912800085},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYnVzIGZyb20gIi4uLy4uL3ZpZXdzL2luc3BlY3RNYXAvdXRpbHMvQnVzLmpzIjsNCmltcG9ydCBNYXBDb21wIGZyb20gIi4uLy4uL3ZpZXdzL2luc3BlY3RNYXAvaW5kZXgudnVlIjsNCmltcG9ydCByZXF1ZXN0IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCcNCmltcG9ydCB7IGluc3BlY3Rpb25JdGVtLCBpbnNwZWN0RXZlbnQsIGluc3BlY3Rpb25FdmVudEFsbCB9IGZyb20gJy4vYXBpJw0KaW1wb3J0ICogYXMgdHVyZiBmcm9tICdAdHVyZi90dXJmJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiZW1lcmdlbmN5LXRhc2siLA0KICBjb21wb25lbnRzOiB7DQogICAgTWFwQ29tcCwNCiAgICAvLyBTdW51aVVwaW1nDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGluc3BCdXNpbmVzc1R5cGU6ICIiLA0KICAgICAgY3VycmVudFBvc2l0aW9uOiBudWxsLA0KICAgICAgdXNlckluZm86IHt9LA0KICAgICAgZW5nSW5mb0RUTzogbnVsbCwNCiAgICAgIGlmUmVjb3JkaW5nOiBmYWxzZSwNCiAgICAgIHNlbGVjdEV2ZW50VHlwZTogZmFsc2UsDQogICAgICBzZWxlY3RJbnNwT2JqOiBmYWxzZSwNCiAgICAgIGV2ZW50VHlwZUxpc3Q6IFtdLA0KICAgICAgZ2VvSnNvbkxpc3Q6IFtdLA0KICAgICAgc2lnblNob3c6IGZhbHNlLA0KICAgICAgc2lnbkZvcm06IHsNCiAgICAgICAgaW5zcEl0ZW1SZXN1bHQ6ICIiLA0KICAgICAgICBmaWxlczogW10sDQogICAgICAgIGV2ZW50VHlwZTogbnVsbCwNCiAgICAgICAgZ2VvSnNvbjogbnVsbCwNCiAgICAgICAgcmVtYXJrOiB7DQogICAgICAgICAgdGV4dDogIiIsDQogICAgICAgICAgdm9pY2U6IHt9DQogICAgICAgIH0sDQogICAgICAgIGluc3BUYXNrRGV0YWlsRGVzYzogew0KICAgICAgICAgIHRleHQ6ICIiLA0KICAgICAgICAgIHZvaWNlOiB7fQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgdGFza0RldGFpbDoge30sDQogICAgICBmZWF0dXJlOiB7fSwNCiAgICAgIHJhbmdlTGlzdDogW10sDQogICAgICByYW5nZToge30sDQogICAgICBpc1J1bkxpc3Q6IFsNCiAgICAgICAgew0KICAgICAgICAgIG5hbWU6ICLmraPluLgiLA0KICAgICAgICAgIHZhbHVlOiAidHJ1ZSINCiAgICAgICAgfSwgew0KICAgICAgICAgIG5hbWU6ICLlvILluLgiLA0KICAgICAgICAgIHZhbHVlOiAiZmFsc2UiDQogICAgICAgIH0NCiAgICAgIF0sDQogICAgICBydWxlczogew0KICAgICAgICBpbnNwSXRlbVJlc3VsdDogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeW3oeajgOe7k+aenCIsDQogICAgICAgICAgICB0cmlnZ2VyOiBbImNoYW5nZSIsICJibHVyIl0NCiAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICAgIHBob3RvTGVuZ3RoOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiAi6K+35LiK5Lyg6ZmE5Lu2IiwNCiAgICAgICAgICAgIHRyaWdnZXI6IFsiY2hhbmdlIiwgImJsdXIiXQ0KICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgICAgfSwNCiAgICAgIHByZXZpZXdVUkw6ICIvc3lzLXN0b3JhZ2UvZG93bmxvYWRfaW1hZ2U/ZjhzPSIsDQogICAgICB1cGltZ1ByZXZpZXc6IFtdLA0KICAgICAgaGVhZGVyczoge30sDQogICAgICB1cmw6IHsNCiAgICAgICAgLy8g5pys6aG16Z2i5L2/55So5Yiw55qEdXJsDQogICAgICAgIHVwbG9hZEZpbGU6ICJzeXMtc3RvcmFnZS91cGxvYWQiLA0KICAgICAgICAvLyBmaW5kRmlsZTogImVjaWRpLWNtcC9maWxlL2NtcEZpbGVHcm91cC9maW5kRmlsZXNCeUdyb3VwSWQiLA0KICAgICAgfSwNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5oZWFkZXJzID0gdGhpcy4kc3RvcmFnZS5nZXQoJ2FjY2Vzc190b2tlbicpDQogIH0sDQogIGFjdGl2YXRlZCgpIHsNCiAgICB0aGlzLnNlbGVjdEV2ZW50VHlwZT0gZmFsc2U7DQogICAgdGhpcy5zaWduU2hvdz0gZmFsc2U7DQogICAgdGhpcy51c2VySW5mbyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySW5mbyIpOw0KICAgIC8vIHRoaXMuJHJlZnMubXltYXAubWFwSW5zdGFuY2UgJiYgdGhpcy4kcmVmcy5teW1hcC5tYXBJbnN0YW5jZS5kZXN0b3J5TWFwKCk7DQogICAgLy8gdGhpcy4kcmVmcy5teW1hcC5tYXBJbnN0YW5jZSA9IG51bGw7DQogICAgLy8gdGhpcy4kcmVmcy5teW1hcC5pbml0TWFwKCk7DQogICAgdGhpcy5yZWZyZXNoTWFwKCk7DQogICAgY29uc3QgdGhhdCA9IHRoaXM7DQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgY29uc3QgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS50YXNrSWQgfHwgIjEzODIxOTAxNjEwNjM4NDE3OTMiIC8vIOW6lOaApeS+m+awtA0KICAgICAgdGhpcy5pbnNwQnVzaW5lc3NUeXBlID0gdGhpcy4kcm91dGUucXVlcnkuaW5zcEJ1c2luZXNzVHlwZTsNCiAgICAgIHRoaXMuJHJlZnMubXltYXAuY2hhbmdlUGlwZVRpbGVMYXllckJ5QnVzaW5lc3ModGhpcy5pbnNwQnVzaW5lc3NUeXBlKTsNCiAgICAgIHRoaXMuZ2V0VGFza0J5SWQoaWQpOw0KICAgICAgLy8gIOebkeWQrOS6i+S7tg0KICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigicG9zaXRpb25pbmciLCBmdW5jdGlvbihldmVudCkgew0KICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGV2ZW50LmRldGFpbC5jdXJyZW50UG9zaXRpb247DQogICAgICAgIHRoYXQuY3VycmVudFBvc2l0aW9uID0gcG9zaXRpb247DQogICAgICAgIGlmICghdGhhdC5jdXJyZW50UG9zaXRpb24pIHJldHVybjsNCiAgICAgICAgY29uc3QgcGFyYW0gPSB7DQogICAgICAgICAgaW5zcEJ1c2luZXNzVHlwZTogdGhhdC50YXNrRGV0YWlsLmluc3BCdXNpbmVzc1R5cGUsDQogICAgICAgICAgcGlwZUxldmVsOiB7DQogICAgICAgICAgICBwaXBlTWF4OiB0aGF0LnRhc2tEZXRhaWwucGlwZUxldmVsTWF4LA0KICAgICAgICAgICAgcGlwZU1pbjogdGhhdC50YXNrRGV0YWlsLnBpcGVMZXZlbE1pbg0KICAgICAgICAgIH0sDQogICAgICAgICAgLi4udGhhdC5jdXJyZW50UG9zaXRpb24NCiAgICAgICAgfQ0KICAgICAgICB0aGF0LiRyZWZzLm15bWFwLnNldEluc3BVc2VyUG9zaXRpb24ocGFyYW0pOw0KICAgICAgfSwgZmFsc2UpOw0KICAgIH0pDQogICAgdGhpcy5nZXRFdmVudFR5cGVMaXN0KCk7DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy51c2VySW5mbyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySW5mbyIpOw0KICAgIGJ1cy4kb24oInN0YXJ0RW1lU2lnbkluIiwgKGZlYXR1cmUpID0+IHsNCiAgICAgIHRoaXMuc3RhcnRFbWVTaWduSW4oZmVhdHVyZSk7DQogICAgfSkNCiAgICBidXMuJG9uKCJyZXBvcnRJbnNwRXZlbnQiLCAoZmVhdHVyZSwgaXNTaG93KSA9PiB7DQogICAgICAvLyDku47lnLDlm77kuK3pgInmi6norr7mlr3lr7nosaENCiAgICAgIGlmIChpc1Nob3cpIHsNCiAgICAgICAgY29uc3QgZmVhdCA9IGZlYXR1cmU7DQogICAgICAgIGNvbnN0IG9iakxhYmVsID0gZmVhdHVyZS5wcm9wZXJ0aWVzLnBpcGV0eXBlKyBmZWF0LnByb3BlcnRpZXMuZ2p6Ow0KICAgICAgICBjb25zdCBvYmpWYWwgPSBmZWF0dXJlLnByb3BlcnRpZXMuZ2p6Ow0KICAgICAgICB0aGlzLiRzZXQodGhpcy5zaWduRm9ybSwgImdlb0pzb24iLCBvYmpMYWJlbCk7DQogICAgICAgIHRoaXMuJHNldCh0aGlzLnNpZ25Gb3JtLCAiZ2p6Iiwgb2JqVmFsKTsNCiAgICAgICAgdGhpcy5nZXRFbmdQcm9wZXJ0eVZhbCh0aGlzLnNpZ25Gb3JtLmdqeik7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRzZXQodGhpcy5zaWduRm9ybSwgImdlb0pzb24iLCAiIik7DQogICAgICAgIHRoaXMuJHNldCh0aGlzLnNpZ25Gb3JtLCAiZ2p6IiwgIiIpOw0KICAgICAgICB0aGlzLmVuZ0luZm9EVE8gPSBudWxsOw0KICAgICAgfQ0KICAgIH0pDQogICAgY29uc3QgdGhhdCA9IHRoaXM7DQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgY29uc3QgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS50YXNrSWQgfHwgIjEzODIxOTAxNjEwNjM4NDE3OTMiIC8vIOW6lOaApeS+m+awtA0KICAgICAgdGhpcy5pbnNwQnVzaW5lc3NUeXBlID0gdGhpcy4kcm91dGUucXVlcnkuaW5zcEJ1c2luZXNzVHlwZTsNCiAgICAgIHRoaXMuZ2V0VGFza0J5SWQoaWQpOw0KICAgICAgdGhpcy5nZXRFdmVudFR5cGVMaXN0KCk7DQogICAgICAvLyAg55uR5ZCs5LqL5Lu2DQogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb3NpdGlvbmluZyIsIGZ1bmN0aW9uKGV2ZW50KSB7DQogICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZXZlbnQuZGV0YWlsLmN1cnJlbnRQb3NpdGlvbjsNCiAgICAgICAgdGhhdC5jdXJyZW50UG9zaXRpb24gPSBwb3NpdGlvbjsNCiAgICAgICAgaWYgKCF0aGF0LmN1cnJlbnRQb3NpdGlvbikgcmV0dXJuOw0KICAgICAgICBjb25zdCBwYXJhbSA9IHsNCiAgICAgICAgICBpbnNwQnVzaW5lc3NUeXBlOiB0aGF0LnRhc2tEZXRhaWwuaW5zcEJ1c2luZXNzVHlwZSwNCiAgICAgICAgICBwaXBlTGV2ZWw6IHsNCiAgICAgICAgICAgIHBpcGVNYXg6IHRoYXQudGFza0RldGFpbC5waXBlTGV2ZWxNYXgsDQogICAgICAgICAgICBwaXBlTWluOiB0aGF0LnRhc2tEZXRhaWwucGlwZUxldmVsTWluDQogICAgICAgICAgfSwNCiAgICAgICAgICAuLi50aGF0LmN1cnJlbnRQb3NpdGlvbg0KICAgICAgICB9DQogICAgICAgIHRoYXQuJHJlZnMubXltYXAuc2V0SW5zcFVzZXJQb3NpdGlvbihwYXJhbSk7DQogICAgICB9LCBmYWxzZSk7DQogICAgfSkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOWIt+aWsOWcsOWbvg0KICAgIHJlZnJlc2hNYXAoKSB7DQogICAgICB0cnkgew0KICAgICAgICAvLyDmuIXnqbrmiYDmnInnmoRwb3B1cA0KICAgICAgICBsZXQgY2xhc3NOYW1lcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20iKTsNCiAgICAgICAgZm9yIChsZXQgaSA9IGNsYXNzTmFtZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsNCiAgICAgICAgICBpZiAoY2xhc3NOYW1lc1tpXSAhPSBudWxsKSB7DQogICAgICAgICAgICBjbGFzc05hbWVzW2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xhc3NOYW1lc1tpXSk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuJHJlZnMubXltYXAubWFwSW5zdGFuY2UgJiYgdGhpcy4kcmVmcy5teW1hcC5yZW1vdmVJbnNwRW1lTWFya2Vycyh0aGlzLnJhbmdlTGlzdCk7DQogICAgICAgIC8vIOa4heepuuW3oeajgOiMg+WbtOWbvuWxgg0KICAgICAgICB0aGlzLiRyZWZzLm15bWFwLm1hcEluc3RhbmNlLnNldFNvdXJjZURhdGEoJ3JhbmdlU291cmNlJywgew0KICAgICAgICAgIHR5cGU6ICJGZWF0dXJlQ29sbGVjdGlvbiIsDQogICAgICAgICAgZmVhdHVyZXM6IFtdDQogICAgICAgIH0pOw0KICAgICAgICAvLyDmuIXnqbrlt6Hmo4DnrqHnur/lm77lsYINCiAgICAgICAgdGhpcy4kcmVmcy5teW1hcC5tYXBJbnN0YW5jZS5zZXRTb3VyY2VEYXRhKCdpbml0SW5zcExpbmVTb3VyY2UnLCB7DQogICAgICAgICAgdHlwZTogIkZlYXR1cmVDb2xsZWN0aW9uIiwNCiAgICAgICAgICBmZWF0dXJlczogW10NCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuJHJlZnMubXltYXAubWFwSW5zdGFuY2Uuc2V0U291cmNlRGF0YSgndW5JbnNwTGluZVNvdXJjZScsIHsNCiAgICAgICAgICB0eXBlOiAiRmVhdHVyZUNvbGxlY3Rpb24iLA0KICAgICAgICAgIGZlYXR1cmVzOiBbXQ0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy4kcmVmcy5teW1hcC5tYXBJbnN0YW5jZS5zZXRTb3VyY2VEYXRhKCdpbnNwTGluZVNvdXJjZScsIHsNCiAgICAgICAgICB0eXBlOiAiRmVhdHVyZUNvbGxlY3Rpb24iLA0KICAgICAgICAgIGZlYXR1cmVzOiBbXQ0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy4kcmVmcy5teW1hcC5tYXBJbnN0YW5jZS5zZXRTb3VyY2VEYXRhKCdjdXJJbnNwTGluZVNvdXJjZScsIHsNCiAgICAgICAgICB0eXBlOiAiRmVhdHVyZUNvbGxlY3Rpb24iLA0KICAgICAgICAgIGZlYXR1cmVzOiBbXQ0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy4kcmVmcy5teW1hcC5tYXBJbnN0YW5jZS5zZXRTb3VyY2VEYXRhKCdpbnNwVXNlckxpbmVTb3VyY2UnLCB7DQogICAgICAgICAgdHlwZTogIkZlYXR1cmVDb2xsZWN0aW9uIiwNCiAgICAgICAgICBmZWF0dXJlczogW10NCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuJHJlZnMubXltYXAubWFwSW5zdGFuY2Uuc2V0U291cmNlRGF0YSgnaW5zcFVzZXInLCB7DQogICAgICAgICAgdHlwZTogIkZlYXR1cmVDb2xsZWN0aW9uIiwNCiAgICAgICAgICBmZWF0dXJlczogW10NCiAgICAgICAgfSk7DQogICAgICAgIC8vIOWmguaenOWtmOWcqOS6i+S7tuWbvuWxgu+8jOWwseenu+mZpOivpeWbvuWxgg0KICAgICAgICB0aGlzLiRyZWZzLm15bWFwLm1hcC5nZXRMYXllcigiZXZlbnRQb2ludHNMYXllciIpICYmIHRoaXMuJHJlZnMubXltYXAubWFwLnJlbW92ZUxheWVyKCJldmVudFBvaW50c0xheWVyIik7DQogICAgICAgIHRoaXMuJHJlZnMubXltYXAubWFwLmdldFNvdXJjZSgiZXZlbnRQb2ludHMiKSAmJiB0aGlzLiRyZWZzLm15bWFwLm1hcC5yZW1vdmVTb3VyY2UoImV2ZW50UG9pbnRzIik7DQogICAgICAgIHRoaXMuJHJlZnMubXltYXAucmVtb3ZlRXZlbnRPYmpNYXJrZXIoKTsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOWIt+aWsOS7u+WKoQ0KICAgIHJlZnJlc2hUYXNrKCkgew0KICAgICAgY29uc29sZS5sb2coIuWIt+aWsOW6lOaApeS7u+WKoe+8gSIpOw0KICAgICAgdGhpcy4kcmVmcy5teW1hcC5tYXBJbnN0YW5jZSAmJiB0aGlzLiRyZWZzLm15bWFwLnJlbW92ZUluc3BFbWVNYXJrZXJzKHRoaXMucmFuZ2VMaXN0KTsNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgY29uc3QgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS50YXNrSWQgfHwgIjEzODIxOTAxNjEwNjM4NDE3OTMiOw0KICAgICAgICB0aGlzLmdldFRhc2tCeUlkKGlkKTsNCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDmoLnmja7ku7vliqFpZOiOt+WPluS7u+WKoQ0KICAgIGFzeW5jIGdldFRhc2tCeUlkKGlkKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KHsNCiAgICAgICAgdXJsOiBgb3BzLWluc3BlY3Rpb24vYXBpL2luc3BlY3Rpb25UYXNrLyR7aWR9YA0KICAgICAgfSk7DQogICAgICBpZiAocmVzLnN0YXR1cykgew0KICAgICAgICB0aGlzLnRhc2tEZXRhaWwgPSByZXMuZGF0YS5pbnNwZWN0aW9uVGFzazsNCiAgICAgICAgdGhpcy5yYW5nZUxpc3QgPSByZXMuZGF0YS5yYW5nZUxpc3QubWFwKGl0ZW0gPT4gew0KICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICByZXN0VGltZTogdGhpcy5nZXRUYXNrUmVzdFRpbWUobmV3IERhdGUoKSwgbmV3IERhdGUodGhpcy50YXNrRGV0YWlsLnBsYW5FbmRUaW1lKSkgfHwgMCwNCiAgICAgICAgICAgIGluc3BCdXNpbmVzc1R5cGU6IHRoaXMudGFza0RldGFpbC5pbnNwQnVzaW5lc3NUeXBlLA0KICAgICAgICAgICAgcGlwZUxldmVsOiB7DQogICAgICAgICAgICAgIHBpcGVNYXg6IHRoaXMudGFza0RldGFpbC5waXBlTGV2ZWxNYXgsDQogICAgICAgICAgICAgIHBpcGVNaW46IHRoaXMudGFza0RldGFpbC5waXBlTGV2ZWxNaW4NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAuLi5pdGVtDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICB0cnkgew0KICAgICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzOw0KICAgICAgICAgIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgLy8gMzBz5ZCO5Y+W5raIDQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7DQogICAgICAgICAgICB9LCAzMDAwMCk7DQogICAgICAgICAgICBpZiAodGhhdC4kcmVmcy5teW1hcCAmJiB0aGF0LiRyZWZzLm15bWFwLmlzT25Mb2FkZWQoKSkgew0KICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsNCiAgICAgICAgICAgICAgdGhhdC4kcmVmcy5teW1hcC5hZGRSYW5nZUxpc3QodGhhdC5yYW5nZUxpc3QsIHRydWUpOw0KICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgICAgICAgICAgdGFza0lkOiBpZA0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHRoYXQuZ2V0RXZlbnRBbGwocGFyYW1zKTsNCiAgICAgICAgICAgICAgaWYgKCF0aGF0LmN1cnJlbnRQb3NpdGlvbikgcmV0dXJuOw0KICAgICAgICAgICAgICBjb25zdCBwYXJhbSA9IHsNCiAgICAgICAgICAgICAgICBpbnNwQnVzaW5lc3NUeXBlOiB0aGF0LnRhc2tEZXRhaWwuaW5zcEJ1c2luZXNzVHlwZSwNCiAgICAgICAgICAgICAgICBwaXBlTGV2ZWw6IHsNCiAgICAgICAgICAgICAgICAgIHBpcGVNYXg6IHRoYXQudGFza0RldGFpbC5waXBlTGV2ZWxNYXgsDQogICAgICAgICAgICAgICAgICBwaXBlTWluOiB0aGF0LnRhc2tEZXRhaWwucGlwZUxldmVsTWluDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAuLi50aGF0LmN1cnJlbnRQb3NpdGlvbg0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHRoYXQuJHJlZnMubXltYXAuc2V0SW5zcFVzZXJQb3NpdGlvbihwYXJhbSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSwgNTAwKTsNCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgIGNvbnNvbGUubG9nKGUpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICAvLyDojrflj5blt6Hmo4Dkuovku7YNCiAgICBhc3luYyBnZXRFdmVudEFsbChwYXJhbXMpIHsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGluc3BlY3Rpb25FdmVudEFsbChwYXJhbXMpOw0KICAgICAgaWYgKHJlcy5zdGF0dXMpIHsNCiAgICAgICAgbGV0IGZlYXR1cmVzID0gW107DQogICAgICAgIHJlcy5kYXRhLmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgICBpZiAoaXRlbS5ldmVudEl0ZW1UZXh0KSB7DQogICAgICAgICAgICBjb25zdCBnZW9tID0gSlNPTi5wYXJzZShpdGVtLmV2ZW50SXRlbVRleHQpOw0KICAgICAgICAgICAgbGV0IGZlYXR1cmUgPSB7DQogICAgICAgICAgICAgIGdlb21ldHJ5OiBnZW9tLnR5cGUgPT09ICJGZWF0dXJlIiA/IGdlb20uZ2VvbWV0cnkgOiBnZW9tLA0KICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7fQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHRoaXMuJHNldChmZWF0dXJlLCAiZ2VvbWV0cnkiLCB0aGlzLmNvbXB1dGVDZW50ZXIyKGZlYXR1cmUuZ2VvbWV0cnkpKTsNCiAgICAgICAgICAgIHRoaXMuJHNldChmZWF0dXJlLCAiaWQiLCBpdGVtLmlkKTsNCiAgICAgICAgICAgIHRoaXMuJHNldChmZWF0dXJlLnByb3BlcnRpZXMsICJldmVudFR5cGUiLCBpdGVtLmV2ZW50VHlwZSkNCiAgICAgICAgICAgIC8vIHRoaXMuJHNldChmZWF0dXJlLCAiZXZlbnRUeXBlIiwgaXRlbS5ldmVudFR5cGUpOw0KICAgICAgICAgICAgLy8gdGhpcy4kcmVmcy5teW1hcC5hZGRJbnNwRXZlbnRNYXJrZXIoZmVhdHVyZSk7DQogICAgICAgICAgICBmZWF0dXJlcy5wdXNoKGZlYXR1cmUpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuJHJlZnMubXltYXAuYWRkSW5zcEV2ZW50TGF5ZXIoZmVhdHVyZXMpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6I635Y+W5LqL5Lu257G75Z6LDQogICAgYXN5bmMgZ2V0RXZlbnRUeXBlTGlzdCgpIHsNCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsNCiAgICAgICAgcGFnZTogMSwNCiAgICAgICAgc2l6ZTogOTk5OQ0KICAgICAgfQ0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgaW5zcGVjdGlvbkl0ZW0ocGFyYW1zKTsNCiAgICAgIGlmIChyZXMuc3RhdHVzKSB7DQogICAgICAgIHRoaXMuZXZlbnRUeXBlTGlzdCA9IHJlcy5kYXRhLmxpc3QubWFwKGl0ZW0gPT4gew0KICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBsYWJlbDogaXRlbS5pbnNwSXRlbU5hbWUsDQogICAgICAgICAgICB2YWx1ZTogaXRlbS5pbnNwSXRlbUlkLA0KICAgICAgICAgICAgLi4uaXRlbQ0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDojrflj5blm77niYfkv6Hmga8NCiAgICBnZXRJbWFnZUluZm8odmFsKSB7DQogICAgICBpZiAodmFsICYmIHZhbFswXS5sZW5ndGggPiAwKSB7DQogICAgICAgIHRoaXMuc2lnbkZvcm0uZmlsZXMgPSB2YWxbMF07DQogICAgICAgIGxldCBwaG90b0xpc3QgPSBbXTsNCiAgICAgICAgdmFsWzBdLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgcGhvdG9MaXN0LnB1c2goaXRlbS5maWxlVG9rZW4pOw0KICAgICAgICB9KTsNCiAgICAgICAgbGV0IHRlbXAgPSBwaG90b0xpc3QubGVuZ3RoICsgIiI7DQogICAgICAgIHRoaXMuJHNldCh0aGlzLnNpZ25Gb3JtLCAicGhvdG9MZW5ndGgiLCB0ZW1wKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJHNldCh0aGlzLnNpZ25Gb3JtLCAicGhvdG9MZW5ndGgiLCAiIik7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDlvIDlp4vlrprkvY0NCiAgICBzdGFydExvY2F0aW9uKCkgew0KICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmN1cnJlbnRQb3NpdGlvbjsNCiAgICAgIGlmICghcG9zaXRpb24pIHJldHVybjsNCiAgICAgIGNvbnN0IGNvb3JkID0gW3BhcnNlRmxvYXQocG9zaXRpb24ueENvZGUpLCBwYXJzZUZsb2F0KHBvc2l0aW9uLnlDb2RlKV07DQogICAgICB0aGlzLiRyZWZzLm15bWFwLmZseVRvKHsgcG9zaXRpb246IGNvb3JkLCB6b29tOiAxOH0pOw0KICAgIH0sDQogICAgLy8g6K6h566X5Ymp5L2Z5pe26Ze0DQogICAgZ2V0VGFza1Jlc3RUaW1lKGN1cnJlbnQsIGVuZCkgew0KICAgICAgbGV0IGN1clRpbWUgPSBuZXcgRGF0ZShjdXJyZW50KTsNCiAgICAgIGxldCBlbmRUaW1lID0gbmV3IERhdGUoZW5kKTsNCiAgICAgIGxldCBkaWZmID0gZW5kVGltZS5nZXRUaW1lKCkgLSBjdXJUaW1lLmdldFRpbWUoKTsNCiAgICAgIGlmIChkaWZmID49IDApIHsNCiAgICAgICAgbGV0IHNlYyA9IGRpZmYgLyAxMDAwOw0KICAgICAgICByZXR1cm4gc2VjOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDnoa7orqQNCiAgICBvbkNvbmZpcm0oKSB7DQogICAgICB0aGlzLiRyZWZzLnNpZ25Gb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgY29uc29sZS5sb2coIumqjOivgemAmui/hyIpOw0KICAgICAgICAgIGlmICghdGhpcy5lbmdJbmZvRFRPKSAgew0KICAgICAgICAgICAgVG9hc3Qoew0KICAgICAgICAgICAgICBtZXNzYWdlOiAi6K6+5pa95a+56LGh5pWw5o2u5LiN5a2Y5ZyoIiwNCiAgICAgICAgICAgICAgZHVyYXRpb246IDMwMDANCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgICAvLyBhcHDnq6/lupTmgKXku7vliqHkuIrmiqUgL29wcy1pbnNwZWN0aW9uL2FwaS9pbnNwZWN0RXZlbnQNCiAgICAgICAgICBsZXQgY29weVNpZ25Gb3JtID0gdGhpcy5kZWVwQ2xvbmUodGhpcy5zaWduRm9ybSk7DQogICAgICAgICAgaWYgKHRoaXMuc2lnbkZvcm0uaW5zcEl0ZW1SZXN1bHQgPT09ICJ0cnVlIikgew0KICAgICAgICAgICAgY29uc3QgZ2VvbSA9IHRoaXMuY29tcHV0ZUNlbnRlcih0aGlzLmZlYXR1cmUpOw0KICAgICAgICAgICAgY29weVNpZ25Gb3JtLmluc3BUaW1lID0gdGhpcy4kbW9tZW50KCkuZm9ybWF0KCJZWVlZLU1NLUREIEhIOm1tOnNzIik7DQogICAgICAgICAgICBjb3B5U2lnbkZvcm0ucmVtYXJrID0gSlNPTi5zdHJpbmdpZnkoY29weVNpZ25Gb3JtLnJlbWFyayk7DQogICAgICAgICAgICBjb3B5U2lnbkZvcm0uaW5zcFRhc2tEZXRhaWxEZXNjID0gSlNPTi5zdHJpbmdpZnkoY29weVNpZ25Gb3JtLmluc3BUYXNrRGV0YWlsRGVzYyk7DQogICAgICAgICAgICB0aGlzLiRzZXQoY29weVNpZ25Gb3JtLCAiZW5nSWQiLCB0aGlzLmVuZ0luZm9EVE8uZW5nSWQpOw0KICAgICAgICAgICAgZGVsZXRlIGNvcHlTaWduRm9ybS5maWxlczsNCiAgICAgICAgICAgIGxldCBwYXlsb2FkID0gew0KICAgICAgICAgICAgICBlbmdJbmZvRFRPOiB0aGlzLmVuZ0luZm9EVE8uaW5mb0RUTywNCiAgICAgICAgICAgICAgZ2VvSnNvbjogdGhpcy5lbmdJbmZvRFRPLmluZm9EVE8uZW5nR2VvbSwNCiAgICAgICAgICAgICAgZmlsZXM6IHRoaXMuc2lnbkZvcm0uZmlsZXMsDQogICAgICAgICAgICAgIGluc3BlY3Rpb25UYXNrRGV0YWlsOiBjb3B5U2lnbkZvcm0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGluc3BlY3RFdmVudChwYXlsb2FkKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzKSB7DQogICAgICAgICAgICAgICAgVG9hc3Qoew0KICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuWhq+aKpeaIkOWKnyIsDQogICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHRoaXMuc2lnblNob3cgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hUYXNrKCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zaWduRm9ybS5pbnNwSXRlbVJlc3VsdCA9PT0gImZhbHNlIikgew0KICAgICAgICAgICAgY29uc3QgZ2VvbSA9IHRoaXMuY29tcHV0ZUNlbnRlcih0aGlzLmZlYXR1cmUpOw0KICAgICAgICAgICAgY29weVNpZ25Gb3JtLmluc3BUaW1lID0gdGhpcy4kbW9tZW50KCkuZm9ybWF0KCJZWVlZLU1NLUREIEhIOm1tOnNzIik7DQogICAgICAgICAgICBjb3B5U2lnbkZvcm0ucmVtYXJrID0gSlNPTi5zdHJpbmdpZnkoY29weVNpZ25Gb3JtLnJlbWFyayk7DQogICAgICAgICAgICBjb3B5U2lnbkZvcm0uaW5zcFRhc2tEZXRhaWxEZXNjID0gSlNPTi5zdHJpbmdpZnkoY29weVNpZ25Gb3JtLmluc3BUYXNrRGV0YWlsRGVzYyk7DQogICAgICAgICAgICB0aGlzLiRzZXQoY29weVNpZ25Gb3JtLCAiZW5nSWQiLCB0aGlzLmVuZ0luZm9EVE8uZW5nSWQpOw0KICAgICAgICAgICAgZGVsZXRlIGNvcHlTaWduRm9ybS5maWxlczsNCiAgICAgICAgICAgIGxldCBwYXlsb2FkID0gew0KICAgICAgICAgICAgICBlbmdJbmZvRFRPOiB0aGlzLmVuZ0luZm9EVE8uaW5mb0RUTywNCiAgICAgICAgICAgICAgZ2VvSnNvbjogdGhpcy5lbmdJbmZvRFRPLmluZm9EVE8uZW5nR2VvbSwNCiAgICAgICAgICAgICAgZmlsZXM6IHRoaXMuc2lnbkZvcm0uZmlsZXMsDQogICAgICAgICAgICAgIGluc3BlY3Rpb25UYXNrRGV0YWlsOiBjb3B5U2lnbkZvcm0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJGFwaS5wb3N0QWN0aW9uKCIvb3BzLWluc3BlY3Rpb24vYXBpL2luc3BlY3RFdmVudCIsIHBheWxvYWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMpIHsNCiAgICAgICAgICAgICAgICBUb2FzdCh7DQogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5aGr5oql5oiQ5YqfIiwNCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAwDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgLy8g5beh5qOA5LqL5Lu25LiK5oqlDQogICAgICAgICAgICAvLyDkuovku7bmj4/ov7Dmlofku7Zqc29uICJ7XCJkaXJcIjpcIjIwMjEtMDQvXCIsXCJleHROYW1lXCI6XCJhbXJcIixcImZpbGVOYW1lXCI6XCIyMDIxMDQxM18xMTE3MjIuYW1yXCIsXCJmaWxlVG9rZW5cIjpcIjIxZmU3ZTI0MzY3ZjQzNGExY2YzNjY1OGY5NWNkNDdmXCIsXCJvYmplY3ROYW1lXCI6XCIyMDIxLTA0LzIxZmU3ZTI0MzY3ZjQzNGExY2YzNjY1OGY5NWNkNDdmLmFtclwiLFwic2l6ZVwiOlwiMTE0NzJcIixcInZlcnNpb25cIjpcIjBcIn0iDQogICAgICAgICAgICAvLyBjb25zdCBnZW9tID0gdGhpcy5jb21wdXRlQ2VudGVyKHRoaXMuZmVhdHVyZSk7DQogICAgICAgICAgICAvLyBjb25zdCBnZW9tID0gdGhpcy5lbmdJbmZvRFRPLmVuZ0dlb207DQogICAgICAgICAgICBsZXQgdXBsb2FkRmlsZXMgPSBbXTsNCiAgICAgICAgICAgIGlmICh0aGlzLnNpZ25Gb3JtLmluc3BUYXNrRGV0YWlsRGVzYy52b2ljZS5maWxlTmFtZSkgew0KICAgICAgICAgICAgICB1cGxvYWRGaWxlcy5wdXNoKHRoaXMuc2lnbkZvcm0uaW5zcFRhc2tEZXRhaWxEZXNjLnZvaWNlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHVwbG9hZEZpbGVzID0gdXBsb2FkRmlsZXMuY29uY2F0KHRoaXMuc2lnbkZvcm0uZmlsZXMpOw0KICAgICAgICAgICAgY29uc3QgcHJlbGltaW5hcnlIYW5kbGVGaWxlID0gSlNPTi5zdHJpbmdpZnkodXBsb2FkRmlsZXMpOw0KICAgICAgICAgICAgY29uc3QgZXZlbnRQYXlsb2FkID0gew0KICAgICAgICAgICAgICBjb25jbHVzaW9uOiBjb3B5U2lnbkZvcm0uZXZlbnRUeXBlLA0KICAgICAgICAgICAgICBldmVudERlc2NyaWJlOiB0aGlzLnNpZ25Gb3JtLnJlbWFyay50ZXh0LA0KICAgICAgICAgICAgICBldmVudFNvdXJjZTogImluc3BlY3Rpb25fZXZlbnRfc291cmNlX2luc3BlY3Rpb24iLA0KICAgICAgICAgICAgICBldmVudFR5cGU6IGNvcHlTaWduRm9ybS5ldmVudFR5cGUsDQogICAgICAgICAgICAgIGV2ZW50VHlwZUlkOiBjb3B5U2lnbkZvcm0uaW5zcEl0ZW1JZCwNCiAgICAgICAgICAgICAgaW5zcEJ1c2luZXNzVHlwZTogdGhpcy50YXNrRGV0YWlsLmluc3BCdXNpbmVzc1R5cGUsDQogICAgICAgICAgICAgIG9mZmljZUlkOiB0aGlzLnRhc2tEZXRhaWwuaW5zcE9yZ0lkLA0KICAgICAgICAgICAgICBwcmVsaW1pbmFyeUhhbmRsZTogdGhpcy5zaWduRm9ybS5pbnNwVGFza0RldGFpbERlc2MudGV4dCwNCiAgICAgICAgICAgICAgcHJlbGltaW5hcnlIYW5kbGVGaWxlOiBwcmVsaW1pbmFyeUhhbmRsZUZpbGUsDQogICAgICAgICAgICAgIGV2ZW50RGVzY3JpYmVGaWxlOiBKU09OLnN0cmluZ2lmeSh0aGlzLnNpZ25Gb3JtLnJlbWFyay52b2ljZSksDQogICAgICAgICAgICAgIHJlZ2lvbkl0ZW1UZXh0OiB0aGlzLmVuZ0luZm9EVE8uaW5mb0RUTy5lbmdHZW9tLA0KICAgICAgICAgICAgICAvLyByZWdpb25JdGVtVGV4dDogSlNPTi5zdHJpbmdpZnkoY29weVNpZ25Gb3JtLnRhc2tSYW5nZXJHZW9tKSwNCiAgICAgICAgICAgICAgdGFza0lkOiB0aGlzLnRhc2tEZXRhaWwudGFza0lkLA0KICAgICAgICAgICAgICBlbmdJZDogdGhpcy5lbmdJbmZvRFRPID8gdGhpcy5lbmdJbmZvRFRPLmVuZ0lkIDogdW5kZWZpbmVkLCAvLyDorr7mlr3lr7nosaENCiAgICAgICAgICAgICAgZXZlbnRJdGVtVGV4dDogdGhpcy5lbmdJbmZvRFRPLmluZm9EVE8uZW5nR2VvbSwNCiAgICAgICAgICAgICAgLy8gZXZlbnRJdGVtVGV4dDogSlNPTi5zdHJpbmdpZnkoY29weVNpZ25Gb3JtLnRhc2tSYW5nZXJHZW9tKSwNCiAgICAgICAgICAgICAgbG5nOiBnZW9tLmNvb3JkaW5hdGVzWzBdLCAvLyANCiAgICAgICAgICAgICAgbGF0OiBnZW9tLmNvb3JkaW5hdGVzWzFdLCAvLyDlj6/og73kuLpwb2x5Z29u6IyD5Zu0DQogICAgICAgICAgICAgIHJlcG9ydGVySWQ6IHRoaXMudXNlckluZm8uaWQsDQogICAgICAgICAgICAgIHJlcG9ydGVyTmFtZTogdGhpcy51c2VySW5mby51c2VyRnVsbG5hbWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJGFwaS5wb3N0QWN0aW9uKCIveWhzdy1pbnNwZWN0aW9uL2luc3BlY3Rpb25FdmVudC9pbnNlcnQiLCBldmVudFBheWxvYWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNpZ25TaG93ID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoVGFzaygpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjb25zb2xlLmxvZygi6aqM6K+B5aSx6LSlIik7DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDlj5bmtogNCiAgICBvbkNhbmNlbCgpIHsNCiAgICAgIHRoaXMuc2lnblNob3cgPSBmYWxzZTsNCiAgICB9LA0KICAgIC8vIOetvuWIsA0KICAgIHN0YXJ0RW1lU2lnbkluKGZlYXR1cmUpIHsNCiAgICAgIHRoaXMuZmVhdHVyZSA9IGZlYXR1cmU7DQogICAgICBjb25zdCBnZW9tID0gdGhpcy5jb21wdXRlQ2VudGVyKHRoaXMuZmVhdHVyZSk7DQogICAgICB0cnkgew0KICAgICAgICBpZiAodGhpcy5mZWF0dXJlLmdlb21ldHJ5LnR5cGUgPT09ICJQb2x5Z29uIikgew0KICAgICAgICAgIC8v5aaC5p6c5piv6IyD5Zu077yM5a6a5L2N5b2T5YmN5beh5qOA5Lq65ZGY55qE5L2N572u6ZmE6L+R55qE5pWw5o2uDQogICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBvc2l0aW9uKSB7DQogICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuY3VycmVudFBvc2l0aW9uOw0KICAgICAgICAgICAgY29uc3QgY29vcmQgPSBbcGFyc2VGbG9hdChwb3NpdGlvbi54Q29kZSksIHBhcnNlRmxvYXQocG9zaXRpb24ueUNvZGUpXTsNCiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gdHVyZi5wb2ludChjb29yZCk7DQogICAgICAgICAgICB0aGlzLmdldEluc3BEYXRhSW5SYW5nZShwb2ludCk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuZ2VvSnNvbkxpc3QgPSBbXTsNCiAgICAgICAgICAgIFRvYXN0KHsNCiAgICAgICAgICAgICAgbWVzc2FnZTogIuiOt+WPluS4jeWIsOW3oeajgOWRmOS9jee9riIsDQogICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAwDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjb25zb2xlLmxvZygidGhpcy5mZWF0dXJlPT0+IiwgdGhpcy5mZWF0dXJlKTsNCiAgICAgICAgICAvLyDmn6Xor6LlvZPliY3nrb7liLDkvY3nva7ojIPlm7TlhoXnmoTmlbDmja4NCiAgICAgICAgICB0aGlzLmdldEluc3BEYXRhSW5SYW5nZShnZW9tKTsNCiAgICAgICAgfQ0KICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICBjb25zb2xlLmxvZyhlKTsNCiAgICAgIH0NCiAgICAgIC8vIOesrOS4gOenjeWvu+aJvuW9k+WJjXJhbmdlLOagueaNrnRhc2tSYW5nZXJOYW1l5p2l5Yy56YWNDQogICAgICAvLyB0aGlzLnJhbmdlID0gdGhpcy5yYW5nZUxpc3QuZmluZCgpOw0KICAgICAgLy8g56ys5LqM56eN77yM5qC55o2uZmVhdHVyZS5pZOadpeWMuemFjQ0KICAgICAgdGhpcy5yYW5nZUxpc3QuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgaWYgKGl0ZW0udGFza1Jhbmdlckdlb20pIHsNCiAgICAgICAgICBjb25zdCBnZW9tID0gSlNPTi5wYXJzZShpdGVtLnRhc2tSYW5nZXJHZW9tKTsNCiAgICAgICAgICBpZiAoZ2VvbS5pZCA9PT0gZmVhdHVyZS5pZCkgew0KICAgICAgICAgICAgdGhpcy5yYW5nZSA9IGl0ZW07DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgdGhpcy5zaWduRm9ybS5pbnNwVGFza0RldGFpbERlc2MgPSB7DQogICAgICAgIHRleHQ6ICIiLA0KICAgICAgICB2b2ljZToge30NCiAgICAgIH0NCiAgICAgIHRoaXMuc2lnbkZvcm0uZmlsZXMgPSBbXTsNCiAgICAgIHRoaXMuc2lnbkZvcm0gPSB0aGlzLmRlZXBDbG9uZShPYmplY3QuYXNzaWduKHRoaXMuc2lnbkZvcm0sIHRoaXMucmFuZ2UpKTsNCiAgICAgIHRoaXMuc2lnbkZvcm0ucmVtYXJrID0gew0KICAgICAgICB0ZXh0OiAiIiwNCiAgICAgICAgdm9pY2U6IHt9DQogICAgICB9DQogICAgICB0aGlzLnNpZ25Gb3JtLnRhc2tSYW5nZXJHZW9tID0gdGhpcy5mZWF0dXJlOw0KICAgICAgdGhpcy5zaWduRm9ybS5ldmVudFR5cGUgPSB0aGlzLmV2ZW50VHlwZUxpc3QuZmluZChpdGVtID0+IGl0ZW0udmFsdWUgPT09IHRoaXMuc2lnbkZvcm0uaW5zcEl0ZW1JZCkubGFiZWw7DQogICAgICAvLyDlpoLmnpzlt7Lnu4/kuIrmiqXvvIzkuJTkuIrmiqXnu5PmnpzmraPluLgNCiAgICAgIGlmICh0aGlzLnNpZ25Gb3JtLmluc3BJdGVtUmVzdWx0ID09PSAidHJ1ZSIpIHsNCiAgICAgICAgdGhpcy5zaWduU2hvdyA9IGZhbHNlOw0KICAgICAgICBUb2FzdCh7DQogICAgICAgICAgbWVzc2FnZTogIue7k+aenOW3suW9leWFpe+8jOaXoOazleWGjeasoeaPkOS6pCIsDQogICAgICAgICAgZHVyYXRpb246IDMwMDANCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdGhpcy5zaWduU2hvdyA9IHRydWU7DQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMuJHJlZnMuc2lnbkZvcm0uc2V0UnVsZXModGhpcy5ydWxlcyk7DQogICAgICB9KQ0KICAgIH0sDQogICAgLy8g5LqL5Lu257G75Z6L6YCJ5oup56Gu6K6kDQogICAgZXZlbnRUeXBlQ29uZmlybShldmVudCkgew0KICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy4kc2V0KHRoaXMuc2lnbkZvcm0sICJldmVudFR5cGUiLCBldmVudFswXS5sYWJlbCk7DQogICAgICAgIHRoaXMuJHNldCh0aGlzLnNpZ25Gb3JtLCAiaW5zcEl0ZW1JZCIsIGV2ZW50WzBdLnZhbHVlKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOW3oeajgOWvueixoeehruWumg0KICAgIGluc3BPYmpDb25maXJtKG9iaikgew0KICAgICAgaWYgKG9iaiAmJiBvYmoubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLiRzZXQodGhpcy5zaWduRm9ybSwgImdlb0pzb24iLCBvYmpbMF0ubGFiZWwpOw0KICAgICAgICB0aGlzLiRzZXQodGhpcy5zaWduRm9ybSwgImdqeiIsIG9ialswXS52YWx1ZSk7DQogICAgICAgIHRoaXMuZ2V0RW5nUHJvcGVydHlWYWwodGhpcy5zaWduRm9ybS5nanopOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgVG9hc3Qoew0KICAgICAgICAgIG1lc3NhZ2U6ICLmmoLml6Dlt6Hmo4Dlr7nosaEiLA0KICAgICAgICAgIGR1cmF0aW9uOiAxNTAwDQogICAgICAgIH0pDQogICAgICB9DQoNCiAgICB9LA0KICAgIC8vIOa3seaLt+i0nQ0KICAgIGRlZXBDbG9uZShkYXRhKSB7DQogICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhKSk7DQogICAgfSwNCiAgICAvLyDorqHnrpfkuK3lv4PngrkNCiAgICBjb21wdXRlQ2VudGVyKGZlYXR1cmUpIHsNCiAgICAgIGxldCBwb3NpdGlvbjsNCiAgICAgIGlmIChmZWF0dXJlLmdlb21ldHJ5LnR5cGUgPT09ICdQb2x5Z29uJykgew0KICAgICAgICBjb25zdCBjZW50ZXIgPSB0dXJmLmNlbnRlcihmZWF0dXJlLmdlb21ldHJ5KTsNCiAgICAgICAgcG9zaXRpb24gPSBjZW50ZXIuZ2VvbWV0cnk7DQogICAgICB9IGVsc2UgaWYgKGZlYXR1cmUuZ2VvbWV0cnkudHlwZSA9PT0gJ0xpbmVTdHJpbmcnKSB7DQogICAgICAgIGNvbnN0IGNlbnRlciA9IHR1cmYuY2VudGVyKGZlYXR1cmUuZ2VvbWV0cnkpOw0KICAgICAgICBwb3NpdGlvbiA9IGNlbnRlci5nZW9tZXRyeTsNCiAgICAgIH0gZWxzZSBpZiAoZmVhdHVyZS5nZW9tZXRyeS50eXBlID09PSAnUG9pbnQnKSB7DQogICAgICAgIHBvc2l0aW9uID0gZmVhdHVyZS5nZW9tZXRyeTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBwb3NpdGlvbjsNCiAgICB9LA0KICAgIC8vIOiuoeeul+S4reW/g+eCuQ0KICAgIGNvbXB1dGVDZW50ZXIyKGZlYXR1cmUpIHsNCiAgICAgIGxldCBwb3NpdGlvbjsNCiAgICAgIGlmIChmZWF0dXJlLnR5cGUgPT09ICdQb2x5Z29uJykgew0KICAgICAgICBjb25zdCBjZW50ZXIgPSB0dXJmLmNlbnRlcihmZWF0dXJlKTsNCiAgICAgICAgcG9zaXRpb24gPSBjZW50ZXIuZ2VvbWV0cnk7DQogICAgICB9IGVsc2UgaWYgKGZlYXR1cmUudHlwZSA9PT0gJ0xpbmVTdHJpbmcnKSB7DQogICAgICAgIGNvbnN0IGNlbnRlciA9IHR1cmYuY2VudGVyKGZlYXR1cmUpOw0KICAgICAgICBwb3NpdGlvbiA9IGNlbnRlci5nZW9tZXRyeTsNCiAgICAgIH0gZWxzZSBpZiAoZmVhdHVyZS50eXBlID09PSAnUG9pbnQnKSB7DQogICAgICAgIHBvc2l0aW9uID0gZmVhdHVyZTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBwb3NpdGlvbjsNCiAgICB9LA0KICAgIC8vIOagueaNruWFs+mUruWtl+afpeivog0KICAgIGFzeW5jIGdldEVuZ1Byb3BlcnR5VmFsKGdqeikgew0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICB2YWx1ZTogZ2p6DQogICAgICB9DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBlbmdQcm9wZXJ0eVZhbHVlKHBhcmFtcyk7DQogICAgICBpZiAocmVzLnN0YXR1cykgew0KICAgICAgICBjb25zb2xlLmxvZygicmVzPT0+IiwgcmVzKTsNCiAgICAgICAgaWYgKCFyZXMuZGF0YSkgew0KICAgICAgICAgIFRvYXN0KHsNCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLA0KICAgICAgICAgICAgZHVyYXRpb246IDMwMDANCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuZW5nSW5mb0RUTyA9IHJlcy5kYXRhOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5p+l6K+i6Lqr6L65WOexs+eahOW3peeoi+WvueixoQ0KICAgIGdldEluc3BEYXRhSW5SYW5nZShwb3NpdGlvbikgew0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBpbnNwQnVzaW5lc3NUeXBlOiB0aGlzLnRhc2tEZXRhaWwuaW5zcEJ1c2luZXNzVHlwZSwNCiAgICAgICAgcGlwZUxldmVsOiB7DQogICAgICAgICAgcGlwZU1heDogdGhpcy50YXNrRGV0YWlsLnBpcGVMZXZlbE1heCwNCiAgICAgICAgICBwaXBlTWluOiB0aGlzLnRhc2tEZXRhaWwucGlwZUxldmVsTWluDQogICAgICAgIH0sDQogICAgICAgIC4uLnBvc2l0aW9uDQogICAgICB9DQogICAgICB0aGlzLiRyZWZzLm15bWFwLmdldEluc3BEYXRhSW5SYW5nZShwYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coIj09PT0+cmVzIixyZXMpOw0KICAgICAgICBpZiAocmVzKSB7DQogICAgICAgICAgdGhpcy5nZW9Kc29uTGlzdCA9IHJlcy5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICBsYWJlbDogaXRlbS5wcm9wZXJ0aWVzLnBpcGV0eXBlICsgaXRlbS5wcm9wZXJ0aWVzLmdqeiwNCiAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0ucHJvcGVydGllcy5nanosDQogICAgICAgICAgICAgIC4uLml0ZW0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIGlmICh0aGlzLmdlb0pzb25MaXN0Lmxlbmd0aCA8PSAwKSB7DQogICAgICAgICAgICBUb2FzdCh7DQogICAgICAgICAgICAgIG1lc3NhZ2U6ICLlkajlm7TmnKrmib7liLDorr7mlr3lr7nosaEiLA0KICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfQ0KICB9LA0KICBiZWZvcmVEZXN0cm95KCkgew0KICAgIGJ1cy4kb2ZmKCJzdGFydEVtZVNpZ25JbiIpOw0KICB9LA0KICBvbk5hdmlnYXRpb25CYXJCdXR0b25UYXA6IGZ1bmN0aW9uKGUpIHsNCg0KICB9DQp9DQo="},{"version":3,"sources":["emergency-task.vue"],"names":[],"mappings":";AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"emergency-task.vue","sourceRoot":"src/views/inspectionManage","sourcesContent":["<!--\r\n * @Description: \r\n * @Author: wei_qx@hdec.com\r\n * @Date: 2021-04-23 08:49:00\r\n * @LastEditor: wei_qx@hdec.com\r\n * @LastEditTime: 2021-05-02 18:29:01\r\n-->\r\n<template>\r\n  <div class=\"task-map full-width\">\r\n    <!-- 地图 -->\r\n    <MapComp ref=\"mymap\" :ifInspection=\"true\" :inspBusinessType=\"inspBusinessType\" class=\"full-height\"></MapComp>\r\n    <!-- 定位 -->\r\n    <div class=\"tool-box\">\r\n      <div class=\"location\" @click=\"startLocation\">\r\n        <fm-image class=\"location-image\" src=\"@/static/img/inspection/location.png\"></fm-image>\r\n      </div>\r\n    </div>\r\n    <!-- 应急任务填报框 -->\r\n    <div v-if=\"signShow\" class=\"popup-view\">\r\n      <div class=\"popup-container\">\r\n        <div class=\"head\">\r\n          <text @click=\"onCancel\">取消</text>\r\n          <text>{{ feature.properties ?\r\n            feature.properties.taskDirectives ?\r\n             feature.properties.taskDirectives.inspItemName + \"，请核实\" \r\n             : \"事件，请核实\"\r\n             : \"事件，请核实\"\r\n            }}</text>\r\n          <text class=\"on-confirm\" @click=\"onConfirm\">确定</text>\r\n        </div>\r\n        <!-- <u-line color=\"#EEEEEE\"/> -->\r\n        <fm-list class=\"scroll\">\r\n          <fm-form :model=\"signForm\" ref=\"signForm\" class=\"sign-form\">\r\n            <fm-field label=\"巡检结果\" label-width=\"100px\" v-model=\"signForm.inspItemResult\" required />\r\n            <fm-field v-if=\"signForm.inspItemResult === 'false'\" v-model=\"signForm.eventType\" label=\"事件类型\" label-width=\"100px\" required right-icon=\"arrow-right\" prop=\"eventType\" />\r\n            <fm-field label=\"设施对象\" v-model=\"signForm.geoJson\" label-width=\"100px\" required  prop=\"geoJson\" right-icon=\"arrow-right\" />\r\n            <fm-field label=\"反馈描述\" v-model=\"signForm.remark.text\" label-width=\"100px\" />\r\n            <fm-field v-if=\"signForm.inspItemResult === 'false'\" v-model=\"signForm.inspTaskDetailDesc.text\" label=\"初步处理\" label-width=\"100px\" />\r\n            <fm-uploader label=\"多媒体附件\" label-width=\"100px\" label-position=\"top\" required prop=\"photoLength\" />\r\n          </fm-form>\r\n        </fm-list>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport bus from \"../../views/inspectMap/utils/Bus.js\";\r\nimport MapComp from \"../../views/inspectMap/index.vue\";\r\nimport request from '@/utils/request'\r\nimport { inspectionItem, inspectEvent, inspectionEventAll } from './api'\r\nimport * as turf from '@turf/turf'\r\nexport default {\r\n  name: \"emergency-task\",\r\n  components: {\r\n    MapComp,\r\n    // SunuiUpimg\r\n  },\r\n  data() {\r\n    return {\r\n      inspBusinessType: \"\",\r\n      currentPosition: null,\r\n      userInfo: {},\r\n      engInfoDTO: null,\r\n      ifRecording: false,\r\n      selectEventType: false,\r\n      selectInspObj: false,\r\n      eventTypeList: [],\r\n      geoJsonList: [],\r\n      signShow: false,\r\n      signForm: {\r\n        inspItemResult: \"\",\r\n        files: [],\r\n        eventType: null,\r\n        geoJson: null,\r\n        remark: {\r\n          text: \"\",\r\n          voice: {}\r\n        },\r\n        inspTaskDetailDesc: {\r\n          text: \"\",\r\n          voice: {}\r\n        }\r\n      },\r\n      taskDetail: {},\r\n      feature: {},\r\n      rangeList: [],\r\n      range: {},\r\n      isRunList: [\r\n        {\r\n          name: \"正常\",\r\n          value: \"true\"\r\n        }, {\r\n          name: \"异常\",\r\n          value: \"false\"\r\n        }\r\n      ],\r\n      rules: {\r\n        inspItemResult: [\r\n          {\r\n            required: true,\r\n            message: \"请选择巡检结果\",\r\n            trigger: [\"change\", \"blur\"]\r\n          }\r\n        ],\r\n        photoLength: [\r\n          {\r\n            required: true,\r\n            message: \"请上传附件\",\r\n            trigger: [\"change\", \"blur\"]\r\n          }\r\n        ]\r\n      },\r\n      previewURL: \"/sys-storage/download_image?f8s=\",\r\n      upimgPreview: [],\r\n      headers: {},\r\n      url: {\r\n        // 本页面使用到的url\r\n        uploadFile: \"sys-storage/upload\",\r\n        // findFile: \"ecidi-cmp/file/cmpFileGroup/findFilesByGroupId\",\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    this.headers = this.$storage.get('access_token')\r\n  },\r\n  activated() {\r\n    this.selectEventType= false;\r\n    this.signShow= false;\r\n    this.userInfo = localStorage.getItem(\"userInfo\");\r\n    // this.$refs.mymap.mapInstance && this.$refs.mymap.mapInstance.destoryMap();\r\n    // this.$refs.mymap.mapInstance = null;\r\n    // this.$refs.mymap.initMap();\r\n    this.refreshMap();\r\n    const that = this;\r\n    this.$nextTick(() => {\r\n      const id = this.$route.query.taskId || \"1382190161063841793\" // 应急供水\r\n      this.inspBusinessType = this.$route.query.inspBusinessType;\r\n      this.$refs.mymap.changePipeTileLayerByBusiness(this.inspBusinessType);\r\n      this.getTaskById(id);\r\n      //  监听事件\r\n      document.addEventListener(\"positioning\", function(event) {\r\n        const position = event.detail.currentPosition;\r\n        that.currentPosition = position;\r\n        if (!that.currentPosition) return;\r\n        const param = {\r\n          inspBusinessType: that.taskDetail.inspBusinessType,\r\n          pipeLevel: {\r\n            pipeMax: that.taskDetail.pipeLevelMax,\r\n            pipeMin: that.taskDetail.pipeLevelMin\r\n          },\r\n          ...that.currentPosition\r\n        }\r\n        that.$refs.mymap.setInspUserPosition(param);\r\n      }, false);\r\n    })\r\n    this.getEventTypeList();\r\n  },\r\n  mounted() {\r\n    this.userInfo = localStorage.getItem(\"userInfo\");\r\n    bus.$on(\"startEmeSignIn\", (feature) => {\r\n      this.startEmeSignIn(feature);\r\n    })\r\n    bus.$on(\"reportInspEvent\", (feature, isShow) => {\r\n      // 从地图中选择设施对象\r\n      if (isShow) {\r\n        const feat = feature;\r\n        const objLabel = feature.properties.pipetype+ feat.properties.gjz;\r\n        const objVal = feature.properties.gjz;\r\n        this.$set(this.signForm, \"geoJson\", objLabel);\r\n        this.$set(this.signForm, \"gjz\", objVal);\r\n        this.getEngPropertyVal(this.signForm.gjz);\r\n      } else {\r\n        this.$set(this.signForm, \"geoJson\", \"\");\r\n        this.$set(this.signForm, \"gjz\", \"\");\r\n        this.engInfoDTO = null;\r\n      }\r\n    })\r\n    const that = this;\r\n    this.$nextTick(() => {\r\n      const id = this.$route.query.taskId || \"1382190161063841793\" // 应急供水\r\n      this.inspBusinessType = this.$route.query.inspBusinessType;\r\n      this.getTaskById(id);\r\n      this.getEventTypeList();\r\n      //  监听事件\r\n      document.addEventListener(\"positioning\", function(event) {\r\n        const position = event.detail.currentPosition;\r\n        that.currentPosition = position;\r\n        if (!that.currentPosition) return;\r\n        const param = {\r\n          inspBusinessType: that.taskDetail.inspBusinessType,\r\n          pipeLevel: {\r\n            pipeMax: that.taskDetail.pipeLevelMax,\r\n            pipeMin: that.taskDetail.pipeLevelMin\r\n          },\r\n          ...that.currentPosition\r\n        }\r\n        that.$refs.mymap.setInspUserPosition(param);\r\n      }, false);\r\n    })\r\n  },\r\n  methods: {\r\n    // 刷新地图\r\n    refreshMap() {\r\n      try {\r\n        // 清空所有的popup\r\n        let classNames = document.getElementsByClassName(\"mapboxgl-popup-anchor-bottom\");\r\n        for (let i = classNames.length - 1; i >= 0; i--) {\r\n          if (classNames[i] != null) {\r\n            classNames[i].parentNode.removeChild(classNames[i]);\r\n          }\r\n        }\r\n        this.$refs.mymap.mapInstance && this.$refs.mymap.removeInspEmeMarkers(this.rangeList);\r\n        // 清空巡检范围图层\r\n        this.$refs.mymap.mapInstance.setSourceData('rangeSource', {\r\n          type: \"FeatureCollection\",\r\n          features: []\r\n        });\r\n        // 清空巡检管线图层\r\n        this.$refs.mymap.mapInstance.setSourceData('initInspLineSource', {\r\n          type: \"FeatureCollection\",\r\n          features: []\r\n        });\r\n        this.$refs.mymap.mapInstance.setSourceData('unInspLineSource', {\r\n          type: \"FeatureCollection\",\r\n          features: []\r\n        });\r\n        this.$refs.mymap.mapInstance.setSourceData('inspLineSource', {\r\n          type: \"FeatureCollection\",\r\n          features: []\r\n        });\r\n        this.$refs.mymap.mapInstance.setSourceData('curInspLineSource', {\r\n          type: \"FeatureCollection\",\r\n          features: []\r\n        });\r\n        this.$refs.mymap.mapInstance.setSourceData('inspUserLineSource', {\r\n          type: \"FeatureCollection\",\r\n          features: []\r\n        });\r\n        this.$refs.mymap.mapInstance.setSourceData('inspUser', {\r\n          type: \"FeatureCollection\",\r\n          features: []\r\n        });\r\n        // 如果存在事件图层，就移除该图层\r\n        this.$refs.mymap.map.getLayer(\"eventPointsLayer\") && this.$refs.mymap.map.removeLayer(\"eventPointsLayer\");\r\n        this.$refs.mymap.map.getSource(\"eventPoints\") && this.$refs.mymap.map.removeSource(\"eventPoints\");\r\n        this.$refs.mymap.removeEventObjMarker();\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    // 刷新任务\r\n    refreshTask() {\r\n      console.log(\"刷新应急任务！\");\r\n      this.$refs.mymap.mapInstance && this.$refs.mymap.removeInspEmeMarkers(this.rangeList);\r\n      this.$nextTick(() => {\r\n        const id = this.$route.query.taskId || \"1382190161063841793\";\r\n        this.getTaskById(id);\r\n      })\r\n    },\r\n    // 根据任务id获取任务\r\n    async getTaskById(id) {\r\n      const res = await request({\r\n        url: `ops-inspection/api/inspectionTask/${id}`\r\n      });\r\n      if (res.status) {\r\n        this.taskDetail = res.data.inspectionTask;\r\n        this.rangeList = res.data.rangeList.map(item => {\r\n          return {\r\n            restTime: this.getTaskRestTime(new Date(), new Date(this.taskDetail.planEndTime)) || 0,\r\n            inspBusinessType: this.taskDetail.inspBusinessType,\r\n            pipeLevel: {\r\n              pipeMax: this.taskDetail.pipeLevelMax,\r\n              pipeMin: this.taskDetail.pipeLevelMin\r\n            },\r\n            ...item\r\n          }\r\n        })\r\n        try {\r\n          const that = this;\r\n          var timer = setInterval(function() {\r\n            // 30s后取消\r\n            setTimeout(() => {\r\n              clearInterval(timer);\r\n            }, 30000);\r\n            if (that.$refs.mymap && that.$refs.mymap.isOnLoaded()) {\r\n              clearInterval(timer);\r\n              that.$refs.mymap.addRangeList(that.rangeList, true);\r\n              const params = {\r\n                taskId: id\r\n              }\r\n              that.getEventAll(params);\r\n              if (!that.currentPosition) return;\r\n              const param = {\r\n                inspBusinessType: that.taskDetail.inspBusinessType,\r\n                pipeLevel: {\r\n                  pipeMax: that.taskDetail.pipeLevelMax,\r\n                  pipeMin: that.taskDetail.pipeLevelMin\r\n                },\r\n                ...that.currentPosition\r\n              }\r\n              that.$refs.mymap.setInspUserPosition(param);\r\n            }\r\n          }, 500);\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      }\r\n    },\r\n    // 获取巡检事件\r\n    async getEventAll(params) {\r\n      const res = await inspectionEventAll(params);\r\n      if (res.status) {\r\n        let features = [];\r\n        res.data.forEach((item) => {\r\n          if (item.eventItemText) {\r\n            const geom = JSON.parse(item.eventItemText);\r\n            let feature = {\r\n              geometry: geom.type === \"Feature\" ? geom.geometry : geom,\r\n              properties: {}\r\n            };\r\n            this.$set(feature, \"geometry\", this.computeCenter2(feature.geometry));\r\n            this.$set(feature, \"id\", item.id);\r\n            this.$set(feature.properties, \"eventType\", item.eventType)\r\n            // this.$set(feature, \"eventType\", item.eventType);\r\n            // this.$refs.mymap.addInspEventMarker(feature);\r\n            features.push(feature);\r\n          }\r\n        });\r\n        this.$refs.mymap.addInspEventLayer(features);\r\n      }\r\n    },\r\n    // 获取事件类型\r\n    async getEventTypeList() {\r\n      const params = {\r\n        page: 1,\r\n        size: 9999\r\n      }\r\n      const res = await inspectionItem(params);\r\n      if (res.status) {\r\n        this.eventTypeList = res.data.list.map(item => {\r\n          return {\r\n            label: item.inspItemName,\r\n            value: item.inspItemId,\r\n            ...item\r\n          }\r\n        });\r\n      }\r\n    },\r\n    // 获取图片信息\r\n    getImageInfo(val) {\r\n      if (val && val[0].length > 0) {\r\n        this.signForm.files = val[0];\r\n        let photoList = [];\r\n        val[0].forEach((item, index) => {\r\n          photoList.push(item.fileToken);\r\n        });\r\n        let temp = photoList.length + \"\";\r\n        this.$set(this.signForm, \"photoLength\", temp);\r\n      } else {\r\n        this.$set(this.signForm, \"photoLength\", \"\");\r\n      }\r\n    },\r\n    // 开始定位\r\n    startLocation() {\r\n      const position = this.currentPosition;\r\n      if (!position) return;\r\n      const coord = [parseFloat(position.xCode), parseFloat(position.yCode)];\r\n      this.$refs.mymap.flyTo({ position: coord, zoom: 18});\r\n    },\r\n    // 计算剩余时间\r\n    getTaskRestTime(current, end) {\r\n      let curTime = new Date(current);\r\n      let endTime = new Date(end);\r\n      let diff = endTime.getTime() - curTime.getTime();\r\n      if (diff >= 0) {\r\n        let sec = diff / 1000;\r\n        return sec;\r\n      } else {\r\n        return 0;\r\n      }\r\n    },\r\n    // 确认\r\n    onConfirm() {\r\n      this.$refs.signForm.validate(valid => {\r\n        if (valid) {\r\n          console.log(\"验证通过\");\r\n          if (!this.engInfoDTO)  {\r\n            Toast({\r\n              message: \"设施对象数据不存在\",\r\n              duration: 3000\r\n            });\r\n            return;\r\n          }\r\n          // app端应急任务上报 /ops-inspection/api/inspectEvent\r\n          let copySignForm = this.deepClone(this.signForm);\r\n          if (this.signForm.inspItemResult === \"true\") {\r\n            const geom = this.computeCenter(this.feature);\r\n            copySignForm.inspTime = this.$moment().format(\"YYYY-MM-DD HH:mm:ss\");\r\n            copySignForm.remark = JSON.stringify(copySignForm.remark);\r\n            copySignForm.inspTaskDetailDesc = JSON.stringify(copySignForm.inspTaskDetailDesc);\r\n            this.$set(copySignForm, \"engId\", this.engInfoDTO.engId);\r\n            delete copySignForm.files;\r\n            let payload = {\r\n              engInfoDTO: this.engInfoDTO.infoDTO,\r\n              geoJson: this.engInfoDTO.infoDTO.engGeom,\r\n              files: this.signForm.files,\r\n              inspectionTaskDetail: copySignForm\r\n            }\r\n            inspectEvent(payload).then(res => {\r\n              if (res.status) {\r\n                Toast({\r\n                  message: \"填报成功\",\r\n                  duration: 3000\r\n                });\r\n                this.signShow = false;\r\n                this.refreshTask();\r\n              }\r\n            });\r\n          } else if (this.signForm.inspItemResult === \"false\") {\r\n            const geom = this.computeCenter(this.feature);\r\n            copySignForm.inspTime = this.$moment().format(\"YYYY-MM-DD HH:mm:ss\");\r\n            copySignForm.remark = JSON.stringify(copySignForm.remark);\r\n            copySignForm.inspTaskDetailDesc = JSON.stringify(copySignForm.inspTaskDetailDesc);\r\n            this.$set(copySignForm, \"engId\", this.engInfoDTO.engId);\r\n            delete copySignForm.files;\r\n            let payload = {\r\n              engInfoDTO: this.engInfoDTO.infoDTO,\r\n              geoJson: this.engInfoDTO.infoDTO.engGeom,\r\n              files: this.signForm.files,\r\n              inspectionTaskDetail: copySignForm\r\n            }\r\n            this.$api.postAction(\"/ops-inspection/api/inspectEvent\", payload).then(res => {\r\n              if (res.status) {\r\n                Toast({\r\n                  message: \"填报成功\",\r\n                  duration: 3000\r\n                });\r\n              }\r\n            });\r\n            // 巡检事件上报\r\n            // 事件描述文件json \"{\\\"dir\\\":\\\"2021-04/\\\",\\\"extName\\\":\\\"amr\\\",\\\"fileName\\\":\\\"20210413_111722.amr\\\",\\\"fileToken\\\":\\\"21fe7e24367f434a1cf36658f95cd47f\\\",\\\"objectName\\\":\\\"2021-04/21fe7e24367f434a1cf36658f95cd47f.amr\\\",\\\"size\\\":\\\"11472\\\",\\\"version\\\":\\\"0\\\"}\"\r\n            // const geom = this.computeCenter(this.feature);\r\n            // const geom = this.engInfoDTO.engGeom;\r\n            let uploadFiles = [];\r\n            if (this.signForm.inspTaskDetailDesc.voice.fileName) {\r\n              uploadFiles.push(this.signForm.inspTaskDetailDesc.voice);\r\n            }\r\n            uploadFiles = uploadFiles.concat(this.signForm.files);\r\n            const preliminaryHandleFile = JSON.stringify(uploadFiles);\r\n            const eventPayload = {\r\n              conclusion: copySignForm.eventType,\r\n              eventDescribe: this.signForm.remark.text,\r\n              eventSource: \"inspection_event_source_inspection\",\r\n              eventType: copySignForm.eventType,\r\n              eventTypeId: copySignForm.inspItemId,\r\n              inspBusinessType: this.taskDetail.inspBusinessType,\r\n              officeId: this.taskDetail.inspOrgId,\r\n              preliminaryHandle: this.signForm.inspTaskDetailDesc.text,\r\n              preliminaryHandleFile: preliminaryHandleFile,\r\n              eventDescribeFile: JSON.stringify(this.signForm.remark.voice),\r\n              regionItemText: this.engInfoDTO.infoDTO.engGeom,\r\n              // regionItemText: JSON.stringify(copySignForm.taskRangerGeom),\r\n              taskId: this.taskDetail.taskId,\r\n              engId: this.engInfoDTO ? this.engInfoDTO.engId : undefined, // 设施对象\r\n              eventItemText: this.engInfoDTO.infoDTO.engGeom,\r\n              // eventItemText: JSON.stringify(copySignForm.taskRangerGeom),\r\n              lng: geom.coordinates[0], // \r\n              lat: geom.coordinates[1], // 可能为polygon范围\r\n              reporterId: this.userInfo.id,\r\n              reporterName: this.userInfo.userFullname\r\n            }\r\n            this.$api.postAction(\"/yhsw-inspection/inspectionEvent/insert\", eventPayload).then(res => {\r\n              if (res.status) {\r\n                this.signShow = false;\r\n                this.refreshTask();\r\n              }\r\n            })\r\n          }\r\n        } else {\r\n          console.log(\"验证失败\");\r\n        }\r\n      })\r\n    },\r\n    // 取消\r\n    onCancel() {\r\n      this.signShow = false;\r\n    },\r\n    // 签到\r\n    startEmeSignIn(feature) {\r\n      this.feature = feature;\r\n      const geom = this.computeCenter(this.feature);\r\n      try {\r\n        if (this.feature.geometry.type === \"Polygon\") {\r\n          //如果是范围，定位当前巡检人员的位置附近的数据\r\n          if (this.currentPosition) {\r\n            const position = this.currentPosition;\r\n            const coord = [parseFloat(position.xCode), parseFloat(position.yCode)];\r\n            const point = turf.point(coord);\r\n            this.getInspDataInRange(point);\r\n          } else {\r\n            this.geoJsonList = [];\r\n            Toast({\r\n              message: \"获取不到巡检员位置\",\r\n              duration: 3000\r\n            })\r\n          }\r\n        } else {\r\n          console.log(\"this.feature==>\", this.feature);\r\n          // 查询当前签到位置范围内的数据\r\n          this.getInspDataInRange(geom);\r\n        }\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n      // 第一种寻找当前range,根据taskRangerName来匹配\r\n      // this.range = this.rangeList.find();\r\n      // 第二种，根据feature.id来匹配\r\n      this.rangeList.forEach(item => {\r\n        if (item.taskRangerGeom) {\r\n          const geom = JSON.parse(item.taskRangerGeom);\r\n          if (geom.id === feature.id) {\r\n            this.range = item;\r\n          }\r\n        }\r\n      })\r\n      this.signForm.inspTaskDetailDesc = {\r\n        text: \"\",\r\n        voice: {}\r\n      }\r\n      this.signForm.files = [];\r\n      this.signForm = this.deepClone(Object.assign(this.signForm, this.range));\r\n      this.signForm.remark = {\r\n        text: \"\",\r\n        voice: {}\r\n      }\r\n      this.signForm.taskRangerGeom = this.feature;\r\n      this.signForm.eventType = this.eventTypeList.find(item => item.value === this.signForm.inspItemId).label;\r\n      // 如果已经上报，且上报结果正常\r\n      if (this.signForm.inspItemResult === \"true\") {\r\n        this.signShow = false;\r\n        Toast({\r\n          message: \"结果已录入，无法再次提交\",\r\n          duration: 3000\r\n        })\r\n        return;\r\n      }\r\n      this.signShow = true;\r\n      this.$nextTick(() => {\r\n        this.$refs.signForm.setRules(this.rules);\r\n      })\r\n    },\r\n    // 事件类型选择确认\r\n    eventTypeConfirm(event) {\r\n      if (event && event.length > 0) {\r\n        this.$set(this.signForm, \"eventType\", event[0].label);\r\n        this.$set(this.signForm, \"inspItemId\", event[0].value);\r\n      }\r\n    },\r\n    // 巡检对象确定\r\n    inspObjConfirm(obj) {\r\n      if (obj && obj.length > 0) {\r\n        this.$set(this.signForm, \"geoJson\", obj[0].label);\r\n        this.$set(this.signForm, \"gjz\", obj[0].value);\r\n        this.getEngPropertyVal(this.signForm.gjz);\r\n      } else {\r\n        Toast({\r\n          message: \"暂无巡检对象\",\r\n          duration: 1500\r\n        })\r\n      }\r\n\r\n    },\r\n    // 深拷贝\r\n    deepClone(data) {\r\n      return JSON.parse(JSON.stringify(data));\r\n    },\r\n    // 计算中心点\r\n    computeCenter(feature) {\r\n      let position;\r\n      if (feature.geometry.type === 'Polygon') {\r\n        const center = turf.center(feature.geometry);\r\n        position = center.geometry;\r\n      } else if (feature.geometry.type === 'LineString') {\r\n        const center = turf.center(feature.geometry);\r\n        position = center.geometry;\r\n      } else if (feature.geometry.type === 'Point') {\r\n        position = feature.geometry;\r\n      }\r\n      return position;\r\n    },\r\n    // 计算中心点\r\n    computeCenter2(feature) {\r\n      let position;\r\n      if (feature.type === 'Polygon') {\r\n        const center = turf.center(feature);\r\n        position = center.geometry;\r\n      } else if (feature.type === 'LineString') {\r\n        const center = turf.center(feature);\r\n        position = center.geometry;\r\n      } else if (feature.type === 'Point') {\r\n        position = feature;\r\n      }\r\n      return position;\r\n    },\r\n    // 根据关键字查询\r\n    async getEngPropertyVal(gjz) {\r\n      const params = {\r\n        value: gjz\r\n      }\r\n      const res = await engPropertyValue(params);\r\n      if (res.status) {\r\n        console.log(\"res==>\", res);\r\n        if (!res.data) {\r\n          Toast({\r\n            message: res.message,\r\n            duration: 3000\r\n          })\r\n        }\r\n        this.engInfoDTO = res.data;\r\n      }\r\n    },\r\n    // 查询身边X米的工程对象\r\n    getInspDataInRange(position) {\r\n      const params = {\r\n        inspBusinessType: this.taskDetail.inspBusinessType,\r\n        pipeLevel: {\r\n          pipeMax: this.taskDetail.pipeLevelMax,\r\n          pipeMin: this.taskDetail.pipeLevelMin\r\n        },\r\n        ...position\r\n      }\r\n      this.$refs.mymap.getInspDataInRange(params).then(res => {\r\n        console.log(\"====>res\",res);\r\n        if (res) {\r\n          this.geoJsonList = res.map(item => {\r\n            return {\r\n              label: item.properties.pipetype + item.properties.gjz,\r\n              value: item.properties.gjz,\r\n              ...item\r\n            }\r\n          })\r\n          if (this.geoJsonList.length <= 0) {\r\n            Toast({\r\n              message: \"周围未找到设施对象\",\r\n              duration: 3000\r\n            })\r\n          }\r\n        }\r\n      })\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    bus.$off(\"startEmeSignIn\");\r\n  },\r\n  onNavigationBarButtonTap: function(e) {\r\n\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.task-map {\r\n  .tool-box {\r\n    position: fixed;\r\n    width: 40px;\r\n    height: 100px;\r\n    right: 15px;\r\n    bottom: 10px;\r\n    .location {\r\n      width: 40px;\r\n      height: 40px;\r\n      background-color: #fff;\r\n      z-index: 3;\r\n      box-shadow: 0px 4px 11px 0px rgba(0,0,0,0.2);\r\n      border-radius: 5px;\r\n      &-image {\r\n        margin: 8px;\r\n        width: 24px;\r\n        height: 24px;\r\n      }\r\n    }\r\n  }\r\n  .popup-view {\r\n    height: 43%;\r\n    width: 100%;\r\n    position: fixed;\r\n    bottom: 0px;\r\n    z-index: 10;\r\n    transition: bottom 3.0s ease-in;\r\n    background-color: #fff;\r\n    .popup-container {\r\n      padding: 15px;\r\n      .head {\r\n        padding: 0px 5px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        font-size: 15px;\r\n        font-weight: 400;\r\n        color: #333333;\r\n        .on-confirm {\r\n          color: #2a83e6;\r\n        }\r\n        margin-bottom: 10px;\r\n      }\r\n      .scroll {\r\n        height: 230px;\r\n        .sign-form {\r\n          margin: 8px;\r\n        }\r\n      }\r\n    }\r\n    .confirm-pop {\r\n      .title {\r\n        border-left: 4px solid #2a83e6;\r\n        margin: 5px;\r\n        padding-left: 10px;\r\n      }\r\n      .content {\r\n        border-top: 0.5px solid rgba(128, 128, 128, 0.322);\r\n        width: 210px;\r\n        padding: 24px;\r\n        text-align: center;\r\n        background-color: #fff;\r\n        &-view {\r\n          font-size: 16px;\r\n        }\r\n        .confirm-btn {\r\n          margin-top: 40px;\r\n          justify-items: center;\r\n          .popup-btn {\r\n            float: left;\r\n            width: 60px;\r\n            height: 32px;\r\n            border-radius: 5px;\r\n            &-l{\r\n              margin-left: 10px;\r\n              margin-right: 10px;\r\n            }\r\n            &-r{\r\n              margin-left: 10px;\r\n              margin-right: 10px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n}\r\n</style>\r\n"]}]}