{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\CommonDetail\\Form\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\CommonDetail\\Form\\index.vue","mtime":1705912800000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBFTlVNIH0gZnJvbSAnQC9zdG9yZS9TdGF0ZS9zdGF0ZVR5cGVzJw0KaW1wb3J0IHsNCiAgZ2V0Q29tbW9uRm9ybURldGFpbCwNCiAgZWRpdENvbW1vbkZvcm1EZXRhaWwsDQogIGFkZENvbW1vbkZvcm1EZXRhaWwsDQp9IGZyb20gJy4uL2FwaScNCmltcG9ydCBzZWxlY3RPcmcgZnJvbSAnQC9jb21wb25lbnRzL3NlbGVjdC1vcmcnDQppbXBvcnQgVXBsb2FkZXIgZnJvbSAnQC9jb21wb25lbnRzL3VwbG9hZC9VcGxvYWRlci52dWUnDQppbXBvcnQgRGV0YWlsVGFibGUgZnJvbSAnQC92aWV3cy9Gb3JtQ2VudGVyL2NvbXBvbmVudHMvRGV0YWlsVGFibGUnDQppbXBvcnQgc2VsZWN0VXNlciBmcm9tICdAL2NvbXBvbmVudHMvc2VsZWN0LXVzZXInDQppbXBvcnQgc2VsZWN0UGVyc29ubmVsIGZyb20gJ0AvY29tcG9uZW50cy9zZWxlY3QtcGVyc29ubmVsJw0KaW1wb3J0IHsNCiAgTmF2QmFyLA0KICBGb3JtLA0KICBGaWVsZCwNCiAgQ2FsZW5kYXIsDQogIEJ1dHRvbiwNCiAgU3RlcHBlciwNCiAgUG9wdXAsDQogIFBpY2tlciwNCiAgQ2hlY2tib3gsDQogIENoZWNrYm94R3JvdXAsDQogIFRvYXN0LA0KICBDZWxsLA0KICBDZWxsR3JvdXAsDQogIFNpZGViYXIsDQogIFNpZGViYXJJdGVtLA0KICBEaWFsb2csDQp9IGZyb20gJ2Zhd2tlcy1tb2JpbGUtbGliJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnaW5kZXgnLA0KICBjb21wb25lbnRzOiB7DQogICAgW05hdkJhci5uYW1lXTogTmF2QmFyLA0KICAgIFtGb3JtLm5hbWVdOiBGb3JtLA0KICAgIFtGaWVsZC5uYW1lXTogRmllbGQsDQogICAgW0NhbGVuZGFyLm5hbWVdOiBDYWxlbmRhciwNCiAgICBbQnV0dG9uLm5hbWVdOiBCdXR0b24sDQogICAgW1N0ZXBwZXIubmFtZV06IFN0ZXBwZXIsDQogICAgW1BvcHVwLm5hbWVdOiBQb3B1cCwNCiAgICBbUGlja2VyLm5hbWVdOiBQaWNrZXIsDQogICAgW0NoZWNrYm94Lm5hbWVdOiBDaGVja2JveCwNCiAgICBbQ2hlY2tib3hHcm91cC5uYW1lXTogQ2hlY2tib3hHcm91cCwNCiAgICBbQ2VsbC5uYW1lXTogQ2VsbCwNCiAgICBbQ2VsbEdyb3VwLm5hbWVdOiBDZWxsR3JvdXAsDQogICAgW1NpZGViYXIubmFtZV06IFNpZGViYXIsDQogICAgW1NpZGViYXJJdGVtLm5hbWVdOiBTaWRlYmFySXRlbSwNCiAgICBbRGlhbG9nLm5hbWVdOiBEaWFsb2csDQogICAgc2VsZWN0T3JnLA0KICAgIFVwbG9hZGVyLA0KICAgIHNlbGVjdFVzZXIsDQogICAgRGV0YWlsVGFibGUsDQogICAgc2VsZWN0UGVyc29ubmVsLA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyBpc0Rpc2FibGVkOiAodGhpcy4kcm91dGUucGFyYW1zLnR5cGUgPT0gJ2FkZCcgfHwgdGhpcy4kcm91dGUucGFyYW1zLnR5cGUgPT0gJ2VkaXQnKSA/IGZhbHNlIDogdHJ1ZSwNCiAgICAgIGlzRGlzYWJsZWQ6IGZhbHNlLA0KICAgICAgc2hvd0NhbGVuZGFyOiBmYWxzZSwgLy/mmK/lkKblsZXnpLrpgInmi6nml6XmnJ/nu4Tku7YNCiAgICAgIHNob3dQaWNrZXI6IGZhbHNlLCAvL+aYr+WQpuWxleekuumAieaLqeaKpemUgOexu+Wei+e7hOS7tg0KICAgICAgY2hlY2tib3hHcm91cDogWyfnn63kv6EnXSwNCiAgICAgIHNtc2lsSXNDaGVjazogdHJ1ZSwNCiAgICAgIGVtYWlsSXNDaGVjazogdHJ1ZSwNCiAgICAgIGZvcm1EYXRhOiB7DQogICAgICAgIGF0dGFjaG1lbnQ6ICcnLCAvL+mZhOS7tg0KICAgICAgICBidWRnZXQ6ICcgJywgLy/ph4fotK3pooTnrpcNCiAgICAgICAgZGVwYXJ0bWVudElkOiAnJywgLy/pg6jpl6hJRA0KICAgICAgICBkZXBhcnRtZW50TmFtZTogJycsIC8v6YOo6ZeoDQogICAgICAgIGRlc2NyaXB0aW9uOiAnJywgLy/miqXplIDmj4/ov7ANCiAgICAgICAgZmluYW5jZUFzc2lnbmVlOiAnJywgLy/otKLliqHlrqHmibnkuroNCiAgICAgICAgZmluYW5jZUFzc2lnbmVlRnVsbG5hbWU6ICcnLCAvL+i0ouWKoeWuoeaJueS6ug0KICAgICAgICBtYW5hZ2VBc3NpZ25lZTogJycsIC8v57uP55CG5a6h5om55Lq6DQogICAgICAgIG1hbmFnZUFzc2lnbmVlRnVsbG5hbWU6ICcnLCAvL+e7j+eQhuWuoeaJueS6ug0KICAgICAgICBtYW5hZ2VyOiAnJywgLy/ph4fotK3otJ/otKPkuroNCiAgICAgICAgbWFuYWdlckZ1bGxuYW1lOiAnJywgLy/ph4fotK3otJ/otKPkuroNCiAgICAgICAgbm90aWZpY2F0aW9uOiAnJywgLy/pgJrnn6XmlrnlvI8NCiAgICAgICAgcGxhbkRhdGU6ICcnLCAvL+mHh+i0reiuoeWIkuaXpeacnw0KICAgICAgICByZWltYnVyc2VOYW1lOiAnJywgLy/miqXplIDlkI3np7ANCiAgICAgICAgcmVpbWJ1cnNlVHlwZTogJycsIC8v5beu5peF57G75Z6LDQogICAgICAgIHJlaW1idXJzZV9hdHRhY2hlbWVudDogW10sDQogICAgICAgIHJlaW1idXJzZV9kZXRhaWw6IFtdLA0KICAgICAgfSwNCiAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgYWN0aXZlS2V5OiAwLA0KICAgICAgZmlsZUxpc3Q6IFtdLA0KICAgICAgdGFibGVUeXBlOiAnYWRkJywNCiAgICAgIC8vIOaYjue7huihqOWIl+WvueixoQ0KICAgICAgdGFibGVDb2x1bW46IHsNCiAgICAgICAgcmVpbWJ1cnNlQXR0YWNoZW1lbnRMaXN0OiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgaW5kZXg6IDAsDQogICAgICAgICAgICB2YWx1ZTogJycsDQogICAgICAgICAgICBwcm9wOiAnZmlsZVR5cGUnLA0KICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLA0KICAgICAgICAgICAgbGFiZWw6ICfmlofku7bnsbvlnosnLA0KICAgICAgICAgICAgZWRpdDogdHJ1ZSwNCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWlJywNCiAgICAgICAgICAgIGVkaXRUeXBlOiAnaW5wdXQnLA0KICAgICAgICAgICAgcmVhZG9ubHk6IGZhbHNlLA0KICAgICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLA0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBpbmRleDogMSwNCiAgICAgICAgICAgIHZhbHVlOiAnJywNCiAgICAgICAgICAgIHByb3A6ICdmaWxlTmFtZScsDQogICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsDQogICAgICAgICAgICBsYWJlbDogJ+aWh+S7tuWQjeensCcsDQogICAgICAgICAgICBlZGl0OiB0cnVlLA0KICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaUnLA0KICAgICAgICAgICAgZWRpdFR5cGU6ICdpbnB1dCcsDQogICAgICAgICAgICByZWFkb25seTogZmFsc2UsDQogICAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsDQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGluZGV4OiAyLA0KICAgICAgICAgICAgdmFsdWU6ICcnLA0KICAgICAgICAgICAgcHJvcDogJ2F0dGFjaG1lbnQnLA0KICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLA0KICAgICAgICAgICAgbGFiZWw6ICfpmYTku7YnLA0KICAgICAgICAgICAgZWRpdDogdHJ1ZSwNCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnJywNCiAgICAgICAgICAgIGVkaXRUeXBlOiAnZmlsZScsDQogICAgICAgICAgICByZWFkb25seTogZmFsc2UsDQogICAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsDQogICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBpbmRleDogMywNCiAgICAgICAgICAgIHZhbHVlOiAnJywNCiAgICAgICAgICAgIHByb3A6ICdkZXNjcmlwdGlvbicsDQogICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsDQogICAgICAgICAgICBsYWJlbDogJ+aPj+i/sCcsDQogICAgICAgICAgICBlZGl0OiB0cnVlLA0KICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaUnLA0KICAgICAgICAgICAgZWRpdFR5cGU6ICd0ZXh0YXJlYScsDQogICAgICAgICAgICByZWFkb25seTogZmFsc2UsDQogICAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsDQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICB9LA0KICAgICAgICBdLA0KICAgICAgICByZWltYnVyc2VEZXRhaWxMaXN0OiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgaW5kZXg6IDAsDQogICAgICAgICAgICB2YWx1ZTogJycsDQogICAgICAgICAgICBwcm9wOiAncmVpbWJ1cnNlVHlwZScsDQogICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsDQogICAgICAgICAgICBsYWJlbDogJ+aKpemUgOexu+WeiycsDQogICAgICAgICAgICBlZGl0OiB0cnVlLA0KICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fpgInmi6knLA0KICAgICAgICAgICAgZWRpdFR5cGU6ICdzZWxlY3QnLA0KICAgICAgICAgICAgZGljdENvZGU6ICdyZWltYnVyc2VfdHlwZScsDQogICAgICAgICAgICByZWFkb25seTogZmFsc2UsDQogICAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsDQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGluZGV4OiAxLA0KICAgICAgICAgICAgdmFsdWU6ICcnLA0KICAgICAgICAgICAgcHJvcDogJ3JlaW1idXJzZU5hbWUnLA0KICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLA0KICAgICAgICAgICAgbGFiZWw6ICfmiqXplIDlkI3np7AnLA0KICAgICAgICAgICAgZWRpdDogdHJ1ZSwNCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWlJywNCiAgICAgICAgICAgIGVkaXRUeXBlOiAnaW5wdXQnLA0KICAgICAgICAgICAgcmVhZG9ubHk6IGZhbHNlLA0KICAgICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLA0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBpbmRleDogMiwNCiAgICAgICAgICAgIHZhbHVlOiAnJywNCiAgICAgICAgICAgIHByb3A6ICdyZWltYnVyc2VGZWUnLA0KICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLA0KICAgICAgICAgICAgbGFiZWw6ICfmiqXplIDotLnnlKgnLA0KICAgICAgICAgICAgZWRpdDogdHJ1ZSwNCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWlJywNCiAgICAgICAgICAgIGVkaXRUeXBlOiAnbnVtYmVyJywNCiAgICAgICAgICAgIHJlYWRvbmx5OiBmYWxzZSwNCiAgICAgICAgICAgIGRpc2FibGVkOiBmYWxzZSwNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgaW5kZXg6IDMsDQogICAgICAgICAgICB2YWx1ZTogJycsDQogICAgICAgICAgICBwcm9wOiAncmVpbWJ1cnNlRGF0ZScsDQogICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsDQogICAgICAgICAgICBsYWJlbDogJ+aKpemUgOaXpeacnycsDQogICAgICAgICAgICBlZGl0OiB0cnVlLA0KICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fpgInmi6knLA0KICAgICAgICAgICAgZWRpdFR5cGU6ICdkYXRlUGlja2VyJywNCiAgICAgICAgICAgIHJlYWRvbmx5OiBmYWxzZSwNCiAgICAgICAgICAgIGRpc2FibGVkOiBmYWxzZSwNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgZm9ybWF0OiAnWVlZWS1NTS1ERCcsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBpbmRleDogNCwNCiAgICAgICAgICAgIHZhbHVlOiAnJywNCiAgICAgICAgICAgIHByb3A6ICdkZXNjcmlwdGlvbicsDQogICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsDQogICAgICAgICAgICBsYWJlbDogJ+aKpemUgOaPj+i/sCcsDQogICAgICAgICAgICBlZGl0OiB0cnVlLA0KICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaUnLA0KICAgICAgICAgICAgZWRpdFR5cGU6ICd0ZXh0YXJlYScsDQogICAgICAgICAgICByZWFkb25seTogZmFsc2UsDQogICAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsDQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICB9LA0KICAgICAgICBdLA0KICAgICAgfSwNCiAgICAgIC8vIOaYjue7huihqOWvueixoQ0KICAgICAgZGV0YWlsVGFibGU6IHsNCiAgICAgICAgcmVpbWJ1cnNlQXR0YWNoZW1lbnRMaXN0OiBbXSwNCiAgICAgICAgcmVpbWJ1cnNlRGV0YWlsTGlzdDogW10sDQogICAgICB9LA0KICAgICAgLy8g5piO57uG6KGo5a6e5L2T5ZCN5pWw57uEDQogICAgICBkZXRhaWxFbnRpdHlOYW1lTGlzdDogWydyZWltYnVyc2VBdHRhY2hlbWVudExpc3QnLCAncmVpbWJ1cnNlRGV0YWlsTGlzdCddLA0KICAgICAgLy9zZWxlY3RQZXJzb25uZWznu4Tku7bmtYvor5UNCiAgICAgIG5hbWUxOiAnJywNCiAgICAgIGZ1bGxuYW1lMTogJycsDQogICAgICBuYW1lMjogJycsDQogICAgICBmdWxsbmFtZTI6ICcnLA0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBuYW1lMSgpIHsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMubmFtZTEpDQogICAgICBjb25zb2xlLmxvZyh0aGlzLmZ1bGxuYW1lMSkNCiAgICB9LA0KICAgIG5hbWUyKCkgew0KICAgICAgY29uc29sZS5sb2codGhpcy5uYW1lMikNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZnVsbG5hbWUyKQ0KICAgIH0sDQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgaWQoKSB7DQogICAgICByZXR1cm4gdGhpcy4kcm91dGVyLmN1cnJlbnRSb3V0ZS5wYXJhbXMuaWQNCiAgICB9LA0KICAgIHR5cGUoKSB7DQogICAgICByZXR1cm4gdGhpcy4kcm91dGVyLmN1cnJlbnRSb3V0ZS5wYXJhbXMudHlwZQ0KICAgIH0sDQogICAgLy8g5Li76KGo5YiG57G75a2X5YW4IC8v6YCJ5oup5Zmo5a2X5q61DQogICAgcmVpbWJ1cnNlVHlwZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZVtFTlVNXVt0aGlzLnRvTGluZSgncmVpbWJ1cnNlX3R5cGUnKV0gfHwgW10NCiAgICB9LA0KICAgIGxhbmcoKSB7DQogICAgICBpZiAodGhpcy4kc3RvcmFnZS5nZXQoJ2kxOG5Mb2NhbGUnKSA9PSAnemgnKSB7DQogICAgICAgIHJldHVybiAnemgtQ04nDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gJ2VuJw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy50YWJsZVR5cGUgPSB0aGlzLnR5cGUNCiAgICBpZiAodGhpcy50eXBlICE9ICdhZGQnKSB7DQogICAgICBUb2FzdC5sb2FkaW5nKHsNCiAgICAgICAgbWVzc2FnZTogJ+WKoOi9veS4rS4uLicsDQogICAgICAgIGZvcmJpZENsaWNrOiB0cnVlLA0KICAgICAgfSkNCiAgICAgIHRoaXMuZ2V0RnJvbURldGFpbCgpDQogICAgfQ0KICAgIGlmICh0aGlzLnR5cGUgPT0gJ3ZpZXcnKSB7DQogICAgICB0aGlzLmlzRGlzYWJsZWQgPSB0cnVlDQogICAgfQ0KICAgIGlmICh0aGlzLnR5cGUgPT0gJ2FkZCcpIHsNCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgIHRoaXMuY2hlY2tib3goJ+efreS/oScpDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy8g6ZmQ5Yi25q2l6L+b5Zmo5pyA5aSa5Y+q6IO95LiJ5L2N5bCP5pWwDQogICAgc3RlcHBlckNoYW5nZSh2YWwpIHsNCiAgICAgIC8vIOW9k+acieWAvOaIluS4uuaVsOWtl+aXtuWIpOaWrQ0KICAgICAgaWYgKHZhbCA9PT0gJycgfHwgdmFsID09IG51bGwgfHwgaXNOYU4odmFsKSkgew0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICAgIGxldCByZWcgPSAvXlxkK1wuP1xkezAsM30kLw0KICAgICAgbGV0IG5ld1ZhbCA9IG51bGwNCiAgICAgIGlmICghcmVnLnRlc3QodmFsKSkgew0KICAgICAgICBUb2FzdCgn6ZmQ5Yi25q2j5pWw5oiWM+S9jeWwj+aVsCcpDQogICAgICAgIHZhbCA9IHZhbC50b1N0cmluZygpDQogICAgICAgIG5ld1ZhbCA9DQogICAgICAgICAgdmFsLmluZGV4T2YoJy4nKSA+IC0xID8gdmFsLnNsaWNlKDAsIHZhbC5pbmRleE9mKCcuJykgKyA0KSA6IHZhbA0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5mb3JtRGF0YSwgJ2J1ZGdldCcsIG5ld1ZhbCkNCiAgICAgICAgfSwgNTAwKQ0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0RnJvbURldGFpbCgpIHsNCiAgICAgIGdldENvbW1vbkZvcm1EZXRhaWwoeyBpZDogdGhpcy5pZCB9KQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgcmVzLmRhdGEucGxhbkRhdGUgPQ0KICAgICAgICAgICAgcmVzLmRhdGEucGxhbkRhdGUgPT0gbnVsbCA/IG51bGwgOiByZXMuZGF0YS5wbGFuRGF0ZS5zcGxpdCgnICcpWzBdDQogICAgICAgICAgdGhpcy5mb3JtRGF0YSA9IHJlcy5kYXRhDQogICAgICAgICAgLy8g5Yik5pat6YKu566x55+t5L+h55qE6YCJ5Lit54q25oCBDQogICAgICAgICAgaWYgKHJlcy5kYXRhLm5vdGlmaWNhdGlvbiAhPSBudWxsKSB7DQogICAgICAgICAgICB0aGlzLmNoZWNrYm94R3JvdXAgPSByZXMuZGF0YS5ub3RpZmljYXRpb24uc3BsaXQoJywnKQ0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmRldGFpbFRhYmxlLnJlaW1idXJzZUF0dGFjaGVtZW50TGlzdCA9DQogICAgICAgICAgICByZXMuZGF0YS5yZWltYnVyc2VBdHRhY2hlbWVudExpc3QNCiAgICAgICAgICB0aGlzLmRldGFpbFRhYmxlLnJlaW1idXJzZURldGFpbExpc3QgPSByZXMuZGF0YS5yZWltYnVyc2VEZXRhaWxMaXN0DQogICAgICAgIH0pDQogICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICBUb2FzdC5jbGVhcigpDQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgb25TdWJtaXQoKSB7DQogICAgICAvLyBjb25zb2xlLmxvZygndGhpcy5kZXRhaWxUYWJsZScsIHRoaXMuZGV0YWlsVGFibGUpDQogICAgICAvLyBjb25zb2xlLmxvZygndGhpcy50YWJsZUNvbHVtbicsIHRoaXMudGFibGVDb2x1bW4pDQogICAgICBpZiAoIXRoaXMuZm9ybURhdGEubWFuYWdlckZ1bGxuYW1lKSB7DQogICAgICAgIHJldHVybiBUb2FzdCgn6K+36YCJ5oup6YeH6LSt6LSf6LSj5Lq6JykNCiAgICAgIH0NCiAgICAgIGlmICghdGhpcy5mb3JtRGF0YS5maW5hbmNlQXNzaWduZWVGdWxsbmFtZSkgew0KICAgICAgICByZXR1cm4gVG9hc3QoJ+ivt+mAieaLqei0ouWKoeWuoeaJueS6uicpDQogICAgICB9DQogICAgICBpZiAoIXRoaXMuZm9ybURhdGEubWFuYWdlQXNzaWduZWVGdWxsbmFtZSkgew0KICAgICAgICByZXR1cm4gVG9hc3QoJ+ivt+mAieaLqee7j+eQhuWuoeaJueS6uicpDQogICAgICB9DQogICAgICBpZiAoIXRoaXMuZm9ybURhdGEuZGVwYXJ0bWVudE5hbWUpIHsNCiAgICAgICAgcmV0dXJuIFRvYXN0KCfor7fpgInmi6nmtYvor5Xpg6jpl6gnKQ0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuZGV0YWlsVGFibGUucmVpbWJ1cnNlQXR0YWNoZW1lbnRMaXN0Lmxlbmd0aCA9PSAwKSB7DQogICAgICAgIHJldHVybiBUb2FzdCgn55Sz6K+35oql6ZSA5a2Q6KGo6ZmE5Lu26KGo5LiN6IO95Li656m6JykNCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLmRldGFpbFRhYmxlLnJlaW1idXJzZURldGFpbExpc3QubGVuZ3RoID09IDApIHsNCiAgICAgICAgcmV0dXJuIFRvYXN0KCfnlLPor7fmiqXplIDlrZDooajkuI3og73kuLrnqbonKQ0KICAgICAgfQ0KICAgICAgLy8g5aaC5p6c5pyJ5LiK5Lyg5paH5Lu277yM5YiZ5ZCI5bm25paH5Lu2ZmlsZXRva2Vu5Li6Z3JvdXBUb2tlbg0KICAgICAgaWYgKHRoaXMuZmlsZUxpc3QubGVuZ3RoID4gMCkgew0KICAgICAgICAvLyDlsY/olL13YXRjaOebkeWQrOmZhOS7tuWAvOWPmOabtOmHjeaWsOiOt+WPluaWh+S7tg0KICAgICAgICB0aGlzLiRyZWZzLmF0dGFjaG1lbnQubmVlZFRvR2V0RmlsZSA9IGZhbHNlDQogICAgICAgIHRoaXMuJHJlZnMuYXR0YWNobWVudC5zZXRHOXMoKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5mb3JtRGF0YS5hdHRhY2htZW50ID0gJycNCiAgICAgIH0NCiAgICAgIGxldCBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5mb3JtRGF0YSwgdGhpcy5kZXRhaWxUYWJsZSkNCiAgICAgIC8vIGlmIChkYXRhLnBsYW5EYXRlKSB7DQogICAgICAvLyAgIGRhdGEucGxhbkRhdGUgPSB0aGlzLiRkYXlqcyhkYXRhLnBsYW5EYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgMDA6MDA6MDAnKQ0KICAgICAgLy8gfQ0KICAgICAgaWYgKHRoaXMudHlwZSA9PSAnYWRkJykgew0KICAgICAgICBhZGRDb21tb25Gb3JtRGV0YWlsKGRhdGEpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGlmIChyZXMuc3RhdHVzKSB7DQogICAgICAgICAgICBUb2FzdCgn5L+d5a2Y5oiQ5YqfJykNCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpDQogICAgICAgICAgICB9LCAxMDAwKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBUb2FzdChyZXMubWVzc2FnZSkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICBlZGl0Q29tbW9uRm9ybURldGFpbChkYXRhKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBpZiAocmVzLnN0YXR1cykgew0KICAgICAgICAgICAgVG9hc3QoJ+e8lui+keaIkOWKnycpDQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQ0KICAgICAgICAgICAgfSwgMTAwMCkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgVG9hc3QocmVzLm1lc3NhZ2UpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g56Gu6K6k6YCJ5oup5pel5pyf57uE5Lu2DQogICAgb25DYWxlbmRhckNvbmZpcm0oZGF0ZSkgew0KICAgICAgdGhpcy5mb3JtRGF0YS5wbGFuRGF0ZSA9IHRoaXMuJGRheWpzKGRhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpDQogICAgICB0aGlzLnNob3dDYWxlbmRhciA9IGZhbHNlDQogICAgfSwNCiAgICAvLyDnoa7orqTpgInmi6nlt67ml4Xnsbvlnovnu4Tku7YNCiAgICBvblJlaW1idXJzZVR5cGVDb25maXJtKHZhbHVlKSB7DQogICAgICB0aGlzLmZvcm1EYXRhLnJlaW1idXJzZVR5cGUgPSB2YWx1ZS5jb2RlDQogICAgICB0aGlzLnNob3dQaWNrZXIgPSBmYWxzZQ0KICAgIH0sDQogICAgY2hlY2tib3godmFsdWUpIHsNCiAgICAgIHRoaXMuZm9ybURhdGEubm90aWZpY2F0aW9uID0gdmFsdWUudG9TdHJpbmcoKQ0KICAgIH0sDQogICAgLy8g6am85bOw6L2s5o2i5LiL5YiS57q/DQogICAgdG9MaW5lKG5hbWUpIHsNCiAgICAgIHJldHVybiBuYW1lLnJlcGxhY2UoLyhbQS1aXSkvZywgJ18kMScpLnRvTG93ZXJDYXNlKCkNCiAgICB9LA0KICAgIGZpbGVDaGFuZ2UoaXRlbSkgew0KICAgICAgdGhpcy5maWxlTGlzdCA9IGl0ZW0uZmlsZUxpc3QNCiAgICB9LA0KICB9LA0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAwMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/CommonDetail/Form","sourcesContent":["<template>\r\n  <div class=\"main-container\">\r\n    <fm-nav-bar\r\n      title=\"普通主子表\"\r\n      left-text=\"\"\r\n      right-text=\"\"\r\n      left-arrow\r\n      @click-left=\"$router.go(-1)\"\r\n    />\r\n    <div\r\n      :class=\"['main', type != 'view' ? 'with-button' : 'without-button']\"\r\n      v-if=\"loading\"\r\n    >\r\n      <fm-form :readonly=\"isDisabled\" class=\"cus-form\">\r\n        <fm-field\r\n          input-align=\"right\"\r\n          v-model=\"formData.reimburseName\"\r\n          name=\"采购计划名称\"\r\n          label=\"采购计划名称\"\r\n          :maxlength=\"50\"\r\n          :placeholder=\"isDisabled ? '' : '请输入内容'\"\r\n        />\r\n        <div>\r\n          <fm-field\r\n            :is-link=\"!isDisabled\"\r\n            input-align=\"right\"\r\n            clickable\r\n            name=\"calendar\"\r\n            :value=\"formData.planDate\"\r\n            label=\"采购计划日期\"\r\n            :placeholder=\"isDisabled ? '' : '请选择'\"\r\n            readonly\r\n            @click.stop.native=\"isDisabled ? '' : (showCalendar = true)\"\r\n          />\r\n          <fm-calendar\r\n            :disabled=\"isDisabled\"\r\n            v-model=\"showCalendar\"\r\n            @confirm=\"onCalendarConfirm\"\r\n            :confirm-button-style=\"{ height: '44p;', marginBottom: '10px' }\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <fm-field name=\"stepper\" label=\"采购预算\" input-align=\"right\">\r\n            <template #input>\r\n              <fm-stepper\r\n                @change=\"stepperChange\"\r\n                input-width=\"50\"\r\n                :disabled=\"isDisabled\"\r\n                min=\"0\"\r\n                v-model=\"formData.budget\"\r\n              />\r\n            </template>\r\n          </fm-field>\r\n        </div>\r\n        <div>\r\n          <fm-field\r\n            :is-link=\"!isDisabled\"\r\n            readonly\r\n            clickable\r\n            input-align=\"right\"\r\n            name=\"picker\"\r\n            :value=\"formData.reimburseType | transferEnum('reimburse_type')\"\r\n            label=\"采购类型\"\r\n            :placeholder=\"isDisabled ? '' : '请选择'\"\r\n            @click.stop.native=\"isDisabled ? '' : (showPicker = true)\"\r\n          />\r\n          <fm-popup :visible.sync=\"showPicker\" position=\"bottom\">\r\n            <fm-picker\r\n              title=\"采购类型\"\r\n              confirm-button-text=\"完成\"\r\n              show-toolbar\r\n              :columns=\"reimburseType\"\r\n              :value-key=\"lang\"\r\n              @confirm=\"onReimburseTypeConfirm\"\r\n              @cancel=\"showPicker = false\"\r\n            />\r\n          </fm-popup>\r\n        </div>\r\n        <div class=\"textarea-type\">\r\n          <fm-cell-group title=\"采购说明\">\r\n            <fm-field\r\n              v-model=\"formData.description\"\r\n              type=\"textarea\"\r\n              maxlength=\"50\"\r\n              :readonly=\"isDisabled\"\r\n              :placeholder=\"isDisabled ? '' : '请输入内容'\"\r\n              show-word-limit\r\n            />\r\n          </fm-cell-group>\r\n        </div>\r\n        <fm-field name=\"checkboxGroup\" label=\"通知方式\" input-align=\"right\">\r\n          <template #input>\r\n            <fm-checkbox-group\r\n              v-model=\"checkboxGroup\"\r\n              direction=\"horizontal\"\r\n              @change=\"checkbox\"\r\n            >\r\n              <fm-checkbox :disabled=\"true\" name=\"短信\" shape=\"square\"\r\n                >短信</fm-checkbox\r\n              >\r\n              <fm-checkbox :disabled=\"isDisabled\" name=\"邮箱\" shape=\"square\"\r\n                >邮箱</fm-checkbox\r\n              >\r\n            </fm-checkbox-group>\r\n          </template>\r\n        </fm-field>\r\n        <uploader\r\n          v-model=\"formData.attachment\"\r\n          :deletable=\"!isDisabled\"\r\n          :disabled=\"isDisabled\"\r\n          @fileChange=\"fileChange\"\r\n          :showUpload=\"!isDisabled\"\r\n          ref=\"attachment\"\r\n          type=\"image\"\r\n          class=\"uploder-attachment\"\r\n        />\r\n        <select-user\r\n          title=\"采购负责人\"\r\n          :userFullname.sync=\"formData.managerFullname\"\r\n          :userName.sync=\"formData.manager\"\r\n          :disabled=\"isDisabled\"\r\n          :multiple=\"false\"\r\n          :required=\"true\"\r\n        >\r\n        </select-user>\r\n        <select-personnel\r\n          title=\"selectPersonnel-单选\"\r\n          :userName.sync=\"name1\"\r\n          :userFullname.sync=\"fullname1\"\r\n          :disabled=\"isDisabled\"\r\n          :required=\"true\"\r\n        >\r\n        </select-personnel>\r\n        <select-personnel\r\n          title=\"selectPersonnel-多选\"\r\n          :userName.sync=\"name2\"\r\n          :userFullname.sync=\"fullname2\"\r\n          :disabled=\"isDisabled\"\r\n          :multiple=\"true\"\r\n          :required=\"true\"\r\n        >\r\n        </select-personnel>\r\n        <select-user\r\n          title=\"财务审批人\"\r\n          :userFullname.sync=\"formData.financeAssigneeFullname\"\r\n          :userName.sync=\"formData.financeAssignee\"\r\n          :disabled=\"isDisabled\"\r\n          :multiple=\"false\"\r\n          :required=\"true\"\r\n        ></select-user>\r\n        <select-user\r\n          title=\"经理审批人\"\r\n          :userFullname.sync=\"formData.manageAssigneeFullname\"\r\n          :userName.sync=\"formData.manageAssignee\"\r\n          :disabled=\"isDisabled\"\r\n          :required=\"true\"\r\n        ></select-user>\r\n        <select-org\r\n          title=\"测试部门\"\r\n          :deptId.sync=\"formData.departmentId\"\r\n          :deptName.sync=\"formData.departmentName\"\r\n          :disabled=\"isDisabled\"\r\n          :required=\"true\"\r\n        ></select-org>\r\n\r\n        <!--明细表-->\r\n        <detail-table\r\n          :tableColumn=\"tableColumn.reimburseAttachementList\"\r\n          :formDetail.sync=\"detailTable.reimburseAttachementList\"\r\n          tableName=\"申请报销子表附件表\"\r\n          ref=\"detailForm0\"\r\n          :tableType=\"type\"\r\n          :required=\"true\"\r\n          :readonly=\"isDisabled ? 'readonly' : ''\"\r\n        ></detail-table>\r\n        <detail-table\r\n          :tableColumn=\"tableColumn.reimburseDetailList\"\r\n          :formDetail.sync=\"detailTable.reimburseDetailList\"\r\n          tableName=\"申请报销子表\"\r\n          ref=\"detailForm0\"\r\n          :tableType=\"type\"\r\n          :required=\"true\"\r\n          :readonly=\"isDisabled ? 'readonly' : ''\"\r\n        ></detail-table>\r\n      </fm-form>\r\n      <div class=\"form-button\" v-if=\"type != 'view'\">\r\n        <fm-button\r\n          round\r\n          block\r\n          type=\"primary\"\r\n          native-type=\"submit\"\r\n          @click=\"onSubmit\"\r\n          class=\"save-btn\"\r\n          >保存</fm-button\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ENUM } from '@/store/State/stateTypes'\r\nimport {\r\n  getCommonFormDetail,\r\n  editCommonFormDetail,\r\n  addCommonFormDetail,\r\n} from '../api'\r\nimport selectOrg from '@/components/select-org'\r\nimport Uploader from '@/components/upload/Uploader.vue'\r\nimport DetailTable from '@/views/FormCenter/components/DetailTable'\r\nimport selectUser from '@/components/select-user'\r\nimport selectPersonnel from '@/components/select-personnel'\r\nimport {\r\n  NavBar,\r\n  Form,\r\n  Field,\r\n  Calendar,\r\n  Button,\r\n  Stepper,\r\n  Popup,\r\n  Picker,\r\n  Checkbox,\r\n  CheckboxGroup,\r\n  Toast,\r\n  Cell,\r\n  CellGroup,\r\n  Sidebar,\r\n  SidebarItem,\r\n  Dialog,\r\n} from 'fawkes-mobile-lib'\r\nexport default {\r\n  name: 'index',\r\n  components: {\r\n    [NavBar.name]: NavBar,\r\n    [Form.name]: Form,\r\n    [Field.name]: Field,\r\n    [Calendar.name]: Calendar,\r\n    [Button.name]: Button,\r\n    [Stepper.name]: Stepper,\r\n    [Popup.name]: Popup,\r\n    [Picker.name]: Picker,\r\n    [Checkbox.name]: Checkbox,\r\n    [CheckboxGroup.name]: CheckboxGroup,\r\n    [Cell.name]: Cell,\r\n    [CellGroup.name]: CellGroup,\r\n    [Sidebar.name]: Sidebar,\r\n    [SidebarItem.name]: SidebarItem,\r\n    [Dialog.name]: Dialog,\r\n    selectOrg,\r\n    Uploader,\r\n    selectUser,\r\n    DetailTable,\r\n    selectPersonnel,\r\n  },\r\n  data() {\r\n    return {\r\n      // isDisabled: (this.$route.params.type == 'add' || this.$route.params.type == 'edit') ? false : true,\r\n      isDisabled: false,\r\n      showCalendar: false, //是否展示选择日期组件\r\n      showPicker: false, //是否展示选择报销类型组件\r\n      checkboxGroup: ['短信'],\r\n      smsilIsCheck: true,\r\n      emailIsCheck: true,\r\n      formData: {\r\n        attachment: '', //附件\r\n        budget: ' ', //采购预算\r\n        departmentId: '', //部门ID\r\n        departmentName: '', //部门\r\n        description: '', //报销描述\r\n        financeAssignee: '', //财务审批人\r\n        financeAssigneeFullname: '', //财务审批人\r\n        manageAssignee: '', //经理审批人\r\n        manageAssigneeFullname: '', //经理审批人\r\n        manager: '', //采购负责人\r\n        managerFullname: '', //采购负责人\r\n        notification: '', //通知方式\r\n        planDate: '', //采购计划日期\r\n        reimburseName: '', //报销名称\r\n        reimburseType: '', //差旅类型\r\n        reimburse_attachement: [],\r\n        reimburse_detail: [],\r\n      },\r\n      loading: false,\r\n      activeKey: 0,\r\n      fileList: [],\r\n      tableType: 'add',\r\n      // 明细表列对象\r\n      tableColumn: {\r\n        reimburseAttachementList: [\r\n          {\r\n            index: 0,\r\n            value: '',\r\n            prop: 'fileType',\r\n            align: 'center',\r\n            label: '文件类型',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'input',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 1,\r\n            value: '',\r\n            prop: 'fileName',\r\n            align: 'center',\r\n            label: '文件名称',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'input',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 2,\r\n            value: '',\r\n            prop: 'attachment',\r\n            align: 'center',\r\n            label: '附件',\r\n            edit: true,\r\n            placeholder: '',\r\n            editType: 'file',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: false,\r\n          },\r\n          {\r\n            index: 3,\r\n            value: '',\r\n            prop: 'description',\r\n            align: 'center',\r\n            label: '描述',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'textarea',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n        ],\r\n        reimburseDetailList: [\r\n          {\r\n            index: 0,\r\n            value: '',\r\n            prop: 'reimburseType',\r\n            align: 'center',\r\n            label: '报销类型',\r\n            edit: true,\r\n            placeholder: '请选择',\r\n            editType: 'select',\r\n            dictCode: 'reimburse_type',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 1,\r\n            value: '',\r\n            prop: 'reimburseName',\r\n            align: 'center',\r\n            label: '报销名称',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'input',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 2,\r\n            value: '',\r\n            prop: 'reimburseFee',\r\n            align: 'center',\r\n            label: '报销费用',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'number',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 3,\r\n            value: '',\r\n            prop: 'reimburseDate',\r\n            align: 'center',\r\n            label: '报销日期',\r\n            edit: true,\r\n            placeholder: '请选择',\r\n            editType: 'datePicker',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n            format: 'YYYY-MM-DD',\r\n          },\r\n          {\r\n            index: 4,\r\n            value: '',\r\n            prop: 'description',\r\n            align: 'center',\r\n            label: '报销描述',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'textarea',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n        ],\r\n      },\r\n      // 明细表对象\r\n      detailTable: {\r\n        reimburseAttachementList: [],\r\n        reimburseDetailList: [],\r\n      },\r\n      // 明细表实体名数组\r\n      detailEntityNameList: ['reimburseAttachementList', 'reimburseDetailList'],\r\n      //selectPersonnel组件测试\r\n      name1: '',\r\n      fullname1: '',\r\n      name2: '',\r\n      fullname2: '',\r\n    }\r\n  },\r\n  watch: {\r\n    name1() {\r\n      console.log(this.name1)\r\n      console.log(this.fullname1)\r\n    },\r\n    name2() {\r\n      console.log(this.name2)\r\n      console.log(this.fullname2)\r\n    },\r\n  },\r\n  computed: {\r\n    id() {\r\n      return this.$router.currentRoute.params.id\r\n    },\r\n    type() {\r\n      return this.$router.currentRoute.params.type\r\n    },\r\n    // 主表分类字典 //选择器字段\r\n    reimburseType() {\r\n      return this.$store.state[ENUM][this.toLine('reimburse_type')] || []\r\n    },\r\n    lang() {\r\n      if (this.$storage.get('i18nLocale') == 'zh') {\r\n        return 'zh-CN'\r\n      } else {\r\n        return 'en'\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.tableType = this.type\r\n    if (this.type != 'add') {\r\n      Toast.loading({\r\n        message: '加载中...',\r\n        forbidClick: true,\r\n      })\r\n      this.getFromDetail()\r\n    }\r\n    if (this.type == 'view') {\r\n      this.isDisabled = true\r\n    }\r\n    if (this.type == 'add') {\r\n      this.loading = true\r\n      this.checkbox('短信')\r\n    }\r\n  },\r\n  methods: {\r\n    // 限制步进器最多只能三位小数\r\n    stepperChange(val) {\r\n      // 当有值或为数字时判断\r\n      if (val === '' || val == null || isNaN(val)) {\r\n        return false\r\n      }\r\n      let reg = /^\\d+\\.?\\d{0,3}$/\r\n      let newVal = null\r\n      if (!reg.test(val)) {\r\n        Toast('限制正数或3位小数')\r\n        val = val.toString()\r\n        newVal =\r\n          val.indexOf('.') > -1 ? val.slice(0, val.indexOf('.') + 4) : val\r\n        setTimeout(() => {\r\n          this.$set(this.formData, 'budget', newVal)\r\n        }, 500)\r\n      }\r\n    },\r\n    getFromDetail() {\r\n      getCommonFormDetail({ id: this.id })\r\n        .then((res) => {\r\n          res.data.planDate =\r\n            res.data.planDate == null ? null : res.data.planDate.split(' ')[0]\r\n          this.formData = res.data\r\n          // 判断邮箱短信的选中状态\r\n          if (res.data.notification != null) {\r\n            this.checkboxGroup = res.data.notification.split(',')\r\n          }\r\n          this.detailTable.reimburseAttachementList =\r\n            res.data.reimburseAttachementList\r\n          this.detailTable.reimburseDetailList = res.data.reimburseDetailList\r\n        })\r\n        .finally(() => {\r\n          Toast.clear()\r\n          this.loading = true\r\n        })\r\n    },\r\n    onSubmit() {\r\n      // console.log('this.detailTable', this.detailTable)\r\n      // console.log('this.tableColumn', this.tableColumn)\r\n      if (!this.formData.managerFullname) {\r\n        return Toast('请选择采购负责人')\r\n      }\r\n      if (!this.formData.financeAssigneeFullname) {\r\n        return Toast('请选择财务审批人')\r\n      }\r\n      if (!this.formData.manageAssigneeFullname) {\r\n        return Toast('请选择经理审批人')\r\n      }\r\n      if (!this.formData.departmentName) {\r\n        return Toast('请选择测试部门')\r\n      }\r\n      if (this.detailTable.reimburseAttachementList.length == 0) {\r\n        return Toast('申请报销子表附件表不能为空')\r\n      }\r\n      if (this.detailTable.reimburseDetailList.length == 0) {\r\n        return Toast('申请报销子表不能为空')\r\n      }\r\n      // 如果有上传文件，则合并文件filetoken为groupToken\r\n      if (this.fileList.length > 0) {\r\n        // 屏蔽watch监听附件值变更重新获取文件\r\n        this.$refs.attachment.needToGetFile = false\r\n        this.$refs.attachment.setG9s()\r\n      } else {\r\n        this.formData.attachment = ''\r\n      }\r\n      let data = Object.assign({}, this.formData, this.detailTable)\r\n      // if (data.planDate) {\r\n      //   data.planDate = this.$dayjs(data.planDate).format('YYYY-MM-DD 00:00:00')\r\n      // }\r\n      if (this.type == 'add') {\r\n        addCommonFormDetail(data).then((res) => {\r\n          if (res.status) {\r\n            Toast('保存成功')\r\n            setTimeout(() => {\r\n              this.$router.go(-1)\r\n            }, 1000)\r\n          } else {\r\n            Toast(res.message)\r\n          }\r\n        })\r\n      } else {\r\n        editCommonFormDetail(data).then((res) => {\r\n          if (res.status) {\r\n            Toast('编辑成功')\r\n            setTimeout(() => {\r\n              this.$router.go(-1)\r\n            }, 1000)\r\n          } else {\r\n            Toast(res.message)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 确认选择日期组件\r\n    onCalendarConfirm(date) {\r\n      this.formData.planDate = this.$dayjs(date).format('YYYY-MM-DD')\r\n      this.showCalendar = false\r\n    },\r\n    // 确认选择差旅类型组件\r\n    onReimburseTypeConfirm(value) {\r\n      this.formData.reimburseType = value.code\r\n      this.showPicker = false\r\n    },\r\n    checkbox(value) {\r\n      this.formData.notification = value.toString()\r\n    },\r\n    // 驼峰转换下划线\r\n    toLine(name) {\r\n      return name.replace(/([A-Z])/g, '_$1').toLowerCase()\r\n    },\r\n    fileChange(item) {\r\n      this.fileList = item.fileList\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n.main-container {\r\n  height: 100%;\r\n  background: #fff;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.main,\r\n.cus-form {\r\n  overflow: auto;\r\n  flex: 1;\r\n}\r\n\r\n.with-button,\r\n.cus-form {\r\n  height: calc(100% - 122px - env(safe-area-inset-bottom));\r\n  height: calc(100% - 122px - constant(safe-area-inset-bottom));\r\n}\r\n\r\n.without-button {\r\n  height: calc(100% - 92px);\r\n  .cus-form {\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n/deep/.fm-field--disabled .fm-field__label {\r\n  color: #000;\r\n}\r\n/deep/ .fm-sidebar-item {\r\n  padding: 24px 24px;\r\n}\r\n/deep/ .fm-sidebar-item__text {\r\n  width: 200px;\r\n}\r\n/deep/ .fm-cell-group__title {\r\n  color: #000;\r\n}\r\n\r\n.field-attachment {\r\n  flex-direction: column;\r\n  /deep/ .fm-field__control--right {\r\n    justify-content: flex-start;\r\n  }\r\n}\r\n\r\n.form-button {\r\n  display: flex;\r\n  padding: 18px 30px;\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: calc(0 + env(safe-area-inset-bottom));\r\n  bottom: calc(0 + constant(safe-area-inset-bottom));\r\n  height: 122px;\r\n\r\n  .save-btn {\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n}\r\n\r\n.textarea-type /deep/ .fm-field__value {\r\n  border: 1px solid #bbbbbb;\r\n  opacity: 0.5;\r\n}\r\n.textarea-type /deep/ .fm-field--min-height .fm-field__control {\r\n  padding-left: 20px;\r\n  padding-top: 20px;\r\n}\r\n.textarea-type /deep/ .fm-field__word-limit {\r\n  margin-right: 20px;\r\n  margin-bottom: 12px;\r\n}\r\n</style>\r\n"]}]}