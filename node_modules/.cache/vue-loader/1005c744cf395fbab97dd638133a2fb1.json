{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\BZList\\BZDetail\\monitor.vue?vue&type=style&index=0&id=47bd5f7a&lang=less&scoped=true","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\BZList\\BZDetail\\monitor.vue","mtime":1708928163360},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouY29udGVudCB7DQogICAgbWFyZ2luLXRvcDogMTBweDsNCn0NCg0KLnJvdyB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsNCiAgICBmbGV4LWRpcmVjdGlvbjogcm93Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQoNCn0NCg0KLmJ1dHRvbiB7DQogICAgYm9yZGVyLXJhZGl1czogMTZweDsNCiAgICB3aWR0aDogMzM0cHg7DQogICAgaGVpZ2h0OiAxMDBweDsNCiAgICBtYXJnaW4tdG9wOiAyMHB4Ow0KICAgIG1hcmdpbi1yaWdodDogMTBweDsNCn0NCg0KLnZqcy1iaWctcGxheS1idXR0b24gLnZqcy1pY29uLXBsYWNlaG9sZGVyIHsNCiAgICBmb250LXNpemU6IDEuNjNlbSAhaW1wb3J0YW50Ow0KfQ0KDQoubGlzdCB7DQogICAgb3ZlcmZsb3cteDogaGlkZGVuOw0KICAgIG92ZXJmbG93LXk6IHNjcm9sbDsNCiAgICBoZWlnaHQ6IDgwMHB4Ow0KfQ0KDQoudmpzLXBhdXNlZCAudmpzLWJpZy1wbGF5LWJ1dHRvbiwNCi52anMtcGF1c2VkLnZqcy1oYXMtc3RhcnRlZCAudmpzLWJpZy1wbGF5LWJ1dHRvbiB7DQogICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsNCn0NCg=="},{"version":3,"sources":["monitor.vue"],"names":[],"mappings":";AAsGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"monitor.vue","sourceRoot":"src/views/BZList/BZDetail","sourcesContent":["<template>\r\n    <div class=\"content\">\r\n        <video poster=\"@/assets/img/BZList/no-data-img.png\" style=\"width:100%;height:220px\" id=\"myVideo\"\r\n            class=\"video-js vjs-default-skin vjs-big-play-centered\" preload=\"auto\">\r\n            <!-- <source> -->\r\n        </video>\r\n        <div class=\"list\">\r\n            <fm-grid :column-num=\"2\" :gutter=\"20\">\r\n                <div class=\"row\" v-for=\"item,index in videoData\" :key=\"index\" :title=\"index\">\r\n                    <fm-button v-if=\"Active==index\" class=\"button\" plain color=\"#2D7EFF\" @click=\"onclick(index)\">\r\n                        {{item.monitorName}}\r\n                    </fm-button>\r\n                    <fm-button v-else class=\"button\" color=\"#68737F\" plain @click=\"onclick(index)\">\r\n                        {{item.monitorName}}\r\n                    </fm-button>\r\n                </div>\r\n            </fm-grid>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport \"video.js/dist/video-js.css\";\r\nimport videojs from \"video.js\";\r\nimport \"videojs-contrib-hls\";\r\nimport request from '@/utils/request'\r\nexport default {\r\n    props: {\r\n        videoData: {\r\n            type: Array\r\n        }\r\n    },\r\n    watch:{ \r\n       videoData:{\r\n        handler(){\r\n          this.videoData.length > 0 &&   this.onclick(0)\r\n        },\r\n        deep: true\r\n       }\r\n    },\r\n    components: {\r\n        request\r\n    },\r\n    mounted() {\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            videoURL: 'http://playertest.longtailvideo.com/adaptive/bipbop/gear4/prog_index.m3u8',\r\n            Active: 0,\r\n            videoStream: '',\r\n        }\r\n    },\r\n    //卸载video\r\n    destroyed() {\r\n        this.myVideo.dispose()\r\n    },\r\n    methods: {\r\n        onclick(index) {\r\n            this.Active = index\r\n            request({\r\n                url: '/xasw-pump/pump/app/getVideoByCode',\r\n                method: 'get',\r\n                params:\r\n                {\r\n                    cameraIndexCode: this.videoData[index].cameraIndexCode,\r\n                    videoId:this.videoData[index].videoId,\r\n                }\r\n            }).then((res) => {\r\n                this.menulistClick(res.data)\r\n            })\r\n        },\r\n        //重制视频源\r\n        menulistClick(data) {\r\n            this.myVideo.reset(); //重置 video\r\n            this.myVideo.src([\r\n                {\r\n                    // type: 'application/x-mpegURL',\r\n                    src: data,\r\n                },\r\n            ]);\r\n            this.myVideo.load();\r\n            this.myVideo.play();\r\n        }\r\n    },\r\n    mounted() {\r\n        //初始化video\r\n        this.myVideo = videojs(\r\n            \"myVideo\",\r\n            {\r\n                bigPlayButton: true,\r\n                textTrackDisplay: false,\r\n                posterImage: true,\r\n                errorDisplay: false,\r\n                controlBar: true\r\n            },\r\n        );\r\n        this.onclick(0)\r\n    },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.content {\r\n    margin-top: 10px;\r\n}\r\n\r\n.row {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n}\r\n\r\n.button {\r\n    border-radius: 16px;\r\n    width: 334px;\r\n    height: 100px;\r\n    margin-top: 20px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.vjs-big-play-button .vjs-icon-placeholder {\r\n    font-size: 1.63em !important;\r\n}\r\n\r\n.list {\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    height: 800px;\r\n}\r\n\r\n.vjs-paused .vjs-big-play-button,\r\n.vjs-paused.vjs-has-started .vjs-big-play-button {\r\n    display: block !important;\r\n}\r\n</style>"]}]}