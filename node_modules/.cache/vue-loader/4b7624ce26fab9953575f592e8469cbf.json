{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\FlawsManagement\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\FlawsManagement\\index.vue","mtime":1705912915790},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgbGlzdEZsYXdzIGZyb20gJy4vbGlzdEZsYXdzJw0KDQppbXBvcnQgeyBFTlVNIH0gZnJvbSAnQC9zdG9yZS9TdGF0ZS9zdGF0ZVR5cGVzJw0KaW1wb3J0IG1hcGJveGdsIGZyb20gIm1hcGJveC1nbCI7DQppbXBvcnQgIm1hcGJveC1nbC9kaXN0L21hcGJveC1nbC5jc3MiOw0KaW1wb3J0IG1hcFN0eWxlIGZyb20gJy4vbWFwU3R5bGUnOw0KaW1wb3J0IHsgVG9hc3QgfSBmcm9tICdmYXdrZXMtbW9iaWxlLWxpYic7DQppbXBvcnQgVXBsb2FkZXIgZnJvbSAnLi91cGxvYWQvVXBsb2FkZXInOw0KaW1wb3J0IGZpbGVVcGxvYWQgZnJvbSAnQC9jb21wb25lbnRzL2ZpbGVVcGxvYWQvaW5kZXgudnVlJzsNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCmltcG9ydCBwb3B1cCBmcm9tICcuL3BvcHVwJw0KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnDQpjb25zdCBwb3B1cEl0ZW0gPSBWdWUuZXh0ZW5kKHBvcHVwKQ0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJmbGF3c01hbmFnZW1lbnQiLA0KICAgIGNvbXBvbmVudHM6IHsgVXBsb2FkZXIsIGZpbGVVcGxvYWQsIGxpc3RGbGF3cyB9LA0KICAgIC8vIGNvbXBvbmVudHM6IHtVcGxvYWRlcn0sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIC8vIOWIl+ihqOebuOWFsw0KICAgICAgICAgICAgdGFibGVEYXRhOiBbXSwNCiAgICAgICAgICAgIHRvdGFsOiAwLA0KICAgICAgICAgICAgdGFibGVMaXN0OiBbDQogICAgICAgICAgICAgICAgLy8gew0KICAgICAgICAgICAgICAgIC8vICAgICBpZDogJycsLy/lt6XljZVpZO+8jOS9huS4jeaYr+Wtl+autemHjOeahHRpY2tldElE77yM5piv5a2X5q616YeM55qEIGlkDQogICAgICAgICAgICAgICAgLy8gICAgIGRldmljZU5hbWU6IFsn6Zuo5rC0JywgJ+mbqOawtOeuoee6vyddLA0KICAgICAgICAgICAgICAgIC8vICAgICBmbGF3c05hbWU6ICfniIbnrqHmvI/msLQnLA0KICAgICAgICAgICAgICAgIC8vICAgICBzdGF0ZTogJ+W3suWujOaIkCcsDQogICAgICAgICAgICAgICAgLy8gICAgIGNvbnRlbnQ6ICflpaXlqIHot6/ot6/lj6Plj5HnjrBETjEwMOa8j+awtOaWh+acrOaWh+acrOaWh+acrOaWh+acrOaWh3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3MnLA0KICAgICAgICAgICAgICAgIC8vICAgICBwZW9wbGU6ICfnjovkuIDlsbEnLA0KICAgICAgICAgICAgICAgIC8vICAgICB0aW1lOiAnMjAyMuW5tDjmnIgzMOaXpScsDQogICAgICAgICAgICAgICAgLy8gICAgIGZsYXdzRnJvbTogJ+WuouacjScsDQogICAgICAgICAgICAgICAgLy8gICAgIGxuZ2xhdDogW10sDQogICAgICAgICAgICAgICAgLy8gfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBvYmpJbmZvOiB7fSwvLyDlnLDlm77ngrnpgInnmoTkv6Hmga8NCiAgICAgICAgICAgIGNob3NlUG9pbnQ6IGZhbHNlLC8v54K56YCJ77yM5by5cG9wdXANCiAgICAgICAgICAgIC8vIHdwZ+aOpeWPo+S4jumhtemdouaYvumakA0KICAgICAgICAgICAgd3BnSGVhZGVyOiB7fSwvL+S4iuS8oOebuOWFsw0KICAgICAgICAgICAgYWNjZXNzVG9rZW46IHRoaXMuJHN0b3JhZ2UuZ2V0KCdhY2Nlc3NfdG9rZW4nKSwNCiAgICAgICAgICAgIGZvcm1Ub2tlbjogJycsLy/or6bmg4XpobVVUkzmiYDpnIB0b2tlbg0KICAgICAgICAgICAgZm9ybVVSTDogJycsLy/or6bmg4XpobVVUkwNCiAgICAgICAgfTsNCiAgICB9LA0KICAgIGNvbXB1dGVkOiB7DQogICAgICAgIGRlZmVjdEZyb21EaWMoKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZGVmZWN0RnJvbTogJywgdGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZGVmZWN0RnJvbSk7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZGVmZWN0RnJvbTsNCg0KICAgICAgICB9LA0KICAgICAgICBmYXVsdFR5cGVzRGljKCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMuJHN0b3JlLnN0YXRlW0VOVU1dLmZhdWx0VHlwZXM6ICcsIHRoaXMuJHN0b3JlLnN0YXRlW0VOVU1dLmZhdWx0VHlwZXMpOw0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlW0VOVU1dLmZhdWx0VHlwZXM7DQogICAgICAgIH0sDQogICAgICAgIC8vIOezu+e7n+Wtl+WFuOiZveWPq2RlZmVjdFR5cGXvvIzkvYblrp7pmYXkuoznuqfkuLog5Lia5Yqh57G75Z6LL+iuvuaWveexu+Weiw0KICAgICAgICAvLyDkuJrliqHnsbvlnosv6K6+5pa957G75Z6LDQogICAgICAgIGJ1c0RldmljZVR5cGVEaWMoKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZGVmZWN0VHlwZTogJywgdGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZGVmZWN0VHlwZSk7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZGVmZWN0VHlwZTsNCg0KICAgICAgICB9LA0KICAgICAgICBnZXRaSENOKCkgew0KICAgICAgICAgICAgcmV0dXJuICh2YWwpID0+IHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gdmFsDQogICAgICAgICAgICAgICAgICAgIC8vIOe/u+ivkeS6jOe6p+Wtl+WFuCDkuJrliqHnsbvlnosv6K6+5pa957G75Z6L5LitICDkuoznuqflrZfmrrUtLS3orr7mlr3nsbvlnosNCiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEFycmF5KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idXNEZXZpY2VUeXBlRGljLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1c0RldmljZVR5cGVEaWMuZm9yRWFjaChlbGVtZW50ID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbFswXSA9PSBlbGVtZW50LmNvZGUgfHwgdmFsWzBdID09IGVsZW1lbnRbJ3poLUNOJ10pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2hpbGQuZm9yRWFjaChzZWNvbmQgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbFsxXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxbMV0gPT0gc2Vjb25kLmNvZGUgfHwgdmFsWzFdID09IHNlY29uZFsnemgtQ04nXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBzZWNvbmRbJ3poLUNOJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mYXVsdFR5cGVzRGljLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhdWx0VHlwZXNEaWMuZm9yRWFjaCgoZGljKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT0gZGljLmNvZGUgfHwgdmFsID09IGRpY1snemgtQ04nXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGljWyd6aC1DTiddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVmZWN0RnJvbURpYy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZlY3RGcm9tRGljLmZvckVhY2goKGRpYykgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09IGRpYy5jb2RlIHx8IHZhbCA9PSBkaWNbJ3poLUNOJ10pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRpY1snemgtQ04nXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1c0RldmljZVR5cGVEaWMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVzRGV2aWNlVHlwZURpYy5mb3JFYWNoKChkaWMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PSBkaWMuY29kZSB8fCB2YWwgPT0gZGljWydjaC1DTiddKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkaWNbJ3poLUNOJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdA0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjogJywgZXJyb3IpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICAvLyDooajljZXmjqXlj6Pnm7jlhbMtLS3ojrflj5YgdGFibGVEYXRh44CB5o+Q5Lqk5bel5Y2VDQogICAgICAgIC8vIOiOt+WPlmhlYWRlcu+8jOaPkOS6pOW3peWNleeUqDsg5ZCM5pe26I635Y+WIHRhYmxlRGF0YQ0KICAgICAgICBnZXR3cGdIZWFkZXIoKSB7DQogICAgICAgICAgICBheGlvcyh7DQogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX1RISVJEX1JFUVVFU1RfVVJMKycvbWFpbi91c2VyQ2VudGVyQXBpL3Nzby90b2tlbkJ5VG9rZW4nLA0KICAgICAgICAgICAgICAgIC8vIHVybDogd2luZG93LmxvY2F0aW9uLm9yaWdpbisnL215VGhpcmRVcmwvbWFpbi91c2VyQ2VudGVyQXBpL3Nzby90b2tlbkJ5VG9rZW4nLA0KICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLA0KICAgICAgICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy5hY2Nlc3NUb2tlbg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCYXNpYyBiM1YwZDI5eWF6cDNjR2N5TURJdycNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3dwZ0hlYWRlcjY2NjYtcmVzOiAnLCByZXMpOw0KICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1Ub2tlbiA9IHJlcy5kYXRhLnJlc3VsdERhdGEudG9rZW4NCiAgICAgICAgICAgICAgICAgICAgdGhpcy53cGdIZWFkZXIgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgIiArIHRoaXMuZm9ybVRva2VuDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyB0aGlzLndwZ0hlYWRlciA6ICcsIHRoaXMud3BnSGVhZGVyKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vIOWIl+ihqOebuOWFsw0KICAgICAgICBnZXRUYWJsZURhdGEoKSB7DQogICAgICAgICAgICAvLyDojrflj5YgdGFibGVEYXRhDQogICAgICAgICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICAgICAgICAgICJzeXNDb2RlIjogIm91dHdvcmsiLA0KICAgICAgICAgICAgICAgICJzbWFsbFR5cGUiOiAiZGVmZWN0IiwNCiAgICAgICAgICAgICAgICAicGFnZSI6IHsNCiAgICAgICAgICAgICAgICAgICAgImN1cnJlbnQiOiAxLA0KICAgICAgICAgICAgICAgICAgICAic2l6ZSI6IDE1LC8vLTHmn6Xlhajpg6gNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBheGlvcyh7DQogICAgICAgICAgICAgICAgLy8gdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX1RISVJEX1JFUVVFU1RfVVJMICsgJy9tYWluL291dHdvcmthcGkvdGlja2V0U3RhdGlzdGljQ2xpZW50L2dldFRpY2tldExpc3QnLA0KICAgICAgICAgICAgICAgIC8vIHVybDogd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvbWFpbi9vdXR3b3JrYXBpL3RpY2tldFN0YXRpc3RpY0NsaWVudC9nZXRUaWNrZXRMaXN0JywNCiAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfVEhJUkRfT1VUV09SS0FQSV9VUkwgKyAnL21haW4vb3V0d29ya2FwaS90aWNrZXRTdGF0aXN0aWNDbGllbnQvZ2V0VGlja2V0TGlzdCcsDQogICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsDQogICAgICAgICAgICAgICAgZGF0YTogcGFyYW1zLA0KICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMud3BnSGVhZGVyLA0KICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnZXRUYWJsZURhdGEtcmVzOiAnLCByZXMpOw0KICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhLnJlc3VsdERhdGEucmVjb3Jkcw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEucmVzdWx0RGF0YS50b3RhbDsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMudGFibGVEYXRhOiAnLCB0aGlzLnRhYmxlRGF0YSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhLmZvckVhY2goKHRkKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdGQuaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlTmFtZTogdGQuZm9ybVZhbHVlLmRldmljZV90eXBlIHx8IFtdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXdzTmFtZTogdGQuZm9ybVZhbHVlLmZhdWx0VHlwZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHRkLnRpY2tldFN0YXR1c05hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogdGQuZm9ybVZhbHVlLnF1ZXN0aW9uRGVzY3JpYmUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVvcGxlOiB0ZC5jcmVhdGVCeU5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogdGQuY3JlYXRlVGltZS5zbGljZSgwLCAxMCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhd3NGcm9tOiB0ZC5mb3JtVmFsdWUuZGVmZWN0RnJvbSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmdsYXQ6IFt0ZC5hcHBlYWxMbmcsIHRkLmFwcGVhbExhdF0sDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlTGlzdC5wdXNoKGl0ZW0pDQoNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgndGFibGVMaXN0JywgdGhpcy50YWJsZUxpc3QpDQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLnRhYmxlTGlzdDogJywgdGhpcy50YWJsZUxpc3QpOw0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgLy/or6bmg4Xnm7jlhbMNCiAgICAgICAgLy8gZW50ZXJEZXRhaWwoaWQpIHsNCiAgICAgICAgLy8gICAgIHRoaXMuaXNEZXRhaWwgPSB0cnVlDQogICAgICAgIC8vICAgICAvLyDojrflj5bor6bmg4UNCiAgICAgICAgLy8gICAgIC8vIHRoaXMuZm9ybVVSTCA9ICdodHRwOi8vMTcyLjIwLjc5LjcwLy9vdXR3b3JrL2lmcmFtZS5odG1sIy93b3JrLW1hbmFnZS9kZXRhaWw/aWQ9JyArIGlkICsgJyZzeXNDb2RlPW91dHdvcmsmaGlkZU1lbnU9MSZoaWRlTXVsdGlUYWI9MSZ0b2tlbj0nICsgdGhpcy5mb3JtVG9rZW4NCiAgICAgICAgLy8gICAgIHRoaXMuZm9ybVVSTCA9ICdodHRwOi8vMTcyLjIwLjc5LjcwL291dHdvcmtBcHAvIy9wYWdlcy90aWNrZXQvZGV0YWlsL2luZGV4P2lkPScgKyBpZCArICcmc3lzQ29kZT1vdXR3b3JrJnRva2VuPScgKyB0aGlzLmZvcm1Ub2tlbg0KICAgICAgICAvLyB9LA0KDQogICAgICAgIC8vIOWcsOWbvuebuOWFsw0KICAgICAgICB0b1RhcmdldChsbmdsYXQpIHsNCiAgICAgICAgICAgIGlmIChsbmdsYXQubGVuZ3RoID09IDIpIHsNCiAgICAgICAgICAgICAgICB3aW5kb3cueGFNYXAuZmx5VG8oew0KICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IGxuZ2xhdCwNCiAgICAgICAgICAgICAgICAgICAgem9vbTogMTksDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuaXoOS9jee9ruS/oeaBryIpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vIOW8gOWni+eCuemAiQ0KICAgICAgICBjbGlja1BsdXMoKSB7DQogICAgICAgICAgICB0aGlzLm9iakluZm8gPSB7fQ0KICAgICAgICAgICAgVG9hc3Qoew0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICflnLDlm77ngrnpgIknLA0KICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wJywNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5jaG9zZVBvaW50ID0gdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICAvLyDngrnpgInopoHntKDlm57loavkv6Hmga8NCiAgICAgICAgZW50ZXJBZGQoKSB7DQogICAgICAgICAgICAvLyB0aGlzLmlzQWRkID0gdHJ1ZS8v6L+b5YWl6KGo5Y2V6aG1DQogICAgICAgICAgICBjb25zb2xlLmxvZygi6YCJ54K55ZCO6L+b5YWl6KGo5Y2V6aG15pe255qEdGhpcy5vYmpJbmZvOiIsIHRoaXMub2JqSW5mbykNCiAgICAgICAgICAgIC8vIC8vIOWbnuWhq+S/oeaBrw0KICAgICAgICAgICAgLy8gdGhpcy5jb21tb25Gb3JtLmJpZ1R5cGUgPSB0aGlzLm9iakluZm8uYmlnVHlwZSB8fCAnJw0KICAgICAgICAgICAgLy8gdGhpcy5jb21tb25Gb3JtLnNtYWxsVHlwZSA9IHRoaXMub2JqSW5mby5zbWFsbFR5cGUgfHwgJycNCiAgICAgICAgICAgIC8vIHRoaXMuY29tbW9uRm9ybS5zbWFsbENvZGUgPSB0aGlzLm9iakluZm8uY29kZSB8fCAnJw0KICAgICAgICAgICAgLy8gdGhpcy5jb21tb25Gb3JtLnBvc2l0aW9uID0gdGhpcy5vYmpJbmZvLnJvYWRfbmFtZSB8fCBbdGhpcy5vYmpJbmZvLmxuZy50b0ZpeGVkKDMpLCB0aGlzLm9iakluZm8ubGF0LnRvRml4ZWQoMyldLnRvU3RyaW5nKCkNCiAgICAgICAgICAgIC8vIC8vIOaPkOS6pOihqOWNleeUqOeahO+8jOS4jeWbnuWhq+aYvuekug0KICAgICAgICAgICAgLy8gdGhpcy5jb21tb25Gb3JtLmxuZyA9IHRoaXMub2JqSW5mby5sbmcNCiAgICAgICAgICAgIC8vIHRoaXMuY29tbW9uRm9ybS5sYXQgPSB0aGlzLm9iakluZm8ubGF0DQogICAgICAgICAgICAvLyB0aGlzLmNvbW1vbkZvcm0ucHJvcGVydGllcyA9IHRoaXMub2JqSW5mby5wcm9wZXJ0aWVzDQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgICAgICAgbmFtZTogJ2FkZEZsYXdzJywNCiAgICAgICAgICAgICAgICBxdWVyeTogeyBtc2c6IHRoaXMub2JqSW5mbywgdG9rZW46IHRoaXMuZm9ybVRva2VuIH0sDQogICAgICAgICAgICAgICAgcGFyYW1zOiB7IHR5cGU6ICdhZGQnIH0sDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBpbml0TWFwKCkgew0KICAgICAgICAgICAgbWFwYm94Z2wuYWNjZXNzVG9rZW4gPSAicGsuZXlKMUlqb2lPVE0wTURrME1qZzJJaXdpWVNJNkltTnNNbk5tZG1WclpEQnJaR016Wkc1MGNISnVkWEprYlc4aWZRLkMwd0toSmdyVG9GSmdMOEdINU04cmciOw0KICAgICAgICAgICAgd2luZG93LnhhTWFwID0gbmV3IG1hcGJveGdsLk1hcCh7DQogICAgICAgICAgICAgICAgY29udGFpbmVyOiAnbWFwQ29udGFpbmVyJywvLyDlrrnlmahET00gaWQNCiAgICAgICAgICAgICAgICBzdHlsZTogbWFwU3R5bGUsDQogICAgICAgICAgICAgICAgY2VudGVyOiBbMTE1LjkyNDg2MTAxMzY5NDI4LCAzOS4wNjA3NTU0OTU4OTA3M10sDQogICAgICAgICAgICAgICAgem9vbTogMTMsDQogICAgICAgICAgICAgICAgbWluWm9vbTogMTAsDQogICAgICAgICAgICAgICAgcGl0Y2g6IDAsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIC8vIGxldCBuZWVkTGF5ZXJzPVtdDQogICAgICAgICAgICAvLyDliqDlm77lsYIgaHR0cDovLzE3Mi4yMC43OS42NS9hcGkvc3dhbi9tYXBXb3Jrc2hvcFNvdXJjZS9kZXRhaWw/aWQ9MTU0NDY0MDI3ODU1OTgyMTgyNg0KICAgICAgICAgICAgYXhpb3MuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9VUkwrJy9zd2FuL21hcFdvcmtzaG9wU291cmNlL2RldGFpbD9pZD0xNTQ4NTczNDEyOTYzNzQ5ODg5JykudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgLy8gYXhpb3MuZ2V0KCdodHRwOi8veGFzdy5oZGVjLmNvbS9hcGkvc3dhbi9tYXBXb3Jrc2hvcFNvdXJjZS9kZXRhaWw/aWQ9MTU0ODU3MzQxMjk2Mzc0OTg4OScpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIC8vIGF4aW9zLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX01BUF9SRVFVRVNUX1VSTCsnL2FwaS9zd2FuL21hcFdvcmtzaG9wU291cmNlL2RldGFpbD9pZD0xNTQ4NTczNDEyOTYzNzQ5ODg5JykudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXM6ICcsIHJlcyk7DQogICAgICAgICAgICAgICAgbGV0IGxheWVycyA9IEpTT04ucGFyc2UocmVzLmRhdGEuZGF0YS5qc29uRGF0YSkNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbGF5ZXJzOiAnLCBsYXllcnMpOw0KICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGxheWVycy5zb3VyY2VzKS5mb3JFYWNoKGtleSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHdpbmRvdy54YU1hcC5hZGRTb3VyY2Uoa2V5LCBsYXllcnMuc291cmNlc1trZXldKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLy8gbmVlZExheWVycz1sYXllcnMubGF5ZXJzDQogICAgICAgICAgICAgICAgbGF5ZXJzLmxheWVycy5mb3JFYWNoKGxheWVyID0+IHsNCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3JywgbGF5ZXIpOw0KICAgICAgICAgICAgICAgICAgICB3aW5kb3cueGFNYXAuYWRkTGF5ZXIobGF5ZXIpOw0KICAgICAgICAgICAgICAgICAgICB3aW5kb3cueGFNYXAuc2V0TGF5b3V0UHJvcGVydHkobGF5ZXIuaWQsICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKQ0KICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cueGFNYXAub24oImNsaWNrIiwgbGF5ZXIuaWQsIHRoaXMuaGFuZGxlTW9uaXRvckNsaWNrKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LnhhTWFwLm9uKCJtb3VzZWVudGVyIiwgbGF5ZXIuaWQsIHRoaXMuaGFuZGxlTW9uaXRvckVudGVyKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LnhhTWFwLm9uKCJtb3VzZW91dCIsIGxheWVyLmlkLCB0aGlzLmhhbmRsZU1vbml0b3JMZWF2ZSk7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4geyB9KS5maW5hbGx5KCgpID0+IHsgfSk7DQogICAgICAgICAgICAvLyDnm5HlkKzlnLDlm77ngrnlh7sNCiAgICAgICAgICAgIC8vIHdpbmRvdy54YU1hcC5vbigiY2xpY2siLCBmdW5jdGlvbihlKSAge30pDQogICAgICAgICAgICAvLyB3aW5kb3cueGFNYXAub24oImNsaWNrIiwgbGF5ZXIuaWQsZnVuY3Rpb24oZSkgIHt9KS8v5omN6IO96YCJ5YiwZmVhdHVyZXM/Pz8s5bCx5ou/5Yiw6L+H5LiA5qyhDQoNCiAgICAgICAgICAgIHdpbmRvdy54YU1hcC5vbigiY2xpY2siLCAoZSkgPT4gew0KICAgICAgICAgICAgICAgIC8vIOiLpeS4umZ1bmN0aW8oZSl7IHRoaXPmmK90aGlzLndpbmRvdy54YU1hcH0NCiAgICAgICAgICAgICAgICAvLyAoZSk9PnsgdGhpc+aYr3RoaXN9DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm1hcC1jbGljay1lIiwgZSkNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZS5sbmdMYXRuIiwgZS5sbmdMYXQpDQogICAgICAgICAgICAgICAgdmFyIGJib3ggPSBbDQogICAgICAgICAgICAgICAgICAgIFtlLnBvaW50LnggLSAxLCBlLnBvaW50LnkgLSAxXSwNCiAgICAgICAgICAgICAgICAgICAgW2UucG9pbnQueCArIDEsIGUucG9pbnQueSArIDFdDQogICAgICAgICAgICAgICAgXTsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiYmJveDoiLCBiYm94KQ0KICAgICAgICAgICAgICAgIC8vIG1hcGJveCDov5Tlm57mn6Xor6LopoHntKDnmoTlm77lsYLlsZ7mgKcNCiAgICAgICAgICAgICAgICBsZXQgcXVlcnlmZWF0dXJlcyA9IHdpbmRvdy54YU1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoYmJveCwgew0KICAgICAgICAgICAgICAgICAgICBsYXllcnM6IFsicmRfbWFwX2RyYWlucGlwZV95c19iaWciLCAicmRfbWFwX2RyYWlucGlwZV95c19zbWFsbCIsICJyZF9tYXBfZHJhaW5waXBlX3dzX3NtYWxsIiwgInJkX21hcF9kcmFpbnBpcGVfd3NfYmlnIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJyZF9tYXBfb3V0ZmFsbCIsICJyZF9tYXBfZ2F0ZSIsICJyZF9tYXBfbWFuaG9sZSIsICJyZF9tYXBfY29tYiIsDQogICAgICAgICAgICAgICAgICAgICAgICAibWFwX3N1cHBseV9maXJlaHlkcmFudCIsICJtYXBfc3VwcGx5X3ZhbHZlIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXBfc3VwcGx5X3BpcGVfZGlzdHJpYnV0ZSIsICJtYXBfc3VwcGx5X3BpcGVfZGVsaXZlcnkiLCAibWFwX3N1cHBseV9waXBlX2NpcmN1bGF0aW5nIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXBfc3VwcGx5X25vZGVfZGlzdHJpYnV0ZSIsICJtYXBfc3VwcGx5X25vZGVfZGVsaXZlcnkiLCAibWFwX3N1cHBseV9ub2RlX2NpcmN1bGF0aW5nIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXBfcmVjeWNsZV9waXBlIiwgIm1hcF9yZWN5Y2xlX25vZGUiLCAibWFwX3dhdGVyd29yayJdDQogICAgICAgICAgICAgICAgICAgIC8vIGxheWVyczogbGF5ZXJzDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIueCuemAiSjlvq7nn6nlvaIp5p+l6K+i5Yiw55qEcXVlcnlmZWF0dXJlczoiLCBxdWVyeWZlYXR1cmVzKQ0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCLngrnpgIko5b6u55+p5b2iKeafpeivoueahHF1ZXJ5ZmVhdHVyZXM6IiwgcXVlcnlmZWF0dXJlcy5wcm9wZXJ0aWVzKQ0KICAgICAgICAgICAgICAgIC8vIHRoaXMuaGlnaHRMaWdodChxdWVyeWZlYXR1cmVzKS8vIOmrmOS6ruihqOagvOiusOW9le+8jOW5tumrmOS6ruWcsOWbvuimgee0oA0KICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mbyA9IHt9Ly/lhYjnva7nqbrlho3otYvlgLwNCiAgICAgICAgICAgICAgICAvLyDngrnlh7vkvY3nva7nmoTnu4/nuqzluqYNCiAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8ubG5nID0gZS5sbmdMYXQubG5nDQogICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmxhdCA9IGUubG5nTGF0LmxhdA0KICAgICAgICAgICAgICAgIGlmIChxdWVyeWZlYXR1cmVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gcXVlcnlmZWF0dXJlcy5mb3JFYWNoKGYgPT4gew0KICAgICAgICAgICAgICAgICAgICBsZXQgZiA9IHF1ZXJ5ZmVhdHVyZXNbMF0NCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZmZmY6ICcsIGYpOw0KICAgICAgICAgICAgICAgICAgICAvLyDngrnlh7vopoHntKDnmoTnu4/nuqzluqbvvIzmnInnmoTor53opobnm5bmjonngrnlh7vkvY3nva7nu4/nuqzluqYNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmxuZyA9IGYucHJvcGVydGllcy5sb25naXR1ZGUgfHwgdGhpcy5vYmpJbmZvLmxuZw0KICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8ubGF0ID0gZi5wcm9wZXJ0aWVzLmxhdGl0dWRlIHx8IHRoaXMub2JqSW5mby5sYXQNCiAgICAgICAgICAgICAgICAgICAgLy8g6KaB57Sg5omA5Zyo5Zu+5bGCSUTlkozlsZ7mgKfkv6Hmga8NCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmxheWVySUQgPSBmLmxheWVyLmlkDQogICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5sYXllclR5cGUgPSBmLmxheWVyLnR5cGUNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnByb3BlcnRpZXMgPSBmLnByb3BlcnRpZXMNCiAgICAgICAgICAgICAgICAgICAgLy8g5bqV5Zu+6KaB57SgbmFtZV9sb2NhbOaIluiuvuaWveimgee0oHJvYWRfbmFtZSxpZA0KICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8ubmFtZV9sb2NhbCA9IGYucHJvcGVydGllcy5uYW1lX2xvY2FsDQogICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5yb2FkX25hbWUgPSBmLnByb3BlcnRpZXMucm9hZF9uYW1lDQogICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5pZCA9IGYucHJvcGVydGllcy5pZA0KICAgICAgICAgICAgICAgICAgICAvLyDopoHntKDlr7nosaHnsbvlnovvvIjkuJrliqHnsbvlnosv6K6+5pa957G75Z6L77yJDQogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZi5sYXllci5pZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g6Zuo5rC0DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJyZF9tYXBfY29tYiI6Ly9jb21i5LiA5a6a5piv6Zuo5rC05Y+jDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn6Zuo5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6Zuo5rC05Y+jJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJyZF9tYXBfb3V0ZmFsbCI6Ly/mjpLmlL7lj6MgMS3pm6jmsLTvvJsgMi3msaHmsLTvvJsgMy3lkIjmtYHvvJsgNC3lhbbku5YNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9IGYucHJvcGVydGllcy5waXBlX3R5cGUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+aOkuaUvuWPoycNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAicmRfbWFwX21hbmhvbGUiOi8v5qOA5p+l5LqVICAxLembqOawtO+8mzIt5rGh5rC0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSBmLnByb3BlcnRpZXMubWFuaG9sZV90eXBlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfmo4Dmn6XkupUnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInJkX21hcF9nYXRlIjovL+mXuOmXqCAxLembqOawtO+8myAyLeaxoeawtO+8myAzLeWQiOa1ge+8myA0LeWFtuS7lg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gZi5wcm9wZXJ0aWVzLnBpcGVfdHlwZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6Ze46ZeoJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJyZF9tYXBfZHJhaW5waXBlX3lzX2JpZyI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn6Zuo5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6Zuo5rC0566h57q/Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJyZF9tYXBfZHJhaW5waXBlX3lzX3NtYWxsIjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfpm6jmsLQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfpm6jmsLTnrqHnur8nDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaxoeawtA0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAicmRfbWFwX2RyYWlucGlwZV93c19iaWciOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+axoeawtCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+axoeawtOeuoee6vycNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAicmRfbWFwX2RyYWlucGlwZV93c19zbWFsbCI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn5rGh5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5rGh5rC0566h57q/Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICAvLyDnu5nmsLQNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1hcF9zdXBwbHlfZmlyZWh5ZHJhbnQiOi8v5raI54Gr5qCT5LiA5a6a5piv57uZ5rC0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn57uZ5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5raI54Gr5qCTJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJtYXBfc3VwcGx5X3ZhbHZlIjovL+mYgOmXqHZhbHZl5LiA5a6a5piv57uZ5rC0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn57uZ5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6ZiA6ZeoJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJtYXBfc3VwcGx5X3BpcGVfZGlzdHJpYnV0ZSI6Ly/phY3msLTnrqHnur8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfnu5nmsLQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfphY3msLTnrqHnur8nDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1hcF9zdXBwbHlfcGlwZV9kZWxpdmVyeSI6Ly/ovpPmsLTnrqHnur8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICdzdXBwbHknDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfovpPmsLTnrqHnur8nDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1hcF9zdXBwbHlfcGlwZV9jaXJjdWxhdGluZyI6Ly/lm57msLTnrqHnur8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfnu5nmsLQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICflm57msLTnrqHnur8nDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1hcF93YXRlcndvcmsiOi8v5L6b5rC05Y6CDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn57uZ5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5L6b5rC05Y6CJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICAvLyDlho3nlJ/msLQNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1hcF9yZWN5Y2xlX3BpcGUiOi8v5YaN55Sf5rC0566h57q/DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn5YaN55Sf5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAncGlwZWxpbmUnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1hcF93YXRlcndvcmsiOi8v5YaN55Sf5rC05Y6CDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn5YaN55Sf5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5YaN55Sf5rC05Y6CJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8g6K6+5pa957yW5Y+3DQogICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5jb2RlID0gZi5wcm9wZXJ0aWVzLm1hbmhvbGVfY29kZSB8fCBmLnByb3BlcnRpZXMuZ2F0ZV9jb2RlIHx8IGYucHJvcGVydGllcy5vdXRsZXRfY29kZQ0KICAgICAgICAgICAgICAgICAgICAgICAgfHwgZi5wcm9wZXJ0aWVzLmNvbWJfY29kZSB8fCBmLnByb3BlcnRpZXMudmFsdmVfY29kZSB8fCBmLnByb3BlcnRpZXMucHVtcF9zdGF0aW9uX2NvZGUNCiAgICAgICAgICAgICAgICAgICAgICAgIHx8IGYucHJvcGVydGllcy5wbGFudF9jb2RlIHx8IGYucHJvcGVydGllcy5wdW1wX2NvZGUgfHwgZi5wcm9wZXJ0aWVzLmZpcmVfY29ja19jb2RlDQogICAgICAgICAgICAgICAgICAgICAgICB8fCBmLnByb3BlcnRpZXMuc3RhcnRfY29kZSArICcsJyArIGYucHJvcGVydGllcy5lbmRfY29kZSB8fCAnJw0KICAgICAgICAgICAgICAgICAgICAvLyB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcy5vYmpJbmZvOiAnLCB0aGlzLm9iakluZm8pOw0KICAgICAgICAgICAgICAgIC8vIHBvcHVwDQogICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hvc2VQb2ludCkgew0KICAgICAgICAgICAgICAgICAgICAvLyBsZXQgcG9wdXBIdG1sID0gIjxkaXYgc3R5bGU9J3dpZHRoOjE0MHB4O2hlaWdodDozMHB4O2JhY2tncm91bmQtY29sb3I6IzA4QUVFOSc+PGgzPiIgKyBlLmxuZ0xhdC5sbmcudG9GaXhlZCgzKSArICcsJyArIGUubG5nTGF0LmxhdC50b0ZpeGVkKDMpICsgIjwvaDM+PGgzPiIrdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSsnICcrdGhpcy5vYmpJbmZvLmNvZGUrIjwvaDM+PGJyPjxmbS1idXR0b24gIEBjbGljaz0nY2xpY2tQbHVzJz7noa7lrpo8L2ZtLWJ1dHRvbj4iICsgIjwvZGl2PiINCiAgICAgICAgICAgICAgICAgICAgbGV0IHBvcHVwSHRtbCA9ICc8ZGl2IGlkPSJiYXNlLWFkZCI+PC9kaXY+Jw0KICAgICAgICAgICAgICAgICAgICBuZXcgbWFwYm94Z2wuUG9wdXAoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnNldExuZ0xhdChbZS5sbmdMYXQubG5nLCBlLmxuZ0xhdC5sYXRdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnNldEhUTUwocG9wdXBIdG1sKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmFkZFRvKHdpbmRvdy54YU1hcCk7DQogICAgICAgICAgICAgICAgICAgIG5ldyBwb3B1cEl0ZW0oew0KICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNEYXRhOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsSWQ6IDk5OTk5LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogZS5sbmdMYXQubG5nLnRvRml4ZWQoMyksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBlLmxuZ0xhdC5sYXQudG9GaXhlZCgzKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaWdUeXBlOiB0aGlzLm9iakluZm8uYmlnVHlwZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFsbFR5cGU6IHRoaXMub2JqSW5mby5zbWFsbFR5cGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlQ29kZTogdGhpcy5vYmpJbmZvLmNvZGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuOiB0aGlzLmVudGVyQWRkDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pLiRtb3VudCgnI2Jhc2UtYWRkJykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLy8gd2luZG93LnhhTWFwLm9uKCdjbGljaycsZT0+e30p57uT5p2fDQogICAgICAgIH0sDQogICAgICAgIG1hcExvYWRlZCgpIHsNCiAgICAgICAgICAgIHdpbmRvdy54YU1hcC5vbigiY2xpY2siLCAoZSkgPT4gew0KICAgICAgICAgICAgICAgIC8vIOiLpeS4umZ1bmN0aW8oZSl7IHRoaXPmmK90aGlzLndpbmRvdy54YU1hcH0NCiAgICAgICAgICAgICAgICAvLyAoZSk9PnsgdGhpc+aYr3RoaXN9DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm1hcC1jbGljay1lIiwgZSkNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZS5sbmdMYXRuIiwgZS5sbmdMYXQpDQogICAgICAgICAgICAgICAgdmFyIGJib3ggPSBbDQogICAgICAgICAgICAgICAgICAgIFtlLnBvaW50LnggLSAxLCBlLnBvaW50LnkgLSAxXSwNCiAgICAgICAgICAgICAgICAgICAgW2UucG9pbnQueCArIDEsIGUucG9pbnQueSArIDFdDQogICAgICAgICAgICAgICAgXTsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiYmJveDoiLCBiYm94KQ0KICAgICAgICAgICAgICAgIC8vIG1hcGJveCDov5Tlm57mn6Xor6LopoHntKDnmoTlm77lsYLlsZ7mgKcNCiAgICAgICAgICAgICAgICBsZXQgcXVlcnlmZWF0dXJlcyA9IHdpbmRvdy54YU1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoYmJveCwgew0KICAgICAgICAgICAgICAgICAgICBsYXllcnM6IFsicmRfbWFwX2RyYWlucGlwZV95c19iaWciLCAicmRfbWFwX2RyYWlucGlwZV95c19zbWFsbCIsICJyZF9tYXBfZHJhaW5waXBlX3dzX3NtYWxsIiwgInJkX21hcF9kcmFpbnBpcGVfd3NfYmlnIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJyZF9tYXBfb3V0ZmFsbCIsICJyZF9tYXBfZ2F0ZSIsICJyZF9tYXBfbWFuaG9sZSIsICJyZF9tYXBfY29tYiIsDQogICAgICAgICAgICAgICAgICAgICAgICAibWFwX3N1cHBseV9maXJlaHlkcmFudCIsICJtYXBfc3VwcGx5X3ZhbHZlIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXBfc3VwcGx5X3BpcGVfZGlzdHJpYnV0ZSIsICJtYXBfc3VwcGx5X3BpcGVfZGVsaXZlcnkiLCAibWFwX3N1cHBseV9waXBlX2NpcmN1bGF0aW5nIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXBfc3VwcGx5X25vZGVfZGlzdHJpYnV0ZSIsICJtYXBfc3VwcGx5X25vZGVfZGVsaXZlcnkiLCAibWFwX3N1cHBseV9ub2RlX2NpcmN1bGF0aW5nIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXBfcmVjeWNsZV9waXBlIiwgIm1hcF9yZWN5Y2xlX25vZGUiLCAibWFwX3dhdGVyd29yayJdDQogICAgICAgICAgICAgICAgICAgIC8vIGxheWVyczogbGF5ZXJzDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIueCuemAiSjlvq7nn6nlvaIp5p+l6K+i5Yiw55qEcXVlcnlmZWF0dXJlczoiLCBxdWVyeWZlYXR1cmVzKQ0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCLngrnpgIko5b6u55+p5b2iKeafpeivoueahHF1ZXJ5ZmVhdHVyZXM6IiwgcXVlcnlmZWF0dXJlcy5wcm9wZXJ0aWVzKQ0KICAgICAgICAgICAgICAgIC8vIHRoaXMuaGlnaHRMaWdodChxdWVyeWZlYXR1cmVzKS8vIOmrmOS6ruihqOagvOiusOW9le+8jOW5tumrmOS6ruWcsOWbvuimgee0oA0KICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mbyA9IHt9Ly/lhYjnva7nqbrlho3otYvlgLwNCiAgICAgICAgICAgICAgICAvLyDngrnlh7vkvY3nva7nmoTnu4/nuqzluqYNCiAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8ubG5nID0gZS5sbmdMYXQubG5nDQogICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmxhdCA9IGUubG5nTGF0LmxhdA0KICAgICAgICAgICAgICAgIGlmIChxdWVyeWZlYXR1cmVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gcXVlcnlmZWF0dXJlcy5mb3JFYWNoKGYgPT4gew0KICAgICAgICAgICAgICAgICAgICBsZXQgZiA9IHF1ZXJ5ZmVhdHVyZXNbMF0NCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZmZmY6ICcsIGYpOw0KICAgICAgICAgICAgICAgICAgICAvLyDngrnlh7vopoHntKDnmoTnu4/nuqzluqbvvIzmnInnmoTor53opobnm5bmjonngrnlh7vkvY3nva7nu4/nuqzluqYNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmxuZyA9IGYucHJvcGVydGllcy5sb25naXR1ZGUgfHwgdGhpcy5vYmpJbmZvLmxuZw0KICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8ubGF0ID0gZi5wcm9wZXJ0aWVzLmxhdGl0dWRlIHx8IHRoaXMub2JqSW5mby5sYXQNCiAgICAgICAgICAgICAgICAgICAgLy8g6KaB57Sg5omA5Zyo5Zu+5bGCSUTlkozlsZ7mgKfkv6Hmga8NCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmxheWVySUQgPSBmLmxheWVyLmlkDQogICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5sYXllclR5cGUgPSBmLmxheWVyLnR5cGUNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnByb3BlcnRpZXMgPSBmLnByb3BlcnRpZXMNCiAgICAgICAgICAgICAgICAgICAgLy8g5bqV5Zu+6KaB57SgbmFtZV9sb2NhbOaIluiuvuaWveimgee0oHJvYWRfbmFtZSxpZA0KICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8ubmFtZV9sb2NhbCA9IGYucHJvcGVydGllcy5uYW1lX2xvY2FsDQogICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5yb2FkX25hbWUgPSBmLnByb3BlcnRpZXMucm9hZF9uYW1lDQogICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5pZCA9IGYucHJvcGVydGllcy5pZA0KICAgICAgICAgICAgICAgICAgICAvLyDopoHntKDlr7nosaHnsbvlnovvvIjkuJrliqHnsbvlnosv6K6+5pa957G75Z6L77yJDQogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZi5sYXllci5pZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g6Zuo5rC0DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJyZF9tYXBfY29tYiI6Ly9jb21i5LiA5a6a5piv6Zuo5rC05Y+jDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn6Zuo5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6Zuo5rC05Y+jJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJyZF9tYXBfb3V0ZmFsbCI6Ly/mjpLmlL7lj6MgMS3pm6jmsLTvvJsgMi3msaHmsLTvvJsgMy3lkIjmtYHvvJsgNC3lhbbku5YNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9IGYucHJvcGVydGllcy5waXBlX3R5cGUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+aOkuaUvuWPoycNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAicmRfbWFwX21hbmhvbGUiOi8v5qOA5p+l5LqVICAxLembqOawtO+8mzIt5rGh5rC0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSBmLnByb3BlcnRpZXMubWFuaG9sZV90eXBlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfmo4Dmn6XkupUnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInJkX21hcF9nYXRlIjovL+mXuOmXqCAxLembqOawtO+8myAyLeaxoeawtO+8myAzLeWQiOa1ge+8myA0LeWFtuS7lg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gZi5wcm9wZXJ0aWVzLnBpcGVfdHlwZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6Ze46ZeoJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJyZF9tYXBfZHJhaW5waXBlX3lzX2JpZyI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn6Zuo5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6Zuo5rC0566h57q/Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJyZF9tYXBfZHJhaW5waXBlX3lzX3NtYWxsIjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfpm6jmsLQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfpm6jmsLTnrqHnur8nDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaxoeawtA0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAicmRfbWFwX2RyYWlucGlwZV93c19iaWciOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+axoeawtCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+axoeawtOeuoee6vycNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAicmRfbWFwX2RyYWlucGlwZV93c19zbWFsbCI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn5rGh5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5rGh5rC0566h57q/Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICAvLyDnu5nmsLQNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1hcF9zdXBwbHlfZmlyZWh5ZHJhbnQiOi8v5raI54Gr5qCT5LiA5a6a5piv57uZ5rC0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn57uZ5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5raI54Gr5qCTJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJtYXBfc3VwcGx5X3ZhbHZlIjovL+mYgOmXqHZhbHZl5LiA5a6a5piv57uZ5rC0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn57uZ5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6ZiA6ZeoJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJtYXBfc3VwcGx5X3BpcGVfZGlzdHJpYnV0ZSI6Ly/phY3msLTnrqHnur8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfnu5nmsLQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfphY3msLTnrqHnur8nDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1hcF9zdXBwbHlfcGlwZV9kZWxpdmVyeSI6Ly/ovpPmsLTnrqHnur8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICdzdXBwbHknDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfovpPmsLTnrqHnur8nDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1hcF9zdXBwbHlfcGlwZV9jaXJjdWxhdGluZyI6Ly/lm57msLTnrqHnur8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfnu5nmsLQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICflm57msLTnrqHnur8nDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1hcF93YXRlcndvcmsiOi8v5L6b5rC05Y6CDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn57uZ5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5L6b5rC05Y6CJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICAvLyDlho3nlJ/msLQNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1hcF9yZWN5Y2xlX3BpcGUiOi8v5YaN55Sf5rC0566h57q/DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn5YaN55Sf5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAncGlwZWxpbmUnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1hcF93YXRlcndvcmsiOi8v5YaN55Sf5rC05Y6CDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn5YaN55Sf5rC0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5YaN55Sf5rC05Y6CJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8g6K6+5pa957yW5Y+3DQogICAgICAgICAgICAgICAgICAgIHRoaXMub2JqSW5mby5jb2RlID0gZi5wcm9wZXJ0aWVzLm1hbmhvbGVfY29kZSB8fCBmLnByb3BlcnRpZXMuZ2F0ZV9jb2RlIHx8IGYucHJvcGVydGllcy5vdXRsZXRfY29kZQ0KICAgICAgICAgICAgICAgICAgICAgICAgfHwgZi5wcm9wZXJ0aWVzLmNvbWJfY29kZSB8fCBmLnByb3BlcnRpZXMudmFsdmVfY29kZSB8fCBmLnByb3BlcnRpZXMucHVtcF9zdGF0aW9uX2NvZGUNCiAgICAgICAgICAgICAgICAgICAgICAgIHx8IGYucHJvcGVydGllcy5wbGFudF9jb2RlIHx8IGYucHJvcGVydGllcy5wdW1wX2NvZGUgfHwgZi5wcm9wZXJ0aWVzLmZpcmVfY29ja19jb2RlDQogICAgICAgICAgICAgICAgICAgICAgICB8fCBmLnByb3BlcnRpZXMuc3RhcnRfY29kZSArICcsJyArIGYucHJvcGVydGllcy5lbmRfY29kZSB8fCAnJw0KICAgICAgICAgICAgICAgICAgICAvLyB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcy5vYmpJbmZvOiAnLCB0aGlzLm9iakluZm8pOw0KICAgICAgICAgICAgICAgIC8vIHBvcHVwDQogICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hvc2VQb2ludCkgew0KICAgICAgICAgICAgICAgICAgICAvLyBsZXQgcG9wdXBIdG1sID0gIjxkaXYgc3R5bGU9J3dpZHRoOjE0MHB4O2hlaWdodDozMHB4O2JhY2tncm91bmQtY29sb3I6IzA4QUVFOSc+PGgzPiIgKyBlLmxuZ0xhdC5sbmcudG9GaXhlZCgzKSArICcsJyArIGUubG5nTGF0LmxhdC50b0ZpeGVkKDMpICsgIjwvaDM+PGgzPiIrdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSsnICcrdGhpcy5vYmpJbmZvLmNvZGUrIjwvaDM+PGJyPjxmbS1idXR0b24gIEBjbGljaz0nY2xpY2tQbHVzJz7noa7lrpo8L2ZtLWJ1dHRvbj4iICsgIjwvZGl2PiINCiAgICAgICAgICAgICAgICAgICAgbGV0IHBvcHVwSHRtbCA9ICc8ZGl2IGlkPSJiYXNlLWFkZCI+PC9kaXY+Jw0KICAgICAgICAgICAgICAgICAgICBuZXcgbWFwYm94Z2wuUG9wdXAoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnNldExuZ0xhdChbZS5sbmdMYXQubG5nLCBlLmxuZ0xhdC5sYXRdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnNldEhUTUwocG9wdXBIdG1sKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmFkZFRvKHdpbmRvdy54YU1hcCk7DQogICAgICAgICAgICAgICAgICAgIG5ldyBwb3B1cEl0ZW0oew0KICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNEYXRhOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsSWQ6IDk5OTk5LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogZS5sbmdMYXQubG5nLnRvRml4ZWQoMyksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBlLmxuZ0xhdC5sYXQudG9GaXhlZCgzKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaWdUeXBlOiB0aGlzLm9iakluZm8uYmlnVHlwZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFsbFR5cGU6IHRoaXMub2JqSW5mby5zbWFsbFR5cGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlQ29kZTogdGhpcy5vYmpJbmZvLmNvZGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuOiB0aGlzLmVudGVyQWRkDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pLiRtb3VudCgnI2Jhc2UtYWRkJykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgfSwNCiAgICBtb3VudGVkKCkgew0KICAgICAgICAvLyB0aGlzLmluaXRNYXAoKQ0KICAgICAgICB0aGlzLmdldHdwZ0hlYWRlcigpIC8vICDojrflj5ZoZWFkZXLvvIzmj5DkuqTlt6XljZXnlKg7IOWQjOaXtuiOt+WPliB0YWJsZURhdGENCiAgICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA8GA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/FlawsManagement","sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <fm-nav-bar title=\"缺陷管理\" left-arrow @click-left=\"$router.go(-1)\" @click-right=\"clickPlus\">\r\n            <template #right>\r\n                <i class=\"fm-icon fm-icon-plus\"></i>\r\n            </template>\r\n        </fm-nav-bar>\r\n        <!-- <div class=\"map-container\" id=\"mapContainer\"></div> -->\r\n        <xa-map :create=\"mapLoaded\"></xa-map>\r\n        <!-- <div v-if=\"!isAdd && !isDetail\" class=\"flaws-list-container\">\r\n            <div class=\"tableList\">\r\n                <div class=\"con-div\" v-for=\"(item, index) in tableList\" :key=\"index\">\r\n                    <div class=\"top\">\r\n                        <div class=\"name\">\r\n                            {{ item.deviceName.length > 0 ? getZHCN(item.deviceName[0]) : '' }}\r\n                            {{ item.deviceName.length > 1 ? getZHCN(item.deviceName) : '' }}\r\n                        </div>\r\n                        <div :class=\"item.state == '已完成' ? 'state c1' : item.state == '处理中' ? 'state c2' : 'state c3'\">\r\n                            {{ item.state }}</div>\r\n                        <img class=\"img\" src=\"./img/gps.png\" @click=\"toTarget(item.lnglat)\" />\r\n                    </div>\r\n                    <div @click=\"enterDetail(item.id)\">\r\n                        <div class=\"content\">\r\n                            缺陷类型 {{ getZHCN(item.flawsName) }}\r\n                        </div>\r\n                        <div class=\"content\">\r\n                            现场情况 {{ item.content }}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"under\">\r\n                        <div class=\"under-div\"><i class=\"fm-icon fm-icon-contact\"></i>{{ item.people }}</div>\r\n                        <div class=\"under-div\"><i class=\"fm-icon fm-icon-down\"></i>\r\n                            {{ getZHCN(item.flawsFrom) }}</div>\r\n                        <div class=\"under-div\"><i class=\"fm-icon fm-icon-underway-o\"></i>{{ item.time }}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div> -->\r\n        <listFlaws :tableList=\"tableList\" @toTarget=\"toTarget\"></listFlaws>\r\n\r\n        <!-- <div v-show=\"isAdd && !isDetail\" class=\"add-container\">\r\n            <fm-nav-bar title=\"缺陷新增\" left-arrow @click-left=\"isAdd = false;\">\r\n            </fm-nav-bar>\r\n            <fm-form class=\"bigForm-container\" @submit=\"onSubmit\" @failed=\"onFailed\">\r\n                <fm-field readonly clickable required name=\"picker\" :value=\"commonForm.defectFrom\" label=\"缺陷来源\"\r\n                    placeholder=\"缺陷来源\" suffix-icon=\"arrow\" @click=\"choosePicker('缺陷来源')\"\r\n                    :rules=\"[{ required: true, message: '请填写缺陷来源' }]\" input-align=\"right\" />\r\n                <fm-field readonly clickable required name=\"picker\" :value=\"commonForm.bigType\" label=\"业务类型\"\r\n                    placeholder=\"业务类型\" suffix-icon=\"arrow\" @click=\"choosePicker('业务类型')\"\r\n                    :rules=\"[{ required: true, message: '请填写业务类型' }]\" input-align=\"right\" />\r\n                <fm-field readonly clickable required name=\"picker\" :value=\"commonForm.smallType\" label=\"设施类型\"\r\n                    placeholder=\"设施类型\" suffix-icon=\"arrow\" @click=\"choosePicker('设施类型')\"\r\n                    :rules=\"[{ required: true, message: '请填写设施类型' }]\" input-align=\"right\" />\r\n\r\n                <fm-popup :visible.sync=\"showPicker\" position=\"bottom\">\r\n                    <fm-picker show-toolbar :columns=\"columns\" @confirm=\"onConfirm\" @cancel=\"showPicker = false\" />\r\n                </fm-popup>\r\n\r\n                <fm-field clearable v-model=\"commonForm.smallCode\" name=\"input\" label=\"设施编号\" placeholder=\"设施编号\"\r\n                    input-align=\"right\" />\r\n                <fm-field v-model=\"commonForm.position\" name=\"input\" label=\"缺陷位置\" placeholder=\"缺陷位置\"\r\n                    input-align=\"right\" />\r\n                <div class=\"subtable\" v-for=\"(item, index) in subForms\" :key=\"item.id\">\r\n                    <img src=\"./img/link.png\" alt=\"\" style=\"position: absolute;height: 34px;z-index: 2;top: -18px\">\r\n                    <img src=\"./img/link.png\" alt=\"\"\r\n                        style=\"position: absolute;height: 34px;z-index: 2;float: right;right: 5px; top: -18px\">\r\n                    <fm-form>\r\n                        <fm-field v-model=\"item.defectType\" readonly clickable name=\"picker\" label=\"缺陷类型\"\r\n                            suffix-icon=\"arrow\" placeholder=\"缺陷类型\" @click=\"showPickerDefect = true\" input-align=\"right\">\r\n                        </fm-field>\r\n                        <fm-popup :visible.sync=\"showPickerDefect\" position=\"bottom\">\r\n                            <fm-picker show-toolbar :columns=\"defectTypeList\"\r\n                                @confirm=\"(val) => { item.defectType = val; showPickerDefect = false }\"\r\n                                @cancel=\"showPickerDefect = false\" />\r\n                        </fm-popup>\r\n\r\n                        <fm-field v-model=\"item.note\" name=\"input\" label=\"备注\" placeholder=\"备注\" input-align=\"right\">\r\n                        </fm-field>\r\n                        <uploader :wpgHeader=\"wpgHeader\" label=\"照片\" v-model=\"picUp\" ref=\"picUp\"\r\n                            @fileChange=\"(recall) => fileChange(recall, '', item.pic)\" style=\"width: 100%;\">\r\n                        </uploader>\r\n                    </fm-form>\r\n                </div>\r\n                <fm-button native-type=\"button\" type=\"default\" icon=\"plus\" size=\"large\" @click=\"addRow\"\r\n                    style=\"margin-left: 8px;width:96%\">新增缺陷\r\n                </fm-button>\r\n                <fm-field v-model=\"commonForm.describe\" name=\"input\" label=\"现场描述\" placeholder=\"现场描述\" type=\"textarea\"\r\n                    rows=\"2\" autosize maxlength=\"200\" show-word-limit input-align=\"right\" />\r\n\r\n                <uploader :wpgHeader=\"wpgHeader\" label=\"多媒体附件\" v-model=\"attachment\" ref=\"attachment\"\r\n                    @fileChange=\"(recall) => fileChange(recall, '公共')\" style=\"width: 100%;\">\r\n                </uploader>\r\n\r\n\r\n                <fm-field readonly v-model=\"upPerson\" name=\"input\" label=\"上报人\" placeholder=\"上报人\" input-align=\"right\" />\r\n                <fm-field readonly v-model=\"upTime\" name=\"input\" label=\"上报时间\" placeholder=\"上报时间\" input-align=\"right\" />\r\n                <div style=\"margin-top:10px;display:flex;justify-content: space-around;\">\r\n                    <fm-button type=\"default\" @click=\"concle\" native-type=\"button\">取消</fm-button>\r\n                    <fm-button type=\"primary\" :disabled=\"subForms.length < 1\" native-type=\"submit\">提交</fm-button>\r\n                </div>\r\n            </fm-form>\r\n        </div> -->\r\n        <!-- <div v-if=\"isDetail \" class=\"detail-container\">\r\n            <fm-nav-bar title=\"缺陷详情\" left-arrow @click-left=\"isDetail = false\"></fm-nav-bar>\r\n            <iframe id=\"form_frame\" class=\"formFrame\" name=\"form_frame\" :src=\"formURL\" />\r\n        </div> -->\r\n    </div>\r\n</template>\r\n<script>\r\nimport listFlaws from './listFlaws'\r\n\r\nimport { ENUM } from '@/store/State/stateTypes'\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport mapStyle from './mapStyle';\r\nimport { Toast } from 'fawkes-mobile-lib';\r\nimport Uploader from './upload/Uploader';\r\nimport fileUpload from '@/components/fileUpload/index.vue';\r\nimport axios from 'axios'\r\nimport popup from './popup'\r\nimport Vue from 'vue'\r\nconst popupItem = Vue.extend(popup)\r\nexport default {\r\n    name: \"flawsManagement\",\r\n    components: { Uploader, fileUpload, listFlaws },\r\n    // components: {Uploader},\r\n    data() {\r\n        return {\r\n            // 列表相关\r\n            tableData: [],\r\n            total: 0,\r\n            tableList: [\r\n                // {\r\n                //     id: '',//工单id，但不是字段里的ticketID，是字段里的 id\r\n                //     deviceName: ['雨水', '雨水管线'],\r\n                //     flawsName: '爆管漏水',\r\n                //     state: '已完成',\r\n                //     content: '奥威路路口发现DN100漏水文本文本文本文本文ssssssssssssssssssssssssssss',\r\n                //     people: '王一山',\r\n                //     time: '2022年8月30日',\r\n                //     flawsFrom: '客服',\r\n                //     lnglat: [],\r\n                // },\r\n            ],\r\n            objInfo: {},// 地图点选的信息\r\n            chosePoint: false,//点选，弹popup\r\n            // wpg接口与页面显隐\r\n            wpgHeader: {},//上传相关\r\n            accessToken: this.$storage.get('access_token'),\r\n            formToken: '',//详情页URL所需token\r\n            formURL: '',//详情页URL\r\n        };\r\n    },\r\n    computed: {\r\n        defectFromDic() {\r\n            console.log('this.$store.state[ENUM].defectFrom: ', this.$store.state[ENUM].defectFrom);\r\n            return this.$store.state[ENUM].defectFrom;\r\n\r\n        },\r\n        faultTypesDic() {\r\n            console.log('this.$store.state[ENUM].faultTypes: ', this.$store.state[ENUM].faultTypes);\r\n            return this.$store.state[ENUM].faultTypes;\r\n        },\r\n        // 系统字典虽叫defectType，但实际二级为 业务类型/设施类型\r\n        // 业务类型/设施类型\r\n        busDeviceTypeDic() {\r\n            console.log('this.$store.state[ENUM].defectType: ', this.$store.state[ENUM].defectType);\r\n            return this.$store.state[ENUM].defectType;\r\n\r\n        },\r\n        getZHCN() {\r\n            return (val) => {\r\n                try {\r\n                    let result = val\r\n                    // 翻译二级字典 业务类型/设施类型中  二级字段---设施类型\r\n                    if (val instanceof Array) {\r\n                        if (this.busDeviceTypeDic.length > 0) {\r\n                            this.busDeviceTypeDic.forEach(element => {\r\n                                if (val[0] == element.code || val[0] == element['zh-CN']) {\r\n                                    element.child.forEach(second => {\r\n                                        result = val[1]\r\n                                        if (val[1] == second.code || val[1] == second['zh-CN']) {\r\n                                            result = second['zh-CN']\r\n                                        }\r\n                                    })\r\n                                }\r\n                            });\r\n                        }\r\n                    } else {\r\n                        if (this.faultTypesDic.length > 0) {\r\n                            this.faultTypesDic.forEach((dic) => {\r\n                                if (val == dic.code || val == dic['zh-CN']) {\r\n                                    result = dic['zh-CN']\r\n                                }\r\n                            })\r\n                        }\r\n                        if (this.defectFromDic.length > 0) {\r\n                            this.defectFromDic.forEach((dic) => {\r\n                                if (val == dic.code || val == dic['zh-CN']) {\r\n                                    result = dic['zh-CN']\r\n                                }\r\n                            })\r\n                        }\r\n                        if (this.busDeviceTypeDic.length > 0) {\r\n                            this.busDeviceTypeDic.forEach((dic) => {\r\n                                if (val == dic.code || val == dic['ch-CN']) {\r\n                                    result = dic['zh-CN']\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                    return result\r\n                } catch (error) {\r\n                    console.log('error: ', error);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        // 表单接口相关---获取 tableData、提交工单\r\n        // 获取header，提交工单用; 同时获取 tableData\r\n        getwpgHeader() {\r\n            axios({\r\n                url: process.env.VUE_APP_THIRD_REQUEST_URL+'/main/userCenterApi/sso/tokenByToken',\r\n                // url: window.location.origin+'/myThirdUrl/main/userCenterApi/sso/tokenByToken',\r\n                method: 'post',\r\n                params: {\r\n                    token: this.accessToken\r\n                },\r\n                headers: {\r\n                    'Authorization': 'Basic b3V0d29yazp3cGcyMDIw'\r\n                }\r\n            }).then(res => {\r\n                console.log('wpgHeader6666-res: ', res);\r\n                if (res.status == 200) {\r\n                    this.formToken = res.data.resultData.token\r\n                    this.wpgHeader = {\r\n                        \"Authorization\": \"Bearer \" + this.formToken\r\n                    }\r\n                    console.log(' this.wpgHeader : ', this.wpgHeader);\r\n                    this.getTableData()\r\n                }\r\n            })\r\n        },\r\n        // 列表相关\r\n        getTableData() {\r\n            // 获取 tableData\r\n            let params = {\r\n                \"sysCode\": \"outwork\",\r\n                \"smallType\": \"defect\",\r\n                \"page\": {\r\n                    \"current\": 1,\r\n                    \"size\": 15,//-1查全部\r\n                }\r\n            }\r\n            axios({\r\n                // url: process.env.VUE_APP_THIRD_REQUEST_URL + '/main/outworkapi/ticketStatisticClient/getTicketList',\r\n                // url: window.location.origin + '/main/outworkapi/ticketStatisticClient/getTicketList',\r\n                url: process.env.VUE_APP_THIRD_OUTWORKAPI_URL + '/main/outworkapi/ticketStatisticClient/getTicketList',\r\n                method: 'post',\r\n                data: params,\r\n                headers: this.wpgHeader,\r\n            }).then(res => {\r\n                console.log('getTableData-res: ', res);\r\n                if (res.status == 200) {\r\n                    this.tableData = res.data.resultData.records\r\n                    this.total = res.data.resultData.total;\r\n                    console.log('this.tableData: ', this.tableData);\r\n                    this.tableData.forEach((td) => {\r\n                        let item = {\r\n                            id: td.id,\r\n                            deviceName: td.formValue.device_type || [],\r\n                            flawsName: td.formValue.faultTypes,\r\n                            state: td.ticketStatusName,\r\n                            content: td.formValue.questionDescribe,\r\n                            people: td.createByName,\r\n                            time: td.createTime.slice(0, 10),\r\n                            flawsFrom: td.formValue.defectFrom,\r\n                            lnglat: [td.appealLng, td.appealLat],\r\n                        }\r\n                        this.tableList.push(item)\r\n\r\n                    })\r\n                    this.$emit('tableList', this.tableList)\r\n                    console.log('this.tableList: ', this.tableList);\r\n\r\n                }\r\n            })\r\n        },\r\n        //详情相关\r\n        // enterDetail(id) {\r\n        //     this.isDetail = true\r\n        //     // 获取详情\r\n        //     // this.formURL = 'http://172.20.79.70//outwork/iframe.html#/work-manage/detail?id=' + id + '&sysCode=outwork&hideMenu=1&hideMultiTab=1&token=' + this.formToken\r\n        //     this.formURL = 'http://172.20.79.70/outworkApp/#/pages/ticket/detail/index?id=' + id + '&sysCode=outwork&token=' + this.formToken\r\n        // },\r\n\r\n        // 地图相关\r\n        toTarget(lnglat) {\r\n            if (lnglat.length == 2) {\r\n                window.xaMap.flyTo({\r\n                    center: lnglat,\r\n                    zoom: 19,\r\n                })\r\n            } else {\r\n                console.log(\"无位置信息\")\r\n            }\r\n        },\r\n        // 开始点选\r\n        clickPlus() {\r\n            this.objInfo = {}\r\n            Toast({\r\n                message: '地图点选',\r\n                position: 'top',\r\n            });\r\n            this.chosePoint = true\r\n        },\r\n        // 点选要素回填信息\r\n        enterAdd() {\r\n            // this.isAdd = true//进入表单页\r\n            console.log(\"选点后进入表单页时的this.objInfo:\", this.objInfo)\r\n            // // 回填信息\r\n            // this.commonForm.bigType = this.objInfo.bigType || ''\r\n            // this.commonForm.smallType = this.objInfo.smallType || ''\r\n            // this.commonForm.smallCode = this.objInfo.code || ''\r\n            // this.commonForm.position = this.objInfo.road_name || [this.objInfo.lng.toFixed(3), this.objInfo.lat.toFixed(3)].toString()\r\n            // // 提交表单用的，不回填显示\r\n            // this.commonForm.lng = this.objInfo.lng\r\n            // this.commonForm.lat = this.objInfo.lat\r\n            // this.commonForm.properties = this.objInfo.properties\r\n            this.$router.push({\r\n                name: 'addFlaws',\r\n                query: { msg: this.objInfo, token: this.formToken },\r\n                params: { type: 'add' },\r\n            })\r\n        },\r\n        initMap() {\r\n            mapboxgl.accessToken = \"pk.eyJ1IjoiOTM0MDk0Mjg2IiwiYSI6ImNsMnNmdmVrZDBrZGMzZG50cHJudXJkbW8ifQ.C0wKhJgrToFJgL8GH5M8rg\";\r\n            window.xaMap = new mapboxgl.Map({\r\n                container: 'mapContainer',// 容器DOM id\r\n                style: mapStyle,\r\n                center: [115.92486101369428, 39.06075549589073],\r\n                zoom: 13,\r\n                minZoom: 10,\r\n                pitch: 0,\r\n            });\r\n            // let needLayers=[]\r\n            // 加图层 http://172.20.79.65/api/swan/mapWorkshopSource/detail?id=1544640278559821826\r\n            axios.get(process.env.VUE_APP_BASE_URL+'/swan/mapWorkshopSource/detail?id=1548573412963749889').then(res => {\r\n            // axios.get('http://xasw.hdec.com/api/swan/mapWorkshopSource/detail?id=1548573412963749889').then(res => {\r\n            // axios.get(process.env.VUE_APP_MAP_REQUEST_URL+'/api/swan/mapWorkshopSource/detail?id=1548573412963749889').then(res => {\r\n                console.log('res: ', res);\r\n                let layers = JSON.parse(res.data.data.jsonData)\r\n                console.log('layers: ', layers);\r\n                Object.keys(layers.sources).forEach(key => {\r\n                    window.xaMap.addSource(key, layers.sources[key])\r\n                })\r\n                // needLayers=layers.layers\r\n                layers.layers.forEach(layer => {\r\n                    // console.log('77777777777777777777777', layer);\r\n                    window.xaMap.addLayer(layer);\r\n                    window.xaMap.setLayoutProperty(layer.id, 'visibility', 'visible')\r\n                    // window.xaMap.on(\"click\", layer.id, this.handleMonitorClick);\r\n                    // window.xaMap.on(\"mouseenter\", layer.id, this.handleMonitorEnter);\r\n                    // window.xaMap.on(\"mouseout\", layer.id, this.handleMonitorLeave);\r\n                })\r\n            }).catch(e => { }).finally(() => { });\r\n            // 监听地图点击\r\n            // window.xaMap.on(\"click\", function(e)  {})\r\n            // window.xaMap.on(\"click\", layer.id,function(e)  {})//才能选到features???,就拿到过一次\r\n\r\n            window.xaMap.on(\"click\", (e) => {\r\n                // 若为functio(e){ this是this.window.xaMap}\r\n                // (e)=>{ this是this}\r\n                console.log(\"map-click-e\", e)\r\n                console.log(\"e.lngLatn\", e.lngLat)\r\n                var bbox = [\r\n                    [e.point.x - 1, e.point.y - 1],\r\n                    [e.point.x + 1, e.point.y + 1]\r\n                ];\r\n                console.log(\"bbox:\", bbox)\r\n                // mapbox 返回查询要素的图层属性\r\n                let queryfeatures = window.xaMap.queryRenderedFeatures(bbox, {\r\n                    layers: [\"rd_map_drainpipe_ys_big\", \"rd_map_drainpipe_ys_small\", \"rd_map_drainpipe_ws_small\", \"rd_map_drainpipe_ws_big\",\r\n                        \"rd_map_outfall\", \"rd_map_gate\", \"rd_map_manhole\", \"rd_map_comb\",\r\n                        \"map_supply_firehydrant\", \"map_supply_valve\",\r\n                        \"map_supply_pipe_distribute\", \"map_supply_pipe_delivery\", \"map_supply_pipe_circulating\",\r\n                        \"map_supply_node_distribute\", \"map_supply_node_delivery\", \"map_supply_node_circulating\",\r\n                        \"map_recycle_pipe\", \"map_recycle_node\", \"map_waterwork\"]\r\n                    // layers: layers\r\n                });\r\n                console.log(\"点选(微矩形)查询到的queryfeatures:\", queryfeatures)\r\n                // console.log(\"点选(微矩形)查询的queryfeatures:\", queryfeatures.properties)\r\n                // this.hightLight(queryfeatures)// 高亮表格记录，并高亮地图要素\r\n                this.objInfo = {}//先置空再赋值\r\n                // 点击位置的经纬度\r\n                this.objInfo.lng = e.lngLat.lng\r\n                this.objInfo.lat = e.lngLat.lat\r\n                if (queryfeatures.length > 0) {\r\n                    // queryfeatures.forEach(f => {\r\n                    let f = queryfeatures[0]\r\n                    console.log('ffff: ', f);\r\n                    // 点击要素的经纬度，有的话覆盖掉点击位置经纬度\r\n                    this.objInfo.lng = f.properties.longitude || this.objInfo.lng\r\n                    this.objInfo.lat = f.properties.latitude || this.objInfo.lat\r\n                    // 要素所在图层ID和属性信息\r\n                    this.objInfo.layerID = f.layer.id\r\n                    this.objInfo.layerType = f.layer.type\r\n                    this.objInfo.properties = f.properties\r\n                    // 底图要素name_local或设施要素road_name,id\r\n                    this.objInfo.name_local = f.properties.name_local\r\n                    this.objInfo.road_name = f.properties.road_name\r\n                    this.objInfo.id = f.properties.id\r\n                    // 要素对象类型（业务类型/设施类型）\r\n                    switch (f.layer.id) {\r\n                        // 雨水\r\n                        case \"rd_map_comb\"://comb一定是雨水口\r\n                            this.objInfo.bigType = '雨水'\r\n                            this.objInfo.smallType = '雨水口'\r\n                            break\r\n                        case \"rd_map_outfall\"://排放口 1-雨水； 2-污水； 3-合流； 4-其他\r\n                            this.objInfo.bigType = f.properties.pipe_type\r\n                            this.objInfo.smallType = '排放口'\r\n                            break\r\n                        case \"rd_map_manhole\"://检查井  1-雨水；2-污水\r\n                            this.objInfo.bigType = f.properties.manhole_type\r\n                            this.objInfo.smallType = '检查井'\r\n                            break\r\n                        case \"rd_map_gate\"://闸门 1-雨水； 2-污水； 3-合流； 4-其他\r\n                            this.objInfo.bigType = f.properties.pipe_type\r\n                            this.objInfo.smallType = '闸门'\r\n                            break\r\n                        case \"rd_map_drainpipe_ys_big\":\r\n                            this.objInfo.bigType = '雨水'\r\n                            this.objInfo.smallType = '雨水管线'\r\n                            break\r\n                        case \"rd_map_drainpipe_ys_small\":\r\n                            this.objInfo.bigType = '雨水'\r\n                            this.objInfo.smallType = '雨水管线'\r\n                            break\r\n                        // 污水\r\n                        case \"rd_map_drainpipe_ws_big\":\r\n                            this.objInfo.bigType = '污水'\r\n                            this.objInfo.smallType = '污水管线'\r\n                            break\r\n                        case \"rd_map_drainpipe_ws_small\":\r\n                            this.objInfo.bigType = '污水'\r\n                            this.objInfo.smallType = '污水管线'\r\n                            break\r\n                        // 给水\r\n                        case \"map_supply_firehydrant\"://消火栓一定是给水\r\n                            this.objInfo.bigType = '给水'\r\n                            this.objInfo.smallType = '消火栓'\r\n                            break\r\n                        case \"map_supply_valve\"://阀门valve一定是给水\r\n                            this.objInfo.bigType = '给水'\r\n                            this.objInfo.smallType = '阀门'\r\n                            break\r\n                        case \"map_supply_pipe_distribute\"://配水管线\r\n                            this.objInfo.bigType = '给水'\r\n                            this.objInfo.smallType = '配水管线'\r\n                            break\r\n                        case \"map_supply_pipe_delivery\"://输水管线\r\n                            this.objInfo.bigType = 'supply'\r\n                            this.objInfo.smallType = '输水管线'\r\n                            break\r\n                        case \"map_supply_pipe_circulating\"://回水管线\r\n                            this.objInfo.bigType = '给水'\r\n                            this.objInfo.smallType = '回水管线'\r\n                            break\r\n                        case \"map_waterwork\"://供水厂\r\n                            this.objInfo.bigType = '给水'\r\n                            this.objInfo.smallType = '供水厂'\r\n                            break\r\n                        // 再生水\r\n                        case \"map_recycle_pipe\"://再生水管线\r\n                            this.objInfo.bigType = '再生水'\r\n                            this.objInfo.smallType = 'pipeline'\r\n                            break\r\n                        case \"map_waterwork\"://再生水厂\r\n                            this.objInfo.bigType = '再生水'\r\n                            this.objInfo.smallType = '再生水厂'\r\n                            break\r\n                    }\r\n                    // 设施编号\r\n                    this.objInfo.code = f.properties.manhole_code || f.properties.gate_code || f.properties.outlet_code\r\n                        || f.properties.comb_code || f.properties.valve_code || f.properties.pump_station_code\r\n                        || f.properties.plant_code || f.properties.pump_code || f.properties.fire_cock_code\r\n                        || f.properties.start_code + ',' + f.properties.end_code || ''\r\n                    // })\r\n                }\r\n                console.log('this.objInfo: ', this.objInfo);\r\n                // popup\r\n                if (this.chosePoint) {\r\n                    // let popupHtml = \"<div style='width:140px;height:30px;background-color:#08AEE9'><h3>\" + e.lngLat.lng.toFixed(3) + ',' + e.lngLat.lat.toFixed(3) + \"</h3><h3>\"+this.objInfo.smallType+' '+this.objInfo.code+\"</h3><br><fm-button  @click='clickPlus'>确定</fm-button>\" + \"</div>\"\r\n                    let popupHtml = '<div id=\"base-add\"></div>'\r\n                    new mapboxgl.Popup()\r\n                        .setLngLat([e.lngLat.lng, e.lngLat.lat])\r\n                        .setHTML(popupHtml)\r\n                        .addTo(window.xaMap);\r\n                    new popupItem({\r\n                        propsData: {\r\n                            detailId: 99999,\r\n                            lng: e.lngLat.lng.toFixed(3),\r\n                            lat: e.lngLat.lat.toFixed(3),\r\n                            bigType: this.objInfo.bigType,\r\n                            smallType: this.objInfo.smallType,\r\n                            deviceCode: this.objInfo.code,\r\n                            fun: this.enterAdd\r\n                        }\r\n                    }).$mount('#base-add')\r\n                }\r\n            })\r\n            // window.xaMap.on('click',e=>{})结束\r\n        },\r\n        mapLoaded() {\r\n            window.xaMap.on(\"click\", (e) => {\r\n                // 若为functio(e){ this是this.window.xaMap}\r\n                // (e)=>{ this是this}\r\n                console.log(\"map-click-e\", e)\r\n                console.log(\"e.lngLatn\", e.lngLat)\r\n                var bbox = [\r\n                    [e.point.x - 1, e.point.y - 1],\r\n                    [e.point.x + 1, e.point.y + 1]\r\n                ];\r\n                console.log(\"bbox:\", bbox)\r\n                // mapbox 返回查询要素的图层属性\r\n                let queryfeatures = window.xaMap.queryRenderedFeatures(bbox, {\r\n                    layers: [\"rd_map_drainpipe_ys_big\", \"rd_map_drainpipe_ys_small\", \"rd_map_drainpipe_ws_small\", \"rd_map_drainpipe_ws_big\",\r\n                        \"rd_map_outfall\", \"rd_map_gate\", \"rd_map_manhole\", \"rd_map_comb\",\r\n                        \"map_supply_firehydrant\", \"map_supply_valve\",\r\n                        \"map_supply_pipe_distribute\", \"map_supply_pipe_delivery\", \"map_supply_pipe_circulating\",\r\n                        \"map_supply_node_distribute\", \"map_supply_node_delivery\", \"map_supply_node_circulating\",\r\n                        \"map_recycle_pipe\", \"map_recycle_node\", \"map_waterwork\"]\r\n                    // layers: layers\r\n                });\r\n                console.log(\"点选(微矩形)查询到的queryfeatures:\", queryfeatures)\r\n                // console.log(\"点选(微矩形)查询的queryfeatures:\", queryfeatures.properties)\r\n                // this.hightLight(queryfeatures)// 高亮表格记录，并高亮地图要素\r\n                this.objInfo = {}//先置空再赋值\r\n                // 点击位置的经纬度\r\n                this.objInfo.lng = e.lngLat.lng\r\n                this.objInfo.lat = e.lngLat.lat\r\n                if (queryfeatures.length > 0) {\r\n                    // queryfeatures.forEach(f => {\r\n                    let f = queryfeatures[0]\r\n                    console.log('ffff: ', f);\r\n                    // 点击要素的经纬度，有的话覆盖掉点击位置经纬度\r\n                    this.objInfo.lng = f.properties.longitude || this.objInfo.lng\r\n                    this.objInfo.lat = f.properties.latitude || this.objInfo.lat\r\n                    // 要素所在图层ID和属性信息\r\n                    this.objInfo.layerID = f.layer.id\r\n                    this.objInfo.layerType = f.layer.type\r\n                    this.objInfo.properties = f.properties\r\n                    // 底图要素name_local或设施要素road_name,id\r\n                    this.objInfo.name_local = f.properties.name_local\r\n                    this.objInfo.road_name = f.properties.road_name\r\n                    this.objInfo.id = f.properties.id\r\n                    // 要素对象类型（业务类型/设施类型）\r\n                    switch (f.layer.id) {\r\n                        // 雨水\r\n                        case \"rd_map_comb\"://comb一定是雨水口\r\n                            this.objInfo.bigType = '雨水'\r\n                            this.objInfo.smallType = '雨水口'\r\n                            break\r\n                        case \"rd_map_outfall\"://排放口 1-雨水； 2-污水； 3-合流； 4-其他\r\n                            this.objInfo.bigType = f.properties.pipe_type\r\n                            this.objInfo.smallType = '排放口'\r\n                            break\r\n                        case \"rd_map_manhole\"://检查井  1-雨水；2-污水\r\n                            this.objInfo.bigType = f.properties.manhole_type\r\n                            this.objInfo.smallType = '检查井'\r\n                            break\r\n                        case \"rd_map_gate\"://闸门 1-雨水； 2-污水； 3-合流； 4-其他\r\n                            this.objInfo.bigType = f.properties.pipe_type\r\n                            this.objInfo.smallType = '闸门'\r\n                            break\r\n                        case \"rd_map_drainpipe_ys_big\":\r\n                            this.objInfo.bigType = '雨水'\r\n                            this.objInfo.smallType = '雨水管线'\r\n                            break\r\n                        case \"rd_map_drainpipe_ys_small\":\r\n                            this.objInfo.bigType = '雨水'\r\n                            this.objInfo.smallType = '雨水管线'\r\n                            break\r\n                        // 污水\r\n                        case \"rd_map_drainpipe_ws_big\":\r\n                            this.objInfo.bigType = '污水'\r\n                            this.objInfo.smallType = '污水管线'\r\n                            break\r\n                        case \"rd_map_drainpipe_ws_small\":\r\n                            this.objInfo.bigType = '污水'\r\n                            this.objInfo.smallType = '污水管线'\r\n                            break\r\n                        // 给水\r\n                        case \"map_supply_firehydrant\"://消火栓一定是给水\r\n                            this.objInfo.bigType = '给水'\r\n                            this.objInfo.smallType = '消火栓'\r\n                            break\r\n                        case \"map_supply_valve\"://阀门valve一定是给水\r\n                            this.objInfo.bigType = '给水'\r\n                            this.objInfo.smallType = '阀门'\r\n                            break\r\n                        case \"map_supply_pipe_distribute\"://配水管线\r\n                            this.objInfo.bigType = '给水'\r\n                            this.objInfo.smallType = '配水管线'\r\n                            break\r\n                        case \"map_supply_pipe_delivery\"://输水管线\r\n                            this.objInfo.bigType = 'supply'\r\n                            this.objInfo.smallType = '输水管线'\r\n                            break\r\n                        case \"map_supply_pipe_circulating\"://回水管线\r\n                            this.objInfo.bigType = '给水'\r\n                            this.objInfo.smallType = '回水管线'\r\n                            break\r\n                        case \"map_waterwork\"://供水厂\r\n                            this.objInfo.bigType = '给水'\r\n                            this.objInfo.smallType = '供水厂'\r\n                            break\r\n                        // 再生水\r\n                        case \"map_recycle_pipe\"://再生水管线\r\n                            this.objInfo.bigType = '再生水'\r\n                            this.objInfo.smallType = 'pipeline'\r\n                            break\r\n                        case \"map_waterwork\"://再生水厂\r\n                            this.objInfo.bigType = '再生水'\r\n                            this.objInfo.smallType = '再生水厂'\r\n                            break\r\n                    }\r\n                    // 设施编号\r\n                    this.objInfo.code = f.properties.manhole_code || f.properties.gate_code || f.properties.outlet_code\r\n                        || f.properties.comb_code || f.properties.valve_code || f.properties.pump_station_code\r\n                        || f.properties.plant_code || f.properties.pump_code || f.properties.fire_cock_code\r\n                        || f.properties.start_code + ',' + f.properties.end_code || ''\r\n                    // })\r\n                }\r\n                console.log('this.objInfo: ', this.objInfo);\r\n                // popup\r\n                if (this.chosePoint) {\r\n                    // let popupHtml = \"<div style='width:140px;height:30px;background-color:#08AEE9'><h3>\" + e.lngLat.lng.toFixed(3) + ',' + e.lngLat.lat.toFixed(3) + \"</h3><h3>\"+this.objInfo.smallType+' '+this.objInfo.code+\"</h3><br><fm-button  @click='clickPlus'>确定</fm-button>\" + \"</div>\"\r\n                    let popupHtml = '<div id=\"base-add\"></div>'\r\n                    new mapboxgl.Popup()\r\n                        .setLngLat([e.lngLat.lng, e.lngLat.lat])\r\n                        .setHTML(popupHtml)\r\n                        .addTo(window.xaMap);\r\n                    new popupItem({\r\n                        propsData: {\r\n                            detailId: 99999,\r\n                            lng: e.lngLat.lng.toFixed(3),\r\n                            lat: e.lngLat.lat.toFixed(3),\r\n                            bigType: this.objInfo.bigType,\r\n                            smallType: this.objInfo.smallType,\r\n                            deviceCode: this.objInfo.code,\r\n                            fun: this.enterAdd\r\n                        }\r\n                    }).$mount('#base-add')\r\n                }\r\n            })\r\n        }\r\n    },\r\n    mounted() {\r\n        // this.initMap()\r\n        this.getwpgHeader() //  获取header，提交工单用; 同时获取 tableData\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.main {\r\n    width: 750px;\r\n    // height: 1334px;\r\n    height: 100%;\r\n    background: #F4F7FC;\r\n\r\n    // display: flex;\r\n    // flex-direction: column;\r\n    .map-container {\r\n        width: 750px;\r\n        height: 680px;\r\n\r\n        .mapboxgl-ctrl-bottom-left {\r\n            display: none !important;\r\n        }\r\n\r\n        .mapboxgl-ctrl a.mapboxgl-ctrl-logo {\r\n            display: none !important;\r\n        }\r\n\r\n        .mapboxgl-ctrl-bottom-left div {\r\n            display: none !important;\r\n        }\r\n    }\r\n\r\n    .flaws-list-container {\r\n        height: 700px;\r\n        overflow: scroll;\r\n\r\n        .tableList {\r\n            padding-bottom: 10px;\r\n            // position: fixed;\r\n            bottom: 0px;\r\n            width: 750px;\r\n            height: auto;\r\n            overflow: scroll;\r\n            max-height: 580px;\r\n            background: #f4f7fc;\r\n            box-shadow: 0px -4px 12px 0px rgba(104, 115, 127, 0.1);\r\n\r\n            .con-div {\r\n                margin-top: 20px;\r\n                width: 690px;\r\n                margin-left: 30px;\r\n                height: 270px;\r\n                background: #ffffff;\r\n                box-shadow: 0px 4px 16px 0px rgba(104, 115, 127, 0.08);\r\n                border-radius: 16px;\r\n\r\n                .top {\r\n                    width: 100%;\r\n                    height: 80px;\r\n                    line-height: 80px;\r\n                    overflow: auto;\r\n\r\n                    // display: inline;\r\n                    .name {\r\n                        margin-left: 20px;\r\n                        float: left;\r\n                        width: auto;\r\n                        font-size: 36px;\r\n                        font-family: PingFangSC-Semibold, PingFang SC;\r\n                        font-weight: 600;\r\n                        color: #191919;\r\n                    }\r\n\r\n                    .img {\r\n                        width: 30px;\r\n                        height: 39px;\r\n                        float: right;\r\n                        margin-right: 20px;\r\n                        margin-top: 15px;\r\n                    }\r\n\r\n                    .state {\r\n                        float: left;\r\n                        margin-left: 20px;\r\n                        margin-top: 20px;\r\n                        width: auto;\r\n                        padding-left: 10px;\r\n                        padding-right: 10px;\r\n                        height: 42px;\r\n                        line-height: 42px;\r\n                        border-radius: 4px;\r\n                    }\r\n\r\n                    .c1 {\r\n                        background: rgba(64, 187, 90, 0.1);\r\n                        font-size: 24px;\r\n                        font-family: PingFangSC-Regular, PingFang SC;\r\n                        font-weight: 400;\r\n                        color: #40bb5a;\r\n                    }\r\n\r\n                    .c2 {\r\n                        font-size: 24px;\r\n                        font-family: PingFangSC-Regular, PingFang SC;\r\n                        font-weight: 400;\r\n                        color: #027aff;\r\n                        background: rgba(2, 122, 255, 0.1);\r\n                    }\r\n\r\n                    .c3 {\r\n                        background: rgba(255, 148, 41, 0.1);\r\n                        font-size: 24px;\r\n                        font-family: PingFangSC-Regular, PingFang SC;\r\n                        font-weight: 400;\r\n                        color: #ff9429;\r\n                    }\r\n                }\r\n\r\n                .content {\r\n                    white-space: nowrap;\r\n                    overflow: hidden;\r\n                    text-overflow: ellipsis;\r\n                    width: 96%;\r\n                    height: 60px;\r\n                    font-size: 28px;\r\n                    font-family: PingFangSC-Regular, PingFang SC;\r\n                    font-weight: 400;\r\n                    color: #555555;\r\n                    line-height: 60px;\r\n                    padding-left: 20px;\r\n                }\r\n\r\n                .under {\r\n                    width: 97%;\r\n                    margin-left: -17px;\r\n                    display: flex;\r\n                    justify-content: space-around;\r\n                    height: 70px;\r\n                    line-height: 70px;\r\n                    font-size: 28px;\r\n                    font-family: PingFangSC-Regular, PingFang SC;\r\n                    font-weight: 400;\r\n                    color: #555555;\r\n\r\n                    .under-div {\r\n                        margin-left: 30px;\r\n                        float: left;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .add-container {\r\n        .bigForm-container {\r\n            width: 750px;\r\n            height: 1234px;\r\n            overflow: scroll;\r\n            background: #FFFFFF;\r\n\r\n            .subtable {\r\n                position: relative;\r\n                margin: 10px;\r\n                padding: 13px;\r\n                // background-color: aquamarine;\r\n                border-radius: 16px;\r\n                border: 1px solid #5195d0;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    .detail-container {\r\n        width: 750px;\r\n        height: 1290px;\r\n\r\n        .formFrame {\r\n            width: 750px;\r\n            height: 1300px;\r\n            margin-top: -65px;\r\n\r\n            .outwork-detail {\r\n                .outwork-detail-titlebar .wbgc-card {}\r\n\r\n                .outwork-detail-box {\r\n                    height: 100%;\r\n                    width: 100% !important;\r\n                    overflow: auto;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"]}]}