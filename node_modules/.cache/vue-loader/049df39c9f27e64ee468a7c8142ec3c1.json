{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\components\\select-personnel\\components\\Tree\\TreeNode.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\components\\select-personnel\\components\\Tree\\TreeNode.vue","mtime":1705912799958},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICd0cmVlTm9kZScsDQogIHByb3BzOiB7DQogICAgbGlzdDogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICB9LA0KICAgIGFjdGl2ZUlkOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBpc0hpZGU6IGZhbHNlLA0KICAgICAgaW5kZXhMaXN0OiBbXSwgLy/kv53lrZjmlLbotbfnirbmgIHnmoTkuIvmoIcNCiAgICAgIGFjdGl2ZUluZGV4OiBudWxsLA0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHt9LA0KICB3YXRjaDoge30sDQogIG1ldGhvZHM6IHsNCiAgICBzZXROb2RlQWN0aXZlSWQoaWQpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ3NldEFjdGl2ZUlkJywgaWQpDQogICAgfSwNCiAgICB0cmVlTm9kZUNsaWNrKGRhdGEpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ3RyZWVDbGljaycsIGRhdGEpDQogICAgfSwNCiAgICBub2RlQ2xpY2soZGF0YSwgaW5kZXgpIHsNCiAgICAgIHRoaXMuc2V0Tm9kZUFjdGl2ZUlkKGRhdGEuY29udGVudC5pZCkgLy/pgJLlvZLorr7nva5hY3RpdmVJZA0KICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IGluZGV4DQoNCiAgICAgIC8v6Iul5a2Y5Zyo77yM5YiZ56e76ZmkDQogICAgICBpZiAodGhpcy5pbmRleExpc3QuaW5jbHVkZXMoaW5kZXgpKSB7DQogICAgICAgIHRoaXMuaW5kZXhMaXN0LnNwbGljZSh0aGlzLmluZGV4TGlzdC5pbmRleE9mKGluZGV4KSwgMSkNCiAgICAgICAgdGhpcy4kcmVmcy50cmVlTm9kZVtpbmRleF0uc2hvdygpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmluZGV4TGlzdC5wdXNoKGluZGV4KQ0KICAgICAgICB0aGlzLiRyZWZzLnRyZWVOb2RlW2luZGV4XS5oaWRlKCkNCiAgICAgIH0NCg0KICAgICAgaWYgKCFkYXRhLmNoaWxkcmVuIHx8ICFkYXRhLmNoaWxkcmVuLmxlbmd0aCkgew0KICAgICAgICB0aGlzLnRyZWVOb2RlQ2xpY2soZGF0YSkNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgfSwNCiAgICBoaWRlKCkgew0KICAgICAgdGhpcy5pc0hpZGUgPSB0cnVlDQogICAgfSwNCiAgICBzaG93KCkgew0KICAgICAgdGhpcy5pc0hpZGUgPSBmYWxzZQ0KICAgIH0sDQogIH0sDQogIGNyZWF0ZWQoKSB7fSwNCiAgbW91bnRlZCgpIHt9LA0KfQ0K"},{"version":3,"sources":["TreeNode.vue"],"names":[],"mappings":";AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TreeNode.vue","sourceRoot":"src/components/select-personnel/components/Tree","sourcesContent":["<!--\r\n * @Description: \r\n * @Author: ye_xf\r\n * @Date: 2021-09-10 09:18:17\r\n * @LastEditTime: 2022-06-10 09:37:14\r\n * @LastEditors: ye_xf\r\n * @Reference: \r\n-->\r\n\r\n<template>\r\n  <div v-show=\"!isHide\" class=\"tree-node-box\">\r\n    <div v-for=\"(item, index) in list\" :key=\"item.content.id\" class=\"item\">\r\n      <div\r\n        @click=\"nodeClick(item, index)\"\r\n        :class=\"{ active: item.content.id === activeId }\"\r\n      >\r\n        <i\r\n          v-if=\"item.children && item.children.length\"\r\n          class=\"fm-icon\"\r\n          :class=\"\r\n            indexList.includes(index)\r\n              ? 'fm-icon-arrow-up'\r\n              : 'fm-icon-arrow-down'\r\n          \"\r\n        ></i>\r\n        <span\r\n          class=\"name\"\r\n          :class=\"{ 'ml-24': !item.children || !item.children.length }\"\r\n        >\r\n          {{ item.content.name }}\r\n        </span>\r\n      </div>\r\n      <!-- 递归调用组件 -->\r\n      <tree-node\r\n        ref=\"treeNode\"\r\n        :list=\"item.children ? item.children : []\"\r\n        :activeId=\"activeId\"\r\n        @setActiveId=\"setNodeActiveId\"\r\n        @treeClick=\"treeNodeClick\"\r\n      ></tree-node>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'treeNode',\r\n  props: {\r\n    list: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    activeId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isHide: false,\r\n      indexList: [], //保存收起状态的下标\r\n      activeIndex: null,\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  methods: {\r\n    setNodeActiveId(id) {\r\n      this.$emit('setActiveId', id)\r\n    },\r\n    treeNodeClick(data) {\r\n      this.$emit('treeClick', data)\r\n    },\r\n    nodeClick(data, index) {\r\n      this.setNodeActiveId(data.content.id) //递归设置activeId\r\n      this.activeIndex = index\r\n\r\n      //若存在，则移除\r\n      if (this.indexList.includes(index)) {\r\n        this.indexList.splice(this.indexList.indexOf(index), 1)\r\n        this.$refs.treeNode[index].show()\r\n      } else {\r\n        this.indexList.push(index)\r\n        this.$refs.treeNode[index].hide()\r\n      }\r\n\r\n      if (!data.children || !data.children.length) {\r\n        this.treeNodeClick(data)\r\n        return\r\n      }\r\n    },\r\n    hide() {\r\n      this.isHide = true\r\n    },\r\n    show() {\r\n      this.isHide = false\r\n    },\r\n  },\r\n  created() {},\r\n  mounted() {},\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tree-node-box {\r\n  .item {\r\n    margin-left: 28px;\r\n    line-height: 56px;\r\n\r\n    & > div {\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      & > i {\r\n        font-size: 28px;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n\r\n    .active {\r\n      font-weight: bold;\r\n      color: #027aff;\r\n    }\r\n\r\n    .ml-24 {\r\n      margin-left: 24px;\r\n    }\r\n\r\n    .name {\r\n      flex: 1;\r\n      margin-left: 16px;\r\n      font-size: 30px;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}