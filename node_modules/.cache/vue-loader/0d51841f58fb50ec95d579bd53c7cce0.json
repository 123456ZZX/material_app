{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\FlawsManagement\\addFlaws.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\FlawsManagement\\addFlaws.vue","mtime":1708928163373},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBFTlVNIH0gZnJvbSAnQC9zdG9yZS9TdGF0ZS9zdGF0ZVR5cGVzJw0KaW1wb3J0IFVwbG9hZGVyIGZyb20gJy4vdXBsb2FkL1VwbG9hZGVyJw0KLy8gaW1wb3J0IFVwbG9hZGVyIGZyb20gJ0AvY29tcG9uZW50cy91cGxvYWQvVXBsb2FkZXIudnVlJw0KaW1wb3J0IGZpbGVVcGxvYWQgZnJvbSAnQC9jb21wb25lbnRzL2ZpbGVVcGxvYWQvaW5kZXgudnVlJw0KaW1wb3J0IHsgVG9hc3QgfSBmcm9tICdmYXdrZXMtbW9iaWxlLWxpYicNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ2FkZEZsYXdzJywNCiAgY29tcG9uZW50czogeyBbVG9hc3QubmFtZV06IFRvYXN0LCBVcGxvYWRlciwgZmlsZVVwbG9hZCB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB3cGdIZWFkZXI6IHt9LA0KICAgICAgdG9rZW46ICcnLA0KICAgICAgcGljVXA6ICcnLA0KICAgICAgYXR0YWNobWVudDogJycsDQogICAgICBmaWxlTGlzdDogW10sIC8vIOWbvueJh+WkmuWqkuS9kw0KICAgICAgLy8g6YCJ5oup5ZmoDQogICAgICBjb21tb25Gb3JtOiB7DQogICAgICAgIGRlZmVjdEZyb206ICflt6Hmo4AnLCAvL+e8uumZt+adpea6kO+8jOenu+WKqOerr+m7mOiupOW3oeajgA0KICAgICAgICBiaWdUeXBlOiAnJywgLy/kuJrliqHnsbvlnosNCiAgICAgICAgc21hbGxUeXBlOiAnJywgLy/orr7mlr3nsbvlnosNCiAgICAgICAgc21hbGxDb2RlOiAnJywgLy/orr7mlr3nvJblj7cNCiAgICAgICAgcG9zaXRpb246ICcnLCAvL+e8uumZt+S9jee9ru+8jHh46Lev5bCx5aW977yM57uP57qs5bqm6ZyA6KaB5L2G5LiN55So5pi+56S6DQogICAgICAgIGxuZzogJycsDQogICAgICAgIGxhdDogJycsDQogICAgICAgIHByb3BlcnRpZXM6IHt9LA0KICAgICAgICBkZXNjcmliZTogJycsIC8v546w5Zy65o+P6L+wDQogICAgICAgIG1lZGlhOiBbXSwgLy/lpJrlqpLkvZPpmYTku7YNCiAgICAgIH0sDQogICAgICB1cFBlcnNvbjogJycsDQogICAgICB1cFRpbWU6ICcnLA0KICAgICAgLy8gdmFsdWU6ICcnLA0KICAgICAgY29sdW1uczogW10sDQogICAgICBzaG93UGlja2VyOiBmYWxzZSwgLy/lsLHkuIDmnaHmrKEg6YCJ5oup5ZmoDQogICAgICBzaG93UGlja2VyRGVmZWN0OiBmYWxzZSwgLy/mlrDlop7nvLrpmbcg5Y+v5aSa5qyhIOmAieaLqeWZqA0KICAgICAgd2hpY2hQaWNrZXI6ICcnLA0KICAgICAgc3ViRm9ybUlEOiAxLA0KICAgICAgc3ViRm9ybXM6IFsNCiAgICAgICAgew0KICAgICAgICAgIGlkOiAxLA0KICAgICAgICAgIGRlZmVjdFR5cGU6ICcnLA0KICAgICAgICAgIG5vdGU6ICcnLCAvL+Wkh+azqA0KICAgICAgICAgIHBpYzogW10sDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgYmlnVHlwZUxpc3Q6IFtdLA0KICAgICAgZmxhd3NNYW5hZ2U6IFtdLC8v5Lia5Yqh5a+56LGh5LqL5Lu257G75Z6LDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHNtYWxsVHlwZUxpc3QoKSB7DQogICAgICBsZXQgbGlzdCA9IFtdDQogICAgICBpZiAodGhpcy5mbGF3c01hbmFnZSkgew0KICAgICAgICBjb25zb2xlLmxvZygi5Lia5YqhLeWvueixoSIsIHRoaXMuZmxhd3NNYW5hZ2UuZmluZChpdCA9PiBpdC5jb2RlID09IHRoaXMuY29tbW9uRm9ybS5iaWdUeXBlKT8uY2hpbGQpOw0KICAgICAgICB0aGlzLmZsYXdzTWFuYWdlLmZpbmQoaXQgPT4gaXQuY29kZSA9PSB0aGlzLmNvbW1vbkZvcm0uYmlnVHlwZSk/LmNoaWxkLmZvckVhY2goaXQgPT4gew0KICAgICAgICAgIGxpc3QucHVzaChpdFsnemgtQ04nXSkNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIGxpc3QNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBbXQ0KICAgICAgfQ0KDQogICAgfSwNCiAgICBzRXZlbnRzT3B0KCkgew0KICAgICAgY29uc29sZS5sb2coIuS4muWKoS3lr7nosaEiLCB0aGlzLmZsYXdzTWFuYWdlKQ0KICAgICAgaWYgKHRoaXMuZmxhd3NNYW5hZ2UpIHsNCiAgICAgICAgY29uc29sZS5sb2coIuS4muWKoS3lr7nosaEiLCB0aGlzLmZsYXdzTWFuYWdlLmZpbmQoaXQgPT4gaXQuY29kZSA9PSB0aGlzLmNvbW1vbkZvcm0uYmlnVHlwZSk/LmNoaWxkKTsNCiAgICAgICAgcmV0dXJuIHRoaXMuZmxhd3NNYW5hZ2UuZmluZChpdCA9PiBpdC5jb2RlID09IHRoaXMuY29tbW9uRm9ybS5iaWdUeXBlKT8uY2hpbGQNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBbXQ0KICAgICAgfQ0KICAgIH0sDQogICAgc0V2ZW50c09wdFRoaXJkKCkgew0KICAgICAgaWYgKHRoaXMuY29tbW9uRm9ybS5zbWFsbFR5cGUgIT0gJycgJiYgdGhpcy5zRXZlbnRzT3B0KSB7DQogICAgICAgIGNvbnNvbGUubG9nKCLkuJrliqEt5a+56LGhLeS6i+S7tiIsIHRoaXMuc0V2ZW50c09wdC5maW5kKGl0ID0+IGl0LmNvZGUgPT0gdGhpcy5jb21tb25Gb3JtLnNtYWxsVHlwZSk/LmNoaWxkKTsNCiAgICAgICAgbGV0IGxpc3QgPSBbXQ0KICAgICAgICB0aGlzLnNFdmVudHNPcHQuZmluZChpdCA9PiBpdC5jb2RlID09IHRoaXMuY29tbW9uRm9ybS5zbWFsbFR5cGUpPy5jaGlsZC5mb3JFYWNoKGRpYyA9PiB7DQogICAgICAgICAgbGlzdC5wdXNoKGRpY1snemgtQ04nXSkNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIGxpc3QNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5jb21tb25Gb3JtLnNtYWxsVHlwZSA9PSAnJyAmJiB0aGlzLmZsYXdzTWFuYWdlKSB7DQogICAgICAgIGxldCBzRXZlbnRzT3B0VGhpcmQgPSBbXQ0KICAgICAgICB0aGlzLmZsYXdzTWFuYWdlLmZpbmQoaXQgPT4gaXQuY29kZSA9PSB0aGlzLmNvbW1vbkZvcm0uYmlnVHlwZSk/LmNoaWxkLmZvckVhY2goaXQgPT4gew0KICAgICAgICAgIGl0LmNoaWxkLmZvckVhY2godiA9PiB7DQogICAgICAgICAgICBzRXZlbnRzT3B0VGhpcmQucHVzaCh2KQ0KICAgICAgICAgIH0pDQogICAgICAgIH0pOw0KICAgICAgICBjb25zb2xlLmxvZygnc0V2ZW50c09wdFRoaXJkOiAnLCBzRXZlbnRzT3B0VGhpcmQpOw0KICAgICAgICBsZXQgbGlzdCA9IFtdDQogICAgICAgIHNFdmVudHNPcHRUaGlyZC5mb3JFYWNoKGl0ID0+IHsNCiAgICAgICAgICBsaXN0LnB1c2goaXQuY29kZSkNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIGxpc3QNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBbXQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g57y66Zm35p2l5rqQDQogICAgZGVmZWN0RnJvbURpYygpIHsNCiAgICAgIGNvbnNvbGUubG9nKA0KICAgICAgICAndGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZGVmZWN0RnJvbTogJywNCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZGVmZWN0RnJvbQ0KICAgICAgKQ0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlW0VOVU1dLmRlZmVjdEZyb20NCiAgICB9LA0KICAgIGRlZmVjdEZyb21MaXN0KCkgew0KICAgICAgbGV0IGxpc3QgPSBbXQ0KICAgICAgaWYgKHRoaXMuZGVmZWN0RnJvbURpYykgew0KICAgICAgICB0aGlzLmRlZmVjdEZyb21EaWMuZm9yRWFjaCgoZGljKSA9PiB7DQogICAgICAgICAgbGlzdC5wdXNoKGRpY1snemgtQ04nXSkNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIHJldHVybiBsaXN0DQogICAgfSwNCiAgICBkZWZlY3RGcm9tTGlzdERpYygpIHsNCiAgICAgIGxldCBsaXN0RGljID0ge30NCiAgICAgIGlmICh0aGlzLmRlZmVjdEZyb21EaWMpIHsNCiAgICAgICAgdGhpcy5kZWZlY3RGcm9tRGljLmZvckVhY2goKGRpYykgPT4gew0KICAgICAgICAgIGxpc3REaWNbZGljWyd6aC1DTiddXSA9IGRpYy5jb2RlDQogICAgICAgIH0pDQogICAgICB9DQogICAgICByZXR1cm4gbGlzdERpYw0KICAgIH0sDQogICAgLy8g57y66Zm357G75Z6LDQogICAgLy8gZmF1bHRUeXBlc0RpYygpIHsNCiAgICAvLyAgIGNvbnNvbGUubG9nKA0KICAgIC8vICAgICAndGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0ucGlwZU5ldERlZmVjdFR5cGVzJywNCiAgICAvLyAgICAgdGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0ucGlwZU5ldERlZmVjdFR5cGVzDQogICAgLy8gICApDQogICAgLy8gICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0ucGlwZU5ldERlZmVjdFR5cGVzDQogICAgLy8gfSwNCiAgICAvLyBkZWZlY3RUeXBlTGlzdCgpIHsNCiAgICAvLyAgIGxldCBsaXN0ID0gW10NCiAgICAvLyAgIGlmICh0aGlzLmZhdWx0VHlwZXNEaWMpIHsNCiAgICAvLyAgICAgaWYgKA0KICAgIC8vICAgICAgIHRoaXMuZmF1bHRUeXBlc0RpYy5maWx0ZXIoKGl0KSA9Pg0KICAgIC8vICAgICAgICAgaXRbJ3poLUNOJ10uaW5jbHVkZXModGhpcy5jb21tb25Gb3JtLnNtYWxsVHlwZSkNCiAgICAvLyAgICAgICApLmxlbmd0aCA+IDANCiAgICAvLyAgICAgKSB7DQogICAgLy8gICAgICAgdGhpcy5mYXVsdFR5cGVzRGljDQogICAgLy8gICAgICAgICAuZmlsdGVyKChpdCkgPT4gaXRbJ3poLUNOJ10uaW5jbHVkZXModGhpcy5jb21tb25Gb3JtLnNtYWxsVHlwZSkpWzBdDQogICAgLy8gICAgICAgICAuY2hpbGQuZm9yRWFjaCgoZGljKSA9PiB7DQogICAgLy8gICAgICAgICAgIGxpc3QucHVzaChkaWNbJ3poLUNOJ10pDQogICAgLy8gICAgICAgICB9KQ0KICAgIC8vICAgICB9DQogICAgLy8gICB9DQogICAgLy8gICByZXR1cm4gbGlzdA0KICAgIC8vIH0sDQogICAgLy8gZGVmZWN0VHlwZUxpc3REaWMoKSB7DQogICAgLy8gICBsZXQgbGlzdERpYyA9IHt9DQogICAgLy8gICBpZiAodGhpcy5mYXVsdFR5cGVzRGljKSB7DQogICAgLy8gICAgIHRoaXMuZmF1bHRUeXBlc0RpYy5mb3JFYWNoKChkaWMpID0+IHsNCiAgICAvLyAgICAgICBsaXN0RGljW2RpY1snemgtQ04nXV0gPSBkaWMuY29kZQ0KICAgIC8vICAgICB9KQ0KICAgIC8vICAgfQ0KICAgIC8vICAgcmV0dXJuIGxpc3REaWMNCiAgICAvLyB9LA0KICAgIC8vIOezu+e7n+Wtl+WFuOiZveWPq2RlZmVjdFR5cGXvvIzkvYblrp7pmYXkuoznuqfkuLog5Lia5Yqh57G75Z6LL+iuvuaWveexu+Weiw0KICAgIC8vIOS4muWKoeexu+Weiy/orr7mlr3nsbvlnosNCiAgICAvLyBidXNEZXZpY2VUeXBlRGljKCkgew0KICAgIC8vICAgY29uc29sZS5sb2coDQogICAgLy8gICAgICd0aGlzLiRzdG9yZS5zdGF0ZVtFTlVNXS5kZWZlY3RUeXBlOiAnLA0KICAgIC8vICAgICB0aGlzLiRzdG9yZS5zdGF0ZVtFTlVNXS5kZWZlY3RUeXBlDQogICAgLy8gICApDQogICAgLy8gICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZGVmZWN0VHlwZQ0KICAgIC8vIH0sDQogICAgLy8gYmlnVHlwZUxpc3QoKSB7DQogICAgLy8gICBsZXQgbGlzdCA9IFtdDQogICAgLy8gICBpZiAodGhpcy5idXNEZXZpY2VUeXBlRGljKSB7DQogICAgLy8gICAgIHRoaXMuYnVzRGV2aWNlVHlwZURpYy5mb3JFYWNoKChkaWMpID0+IHsNCiAgICAvLyAgICAgICBsaXN0LnB1c2goZGljWyd6aC1DTiddKQ0KICAgIC8vICAgICB9KQ0KICAgIC8vICAgfQ0KICAgIC8vICAgcmV0dXJuIGxpc3QNCiAgICAvLyB9LA0KICAgIC8vIGJpZ1R5cGVMaXN0RGljKCkgew0KICAgIC8vICAgbGV0IGxpc3REaWMgPSB7fQ0KICAgIC8vICAgaWYgKHRoaXMuYnVzRGV2aWNlVHlwZURpYykgew0KICAgIC8vICAgICB0aGlzLmJ1c0RldmljZVR5cGVEaWMuZm9yRWFjaCgoZGljKSA9PiB7DQogICAgLy8gICAgICAgbGlzdERpY1tkaWNbJ3poLUNOJ11dID0gZGljLmNvZGUNCiAgICAvLyAgICAgfSkNCiAgICAvLyAgIH0NCiAgICAvLyAgIHJldHVybiBsaXN0RGljDQogICAgLy8gfSwNCiAgICAvLyAvLyDkuoznuqctLeiuvuaWveexu+Weiw0KICAgIC8vIHNtYWxsVHlwZU9iaigpIHsNCiAgICAvLyAgIGxldCBsaXN0RGljID0ge30NCiAgICAvLyAgIGlmICh0aGlzLmJ1c0RldmljZVR5cGVEaWMpIHsNCiAgICAvLyAgICAgdGhpcy5idXNEZXZpY2VUeXBlRGljLmZvckVhY2goKGRpYykgPT4gew0KICAgIC8vICAgICAgIGxldCBsaXN0ID0gW10NCiAgICAvLyAgICAgICBkaWMuY2hpbGQuZm9yRWFjaCgoc2Vjb25kKSA9PiB7DQogICAgLy8gICAgICAgICBsaXN0LnB1c2goc2Vjb25kWyd6aC1DTiddKQ0KICAgIC8vICAgICAgIH0pDQogICAgLy8gICAgICAgbGlzdERpY1tkaWNbJ3poLUNOJ11dID0gbGlzdA0KICAgIC8vICAgICB9KQ0KICAgIC8vICAgfQ0KICAgIC8vICAgcmV0dXJuIGxpc3REaWMNCiAgICAvLyB9LA0KICAgIC8vIHNtYWxsVHlwZURpYygpIHsNCiAgICAvLyAgIGxldCBsaXN0RGljID0ge30NCiAgICAvLyAgIGlmICh0aGlzLmJ1c0RldmljZVR5cGVEaWMpIHsNCiAgICAvLyAgICAgdGhpcy5idXNEZXZpY2VUeXBlRGljLmZvckVhY2goKGRpYykgPT4gew0KICAgIC8vICAgICAgIGRpYy5jaGlsZC5mb3JFYWNoKChzZWNvbmQpID0+IHsNCiAgICAvLyAgICAgICAgIGxpc3REaWNbc2Vjb25kWyd6aC1DTiddXSA9IHNlY29uZC5jb2RlDQogICAgLy8gICAgICAgfSkNCiAgICAvLyAgICAgfSkNCiAgICAvLyAgIH0NCiAgICAvLyAgIHJldHVybiBsaXN0RGljDQogICAgLy8gfSwNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmZsYXdzTWFuYWdlID0gdGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZmxhd3NNYW5hZ2UgLy/kuJrliqHlr7nosaHkuovku7bnsbvlnosNCiAgICBjb25zb2xlLmxvZygndGhpcy5mbGF3c01hbmFnZTogJywgdGhpcy5mbGF3c01hbmFnZSk7DQogICAgdGhpcy5mbGF3c01hbmFnZS5mb3JFYWNoKGl0ID0+IHsNCiAgICAgIHRoaXMuYmlnVHlwZUxpc3QucHVzaChpdFsnemgtQ04nXSkNCiAgICB9KQ0KICAgIC8vIOi3r+eUsei/h+adpe+8jOW4puedgOWPguaVsA0KICAgIHRoaXMub2JqSW5mbyA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm1zZw0KICAgIHRoaXMudG9rZW4gPSB0aGlzLiRyb3V0ZS5xdWVyeS50b2tlbg0KICAgIC8vIOWbnuWhq+S/oeaBrw0KICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgIHRoaXMuY29tbW9uRm9ybS5iaWdUeXBlID0gdGhpcy5vYmpJbmZvLmJpZ1R5cGUgfHwgJycNCiAgICAgIHRoaXMuY29tbW9uRm9ybS5zbWFsbFR5cGUgPSB0aGlzLm9iakluZm8uc21hbGxUeXBlIHx8ICcnDQogICAgICB0aGlzLmNvbW1vbkZvcm0uc21hbGxDb2RlID0gdGhpcy5vYmpJbmZvLmNvZGUgfHwgJycNCiAgICAgIHRoaXMuY29tbW9uRm9ybS5wb3NpdGlvbiA9DQogICAgICAgIHRoaXMub2JqSW5mby5yb2FkX25hbWUgfHwgW3RoaXMub2JqSW5mby5sbmcsIHRoaXMub2JqSW5mby5sYXRdLnRvU3RyaW5nKCkNCiAgICAgIC8vIOaPkOS6pOihqOWNleeUqOeahO+8jOS4jeWbnuWhq+aYvuekug0KICAgICAgdGhpcy5jb21tb25Gb3JtLmxuZyA9IHRoaXMub2JqSW5mby5sbmcNCiAgICAgIHRoaXMuY29tbW9uRm9ybS5sYXQgPSB0aGlzLm9iakluZm8ubGF0DQogICAgICB0aGlzLmNvbW1vbkZvcm0ucHJvcGVydGllcyA9IHRoaXMub2JqSW5mby5wcm9wZXJ0aWVzDQogICAgfSkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOWbvueJh+WkmuWqkuS9kw0KICAgIGZpbGVDaGFuZ2UocmVjYWxsLCBtYXJrLCByb3dJdGVtKSB7DQogICAgICBpZiAocmVjYWxsLnJlcykgew0KICAgICAgICBsZXQgZm9ybUZpbGUgPSB7DQogICAgICAgICAgZmlsZVVybDogcmVjYWxsLnJlcy5yZXN1bHREYXRhLnVybCwNCiAgICAgICAgICBmaWxlVHlwZTogcmVjYWxsLnJlcy5yZXN1bHREYXRhLnN1ZmZpeCwNCiAgICAgICAgICBmaWxlU2l6ZTogcmVjYWxsLnJlcy5yZXN1bHREYXRhLnNpemUsDQogICAgICAgICAgZmlsZUlkOiByZWNhbGwucmVzLnJlc3VsdERhdGEuaWQsDQogICAgICAgICAgbmFtZTogcmVjYWxsLnJlcy5yZXN1bHREYXRhLm9sZE5hbWUsDQogICAgICAgICAgdXJsOg0KICAgICAgICAgICAgcHJvY2Vzcy5lbnYuVlVFX0FQUF9USElSRF9SRVFVRVNUX1VSTCArDQogICAgICAgICAgICAnL21haW4vdXNlckNlbnRlckFwaS9GaWxlTWFuYWdlci9kb3dubG9hZC8nICsNCiAgICAgICAgICAgIHJlY2FsbC5yZXMucmVzdWx0RGF0YS5pZCwNCiAgICAgICAgICB1aWQ6IHJlY2FsbC5yZXMucmVzdWx0RGF0YS5pZCwNCiAgICAgICAgfQ0KICAgICAgICBpZiAobWFyayA9PSAn5YWs5YWxJykgew0KICAgICAgICAgIC8vIOWFrOWFseeahA0KICAgICAgICAgIHRoaXMuY29tbW9uRm9ybS5tZWRpYS5wdXNoKGZvcm1GaWxlKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIC8vIOavj+adoee8uumZt+eahA0KICAgICAgICAgIHJvd0l0ZW0ucHVzaChmb3JtRmlsZSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5paw5aKe55u45YWzDQogICAgLy8g5paw5aKe57y66Zm3IOWtkOihqOmhuQ0KICAgIGFkZFJvdygpIHsNCiAgICAgIGNvbnNvbGUubG9nKCdzdWJGb3Jtc+WJjTogJywgdGhpcy5zdWJGb3JtcykNCiAgICAgIHRoaXMuc3ViRm9ybXMucHVzaCh7DQogICAgICAgIGlkOiAodGhpcy5zdWJGb3JtSUQgKz0gMSksDQogICAgICAgIGRlZmVjdFR5cGU6ICcnLA0KICAgICAgICBub3RlOiAnJywgLy/lpIfms6gNCiAgICAgICAgcGljOiBbXSwNCiAgICAgIH0pDQogICAgfSwNCg0KICAgIC8vIOWPlua2iA0KICAgIGNvbmNsZSgpIHsNCiAgICAgIHRoaXMuY29tbW9uRm9ybS5tZWRpYS5mb3JFYWNoKChtKSA9PiB7DQogICAgICAgIHRoaXMuJHJlZnMuYXR0YWNobWVudC5yZW1vdmVGaWxlKG0pDQogICAgICB9KQ0KICAgICAgdGhpcy5hdHRhY2htZW50ID0gJycNCiAgICAgIHRoaXMucGljVXAgPSAnJw0KICAgICAgdGhpcy5zdWJGb3JtcyA9IFsNCiAgICAgIF0NCiAgICAgIHRoaXMuY29tbW9uRm9ybSA9IHsNCiAgICAgICAgZGVmZWN0RnJvbTogJ+W3oeajgCcsIC8v57y66Zm35p2l5rqQ77yM56e75Yqo56uv6buY6K6k5beh5qOADQogICAgICAgIGJpZ1R5cGU6ICcnLCAvL+S4muWKoeexu+Weiw0KICAgICAgICBzbWFsbFR5cGU6ICcnLCAvL+iuvuaWveexu+Weiw0KICAgICAgICBzbWFsbENvZGU6ICcnLCAvL+iuvuaWvee8luWPtw0KICAgICAgICBwb3NpdGlvbjogJycsIC8v57y66Zm35L2N572u77yMeHjot6/lsLHlpb3vvIznu4/nuqzluqbpnIDopoHkvYbkuI3nlKjmmL7npLoNCiAgICAgICAgbG5nOiAnJywNCiAgICAgICAgbGF0OiAnJywNCiAgICAgICAgcHJvcGVydGllczoge30sDQogICAgICAgIGRlc2NyaWJlOiAnJywgLy/njrDlnLrmj4/ov7ANCiAgICAgICAgbWVkaWE6IFtdLCAvL+WkmuWqkuS9k+mZhOS7tg0KICAgICAgfQ0KICAgICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSgpDQogICAgICB0aGlzLnVwVGltZSA9IHRpbWUudG9Mb2NhbGVTdHJpbmcoKQ0KICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQ0KICAgIH0sDQogICAgLy/mj5DkuqTliY0g5qCh6aqM5pyq6YCa6L+HDQogICAgb25GYWlsZWQoKSB7DQogICAgICBpZiAoDQogICAgICAgIHRoaXMuY29tbW9uRm9ybS5kZWZlY3RGcm9tID09ICcnIHx8DQogICAgICAgIHRoaXMuY29tbW9uRm9ybS5iaWdUeXBlID09ICcnIHx8DQogICAgICAgIHRoaXMuY29tbW9uRm9ybS5zbWFsbFR5cGUgPT0gJycNCiAgICAgICkgew0KICAgICAgICBjb25zb2xlLmxvZygndmNzZGZnaGpuZ2JjOiAnKTsNCiAgICAgICAgVG9hc3Qoew0KICAgICAgICAgIG1lc3NhZ2U6ICfor7fmo4Dmn6Xlv4Xloavkv6Hmga8nLA0KICAgICAgICAgIHBvc2l0aW9uOiAndG9wJywNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgfSwNCiAgICAvLyDmj5DkuqQNCiAgICBvblN1Ym1pdCgpIHsNCiAgICAgIFRvYXN0KHsNCiAgICAgICAgbWVzc2FnZTogJ+aPkOS6pOS4rScsDQogICAgICAgIHBvc2l0aW9uOiAndG9wJywNCiAgICAgIH0pDQogICAgICBpZiAoDQogICAgICAgIHRoaXMuY29tbW9uRm9ybS5kZWZlY3RGcm9tICE9ICcnICYmDQogICAgICAgIHRoaXMuY29tbW9uRm9ybS5iaWdUeXBlICE9ICcnICYmDQogICAgICAgIHRoaXMuY29tbW9uRm9ybS5zbWFsbFR5cGUgIT0gJycNCiAgICAgICkgew0KICAgICAgICB0aGlzLnN1YkZvcm1zLmZvckVhY2goKHNmKSA9PiB7DQogICAgICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgICAgIHRlbXBsYXRlQ29kZTogJ2RlZmVjdF90ZW1wbGF0ZScsDQogICAgICAgICAgICB0aXRsZTogJ+e8uumZt+aWsOWinicsIC8v6KGo5Y2V6aG55peg77yM5L2G5piv5o6l5Y+j5b+F5aGr5a2X5q61DQogICAgICAgICAgICBzeXNTb3VyY2U6ICdvdXR3b3JrJywNCiAgICAgICAgICAgIGNyZWF0ZVR5cGU6ICdBUFAnLA0KICAgICAgICAgICAgbG9uZ2l0dWRlOiB0aGlzLmNvbW1vbkZvcm0ubG5nLA0KICAgICAgICAgICAgbGF0aXR1ZGU6IHRoaXMuY29tbW9uRm9ybS5sYXQsDQogICAgICAgICAgICBxdWVzdGlvbkRlc2NyaWJlOiB0aGlzLmNvbW1vbkZvcm0uZGVzY3JpYmUsDQogICAgICAgICAgICBhZGRyZXNzOiB0aGlzLmNvbW1vbkZvcm0ucHJvcGVydGllcz8ucm9hZF9uYW1lIHx8ICcnLA0KICAgICAgICAgICAgZm9ybUpzb246IHsNCiAgICAgICAgICAgICAgdGFza19pZDogdGhpcy4kcm91dGUucXVlcnkudGFza0lkLCAvL+W3oeajgOS7u+WKoUlEDQogICAgICAgICAgICAgIGdyaWRJZDogdGhpcy5vYmpJbmZvLmdyaWRJZCwNCiAgICAgICAgICAgICAgZ3JpZE5hbWU6IHRoaXMub2JqSW5mby5ncmlkTmFtZSwNCiAgICAgICAgICAgICAgZGV2aWNlSWQ6IHRoaXMub2JqSW5mby5pZCwNCiAgICAgICAgICAgICAgZGV0YWlsOiB7DQogICAgICAgICAgICAgICAgaW1nOiBzZi5waWMsLy/mr4/mnaHorrDlvZXnmoTlm77niYcNCiAgICAgICAgICAgICAgICByZW1hcms6IHNmLm5vdGUsLy/mr4/mnaHorrDlvZXnmoQg5aSH5rOoDQogICAgICAgICAgICAgICAgZGVmZWN0VHlwZTogc2YuZGVmZWN0VHlwZQ0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICBmaWxlczogdGhpcy5jb21tb25Gb3JtLm1lZGlhLCAvL+WFrOWFsSDpmYTku7YNCiAgICAgICAgICAgICAgZGVmZWN0RnJvbTogdGhpcy5kZWZlY3RGcm9tTGlzdERpY1t0aGlzLmNvbW1vbkZvcm0uZGVmZWN0RnJvbV0sDQogICAgICAgICAgICAgICJkZXZpY2VUeXBlIjogW3RoaXMuY29tbW9uRm9ybS5iaWdUeXBlLCB0aGlzLmNvbW1vbkZvcm0uc21hbGxUeXBlXSwNCiAgICAgICAgICAgICAgZGV2aWNlQ29kZTogdGhpcy5jb21tb25Gb3JtLnNtYWxsQ29kZSwNCiAgICAgICAgICAgICAgLy8gImRldmljZURldGFpbCI6IHRoaXMuY29tbW9uRm9ybS5wcm9wZXJ0aWVzLA0KICAgICAgICAgICAgICBkZXZpY2VEZXRhaWw6IHsNCiAgICAgICAgICAgICAgICBsb25naXR1ZGU6IHRoaXMuY29tbW9uRm9ybS5sbmcsDQogICAgICAgICAgICAgICAgbGF0aXR1ZGU6IHRoaXMuY29tbW9uRm9ybS5sYXQsDQogICAgICAgICAgICAgICAgcm9hZF9uYW1lOiB0aGlzLmNvbW1vbkZvcm0ucHJvcGVydGllcz8ucm9hZF9uYW1lIHx8ICcnLA0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy53cGdIZWFkZXIgPSB7DQogICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgdGhpcy50b2tlbiwNCiAgICAgICAgICB9DQogICAgICAgICAgLy8g5o+Q5LqkDQogICAgICAgICAgbGV0IHRoYXQgPSB0aGlzDQogICAgICAgICAgYXhpb3Moew0KICAgICAgICAgICAgdXJsOg0KICAgICAgICAgICAgICBwcm9jZXNzLmVudi5WVUVfQVBQX1RISVJEX1JFUVVFU1RfVVJMICsNCiAgICAgICAgICAgICAgJy9tYWluL291dHdvcmthcGkvdGlja2V0Q2xpZW50L2NyZWF0ZScsDQogICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywNCiAgICAgICAgICAgIGRhdGE6IHBhcmFtcywNCiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMud3BnSGVhZGVyLA0KICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPSAyMDAgJiYgcmVzLmRhdGEuc3VjY2Vzcykgew0KICAgICAgICAgICAgICBUb2FzdC5zdWNjZXNzKHsNCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5o+Q5Lqk5oiQ5YqfJywNCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCwNCiAgICAgICAgICAgICAgICBvbkNsb3NlOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICB0aGF0LnN1YkZvcm1zLnNoaWZ0KCkNCiAgICAgICAgICAgICAgICAgIHRoYXQuJHJvdXRlci5nbygtMSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBUb2FzdC5lcnJvcih7DQogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aPkOS6pOWksei0pe+8jOivt+eojeWQjuWGjeivlScsDQogICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDANCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9KSAvL2ZvckVhY2jnu5PmnZ8NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIFRvYXN0KHsNCiAgICAgICAgICBtZXNzYWdlOiAn6K+35qOA5p+l5b+F5aGr5L+h5oGvJywNCiAgICAgICAgICBwb3NpdGlvbjogJ3RvcCcsDQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICAvLyDlvLnlh7rlk6rkuKrpgInmi6nlmagNCiAgICBjaG9vc2VQaWNrZXIoaXRlbSkgew0KICAgICAgdGhpcy5jb2x1bW5zID0gW10NCiAgICAgIHN3aXRjaCAoaXRlbSkgew0KICAgICAgICBjYXNlICfnvLrpmbfmnaXmupAnOg0KICAgICAgICAgIHRoaXMud2hpY2hQaWNrZXIgPSBpdGVtDQogICAgICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5kZWZlY3RGcm9tTGlzdA0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJ+S4muWKoeexu+Weiyc6DQogICAgICAgICAgdGhpcy53aGljaFBpY2tlciA9IGl0ZW0NCiAgICAgICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLmJpZ1R5cGVMaXN0DQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAn6K6+5pa957G75Z6LJzoNCiAgICAgICAgICB0aGlzLndoaWNoUGlja2VyID0gaXRlbQ0KICAgICAgICAgIC8vIHRoaXMuY29sdW1ucyA9IHRoaXMuc21hbGxUeXBlT2JqW3RoaXMuY29tbW9uRm9ybS5iaWdUeXBlXQ0KICAgICAgICAgIHRoaXMuY29sdW1ucyA9IHRoaXMuc21hbGxUeXBlTGlzdA0KICAgICAgICAgIGJyZWFrDQogICAgICAgIC8vIGNhc2UgJ+e8uumZt+exu+Weiyc6DQogICAgICAgIC8vICAgICB0aGlzLndoaWNoUGlja2VyID0gaXRlbQ0KICAgICAgICAvLyAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5kZWZlY3RUeXBlTGlzdA0KICAgICAgICAvLyAgICAgYnJlYWsNCiAgICAgIH0NCiAgICAgIHRoaXMuc2hvd1BpY2tlciA9IHRydWUNCiAgICB9LA0KICAgIC8vIOmAieaLqeWZqOmAieaLqQ0KICAgIG9uQ29uZmlybSh2YWx1ZSkgew0KICAgICAgc3dpdGNoICh0aGlzLndoaWNoUGlja2VyKSB7DQogICAgICAgIGNhc2UgJ+e8uumZt+adpea6kCc6DQogICAgICAgICAgdGhpcy5jb21tb25Gb3JtLmRlZmVjdEZyb20gPSB2YWx1ZQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJ+S4muWKoeexu+Weiyc6DQogICAgICAgICAgdGhpcy5jb21tb25Gb3JtLmJpZ1R5cGUgPSB2YWx1ZQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJ+iuvuaWveexu+Weiyc6DQogICAgICAgICAgdGhpcy5jb21tb25Gb3JtLnNtYWxsVHlwZSA9IHZhbHVlDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgLy8gY2FzZSAn57y66Zm357G75Z6LJzoNCiAgICAgICAgLy8gICAgIHRoaXMuc3ViRm9ybS5kZWZlY3RUeXBlID0gdmFsdWUNCiAgICAgICAgLy8gICAgIGJyZWFrDQogICAgICB9DQogICAgICB0aGlzLnNob3dQaWNrZXIgPSBmYWxzZQ0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmZyb20gPT0gJ2luc3AnKSB7DQogICAgICB0aGlzLmNvbW1vbkZvcm0uZGVmZWN0RnJvbSA9ICflt6Hmo4AnDQogICAgfSBlbHNlIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5mcm9tID09ICdtYWludGVuJykgew0KICAgICAgdGhpcy5jb21tb25Gb3JtLmRlZmVjdEZyb20gPSAn5YW75oqkJw0KICAgIH0NCiAgICB0aGlzLnVwUGVyc29uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImNzX3VzZXJGdWxsbmFtZSIpDQogICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSgpDQogICAgdGhpcy51cFRpbWUgPSB0aW1lLnRvTG9jYWxlU3RyaW5nKCkNCiAgfSwNCn0NCg=="},{"version":3,"sources":["addFlaws.vue"],"names":[],"mappings":";AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addFlaws.vue","sourceRoot":"src/views/FlawsManagement","sourcesContent":["<template>\r\n  <div class=\"add-container\">\r\n    <fm-nav-bar title=\"缺陷新增\" left-arrow @click-left=\"$router.go(-1)\"></fm-nav-bar>\r\n    <div class=\"content\">\r\n      <fm-form class=\"bigForm-container\" @submit=\"onSubmit\" @failed=\"onFailed\">\r\n        <!-- @submit=\"onSubmit\" -->\r\n        <fm-field readonly clickable required name=\"picker\" :value=\"commonForm.defectFrom\" label=\"缺陷来源\"\r\n          placeholder=\"缺陷来源\" suffix-icon=\"arrow\" @click=\"choosePicker('缺陷来源')\"\r\n          :rules=\"[{ required: true, message: '请填写缺陷来源' }]\" input-align=\"right\" />\r\n        <fm-field readonly clickable required name=\"picker\" :value=\"commonForm.bigType\" label=\"业务类型\" placeholder=\"业务类型\"\r\n          suffix-icon=\"arrow\" @click=\"choosePicker('业务类型')\" :rules=\"[{ required: true, message: '请填写业务类型' }]\"\r\n          input-align=\"right\" @change=\"commonForm.smallType = '';\" />\r\n        <fm-field readonly clickable required name=\"picker\" :value=\"commonForm.smallType\" label=\"设施类型\"\r\n          placeholder=\"设施类型\" suffix-icon=\"arrow\" @click=\"choosePicker('设施类型')\"\r\n          :rules=\"[{ required: true, message: '请填写设施类型' }]\" input-align=\"right\" />\r\n\r\n        <fm-popup :visible.sync=\"showPicker\" position=\"bottom\">\r\n          <fm-picker show-toolbar :columns=\"columns\" @confirm=\"onConfirm\" @cancel=\"showPicker = false\" />\r\n        </fm-popup>\r\n\r\n        <fm-field clearable v-model=\"commonForm.smallCode\" name=\"input\" label=\"设施编号\" placeholder=\"设施编号\"\r\n          input-align=\"right\" />\r\n        <fm-field v-model=\"commonForm.position\" name=\"input\" label=\"缺陷位置\" placeholder=\"缺陷位置\" input-align=\"right\" />\r\n        <!-- 新增一条缺陷 -->\r\n        <div class=\"subtable\" v-for=\"(item) in subForms\" :key=\"item.id\">\r\n          <img src=\"./img/link.png\" alt style=\"position: absolute;height: 34px;z-index: 2;top: -18px\" />\r\n          <img src=\"./img/link.png\" alt\r\n            style=\"position: absolute;height: 34px;z-index: 2;float: right;right: 5px; top: -18px\" />\r\n          <fm-form>\r\n            <!-- :value=\"subForm.defectType\"  :columns=\"defectTypeList\"-->\r\n            <fm-field v-model=\"item.defectType\" readonly clickable name=\"picker\" label=\"缺陷类型\" suffix-icon=\"arrow\"\r\n              placeholder=\"缺陷类型\" @click=\"showPickerDefect = true\" input-align=\"right\"></fm-field>\r\n            <fm-popup :visible.sync=\"showPickerDefect\" position=\"bottom\">\r\n              <fm-picker show-toolbar :columns=\"sEventsOptThird\"\r\n                @confirm=\"(val) => { item.defectType = val; showPickerDefect = false }\"\r\n                @cancel=\"showPickerDefect = false\" />\r\n            </fm-popup>\r\n\r\n            <fm-field v-model=\"item.note\" name=\"input\" label=\"备注\" placeholder=\"备注\" input-align=\"right\"></fm-field>\r\n\r\n            <uploader :wpgHeader=\"wpgHeader\" :token=\"token\" label=\"照片\" type=\"image\" v-model=\"picUp\" ref=\"picUp\"\r\n              @fileChange=\"(recall) => fileChange(recall, '', item.pic)\" style=\"width: 100%;\"></uploader>\r\n          </fm-form>\r\n        </div>\r\n        <fm-button native-type=\"button\" type=\"default\" icon=\"plus\" size=\"large\" @click=\"addRow\"\r\n          style=\"margin-left: 8px;width:96%\">新增缺陷</fm-button>\r\n        <fm-field v-model=\"commonForm.describe\" name=\"input\" label=\"现场描述\" placeholder=\"现场描述\" type=\"textarea\" rows=\"2\"\r\n          autosize maxlength=\"200\" show-word-limit input-align=\"right\" />\r\n\r\n        <!--多媒体附件等  -->\r\n        <uploader :wpgHeader=\"wpgHeader\" :token=\"token\" label=\"多媒体附件\" v-model=\"attachment\" ref=\"attachment\"\r\n          @fileChange=\"(recall) => fileChange(recall, '公共')\" style=\"width: 100%;\"></uploader>\r\n\r\n        <fm-field readonly v-model=\"upPerson\" name=\"input\" label=\"上报人\" placeholder=\"上报人\" input-align=\"right\" />\r\n        <fm-field readonly v-model=\"upTime\" name=\"input\" label=\"上报时间\" placeholder=\"上报时间\" input-align=\"right\" />\r\n      </fm-form>\r\n    </div>\r\n    <!-- <div class=\"btnArea\" style=\"margin-top:10px;display:flex;justify-content: space-around;\">\r\n      <fm-button type=\"default\" @click=\"concle\">取消</fm-button>\r\n      <fm-button type=\"primary\" :disabled=\"subForms.length < 1\" @click=\"onSubmit\">提交</fm-button>\r\n    </div> -->\r\n    <div class=\"bottom\">\r\n      <div class=\"bottom-div\">\r\n        <fm-button native-type=\"button\" type=\"default\" class=\"cancel\" @click=\"concle\">取消</fm-button>\r\n      </div>\r\n      <div class=\"bottom-div\">\r\n        <fm-button class=\"submit\" type=\"primary\" :disabled=\"subForms.length < 1\" @click=\"onSubmit\">提交</fm-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ENUM } from '@/store/State/stateTypes'\r\nimport Uploader from './upload/Uploader'\r\n// import Uploader from '@/components/upload/Uploader.vue'\r\nimport fileUpload from '@/components/fileUpload/index.vue'\r\nimport { Toast } from 'fawkes-mobile-lib'\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'addFlaws',\r\n  components: { [Toast.name]: Toast, Uploader, fileUpload },\r\n  data() {\r\n    return {\r\n      wpgHeader: {},\r\n      token: '',\r\n      picUp: '',\r\n      attachment: '',\r\n      fileList: [], // 图片多媒体\r\n      // 选择器\r\n      commonForm: {\r\n        defectFrom: '巡检', //缺陷来源，移动端默认巡检\r\n        bigType: '', //业务类型\r\n        smallType: '', //设施类型\r\n        smallCode: '', //设施编号\r\n        position: '', //缺陷位置，xx路就好，经纬度需要但不用显示\r\n        lng: '',\r\n        lat: '',\r\n        properties: {},\r\n        describe: '', //现场描述\r\n        media: [], //多媒体附件\r\n      },\r\n      upPerson: '',\r\n      upTime: '',\r\n      // value: '',\r\n      columns: [],\r\n      showPicker: false, //就一条次 选择器\r\n      showPickerDefect: false, //新增缺陷 可多次 选择器\r\n      whichPicker: '',\r\n      subFormID: 1,\r\n      subForms: [\r\n        {\r\n          id: 1,\r\n          defectType: '',\r\n          note: '', //备注\r\n          pic: [],\r\n        },\r\n      ],\r\n      bigTypeList: [],\r\n      flawsManage: [],//业务对象事件类型\r\n    }\r\n  },\r\n  computed: {\r\n    smallTypeList() {\r\n      let list = []\r\n      if (this.flawsManage) {\r\n        console.log(\"业务-对象\", this.flawsManage.find(it => it.code == this.commonForm.bigType)?.child);\r\n        this.flawsManage.find(it => it.code == this.commonForm.bigType)?.child.forEach(it => {\r\n          list.push(it['zh-CN'])\r\n        })\r\n        return list\r\n      } else {\r\n        return []\r\n      }\r\n\r\n    },\r\n    sEventsOpt() {\r\n      console.log(\"业务-对象\", this.flawsManage)\r\n      if (this.flawsManage) {\r\n        console.log(\"业务-对象\", this.flawsManage.find(it => it.code == this.commonForm.bigType)?.child);\r\n        return this.flawsManage.find(it => it.code == this.commonForm.bigType)?.child\r\n      } else {\r\n        return []\r\n      }\r\n    },\r\n    sEventsOptThird() {\r\n      if (this.commonForm.smallType != '' && this.sEventsOpt) {\r\n        console.log(\"业务-对象-事件\", this.sEventsOpt.find(it => it.code == this.commonForm.smallType)?.child);\r\n        let list = []\r\n        this.sEventsOpt.find(it => it.code == this.commonForm.smallType)?.child.forEach(dic => {\r\n          list.push(dic['zh-CN'])\r\n        })\r\n        return list\r\n      } else if (this.commonForm.smallType == '' && this.flawsManage) {\r\n        let sEventsOptThird = []\r\n        this.flawsManage.find(it => it.code == this.commonForm.bigType)?.child.forEach(it => {\r\n          it.child.forEach(v => {\r\n            sEventsOptThird.push(v)\r\n          })\r\n        });\r\n        console.log('sEventsOptThird: ', sEventsOptThird);\r\n        let list = []\r\n        sEventsOptThird.forEach(it => {\r\n          list.push(it.code)\r\n        })\r\n        return list\r\n      } else {\r\n        return []\r\n      }\r\n    },\r\n    // 缺陷来源\r\n    defectFromDic() {\r\n      console.log(\r\n        'this.$store.state[ENUM].defectFrom: ',\r\n        this.$store.state[ENUM].defectFrom\r\n      )\r\n      return this.$store.state[ENUM].defectFrom\r\n    },\r\n    defectFromList() {\r\n      let list = []\r\n      if (this.defectFromDic) {\r\n        this.defectFromDic.forEach((dic) => {\r\n          list.push(dic['zh-CN'])\r\n        })\r\n      }\r\n      return list\r\n    },\r\n    defectFromListDic() {\r\n      let listDic = {}\r\n      if (this.defectFromDic) {\r\n        this.defectFromDic.forEach((dic) => {\r\n          listDic[dic['zh-CN']] = dic.code\r\n        })\r\n      }\r\n      return listDic\r\n    },\r\n    // 缺陷类型\r\n    // faultTypesDic() {\r\n    //   console.log(\r\n    //     'this.$store.state[ENUM].pipeNetDefectTypes',\r\n    //     this.$store.state[ENUM].pipeNetDefectTypes\r\n    //   )\r\n    //   return this.$store.state[ENUM].pipeNetDefectTypes\r\n    // },\r\n    // defectTypeList() {\r\n    //   let list = []\r\n    //   if (this.faultTypesDic) {\r\n    //     if (\r\n    //       this.faultTypesDic.filter((it) =>\r\n    //         it['zh-CN'].includes(this.commonForm.smallType)\r\n    //       ).length > 0\r\n    //     ) {\r\n    //       this.faultTypesDic\r\n    //         .filter((it) => it['zh-CN'].includes(this.commonForm.smallType))[0]\r\n    //         .child.forEach((dic) => {\r\n    //           list.push(dic['zh-CN'])\r\n    //         })\r\n    //     }\r\n    //   }\r\n    //   return list\r\n    // },\r\n    // defectTypeListDic() {\r\n    //   let listDic = {}\r\n    //   if (this.faultTypesDic) {\r\n    //     this.faultTypesDic.forEach((dic) => {\r\n    //       listDic[dic['zh-CN']] = dic.code\r\n    //     })\r\n    //   }\r\n    //   return listDic\r\n    // },\r\n    // 系统字典虽叫defectType，但实际二级为 业务类型/设施类型\r\n    // 业务类型/设施类型\r\n    // busDeviceTypeDic() {\r\n    //   console.log(\r\n    //     'this.$store.state[ENUM].defectType: ',\r\n    //     this.$store.state[ENUM].defectType\r\n    //   )\r\n    //   return this.$store.state[ENUM].defectType\r\n    // },\r\n    // bigTypeList() {\r\n    //   let list = []\r\n    //   if (this.busDeviceTypeDic) {\r\n    //     this.busDeviceTypeDic.forEach((dic) => {\r\n    //       list.push(dic['zh-CN'])\r\n    //     })\r\n    //   }\r\n    //   return list\r\n    // },\r\n    // bigTypeListDic() {\r\n    //   let listDic = {}\r\n    //   if (this.busDeviceTypeDic) {\r\n    //     this.busDeviceTypeDic.forEach((dic) => {\r\n    //       listDic[dic['zh-CN']] = dic.code\r\n    //     })\r\n    //   }\r\n    //   return listDic\r\n    // },\r\n    // // 二级--设施类型\r\n    // smallTypeObj() {\r\n    //   let listDic = {}\r\n    //   if (this.busDeviceTypeDic) {\r\n    //     this.busDeviceTypeDic.forEach((dic) => {\r\n    //       let list = []\r\n    //       dic.child.forEach((second) => {\r\n    //         list.push(second['zh-CN'])\r\n    //       })\r\n    //       listDic[dic['zh-CN']] = list\r\n    //     })\r\n    //   }\r\n    //   return listDic\r\n    // },\r\n    // smallTypeDic() {\r\n    //   let listDic = {}\r\n    //   if (this.busDeviceTypeDic) {\r\n    //     this.busDeviceTypeDic.forEach((dic) => {\r\n    //       dic.child.forEach((second) => {\r\n    //         listDic[second['zh-CN']] = second.code\r\n    //       })\r\n    //     })\r\n    //   }\r\n    //   return listDic\r\n    // },\r\n  },\r\n  created() {\r\n    this.flawsManage = this.$store.state[ENUM].flawsManage //业务对象事件类型\r\n    console.log('this.flawsManage: ', this.flawsManage);\r\n    this.flawsManage.forEach(it => {\r\n      this.bigTypeList.push(it['zh-CN'])\r\n    })\r\n    // 路由过来，带着参数\r\n    this.objInfo = this.$route.query.msg\r\n    this.token = this.$route.query.token\r\n    // 回填信息\r\n    this.$nextTick(() => {\r\n      this.commonForm.bigType = this.objInfo.bigType || ''\r\n      this.commonForm.smallType = this.objInfo.smallType || ''\r\n      this.commonForm.smallCode = this.objInfo.code || ''\r\n      this.commonForm.position =\r\n        this.objInfo.road_name || [this.objInfo.lng, this.objInfo.lat].toString()\r\n      // 提交表单用的，不回填显示\r\n      this.commonForm.lng = this.objInfo.lng\r\n      this.commonForm.lat = this.objInfo.lat\r\n      this.commonForm.properties = this.objInfo.properties\r\n    })\r\n  },\r\n  methods: {\r\n    // 图片多媒体\r\n    fileChange(recall, mark, rowItem) {\r\n      if (recall.res) {\r\n        let formFile = {\r\n          fileUrl: recall.res.resultData.url,\r\n          fileType: recall.res.resultData.suffix,\r\n          fileSize: recall.res.resultData.size,\r\n          fileId: recall.res.resultData.id,\r\n          name: recall.res.resultData.oldName,\r\n          url:\r\n            process.env.VUE_APP_THIRD_REQUEST_URL +\r\n            '/main/userCenterApi/FileManager/download/' +\r\n            recall.res.resultData.id,\r\n          uid: recall.res.resultData.id,\r\n        }\r\n        if (mark == '公共') {\r\n          // 公共的\r\n          this.commonForm.media.push(formFile)\r\n        } else {\r\n          // 每条缺陷的\r\n          rowItem.push(formFile)\r\n        }\r\n      }\r\n    },\r\n    // 新增相关\r\n    // 新增缺陷 子表项\r\n    addRow() {\r\n      console.log('subForms前: ', this.subForms)\r\n      this.subForms.push({\r\n        id: (this.subFormID += 1),\r\n        defectType: '',\r\n        note: '', //备注\r\n        pic: [],\r\n      })\r\n    },\r\n\r\n    // 取消\r\n    concle() {\r\n      this.commonForm.media.forEach((m) => {\r\n        this.$refs.attachment.removeFile(m)\r\n      })\r\n      this.attachment = ''\r\n      this.picUp = ''\r\n      this.subForms = [\r\n      ]\r\n      this.commonForm = {\r\n        defectFrom: '巡检', //缺陷来源，移动端默认巡检\r\n        bigType: '', //业务类型\r\n        smallType: '', //设施类型\r\n        smallCode: '', //设施编号\r\n        position: '', //缺陷位置，xx路就好，经纬度需要但不用显示\r\n        lng: '',\r\n        lat: '',\r\n        properties: {},\r\n        describe: '', //现场描述\r\n        media: [], //多媒体附件\r\n      }\r\n      let time = new Date()\r\n      this.upTime = time.toLocaleString()\r\n      this.$router.go(-1)\r\n    },\r\n    //提交前 校验未通过\r\n    onFailed() {\r\n      if (\r\n        this.commonForm.defectFrom == '' ||\r\n        this.commonForm.bigType == '' ||\r\n        this.commonForm.smallType == ''\r\n      ) {\r\n        console.log('vcsdfghjngbc: ');\r\n        Toast({\r\n          message: '请检查必填信息',\r\n          position: 'top',\r\n        })\r\n        return false\r\n      }\r\n    },\r\n    // 提交\r\n    onSubmit() {\r\n      Toast({\r\n        message: '提交中',\r\n        position: 'top',\r\n      })\r\n      if (\r\n        this.commonForm.defectFrom != '' &&\r\n        this.commonForm.bigType != '' &&\r\n        this.commonForm.smallType != ''\r\n      ) {\r\n        this.subForms.forEach((sf) => {\r\n          let params = {\r\n            templateCode: 'defect_template',\r\n            title: '缺陷新增', //表单项无，但是接口必填字段\r\n            sysSource: 'outwork',\r\n            createType: 'APP',\r\n            longitude: this.commonForm.lng,\r\n            latitude: this.commonForm.lat,\r\n            questionDescribe: this.commonForm.describe,\r\n            address: this.commonForm.properties?.road_name || '',\r\n            formJson: {\r\n              task_id: this.$route.query.taskId, //巡检任务ID\r\n              gridId: this.objInfo.gridId,\r\n              gridName: this.objInfo.gridName,\r\n              deviceId: this.objInfo.id,\r\n              detail: {\r\n                img: sf.pic,//每条记录的图片\r\n                remark: sf.note,//每条记录的 备注\r\n                defectType: sf.defectType\r\n              },\r\n              files: this.commonForm.media, //公共 附件\r\n              defectFrom: this.defectFromListDic[this.commonForm.defectFrom],\r\n              \"deviceType\": [this.commonForm.bigType, this.commonForm.smallType],\r\n              deviceCode: this.commonForm.smallCode,\r\n              // \"deviceDetail\": this.commonForm.properties,\r\n              deviceDetail: {\r\n                longitude: this.commonForm.lng,\r\n                latitude: this.commonForm.lat,\r\n                road_name: this.commonForm.properties?.road_name || '',\r\n              },\r\n            },\r\n          }\r\n          this.wpgHeader = {\r\n            'Content-Type': 'application/json',\r\n            Authorization: 'Bearer ' + this.token,\r\n          }\r\n          // 提交\r\n          let that = this\r\n          axios({\r\n            url:\r\n              process.env.VUE_APP_THIRD_REQUEST_URL +\r\n              '/main/outworkapi/ticketClient/create',\r\n            method: 'post',\r\n            data: params,\r\n            headers: this.wpgHeader,\r\n          }).then((res) => {\r\n            if (res.status = 200 && res.data.success) {\r\n              Toast.success({\r\n                message: '提交成功',\r\n                duration: 1000,\r\n                onClose: () => {\r\n                  that.subForms.shift()\r\n                  that.$router.go(-1)\r\n                }\r\n              })\r\n            } else {\r\n              Toast.error({\r\n                message: '提交失败，请稍后再试',\r\n                duration: 2000\r\n              })\r\n            }\r\n          })\r\n        }) //forEach结束\r\n      } else {\r\n        Toast({\r\n          message: '请检查必填信息',\r\n          position: 'top',\r\n        })\r\n      }\r\n    },\r\n    // 弹出哪个选择器\r\n    choosePicker(item) {\r\n      this.columns = []\r\n      switch (item) {\r\n        case '缺陷来源':\r\n          this.whichPicker = item\r\n          this.columns = this.defectFromList\r\n          break\r\n        case '业务类型':\r\n          this.whichPicker = item\r\n          this.columns = this.bigTypeList\r\n          break\r\n        case '设施类型':\r\n          this.whichPicker = item\r\n          // this.columns = this.smallTypeObj[this.commonForm.bigType]\r\n          this.columns = this.smallTypeList\r\n          break\r\n        // case '缺陷类型':\r\n        //     this.whichPicker = item\r\n        //     this.columns = this.defectTypeList\r\n        //     break\r\n      }\r\n      this.showPicker = true\r\n    },\r\n    // 选择器选择\r\n    onConfirm(value) {\r\n      switch (this.whichPicker) {\r\n        case '缺陷来源':\r\n          this.commonForm.defectFrom = value\r\n          break\r\n        case '业务类型':\r\n          this.commonForm.bigType = value\r\n          break\r\n        case '设施类型':\r\n          this.commonForm.smallType = value\r\n          break\r\n        // case '缺陷类型':\r\n        //     this.subForm.defectType = value\r\n        //     break\r\n      }\r\n      this.showPicker = false\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.$route.query.from == 'insp') {\r\n      this.commonForm.defectFrom = '巡检'\r\n    } else if (this.$route.query.from == 'mainten') {\r\n      this.commonForm.defectFrom = '养护'\r\n    }\r\n    this.upPerson = localStorage.getItem(\"cs_userFullname\")\r\n    let time = new Date()\r\n    this.upTime = time.toLocaleString()\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n//隐藏滚动条\r\n&::-webkit-scrollbar {\r\n  display: none; //Chrome | Safari\r\n}\r\n\r\n.add-container {\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  .content {\r\n    width: 100%;\r\n    height: calc(100% - 250px);\r\n\r\n    .bigForm-container {\r\n      overflow: scroll;\r\n      width: 100%;\r\n      height: 100%;\r\n      background: #ffffff;\r\n\r\n      .subtable {\r\n        position: relative;\r\n        margin: 10px;\r\n        padding: 13px;\r\n        // background-color: aquamarine;\r\n        border-radius: 16px;\r\n        border: 1px solid #5195d0;\r\n      }\r\n    }\r\n  }\r\n\r\n  .bottom {\r\n    position: fixed;\r\n    bottom: 0px;\r\n    left: 0px;\r\n    width: 100%;\r\n    height: 136px;\r\n    background: #ffffff;\r\n\r\n    .bottom-div {\r\n      margin-top: 20px;\r\n      text-align: center;\r\n      width: 370px;\r\n      float: left;\r\n      height: 88px;\r\n      line-height: 88px;\r\n      font-size: 32px;\r\n      font-family: PingFangSC-Regular, PingFang SC;\r\n      font-weight: 400;\r\n\r\n      .cancel {\r\n        width: 90%;\r\n        border-radius: 44px;\r\n        border: 1px solid #1b67d8;\r\n        color: #1b67d8;\r\n      }\r\n\r\n      .submit {\r\n        width: 90%;\r\n        border-radius: 44px;\r\n        color: #ffffff;\r\n        background: #1b67d8;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}