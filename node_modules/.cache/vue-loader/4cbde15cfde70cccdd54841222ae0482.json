{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\Login\\index1.vue?vue&type=style&index=0&id=6bc051bf&lang=less&scoped=true","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\Login\\index1.vue","mtime":1708928163381},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQovZGVlcC8uZm0tZmllbGRfX2Vycm9yLW1lc3NhZ2Ugew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIHRvcDogODBweDsNCn0NCi9kZWVwLy5mbS1jZWxsIHsNCiAgb3ZlcmZsb3c6IHZpc2libGU7DQogICY6OmFmdGVyIHsNCiAgICBsZWZ0OiAwcHg7DQogICAgZGlzcGxheTogbm9uZTsNCiAgfQ0KfQ0KL2RlZXAvIC5mbS10YWJzIHsNCiAgcGFkZGluZy10b3A6IDMxcHg7DQogIHotaW5kZXg6IDE7DQp9DQouc3VmZml4LWljb24gew0KICBtYXJnaW4tbGVmdDogMTBweDsNCn0NCi9kZWVwLy5mbS1maWVsZF9fcHJlZml4LWljb24gew0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCn0NCi9kZWVwLy5mbS1maWVsZF9fc3VmZml4LWljb24gew0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCn0NCi5mbS1pY29uLWNsb3NlZC1leWU6YmVmb3JlIHsNCiAgd2lkdGg6IDM2cHg7DQogIGhlaWdodDogYXV0bzsNCn0NCi5mbS1pY29uLWV5ZS1vOmJlZm9yZSB7DQogIHdpZHRoOiAzNnB4Ow0KICBoZWlnaHQ6IGF1dG87DQp9DQoubmV3cy1pbWcgew0KICB3aWR0aDogMzJweDsNCiAgaGVpZ2h0OiAzMnB4Ow0KICBtYXJnaW4tcmlnaHQ6IDI0cHg7DQp9DQouc2VuZF9jb2RlIHsNCiAgZm9udC1zaXplOiAyOHB4Ow0KICBmb250LWZhbWlseTogUGluZ0ZhbmdTQy1TZW1pYm9sZCwgUGluZ0ZhbmcgU0M7DQogIGZvbnQtd2VpZ2h0OiA2MDA7DQogIGNvbG9yOiAjNUI5REZGOw0KICBsaW5lLWhlaWdodDogNDBweDsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgJjo6YmVmb3JlIHsNCiAgICBjb250ZW50OiAnJzsNCiAgICB3aWR0aDogMnB4Ow0KICAgIGhlaWdodDogMjFweDsNCiAgICBiYWNrZ3JvdW5kOiAjNWJjYmZmOw0KICAgIGJvcmRlci1yYWRpdXM6IDJweDsNCiAgICBtYXJnaW4tcmlnaHQ6IDMycHg7DQogIH0NCn0NCi5mbS1maWVsZCB7DQogIGJvcmRlci1yYWRpdXM6IDA7DQp9DQoubG9naW4tY29udGFpbmVyIHsNCiAgaGVpZ2h0OiAxMDAlOw0KICBiYWNrZ3JvdW5kOiB1cmwoJy4uLy4uL2Fzc2V0cy9pbWcvbG9naW4vbG9naW5fYmcucG5nJyk7DQogIGJhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlOw0KICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0Ow0KfQ0KLmxvZ28tY29udGFpbmVyIHsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogIHBhZGRpbmctdG9wOiAxNjRweDsNCiAgLmxvZ28tcGljIHsNCiAgICB3aWR0aDogMTIwcHg7DQogICAgaGVpZ2h0OiAxMjBweDsNCiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4uLy4uL2Fzc2V0cy9pbWcvbG9naW4vbmV3LWxvZ28ucG5nJyk7DQogICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsNCiAgICBiYWNrZ3JvdW5kLXNpemU6IDEwMCU7DQogIH0NCiAgLmxvZ28tdGl0bGUgew0KICAgIHdpZHRoOiAyNzlweDsNCiAgICBoZWlnaHQ6IDE4MXB4Ow0KICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnLi4vLi4vYXNzZXRzL2ltZy9sb2dpbi9sb2dpbi1sb2dvLnBuZycpOw0KICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7DQogICAgYmFja2dyb3VuZC1zaXplOiAxMDAlOw0KICAgIC8vIG1hcmdpbi10b3A6IDMycHg7DQogICAgLy8gZm9udC1zaXplOiA2MHB4Ow0KICAgIC8vIGZvbnQtZmFtaWx5OiBTb3VyY2VIYW5TYW5zQ04tQm9sZCwgU291cmNlSGFuU2Fuc0NOOw0KICAgIC8vIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgIC8vIGNvbG9yOiAjZmZmZmZmOw0KICAgIC8vIGxpbmUtaGVpZ2h0OiA5MHB4Ow0KICAgIC8vIGxldHRlci1zcGFjaW5nOiA4cHg7DQogICAgLy8gdGV4dC1zaGFkb3c6IDBweCA2cHggOHB4IHJnYmEoMSwgMTcsIDUwLCAwLjIpOw0KICAgIC8vIGJhY2tncm91bmQtY2xpcDogdGV4dDsNCiAgfQ0KfQ0KLnRpcCB7DQogIG1hcmdpbi1ib3R0b206IDQ0cHg7DQogIGZvbnQtc2l6ZTogMzZweDsNCiAgZm9udC13ZWlnaHQ6IDYwMDsNCn0NCi5mb3JtLWNvbnRhaW5lciB7DQogIHdpZHRoOiAxMDAlOw0KICBtYXJnaW46IDcycHggMCAwIDA7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgLy8gYmFja2dyb3VuZDogdXJsKCcuLi8uLi9hc3NldHMvaW1nL2xvZ2luL2xvZ2luX2Zvcm1fYmcucG5nJyk7DQogIC8vIGJhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlOw0KICAvLyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0Ow0KICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDE3M3B4KTsNCiAgJjo6YWZ0ZXJ7DQogICAgY29udGVudDogJyc7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHdpZHRoOiAyMDAlOw0KICAgIGhlaWdodDogMTAwJTsNCiAgICBsZWZ0OiAtNTAlOw0KICAgIHRvcDogMDsNCiAgICBib3JkZXItcmFkaXVzOiA1MCUgNTAlIDAgMDsNCiAgICBiYWNrZ3JvdW5kOiAjZmZmOw0KICAgIC8vIHotaW5kZXg6IDA7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgfQ0KICAvZGVlcC8gLmZtLXRhYnNfX25hdiB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7DQogICAgbWFyZ2luOiAwIDE0N3B4Ow0KICAgIC5mbS10YWIgew0KICAgICAgY29sb3I6IHJnYmEoMjUsIDI1LCAyNSwgMC40KTsNCiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgICBmb250LWZhbWlseTogUGluZ0ZhbmdTQy1TZW1pYm9sZCwgUGluZ0ZhbmcgU0M7DQogICAgfQ0KICAgIC5mbS10YWItLWFjdGl2ZSB7DQogICAgICBjb2xvcjogcmdiYSgyNSwgMjUsIDI1LCAxKTsNCiAgICB9DQogICAgLmZtLXRhYnNfX2xpbmUgew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgzMCwgMTA4LCAyMTgsIDEpOw0KICAgICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgICAgd2lkdGg6IDUwcHg7DQogICAgfQ0KICB9DQogIC5mb3JtLWNvbnRlbnQgew0KICAgIHBhZGRpbmc6IDAgNTBweDsNCiAgICBtYXJnaW4tdG9wOiA2OHB4Ow0KICAgIC5zdWItbWVudSB7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgIGNvbG9yOiAjOTk5OTk5Ow0KICAgICAgZm9udC1zaXplOiAyOHB4Ow0KICAgICAgbWFyZ2luLXRvcDogLTEzcHg7DQogICAgICAvZGVlcC8uZm0tY2hlY2tib3hfX2xhYmVsIHsNCiAgICAgICAgZm9udC1zaXplOiAyNHB4Ow0KICAgICAgICBmb250LWZhbWlseTogUGluZ0ZhbmdTQy1SZWd1bGFyLCBQaW5nRmFuZyBTQzsNCiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsNCiAgICAgICAgY29sb3I6ICM1NTU1NTU7DQogICAgICAgIGxpbmUtaGVpZ2h0OiAzM3B4Ow0KICAgICAgICBsZXR0ZXItc3BhY2luZzogMnB4Ow0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0KL2RlZXAvLmZtLWNoZWNrYm94X19pY29uIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsNCiAgaGVpZ2h0OiAyNHB4Ow0KICBib3JkZXItcmFkaXVzOiAzcHg7DQp9DQovZGVlcC8uZm0taWNvbiB7DQogIGJvcmRlcjogbm9uZTsNCiAgd2lkdGg6IDI0cHg7DQogIGhlaWdodDogMjRweDsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7ICANCn0NCi9kZWVwLyAuZm0taWNvbi1zdWNjZXNzOmJlZm9yZSB7DQogIGhlaWdodDogMjRweDsNCiAgZm9udC1zaXplOiAyNHB4Ow0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGxlZnQ6IC0xcHg7DQogIHRvcDogLTFweDsNCn0NCi9kZWVwLy5mbS1maWVsZF9fY29udHJvbCB7DQogIGNvbG9yOiAjQkRDM0NEICFpbXBvcnRhbnQ7DQogICY6OnBsYWNlaG9sZGVyIHsNCiAgICBjb2xvcjogI0JEQzNDRCAhaW1wb3J0YW50Ow0KICB9DQp9DQouZmllbGQtdXNlcm5hbWUsDQouZmllbGQtcHdkIHsNCiAgLy8gYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsNCiAgLy8gaGVpZ2h0OiA3NXB4Ow0KICBtYXJnaW4tYm90dG9tOiA1N3B4Ow0KICBiYWNrZ3JvdW5kOiAjRjFGNUZDOw0KICBib3JkZXItcmFkaXVzOiA0MnB4Ow0KICBoZWlnaHQ6IDg0cHg7DQogIGRpc3BsYXk6IGZsZXg7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIC9kZWVwLyAuZm0tY2VsbF9fdmFsdWUgew0KICAgIC5mbS1maWVsZF9fYm9keSB7DQogICAgICAuZm0taWNvbi1jbGVhciB7DQogICAgICAgICY6OmJlZm9yZSB7DQogICAgICAgICAgZm9udC1zaXplOiAyNHB4Ow0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9ICANCn0NCi5maWVsZC1wd2Qgew0KICAvZGVlcC8gLmZtLWNlbGxfX3ZhbHVlIHsNCiAgICAuZm0tZmllbGRfX2JvZHkgew0KICAgICAgLmZtLWljb24tY2xlYXIgew0KICAgICAgICAmOjpiZWZvcmUgew0KICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgICBib3R0b206IC0xMHB4Ow0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQp9DQouZmllbGQtYWN0aXZlIHsNCiAgL2RlZXAvLmZtLWZpZWxkX19jb250cm9sIHsNCiAgICBjb2xvcjogIzE5MTkxOSAhaW1wb3J0YW50Ow0KICB9DQp9DQoNCi5mb290ZXItY29udGFpbmVyIHsNCiAgcGFkZGluZy10b3A6IDI2MHB4Ow0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgLmxvZ28tZm9vdGVyIHsNCiAgICB3aWR0aDogMTM0cHg7DQogICAgaGVpZ2h0OiAyMHB4Ow0KICB9DQp9DQoNCi5sb2dpbi1idG4tY29udGFpbmVyIHsNCiAgbWFyZ2luOiAwIGF1dG87DQogIHBhZGRpbmctdG9wOiA2NHB4Ow0KICBoZWlnaHQ6IDgwcHg7DQogIC5sb2dpbi1idG4gew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIGhlaWdodDogMTAwJTsNCiAgICBmb250LXNpemU6IDMycHg7DQogICAgZm9udC1mYW1pbHk6IFBpbmdGYW5nU0MtUmVndWxhciwgUGluZ0ZhbmcgU0M7DQogICAgZm9udC13ZWlnaHQ6IDQwMDsNCiAgICBjb2xvcjogI2ZmZmZmZjsNCiAgICBsaW5lLWhlaWdodDogNDVweDsNCiAgICBib3JkZXItcmFkaXVzOiA0NHB4Ow0KICAgIGJvcmRlcjogbm9uZTsNCiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICMyNDdCRkQgMCUsICMzQUEwRUUgMTAwJSk7DQogIH0NCn0NCi5mbS1maWVsZC0tZXJyb3IgOjpwbGFjZWhvbGRlciB7DQogIGNvbG9yOiAjQkRDM0NEOw0KfQ0KL2RlZXAvIC5mbS1maWVsZC0tZXJyb3IgLmZtLWZpZWxkX19jb250cm9sLA0KLmZtLWZpZWxkLS1lcnJvciAuZm0tZmllbGRfX2NvbnRyb2w6OnBsYWNlaG9sZGVyIHsNCiAgY29sb3I6ICM5OTk5OTk7DQp9DQouZm0tZmllbGQgOjpwbGFjZWhvbGRlciB7DQogIGNvbG9yOiAjOTk5OTk5Ow0KfQ0K"},{"version":3,"sources":["index1.vue"],"names":[],"mappings":";AAgdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index1.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <!-- <change-lange></change-lange> -->\r\n    <div class=\"logo-container\">\r\n      <!-- <div class=\"logo-pic\"></div> -->\r\n      <span class=\"logo-title\"></span>\r\n    </div>\r\n    <!-- 表单登录 -->\r\n    <div class=\"form-container\">\r\n      <fm-tabs>\r\n        <fm-tab label=\"账号登录\">\r\n          <fm-form class=\"form-content\">\r\n            <fm-field\r\n              class=\"field-username\"\r\n              clearable\r\n              v-model=\"username\"\r\n              name=\"用户名\"\r\n              placeholder=\"请输入用户名\"\r\n              :rules=\"userRules\"\r\n              @focus=\"checkedField = 'user'\"\r\n              @blur=\"checkedField = null\"\r\n              clear-trigger=\"always\"\r\n              :class=\"checkedField == 'user' ? 'field-active' : ''\"\r\n            >\r\n              <template #prefix-icon>\r\n                <!-- <img\r\n                  v-if=\"checkedField == 'user'\"\r\n                  class=\"news-img\"\r\n                  :src=\"require('@/assets/img/login/user-checked.png')\"\r\n                /> -->\r\n                <img\r\n                  class=\"news-img\"\r\n                  :src=\"require('@/assets/img/login/user.png')\"\r\n                />\r\n              </template>\r\n            </fm-field>\r\n            <fm-field\r\n              class=\"field-pwd\"\r\n              clearable\r\n              v-model=\"password\"\r\n              :type=\"passwordType\"\r\n              name=\"密码\"\r\n              placeholder=\"请输入密码\"\r\n              :rules=\"pwdRules\"\r\n              @click-suffix-icon=\"viewPassword\"\r\n              @focus=\"checkedField = 'pwd'\"\r\n              @blur=\"checkedField = null\"\r\n              clear-trigger=\"always\"\r\n              :class=\"checkedField == 'pwd' ? 'field-active' : ''\"\r\n            >\r\n              <template #prefix-icon>\r\n                <img\r\n                  class=\"news-img\"\r\n                  :src=\"require('@/assets/img/login/password.png')\"\r\n                />\r\n              </template>\r\n              <template #suffix-icon v-if=\"showIcon\">\r\n                <fm-image\r\n                  v-if=\"passwordType == 'password'\"\r\n                  class=\"suffix-icon\"\r\n                  width=\"20\"\r\n                  height=\"20\"\r\n                  :src=\"require('@/assets/img/login/no-visible.png')\"\r\n                />\r\n                <fm-image\r\n                  v-else\r\n                  class=\"suffix-icon\"\r\n                  width=\"20\"\r\n                  height=\"20\"\r\n                  :src=\"require('@/assets/img/login/visible.png')\"\r\n                />\r\n                <!-- <i class=\"fm-icon fm-icon-eye-o suffix-icon\" v-if=\"passwordType == 'text'\"></i>\r\n          <i class=\"fm-icon fm-icon-closed-eye suffix-icon\" v-else></i> -->\r\n              </template>\r\n            </fm-field>\r\n            <div class=\"sub-menu\">\r\n              <fm-checkbox v-model=\"rememberMe\" shape=\"square\">{{\r\n                $t('login.RememberPassword')\r\n              }}</fm-checkbox>\r\n              <span @click=\"forgetPassword\">{{\r\n                $t('login.forgetPassword')\r\n              }}</span>\r\n            </div>\r\n            <div class=\"login-btn-container\">\r\n              <fm-button\r\n                class=\"login-btn\"\r\n                @click=\"onSubmit\"\r\n                block\r\n                type=\"primary\"\r\n                native-type=\"submit\"\r\n                >{{ $t('login.login') }}</fm-button\r\n              >\r\n            </div>\r\n          </fm-form>\r\n        </fm-tab>\r\n        <fm-tab label=\"手机登录\">\r\n          <fm-form class=\"form-content\">\r\n            <fm-field\r\n              class=\"field-username\"\r\n              clearable\r\n              v-model=\"phoneNumber\"\r\n              name=\"手机号码\"\r\n              placeholder=\"请输入手机号码\"\r\n              maxlength=\"11\"\r\n              :formatter=\"formatter\"\r\n              :rules=\"phoneRules\"\r\n              @focus=\"checkedField = 'phone'\"\r\n              @blur=\"checkedField = null\"\r\n              :class=\"checkedField == 'phone' ? 'field-active' : ''\"\r\n            >\r\n              <template #prefix-icon>\r\n                <img\r\n                  class=\"news-img\"\r\n                  :src=\"require('@/assets/img/login/phone.png')\"\r\n                />\r\n              </template>\r\n            </fm-field>\r\n            <fm-field\r\n              class=\"field-pwd\"\r\n              clearable\r\n              v-model=\"code\"\r\n              name=\"验证码\"\r\n              placeholder=\"请输入验证码\"\r\n              maxlength=\"50\"\r\n              :rules=\"codeRules\"\r\n              @focus=\"checkedField = 'code'\"\r\n              @blur=\"checkedField = null\"\r\n              :class=\"checkedField == 'code' ? 'field-active' : ''\"\r\n            >\r\n              <template #prefix-icon>\r\n                <img\r\n                  class=\"news-img\"\r\n                  :src=\"require('@/assets/img/login/验证码.png')\"\r\n                />\r\n              </template>\r\n              <template #button>\r\n                <div id=\"buttonDiv\" @click=\"getSMS\">\r\n                  <span v-if=\"countDown != -1 && countDown != -2\" class=\"send_code\">{{ countDown + 's重新获取' }}</span>\r\n                  <span v-if=\"countDown == -1 || countDown == -2 \" class=\"send_code\">{{ countDown == -1 ? '重新获取' : '获取验证码' }}</span>\r\n                  <!-- <span v-if=\"countDown == -1\">\r\n                    <fm-loading type=\"spinner\" />\r\n                  </span> -->\r\n                </div>\r\n              </template>\r\n            </fm-field>\r\n            <div class=\"login-btn-container\">\r\n              <fm-button\r\n                class=\"login-btn\"\r\n                @click=\"onSubmitPhone\"\r\n                block\r\n                type=\"primary\"\r\n                native-type=\"submit\"\r\n                >{{ $t('login.login') }}</fm-button\r\n              >\r\n            </div>\r\n          </fm-form>\r\n        </fm-tab>\r\n      </fm-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  Button,\r\n  NavBar,\r\n  Form,\r\n  Field,\r\n  Image,\r\n  Icon,\r\n  Checkbox,\r\n  Toast,\r\n} from 'fawkes-mobile-lib'\r\nimport { getSMSCaptcha } from './api'\r\nimport { encryptSM4 } from '@/utils/sm4'\r\nimport { GRANT_TYPE } from '@/settings'\r\nimport { mapGetters } from 'vuex'\r\nimport { SET_TEMP_USER, IS_LOGIN } from '@/store/Mutation/mutationTypes'\r\nimport { USER_LOGIN } from '@/store/Action/actionTypes'\r\nimport { loadLanguageAsync } from '@/utils/locale' //引入获取系统语言的方法\r\nimport { eventBackButton, exitApp } from '@/utils/app'\r\nimport md5 from 'js-md5'\r\n\r\nexport default {\r\n  name: 'login',\r\n  components: {\r\n    // changeLange,\r\n    [Button.name]: Button,\r\n    [NavBar.name]: NavBar,\r\n    [Form.name]: Form,\r\n    [Field.name]: Field,\r\n    [Image.name]: Image,\r\n    [Icon.name]: Icon,\r\n    [Checkbox.name]: Checkbox,\r\n  },\r\n  data() {\r\n    return {\r\n      countDown: -2, //用于记录当前获取短信的状态 -2：还未获取 -1：可再次获取 >0：获取后正在加载\r\n      username: '',\r\n      password: '',\r\n      phoneNumber: '',\r\n      code: '',\r\n      captcha_key: '',\r\n      errorParams: {},\r\n      smsLoading: false, // 获取验证码按钮是否处于加载状态\r\n      rememberMe: false,\r\n      showIcon: true,\r\n      passwordType: 'password',\r\n      checkedField: null,\r\n      userRules: [\r\n        {\r\n          required: true,\r\n          message: '用户名不能为空',\r\n          trigger: 'onBlur',\r\n        },\r\n      ],\r\n      pwdRules: [\r\n        {\r\n          required: true,\r\n          message: '密码不能为空',\r\n          trigger: 'onBlur',\r\n        },\r\n      ],\r\n      phoneRules: [\r\n        {\r\n          required: true,\r\n          message: '手机号码不能为空',\r\n          trigger: 'onBlur',          \r\n        }\r\n      ],\r\n      codeRules: [\r\n        {\r\n          required: true,\r\n          message: '验证码不能为空',\r\n          trigger: 'onBlur',          \r\n        }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['tempUser']),\r\n  },\r\n  watch: {\r\n    username(newUsername) {\r\n      // 清空用户名时密码也清空\r\n      if (!newUsername) {\r\n        this.password = ''\r\n        this.showIcon = true\r\n      }\r\n    },\r\n    phoneNumber(newValue, oldValue) {\r\n      //清空手机号码，验证码也清空\r\n      if (!newValue) {\r\n        this.code= ''\r\n      }\r\n    },\r\n    password(newPassword) {\r\n      // 清空密码时显示查看密码按钮\r\n      if (!newPassword) {\r\n        this.showIcon = true\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.rememberMe = this.$storage.get('rememberMe') === 'true'\r\n    if (this.rememberMe) {\r\n      this.username = this.$storage.get('username')\r\n      this.password = this.$storage.get('password')\r\n      this.showIcon = false\r\n      this.passwordType = 'password'\r\n    } else {\r\n      this.username = this.tempUser?.username\r\n      this.password = this.tempUser?.password\r\n    }\r\n    // 移除返回上一级路由事件，设置退出应用\r\n    document.removeEventListener('backbutton', this.$back, false)\r\n    document.addEventListener('backbutton', eventBackButton, false)\r\n  },\r\n  beforeDestroy() {\r\n    this.$store.commit(SET_TEMP_USER, {\r\n      password: this.password,\r\n      username: this.username,\r\n    })\r\n    // 恢复默认的返回上一级路由响应事件\r\n    document.removeEventListener('backbutton', eventBackButton, false)\r\n    document.removeEventListener('backbutton', exitApp, false)\r\n    document.addEventListener('backbutton', this.$back, false)\r\n  },\r\n  methods: {\r\n    formatter(value) {\r\n      //过滤除数字以外的字符\r\n      return value.replace(/[^\\d]/g,'')\r\n    },\r\n    onSubmitPhone() {\r\n      if (!this.phoneNumber) {\r\n        return Toast('手机号码不能为空')\r\n      }\r\n      if (!this.code) {\r\n        return Toast('验证码不能为空')\r\n      }\r\n      let loginData = this.getSMSLoginForm()\r\n      if (loginData.username && loginData.captcha_code) {\r\n        console.log\r\n        Toast.loading({\r\n          message: '登录中',\r\n          duration: 0,\r\n          forbidClick: true\r\n        });\r\n        this.$store\r\n          .dispatch(USER_LOGIN, loginData)\r\n          .then(() => {\r\n            this.$store.commit(IS_LOGIN, true)\r\n            this.$router.push('/tabBar')\r\n            console.log('/tabBAr')\r\n            if (!this.$storage.get('langList')) {\r\n              let key = this.$storage.get('i18nLocale')\r\n              let locale = this.$storage.get('i18nLocaleKey')\r\n              // loadLanguageAsync(key, locale, this)\r\n            }\r\n            this.updataStorage()\r\n          })\r\n          .finally(() => {\r\n            Toast.clear()\r\n            // this.$loading.hide()\r\n          })\r\n      }\r\n    },\r\n    getSMSLoginForm() {\r\n      const form = {}\r\n      form.grant_type = GRANT_TYPE.sms_captcha.code\r\n      form.username = this.phoneNumber\r\n      form.captcha_code = this.code\r\n      form.captcha_key = this.captcha_key\r\n      return form\r\n    },\r\n    viewPassword() {\r\n      if (this.passwordType == 'password') {\r\n        this.passwordType = 'text'\r\n      } else {\r\n        this.passwordType = 'password'\r\n      }\r\n    },\r\n    onSubmit() {\r\n      if (!this.username) {\r\n        return Toast('用户名不能为空')\r\n      }\r\n      if (!this.password) {\r\n        return Toast('密码不能为空')\r\n      }\r\n      const loginData = this.getLoginForm()\r\n      console.log(loginData, 'loginData222222')\r\n\r\n      if (loginData.password && loginData.username) {\r\n        // this.$loading.show({ title: '' })\r\n        Toast.loading({\r\n          message: '登录中',\r\n          duration: 0,\r\n          forbidClick: true\r\n        });\r\n        this.$store\r\n          .dispatch(USER_LOGIN, loginData)\r\n          .then(() => {\r\n            this.$store.commit(IS_LOGIN, true)\r\n            this.$router.push('/tabBar')\r\n            if (!this.$storage.get('langList')) {\r\n              let key = this.$storage.get('i18nLocale')\r\n              let locale = this.$storage.get('i18nLocaleKey')\r\n              // loadLanguageAsync(key, locale, this)\r\n            }\r\n            this.updataStorage()\r\n          })\r\n          .finally(() => {\r\n            Toast.clear()\r\n            // this.$loading.hide()\r\n          })\r\n      }\r\n    },\r\n    getLoginForm() {\r\n      const form = {}\r\n      form.grant_type = GRANT_TYPE.password.code\r\n      form.username = this.username\r\n      // if (this.showIcon) {\r\n      form.password = encryptSM4(this.password)\r\n      // form.password = md5(this.password)\r\n      // } else {\r\n      //   form.password = this.password\r\n      // }\r\n      return form\r\n    },\r\n    // 登录成功时更新缓存\r\n    updataStorage() {\r\n      this.$storage.set('username', this.username)\r\n      this.$storage.set('rememberMe', this.rememberMe)\r\n      if (this.rememberMe) {\r\n        this.$storage.set('password', this.password)\r\n      } else {\r\n        this.$storage.remove('password')\r\n      }\r\n      // 记录错误次数\r\n      this.errorParams[this.username] = 0\r\n      this.$storage.set('errorParams', JSON.stringify(this.errorParams))\r\n    },\r\n    goToSignUp() {\r\n      this.$router.push('/signup')\r\n    },\r\n    // 忘记密码\r\n    forgetPassword() {\r\n      this.$router.push('/forget')\r\n    },\r\n    //手机号验证规则\r\n    testPhone(str) {\r\n      const reg = /^1[3456789]\\d{9}$/\r\n      return reg.test(str)\r\n    },\r\n    //验证手机号\r\n    validPhone() {\r\n      if(!this.testPhone(this.phoneNumber)) {\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n    // 获取短信验证码\r\n    getSMS() {\r\n      if(!this.phoneNumber) return Toast('手机号码不能为空')\r\n      if(this.countDown < 0 && this.phoneNumber) {\r\n        if(!this.validPhone()) {\r\n          return Toast('格式错误')\r\n        }\r\n        this.smsLoading = true\r\n        getSMSCaptcha({ phone: this.phoneNumber })\r\n          .then((res) => {\r\n            console.log('getSMS res', res)\r\n            this.smsLoading = false\r\n            if (res.status) {\r\n              this.captcha_key = res.data\r\n              this.updataCountDown()\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            this.updataCountDown()\r\n          })\r\n      } else {\r\n        if (this.countDown < 0) {\r\n          \r\n        }\r\n      }\r\n    },\r\n    //更新获取短信验证码的时间\r\n    updataCountDown() {\r\n      this.smsLoading = false\r\n      this.countDown = 60\r\n      const count = setInterval(() => {\r\n        if (this.countDown == 0) {\r\n          clearInterval(count)\r\n          this.countDown = -1\r\n        } else {\r\n          this.countDown--\r\n        }\r\n      }, 1000)\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n/deep/.fm-field__error-message {\r\n  position: absolute;\r\n  top: 80px;\r\n}\r\n/deep/.fm-cell {\r\n  overflow: visible;\r\n  &::after {\r\n    left: 0px;\r\n    display: none;\r\n  }\r\n}\r\n/deep/ .fm-tabs {\r\n  padding-top: 31px;\r\n  z-index: 1;\r\n}\r\n.suffix-icon {\r\n  margin-left: 10px;\r\n}\r\n/deep/.fm-field__prefix-icon {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n/deep/.fm-field__suffix-icon {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.fm-icon-closed-eye:before {\r\n  width: 36px;\r\n  height: auto;\r\n}\r\n.fm-icon-eye-o:before {\r\n  width: 36px;\r\n  height: auto;\r\n}\r\n.news-img {\r\n  width: 32px;\r\n  height: 32px;\r\n  margin-right: 24px;\r\n}\r\n.send_code {\r\n  font-size: 28px;\r\n  font-family: PingFangSC-Semibold, PingFang SC;\r\n  font-weight: 600;\r\n  color: #5B9DFF;\r\n  line-height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  &::before {\r\n    content: '';\r\n    width: 2px;\r\n    height: 21px;\r\n    background: #5bcbff;\r\n    border-radius: 2px;\r\n    margin-right: 32px;\r\n  }\r\n}\r\n.fm-field {\r\n  border-radius: 0;\r\n}\r\n.login-container {\r\n  height: 100%;\r\n  background: url('../../assets/img/login/login_bg.png');\r\n  background-size: 100% 100%;\r\n  background-repeat: no-repeat;\r\n}\r\n.logo-container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  padding-top: 164px;\r\n  .logo-pic {\r\n    width: 120px;\r\n    height: 120px;\r\n    background-image: url('../../assets/img/login/new-logo.png');\r\n    background-repeat: no-repeat;\r\n    background-size: 100%;\r\n  }\r\n  .logo-title {\r\n    width: 279px;\r\n    height: 181px;\r\n    background-image: url('../../assets/img/login/login-logo.png');\r\n    background-repeat: no-repeat;\r\n    background-size: 100%;\r\n    // margin-top: 32px;\r\n    // font-size: 60px;\r\n    // font-family: SourceHanSansCN-Bold, SourceHanSansCN;\r\n    // font-weight: bold;\r\n    // color: #ffffff;\r\n    // line-height: 90px;\r\n    // letter-spacing: 8px;\r\n    // text-shadow: 0px 6px 8px rgba(1, 17, 50, 0.2);\r\n    // background-clip: text;\r\n  }\r\n}\r\n.tip {\r\n  margin-bottom: 44px;\r\n  font-size: 36px;\r\n  font-weight: 600;\r\n}\r\n.form-container {\r\n  width: 100%;\r\n  margin: 72px 0 0 0;\r\n  position: relative;\r\n  // background: url('../../assets/img/login/login_form_bg.png');\r\n  // background-size: 100% 100%;\r\n  // background-repeat: no-repeat;\r\n  height: calc(100% - 173px);\r\n  &::after{\r\n    content: '';\r\n    position: absolute;\r\n    width: 200%;\r\n    height: 100%;\r\n    left: -50%;\r\n    top: 0;\r\n    border-radius: 50% 50% 0 0;\r\n    background: #fff;\r\n    // z-index: 0;\r\n    overflow: hidden;\r\n  }\r\n  /deep/ .fm-tabs__nav {\r\n    background-color: transparent;\r\n    margin: 0 147px;\r\n    .fm-tab {\r\n      color: rgba(25, 25, 25, 0.4);\r\n      font-weight: 600;\r\n      font-family: PingFangSC-Semibold, PingFang SC;\r\n    }\r\n    .fm-tab--active {\r\n      color: rgba(25, 25, 25, 1);\r\n    }\r\n    .fm-tabs__line {\r\n      background: rgba(30, 108, 218, 1);\r\n      border-radius: 6px;\r\n      width: 50px;\r\n    }\r\n  }\r\n  .form-content {\r\n    padding: 0 50px;\r\n    margin-top: 68px;\r\n    .sub-menu {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      color: #999999;\r\n      font-size: 28px;\r\n      margin-top: -13px;\r\n      /deep/.fm-checkbox__label {\r\n        font-size: 24px;\r\n        font-family: PingFangSC-Regular, PingFang SC;\r\n        font-weight: 400;\r\n        color: #555555;\r\n        line-height: 33px;\r\n        letter-spacing: 2px;\r\n      }\r\n    }\r\n  }\r\n}\r\n/deep/.fm-checkbox__icon {\r\n  background-color: #f5f5f5;\r\n  height: 24px;\r\n  border-radius: 3px;\r\n}\r\n/deep/.fm-icon {\r\n  border: none;\r\n  width: 24px;\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;  \r\n}\r\n/deep/ .fm-icon-success:before {\r\n  height: 24px;\r\n  font-size: 24px;\r\n  position: absolute;\r\n  left: -1px;\r\n  top: -1px;\r\n}\r\n/deep/.fm-field__control {\r\n  color: #BDC3CD !important;\r\n  &::placeholder {\r\n    color: #BDC3CD !important;\r\n  }\r\n}\r\n.field-username,\r\n.field-pwd {\r\n  // background-color: #f5f5f5;\r\n  // height: 75px;\r\n  margin-bottom: 57px;\r\n  background: #F1F5FC;\r\n  border-radius: 42px;\r\n  height: 84px;\r\n  display: flex;\r\n  align-items: center;\r\n  /deep/ .fm-cell__value {\r\n    .fm-field__body {\r\n      .fm-icon-clear {\r\n        &::before {\r\n          font-size: 24px;\r\n        }\r\n      }\r\n    }\r\n  }  \r\n}\r\n.field-pwd {\r\n  /deep/ .fm-cell__value {\r\n    .fm-field__body {\r\n      .fm-icon-clear {\r\n        &::before {\r\n          position: absolute;\r\n          bottom: -10px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.field-active {\r\n  /deep/.fm-field__control {\r\n    color: #191919 !important;\r\n  }\r\n}\r\n\r\n.footer-container {\r\n  padding-top: 260px;\r\n  display: flex;\r\n  justify-content: center;\r\n  .logo-footer {\r\n    width: 134px;\r\n    height: 20px;\r\n  }\r\n}\r\n\r\n.login-btn-container {\r\n  margin: 0 auto;\r\n  padding-top: 64px;\r\n  height: 80px;\r\n  .login-btn {\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 32px;\r\n    font-family: PingFangSC-Regular, PingFang SC;\r\n    font-weight: 400;\r\n    color: #ffffff;\r\n    line-height: 45px;\r\n    border-radius: 44px;\r\n    border: none;\r\n    background: linear-gradient(90deg, #247BFD 0%, #3AA0EE 100%);\r\n  }\r\n}\r\n.fm-field--error ::placeholder {\r\n  color: #BDC3CD;\r\n}\r\n/deep/ .fm-field--error .fm-field__control,\r\n.fm-field--error .fm-field__control::placeholder {\r\n  color: #999999;\r\n}\r\n.fm-field ::placeholder {\r\n  color: #999999;\r\n}\r\n</style>\r\n"]}]}