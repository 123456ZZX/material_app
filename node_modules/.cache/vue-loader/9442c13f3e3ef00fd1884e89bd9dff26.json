{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\MeterReading\\TaskDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\MeterReading\\TaskDetail.vue","mtime":1705912800042},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgew0KICBOYXZCYXIsDQogIENlbGwsDQogIEZvcm0sDQogIEZpZWxkLA0KICBSYWRpb0dyb3VwLA0KICBSYWRpbywNCiAgTm90aWZ5LA0KICBUb2FzdA0KfSBmcm9tICdmYXdrZXMtbW9iaWxlLWxpYicNCmltcG9ydCB7IHF1ZXJ5VGFza0RldGFpbCwgZ2V0RGljdCwgY29tbWl0VGFzayB9IGZyb20gJy4vYXBpJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdSZXZlbnVlVGFza0RldGFpbCcsDQogIGNvbXBvbmVudHM6IHsNCiAgICBbTmF2QmFyLm5hbWVdOiBOYXZCYXIsDQogICAgW0NlbGwubmFtZV06IENlbGwsDQogICAgW0Zvcm0ubmFtZV06IEZvcm0sDQogICAgW0ZpZWxkLm5hbWVdOiBGaWVsZCwNCiAgICBbUmFkaW9Hcm91cC5uYW1lXTogUmFkaW9Hcm91cCwNCiAgICBbUmFkaW8ubmFtZV06IFJhZGlvLA0KICAgIFtOb3RpZnkubmFtZV06IE5vdGlmeSwNCiAgICBbVG9hc3QubmFtZV06IFRvYXN0DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNvcHlTdGF0dXM6ICcwJywNCiAgICAgIGJvb2tDb2RlOiBudWxsLA0KICAgICAgcGxhbkNvZGU6IG51bGwsDQogICAgICB1c2VySW5mbzoge30sDQogICAgICBtZXRlckNvZGVMaXN0OiBbXSwNCiAgICAgIG1ldGVySW5mb0xpc3Q6IFtdLA0KICAgICAgY3VyTWV0ZXJDb2RlOiAnJywNCiAgICAgIGN1ck1ldGVySW5mbzoge30sDQogICAgICAvL+Wtl+WFuA0KICAgICAgY29tcGFueURpY3Q6IFtdLA0KICAgICAgYnVzaW5lc3NDb21wYW55RGljdDogW10sDQogICAgICB3YXRlclR5cGVEaWN0OiBbXSwNCiAgICAgIG1ldGVyRGljdDogW10sDQogICAgICBtZXRlckJyYW5kRGljdDogW10NCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgZGlzYWJsZUNvbW1pdCgpIHsNCiAgICAgIGxldCBzdGF0ZSA9IHRoaXMuY3VyTWV0ZXJJbmZvLnN0YXRlDQogICAgICBsZXQgY3YgPSB0aGlzLmN1ck1ldGVySW5mby5jdXJWYWwNCiAgICAgIGxldCBjciA9IHRoaXMuY3VyTWV0ZXJJbmZvLnVudXN1YWxSZWFzb24NCiAgICAgIGlmIChzdGF0ZSA9PSAwKSB7DQogICAgICAgIGlmIChjdiA9PSAnJyB8fCBjdiA9PSBudWxsIHx8IGN2ID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmIChjciA9PSAnJyB8fCBjciA9PSBudWxsIHx8IGNyID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvL+aJq+aPj+adoeW9oueggQ0KICAgIC8vIHNjYW4oKSB7DQogICAgLy8gICBpZiAodHlwZW9mIHl1YW5jaHUgIT0gJ3VuZGVmaW5lZCcpIHsNCiAgICAvLyAgICAgeXVhbmNodS5zY2FubmVyLm9wZW5TY2FubmVyKChyZXMpID0+IHsNCiAgICAvLyAgICAgICBpZiAocmVzKSB7DQogICAgLy8gICAgICAgICAvLyDmoLnmja5pbWVp5Y+35p+l6K+i5oi36KGo5L+h5oGvDQogICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhyZXMpDQogICAgLy8gICAgICAgICAvLyBnZXRUYXNrRGV0YWlsKHJlcy5kYXRhLmd1ZXN0Tm8pDQogICAgLy8gICAgICAgfQ0KICAgIC8vICAgICB9KQ0KICAgIC8vICAgfSBlbHNlIHsNCiAgICAvLyAgIH0NCiAgICAvLyB9LA0KICAgIGdldFRhc2tEZXRhaWwoZ3Vlc3RObykgew0KICAgICAgdGhpcy51c2VySW5mbyA9IHt9DQogICAgICB0aGlzLmN1ck1ldGVyQ29kZSA9ICcnDQogICAgICB0aGlzLm1ldGVyQ29kZUxpc3QgPSBbXQ0KICAgICAgdGhpcy5jdXJNZXRlckluZm8gPSB7fQ0KICAgICAgdGhpcy5tZXRlckluZm9MaXN0ID0gW10NCiAgICAgIHF1ZXJ5VGFza0RldGFpbCh7IGd1ZXN0Tm8gfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGlmIChyZXMuZGF0YSkgew0KICAgICAgICAgIHRoaXMudXNlckluZm8gPSByZXMuZGF0YQ0KICAgICAgICAgIHRoaXMudXNlckluZm8uY29tcGFueSA9IHRoaXMuZmlsdGVyRGljdCgNCiAgICAgICAgICAgICdyZXZlbnVlX2NvbXBhbnknLA0KICAgICAgICAgICAgdGhpcy51c2VySW5mby5jb21wYW55DQogICAgICAgICAgKQ0KICAgICAgICAgIHRoaXMudXNlckluZm8uYnVzaW5lc3NDb21wYW55ID0gdGhpcy5maWx0ZXJEaWN0KA0KICAgICAgICAgICAgJ3BsYWNlX29mX2J1c2luZXNzJywNCiAgICAgICAgICAgIHRoaXMudXNlckluZm8uYnVzaW5lc3NDb21wYW55DQogICAgICAgICAgKQ0KICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGEud2F0ZXJNZXRlckxpc3QNCiAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICB0aGlzLm1ldGVySW5mb0xpc3QgPSBkYXRhDQogICAgICAgICAgICB0aGlzLmN1ck1ldGVySW5mbyA9IGRhdGFbMF0NCiAgICAgICAgICAgIHRoaXMuY3VyTWV0ZXJJbmZvLnVzaW5nV2F0ZXJUeXBlID0gdGhpcy5maWx0ZXJEaWN0KA0KICAgICAgICAgICAgICAnd2F0ZXJfdXNlX3R5cGUnLA0KICAgICAgICAgICAgICB0aGlzLmN1ck1ldGVySW5mby51c2luZ1dhdGVyVHlwZQ0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgdGhpcy5jdXJNZXRlckluZm8ud2F0ZXJNZXRlclR5cGUgPSB0aGlzLmZpbHRlckRpY3QoDQogICAgICAgICAgICAgICd3YXRlcl9tZXRlcl90eXBlJywNCiAgICAgICAgICAgICAgdGhpcy5jdXJNZXRlckluZm8ud2F0ZXJNZXRlclR5cGUNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIHRoaXMuY3VyTWV0ZXJJbmZvLndhdGVyTWV0ZXJCcmFuZCA9IHRoaXMuZmlsdGVyRGljdCgNCiAgICAgICAgICAgICAgJ3dhdGVyX21ldGVyX2JyYW5kJywNCiAgICAgICAgICAgICAgdGhpcy5jdXJNZXRlckluZm8ud2F0ZXJNZXRlckJyYW5kDQogICAgICAgICAgICApDQogICAgICAgICAgICB0aGlzLmN1ck1ldGVyQ29kZSA9IGRhdGFbMF0ubWV0ZXJOdW0NCiAgICAgICAgICAgIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICAgICAgICB0aGlzLm1ldGVyQ29kZUxpc3QucHVzaCh7DQogICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0ubWV0ZXJOdW0sDQogICAgICAgICAgICAgICAgdGV4dDogaXRlbS5tZXRlck51bQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kc2V0KHRoaXMuY3VyTWV0ZXJJbmZvLCAnc3RhdGUnLCAnMCcpDQogICAgICAgIHRoaXMuJHNldCh0aGlzLmN1ck1ldGVySW5mbywgJ3VudXN1YWxSZWFzb24nLCAnJykNCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+aaguWtmOWKoOi9veS/oeaBrw0KICAgIGdldFN0YWdpbmdEZXRhaWwoZ3Vlc3RObykgew0KICAgICAgdGhpcy51c2VySW5mbyA9IHt9DQogICAgICB0aGlzLmN1ck1ldGVyQ29kZSA9ICcnDQogICAgICB0aGlzLm1ldGVyQ29kZUxpc3QgPSBbXQ0KICAgICAgdGhpcy5jdXJNZXRlckluZm8gPSB7fQ0KICAgICAgdGhpcy5tZXRlckluZm9MaXN0ID0gW10NCiAgICAgIHF1ZXJ5VGFza0RldGFpbCh7IGd1ZXN0Tm8gfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGlmIChyZXMuZGF0YSkgew0KICAgICAgICAgIHRoaXMudXNlckluZm8gPSByZXMuZGF0YQ0KICAgICAgICAgIHRoaXMudXNlckluZm8uY29tcGFueSA9IHRoaXMuZmlsdGVyRGljdCgNCiAgICAgICAgICAgICdyZXZlbnVlX2NvbXBhbnknLA0KICAgICAgICAgICAgdGhpcy51c2VySW5mby5jb21wYW55DQogICAgICAgICAgKQ0KICAgICAgICAgIHRoaXMudXNlckluZm8uYnVzaW5lc3NDb21wYW55ID0gdGhpcy5maWx0ZXJEaWN0KA0KICAgICAgICAgICAgJ3BsYWNlX29mX2J1c2luZXNzJywNCiAgICAgICAgICAgIHRoaXMudXNlckluZm8uYnVzaW5lc3NDb21wYW55DQogICAgICAgICAgKQ0KICAgICAgICAgIGxldCBzYXZlZFRhc2tzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NhdmVkVGFza3MnKQ0KICAgICAgICAgIGxldCBhbGxUYXNrID0gc2F2ZWRUYXNrcyA/IEpTT04ucGFyc2Uoc2F2ZWRUYXNrcykgOiBbXQ0KICAgICAgICAgIGxldCBjdXJUYXNrID0gYWxsVGFzay5maWx0ZXIoKGl0ZW0pID0+IHsNCiAgICAgICAgICAgIHJldHVybiBpdGVtLnBsYW5Db2RlID09IHRoaXMucGxhbkNvZGUNCiAgICAgICAgICB9KQ0KICAgICAgICAgIGxldCBkYXRhID0gY3VyVGFza1swXS5wYXJhbUxpc3QNCiAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICB0aGlzLm1ldGVySW5mb0xpc3QgPSBkYXRhDQogICAgICAgICAgICB0aGlzLmN1ck1ldGVySW5mbyA9IGRhdGFbMF0NCiAgICAgICAgICAgIHRoaXMuY3VyTWV0ZXJDb2RlID0gZGF0YVswXS5tZXRlck51bQ0KICAgICAgICAgICAgZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgICAgICAgIHRoaXMubWV0ZXJDb2RlTGlzdC5wdXNoKHsNCiAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5tZXRlck51bSwNCiAgICAgICAgICAgICAgICB0ZXh0OiBpdGVtLm1ldGVyTnVtDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICB9KQ0KICAgIH0sDQogICAgLy/ngrnlh7vmsLTooajnvJblj7fliIfmjaLmsLTooagNCiAgICBjaGFuZ2VNZXRlckNvZGUoZSkgew0KICAgICAgbGV0IGFyciA9IHRoaXMubWV0ZXJJbmZvTGlzdC5maWx0ZXIoKGl0ZW0pID0+IHsNCiAgICAgICAgcmV0dXJuIGl0ZW0ubWV0ZXJOdW0gPT0gdGhpcy5jdXJNZXRlckNvZGUNCiAgICAgIH0pDQogICAgICB0aGlzLmN1ck1ldGVySW5mbyA9IGFyclswXQ0KICAgICAgbGV0IHN0YXRlID0gdGhpcy5jdXJNZXRlckluZm8uc3RhdGUgPyB0aGlzLmN1ck1ldGVySW5mby5zdGF0ZSA6ICcwJw0KICAgICAgbGV0IHVudXN1YWxSZWFzb24gPSB0aGlzLmN1ck1ldGVySW5mby51bnVzdWFsUmVhc29uDQogICAgICAgID8gdGhpcy5jdXJNZXRlckluZm8udW51c3VhbFJlYXNvbg0KICAgICAgICA6ICcnDQogICAgICB0aGlzLiRzZXQodGhpcy5jdXJNZXRlckluZm8sICdzdGF0ZScsIHN0YXRlKQ0KICAgICAgdGhpcy4kc2V0KHRoaXMuY3VyTWV0ZXJJbmZvLCAndW51c3VhbFJlYXNvbicsIHVudXN1YWxSZWFzb24pDQogICAgICB0aGlzLmN1ck1ldGVySW5mby51c2luZ1dhdGVyVHlwZSA9IHRoaXMuZmlsdGVyRGljdCgNCiAgICAgICAgJ3dhdGVyX3VzZV90eXBlJywNCiAgICAgICAgdGhpcy5jdXJNZXRlckluZm8udXNpbmdXYXRlclR5cGUNCiAgICAgICkNCiAgICAgIHRoaXMuY3VyTWV0ZXJJbmZvLndhdGVyTWV0ZXJUeXBlID0gdGhpcy5maWx0ZXJEaWN0KA0KICAgICAgICAnd2F0ZXJfbWV0ZXJfdHlwZScsDQogICAgICAgIHRoaXMuY3VyTWV0ZXJJbmZvLndhdGVyTWV0ZXJUeXBlDQogICAgICApDQogICAgICB0aGlzLmN1ck1ldGVySW5mby53YXRlck1ldGVyQnJhbmQgPSB0aGlzLmZpbHRlckRpY3QoDQogICAgICAgICd3YXRlcl9tZXRlcl9icmFuZCcsDQogICAgICAgIHRoaXMuY3VyTWV0ZXJJbmZvLndhdGVyTWV0ZXJCcmFuZA0KICAgICAgKQ0KICAgIH0sDQogICAgLy/ovpPlhaXmnKzmrKHor7vmlbDlkI7orqHnrpfnlKjmsLTph48NCiAgICAvKiBjaGVja0Nvc3RWYWwoKSB7DQogICAgICBsZXQgbGFzdFZhbCA9DQogICAgICAgIHRoaXMuY3VyTWV0ZXJJbmZvLmxhc3RWYWwgPT0gJycNCiAgICAgICAgICA/IDANCiAgICAgICAgICA6IHBhcnNlRmxvYXQodGhpcy5jdXJNZXRlckluZm8ubGFzdFZhbCkNCiAgICAgIGxldCBjdXJWYWwgPQ0KICAgICAgICB0aGlzLmN1ck1ldGVySW5mby5jdXJWYWwgPT0gJycNCiAgICAgICAgICA/IDANCiAgICAgICAgICA6IHBhcnNlRmxvYXQodGhpcy5jdXJNZXRlckluZm8uY3VyVmFsKQ0KICAgICAgbGV0IGNvc2VWYWwgPSBjdXJWYWwgLSBsYXN0VmFsDQogICAgICB0aGlzLmN1ck1ldGVySW5mby5jb3N0VmFsID0gY29zZVZhbA0KICAgICAgaWYgKGNvc2VWYWwgPCAwKSB7DQogICAgICAgIHRoaXMuY3VyTWV0ZXJJbmZvLnN0YXRlID0gJzEnDQogICAgICB9DQogICAgICB0aGlzLm1ldGVySW5mb0xpc3QuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICBpZiAoaXRlbS5yZWdpc3Rlck5vID09IHRoaXMuY3VyTWV0ZXJDb2RlKSB7DQogICAgICAgICAgaXRlbSA9IHRoaXMuY3VyTWV0ZXJJbmZvDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwgKi8NCiAgICBjaGFuZ2VNZXRlckluZm8oKSB7DQogICAgICB0aGlzLm1ldGVySW5mb0xpc3QuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICBpZiAoaXRlbS5tZXRlck51bSA9PSB0aGlzLmN1ck1ldGVyQ29kZSkgew0KICAgICAgICAgIGl0ZW0gPSB0aGlzLmN1ck1ldGVySW5mbw0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgb25TdWJtaXQoKSB7DQogICAgICBsZXQgcGFyYW1MaXN0ID0gW10NCiAgICAgIGxldCBjdXJUaW1lID0gdGhpcy5nZXRDdXJUaW1lKCkNCiAgICAgIGxldCB1aWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3NfdXNlcklkJykNCiAgICAgIHRoaXMubWV0ZXJJbmZvTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgIHBhcmFtTGlzdC5wdXNoKHsNCiAgICAgICAgICByZWFkaW5nVHlwZTogJ0NCJywNCiAgICAgICAgICByZWdpc3Rlck5vOiBpdGVtLnJlZ2lzdGVyTm8sDQogICAgICAgICAgbWV0ZXJSZWFkaW5nOiBpdGVtLnN0YXRlID09ICcwJyA/IGl0ZW0uY3VyVmFsIDogbnVsbCwNCiAgICAgICAgICBtZXRlclRpbWU6IGN1clRpbWUsDQogICAgICAgICAgcGxhbkNvZGU6IHRoaXMucGxhbkNvZGUsDQogICAgICAgICAgYm9va0NvZGU6IHRoaXMuYm9va0NvZGUsDQogICAgICAgICAgbGFzdFJlYWRpbmdJbmRleDogaXRlbS5tZXRlckluZGV4LA0KICAgICAgICAgIGxhc3RSZWFkaW5nVGltZTogaXRlbS5yZWFkaW5nVGltZSwNCiAgICAgICAgICBzdGF0ZTogaXRlbS5zdGF0ZSA9PSAnMCcgPyAnTk9STUFMJyA6ICdBQk5PUk1BTCcsDQogICAgICAgICAgdW51c3VhbFJlYXNvbjogaXRlbS51bnVzdWFsUmVhc29uLA0KICAgICAgICAgIHJlYWRpbmdQZXJzb246IHVpZA0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICAgIGxldCBub3RBbGwgPSBmYWxzZQ0KICAgICAgdGhpcy5tZXRlckluZm9MaXN0Lm1hcCgoaXRlbSkgPT4gew0KICAgICAgICBpZiAoIWl0ZW0uc3RhdGUpIHsNCiAgICAgICAgICBub3RBbGwgPSB0cnVlDQogICAgICAgICAgTm90aWZ5KHsNCiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywNCiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+WujOWWhOaJgOacieawtOihqOS/oeaBrycNCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGlmICgNCiAgICAgICAgICAgIGl0ZW0uc3RhdGUgPT0gJzAnICYmDQogICAgICAgICAgICAoaXRlbS5jdXJWYWwgPT0gJycgfHwNCiAgICAgICAgICAgICAgaXRlbS5jdXJWYWwgPT0gbnVsbCB8fA0KICAgICAgICAgICAgICBpdGVtLmN1clZhbCA9PSB1bmRlZmluZWQpDQogICAgICAgICAgKSB7DQogICAgICAgICAgICBub3RBbGwgPSB0cnVlDQogICAgICAgICAgICBOb3RpZnkoew0KICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsDQogICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLA0KICAgICAgICAgICAgICBtZXNzYWdlOiAn6K+35a6M5ZaE5omA5pyJ5rC06KGo5L+h5oGvJw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKA0KICAgICAgICAgICAgaXRlbS5zdGF0ZSA9PSAnMScgJiYNCiAgICAgICAgICAgIChpdGVtLnVudXN1YWxSZWFzb24gPT0gJycgfHwNCiAgICAgICAgICAgICAgaXRlbS51bnVzdWFsUmVhc29uID09IG51bGwgfHwNCiAgICAgICAgICAgICAgaXRlbS51bnVzdWFsUmVhc29uID09IHVuZGVmaW5lZCkNCiAgICAgICAgICApIHsNCiAgICAgICAgICAgIG5vdEFsbCA9IHRydWUNCiAgICAgICAgICAgIE5vdGlmeSh7DQogICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywNCiAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsDQogICAgICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnlvILluLjljp/lm6AnDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIGlmICghbm90QWxsKSB7DQogICAgICAgIGNvbW1pdFRhc2socGFyYW1MaXN0KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBpZiAocmVzLnN0YXR1cykgew0KICAgICAgICAgICAgaWYgKHRoaXMuY29weVN0YXR1cyA9PSAwKSB7DQogICAgICAgICAgICAgIGxldCBhbGwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbXlEb3dubG9hZFBsYW4nKQ0KICAgICAgICAgICAgICBsZXQgYWxsVGFzayA9IGFsbCA/IEpTT04ucGFyc2UoYWxsKSA6IFtdDQogICAgICAgICAgICAgIGxldCBvdGhlclRhc2tzID0gYWxsVGFzay5maWx0ZXIoKGl0ZW0pID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5wbGFuQ29kZSAhPSB0aGlzLnBsYW5Db2RlDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdteURvd25sb2FkUGxhbicpDQogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteURvd25sb2FkUGxhbicsIEpTT04uc3RyaW5naWZ5KG90aGVyVGFza3MpKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgbGV0IGFsbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzYXZlZFRhc2tzJykNCiAgICAgICAgICAgICAgbGV0IGFsbFRhc2sgPSBhbGwgPyBKU09OLnBhcnNlKGFsbCkgOiBbXQ0KICAgICAgICAgICAgICBsZXQgb3RoZXJUYXNrcyA9IGFsbFRhc2suZmlsdGVyKChpdGVtKSA9PiB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ucGxhbkNvZGUgIT0gdGhpcy5wbGFuQ29kZQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc2F2ZWRUYXNrcycpDQogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzYXZlZFRhc2tzJywgSlNPTi5zdHJpbmdpZnkob3RoZXJUYXNrcykpDQogICAgICAgICAgICB9DQogICAgICAgICAgICBOb3RpZnkoeyB0eXBlOiAnc3VjY2VzcycsIGR1cmF0aW9uOiA1MDAsIG1lc3NhZ2U6ICfmj5DkuqTmiJDlip8nIH0pDQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7DQogICAgICAgICAgICAgIG5hbWU6ICdUYXNrSW5kZXgnDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBOb3RpZnkoeyB0eXBlOiAnZXJyb3InLCBkdXJhdGlvbjogNTAwLCBtZXNzYWdlOiAn5o+Q5Lqk5aSx6LSlJyB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIHNhdmUoKSB7DQogICAgICBsZXQgYWxsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ215RG93bmxvYWRQbGFuJykNCiAgICAgIGxldCBzYXZlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzYXZlZFRhc2tzJykNCiAgICAgIGxldCBhbGxUYXNrID0gYWxsID8gSlNPTi5wYXJzZShhbGwpIDogW10NCiAgICAgIGxldCBzYXZlZFRhc2tzID0gc2F2ZWQgPyBKU09OLnBhcnNlKHNhdmVkKSA6IFtdDQogICAgICBsZXQgY3VyVGFzayA9IGFsbFRhc2suZmlsdGVyKChpdGVtKSA9PiB7DQogICAgICAgIHJldHVybiBpdGVtLnBsYW5Db2RlID09IHRoaXMucGxhbkNvZGUNCiAgICAgIH0pDQogICAgICBsZXQgb3RoZXJUYXNrcyA9IGFsbFRhc2suZmlsdGVyKChpdGVtKSA9PiB7DQogICAgICAgIHJldHVybiBpdGVtLnBsYW5Db2RlICE9IHRoaXMucGxhbkNvZGUNCiAgICAgIH0pDQogICAgICBsZXQgcGFyYW1MaXN0ID0gW10NCiAgICAgIHRoaXMubWV0ZXJJbmZvTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgIHBhcmFtTGlzdC5wdXNoKHsNCiAgICAgICAgICB3YXRlck1ldGVyQnJhbmQ6IGl0ZW0ud2F0ZXJNZXRlckJyYW5kLA0KICAgICAgICAgIGJvcmU6IGl0ZW0uYm9yZSwNCiAgICAgICAgICByZW1vdGVNb2R1bGVObzogaXRlbS5yZW1vdGVNb2R1bGVObywNCiAgICAgICAgICBtZXRlckluZGV4OiBpdGVtLm1ldGVySW5kZXgsDQogICAgICAgICAgY29ubmVjdGluZ1dlbGxObzogaXRlbS5jb25uZWN0aW5nV2VsbE5vLA0KICAgICAgICAgIHVzaW5nV2F0ZXJUeXBlOiBpdGVtLnVzaW5nV2F0ZXJUeXBlLA0KICAgICAgICAgIGluc3RhbGxBZGRyZXNzOiBpdGVtLmluc3RhbGxBZGRyZXNzLA0KICAgICAgICAgIHdhdGVyTWV0ZXJUeXBlOiBpdGVtLndhdGVyTWV0ZXJUeXBlLA0KICAgICAgICAgIHJlYWRpbmdUaW1lOiBpdGVtLnJlYWRpbmdUaW1lLA0KICAgICAgICAgIG1ldGVyTnVtOiBpdGVtLm1ldGVyTnVtLA0KICAgICAgICAgIHJlZ2lzdGVyTm86IGl0ZW0ucmVnaXN0ZXJObywNCiAgICAgICAgICBjdXJWYWw6IGl0ZW0uY3VyVmFsLA0KICAgICAgICAgIHBsYW5Db2RlOiB0aGlzLnBsYW5Db2RlLA0KICAgICAgICAgIGJvb2tDb2RlOiB0aGlzLmJvb2tDb2RlLA0KICAgICAgICAgIGxhc3RSZWFkaW5nSW5kZXg6IGl0ZW0ubWV0ZXJJbmRleCwNCiAgICAgICAgICBsYXN0UmVhZGluZ1RpbWU6IGl0ZW0ucmVhZGluZ1RpbWUsDQogICAgICAgICAgc3RhdGU6IGl0ZW0uc3RhdGUsDQogICAgICAgICAgdW51c3VhbFJlYXNvbjogaXRlbS51bnVzdWFsUmVhc29uDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgICAgY3VyVGFza1swXS5wYXJhbUxpc3QgPSBwYXJhbUxpc3QNCiAgICAgIHNhdmVkVGFza3MucHVzaCguLi5jdXJUYXNrKQ0KICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ215RG93bmxvYWRQbGFuJykNCiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzYXZlZFRhc2tzJykNCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteURvd25sb2FkUGxhbicsIEpTT04uc3RyaW5naWZ5KG90aGVyVGFza3MpKQ0KICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NhdmVkVGFza3MnLCBKU09OLnN0cmluZ2lmeShzYXZlZFRhc2tzKSkNCiAgICAgIE5vdGlmeSh7IHR5cGU6ICdzdWNjZXNzJywgZHVyYXRpb246IDUwMCwgbWVzc2FnZTogJ+aaguWtmOaIkOWKnycgfSkNCiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsNCiAgICAgICAgbmFtZTogJ1Rhc2tJbmRleCcNCiAgICAgIH0pDQogICAgfSwNCiAgICAvKuaJk+W8gOaWsOWinuW8guW4uOW3peWNlemhtemdoiovDQogICAgYWRkKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBuYW1lOiAnQ29tbW9uT25lRm9ybUluZGV4JywNCiAgICAgICAgcGFyYW1zOiB7IHR5cGU6ICdhZGQnIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+iOt+WPluexu+Wei+aJgOacieWtl+WFuA0KICAgIHF1ZXJ5RGljdChkaWN0VHlwZSkgew0KICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICAgICAgZ2V0RGljdChkaWN0VHlwZSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgaWYgKHJlcy5kYXRhKSB7DQogICAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+i/h+a7pOWtl+WFuA0KICAgIGZpbHRlckRpY3QodHlwZSwgZGV0YWlsKSB7DQogICAgICBpZiAoZGV0YWlsICE9PSBudWxsICYmIGRldGFpbCAhPT0gJycgJiYgZGV0YWlsICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgbGV0IGRpY3QgPSBbXQ0KICAgICAgICBpZiAodHlwZSA9PSAncmV2ZW51ZV9jb21wYW55Jykgew0KICAgICAgICAgIGRpY3QgPSB0aGlzLmNvbXBhbnlEaWN0DQogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAncGxhY2Vfb2ZfYnVzaW5lc3MnKSB7DQogICAgICAgICAgZGljdCA9IHRoaXMuYnVzaW5lc3NDb21wYW55RGljdA0KICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3dhdGVyX3VzZV90eXBlJykgew0KICAgICAgICAgIGRpY3QgPSB0aGlzLndhdGVyVHlwZURpY3QNCiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICd3YXRlcl9tZXRlcl90eXBlJykgew0KICAgICAgICAgIGRpY3QgPSB0aGlzLm1ldGVyRGljdA0KICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3dhdGVyX21ldGVyX2JyYW5kJykgew0KICAgICAgICAgIGRpY3QgPSB0aGlzLm1ldGVyQnJhbmREaWN0DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgZGljdCA9IFtdDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGRpY3QuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmRpY3RWYWx1ZSA9PT0gZGV0YWlsKVswXS5kaWN0TGFiZWwNCiAgICAgIH0NCiAgICAgIHJldHVybiAnJw0KICAgIH0sDQogICAgLy/ojrflj5blvZPliY3ml7bpl7QNCiAgICBnZXRDdXJUaW1lKCkgew0KICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpDQogICAgICBsZXQgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKQ0KICAgICAgbGV0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMQ0KICAgICAgbGV0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpDQogICAgICBsZXQgaG91ciA9IGRhdGUuZ2V0SG91cnMoKQ0KICAgICAgbGV0IG1pbnV0ZSA9IGRhdGUuZ2V0TWludXRlcygpDQogICAgICBsZXQgc2Vjb25kID0gZGF0ZS5nZXRTZWNvbmRzKCkNCiAgICAgIGxldCBjdXJUaW1lID0NCiAgICAgICAgeWVhciArDQogICAgICAgICctJyArDQogICAgICAgIChtb250aCA+PSAxMCA/IG1vbnRoIDogJzAnICsgbW9udGgpICsNCiAgICAgICAgJy0nICsNCiAgICAgICAgKGRheSA+PSAxMCA/IGRheSA6ICcwJyArIGRheSkgKw0KICAgICAgICAnICcgKw0KICAgICAgICAoaG91ciA+PSAxMCA/IGhvdXIgOiAnMCcgKyBob3VyKSArDQogICAgICAgICc6JyArDQogICAgICAgIChtaW51dGUgPj0gMTAgPyBtaW51dGUgOiAnMCcgKyBtaW51dGUpICsNCiAgICAgICAgJzonICsNCiAgICAgICAgc2Vjb25kDQogICAgICByZXR1cm4gY3VyVGltZQ0KICAgIH0NCiAgfSwNCg0KICBhc3luYyBhY3RpdmF0ZWQoKSB7DQogICAgVG9hc3QubG9hZGluZyh7DQogICAgICBtZXNzYWdlOiAn5Yqg6L295LitLi4uJywNCiAgICAgIGZvcmJpZENsaWNrOiB0cnVlDQogICAgfSkNCiAgICB0aGlzLmNvcHlTdGF0dXMgPSB0aGlzLiRyb3V0ZS5wYXJhbXMudHlwZQ0KICAgIHRoaXMucGxhbkNvZGUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucGxhbkNvZGUNCiAgICB0aGlzLmJvb2tDb2RlID0gdGhpcy4kcm91dGUucGFyYW1zLmJvb2tDb2RlDQogICAgbGV0IHRhc2tJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy50SWQNCiAgICB0aGlzLmNvbXBhbnlEaWN0ID0gYXdhaXQgdGhpcy5xdWVyeURpY3QoJ3JldmVudWVfY29tcGFueScpDQogICAgdGhpcy5idXNpbmVzc0NvbXBhbnlEaWN0ID0gYXdhaXQgdGhpcy5xdWVyeURpY3QoJ3BsYWNlX29mX2J1c2luZXNzJykNCiAgICB0aGlzLndhdGVyVHlwZURpY3QgPSBhd2FpdCB0aGlzLnF1ZXJ5RGljdCgnd2F0ZXJfdXNlX3R5cGUnKQ0KICAgIHRoaXMubWV0ZXJEaWN0ID0gYXdhaXQgdGhpcy5xdWVyeURpY3QoJ3dhdGVyX21ldGVyX3R5cGUnKQ0KICAgIHRoaXMubWV0ZXJCcmFuZERpY3QgPSBhd2FpdCB0aGlzLnF1ZXJ5RGljdCgnd2F0ZXJfbWV0ZXJfYnJhbmQnKQ0KICAgIGlmICh0aGlzLmNvcHlTdGF0dXMgPT0gMSkgew0KICAgICAgdGhpcy5nZXRTdGFnaW5nRGV0YWlsKHRhc2tJZCkNCiAgICB9IGVsc2Ugew0KICAgICAgdGhpcy5nZXRUYXNrRGV0YWlsKHRhc2tJZCkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["TaskDetail.vue"],"names":[],"mappings":";AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TaskDetail.vue","sourceRoot":"src/views/MeterReading","sourcesContent":["<template>\r\n  <div id='TaskDetail'>\r\n    <fm-nav-bar title='用户详情' left-arrow @click-left=\"$router.replace('/TaskIndex')\">\r\n      <!--      <template #right>-->\r\n      <!--        <i class=\"fm-icon fm-icon-scan rightIcon\" @click=\"scan\"></i>-->\r\n      <!--      </template>-->\r\n    </fm-nav-bar>\r\n    <div class='mainContainer'>\r\n      <fm-form @submit='onSubmit'>\r\n        <fm-cell-group>\r\n          <fm-cell>\r\n            <fm-field v-model='userInfo.guestNo' name='客户号' label='客户号' :readonly='true' />\r\n            <fm-field v-model='userInfo.name' name='姓名' label='姓名' :readonly='true' />\r\n            <fm-field v-model='userInfo.phoneOne' name='电话' label='电话' :readonly='true' />\r\n            <fm-field v-model='userInfo.address' name='地址' label='地址' :readonly='true' />\r\n            <fm-field v-model='userInfo.company' name='分公司' label='分公司' :readonly='true' />\r\n            <fm-field v-model='userInfo.businessCompany' name='营业所' label='营业所' :readonly='true' />\r\n          </fm-cell>\r\n          <fm-cell>\r\n            <fm-field v-model='curMeterInfo.meterNum' name='表号' label='表号'>\r\n              <template #input>\r\n                <fm-dropdown-menu :modal='false'>\r\n                  <fm-dropdown-item v-model='curMeterCode' :options='meterCodeList' @change='changeMeterCode' />\r\n                </fm-dropdown-menu>\r\n              </template>\r\n            </fm-field>\r\n            <fm-field v-model='curMeterInfo.waterMeterBrand' name='品牌' label='品牌' :readonly='true' />\r\n            <fm-field v-model='curMeterInfo.bore' name='口径' label='口径' :readonly='true' />\r\n            <fm-field v-model='curMeterInfo.waterMeterType' name='类型' label='类型' :readonly='true' />\r\n            <fm-field v-model='curMeterInfo.usingWaterType' name='用水性质' label='用水性质' :readonly='true' />\r\n            <fm-field v-model='curMeterInfo.remoteModuleNo' name='远传模块号' label='远传模块号' :readonly='true' />\r\n            <fm-field v-model='curMeterInfo.connectingWellNo' name='接驳井编号' label='接驳井编号' :readonly='true' />\r\n            <fm-field v-model='curMeterInfo.meterIndex' name='上次读数' label='上次读数' :readonly='true' />\r\n            <fm-field v-model='curMeterInfo.readingTime' name='上次抄表时间' label='上次抄表时间' :readonly='true' />\r\n            <fm-field v-model='curMeterInfo.curVal' name='本次读数' label='本次读数' :autofocus='true' type='number' required\r\n                      placeholder='请输入读数' v-show='curMeterInfo.state == 0' />\r\n            <!-- <fm-field v-model=\"curMeterInfo.costVal\" name=\"用水量\" label=\"用水量\" :readonly=\"true\" /> -->\r\n            <fm-field name='是否异常' label='是否异常'>\r\n              <template #input>\r\n                <fm-radio-group v-model='curMeterInfo.state' direction='horizontal'>\r\n                  <fm-radio name='1'>是</fm-radio>\r\n                  <fm-radio name='0'>否</fm-radio>\r\n                </fm-radio-group>\r\n              </template>\r\n            </fm-field>\r\n            <fm-field v-model='curMeterInfo.unusualReason' name='异常原因' label='异常原因' required placeholder='请输入异常原因'\r\n                      v-show='curMeterInfo.state == 1' @change='changeMeterInfo' />\r\n          </fm-cell>\r\n        </fm-cell-group>\r\n        <div class='btn-group'>\r\n          <fm-button round block type='primary' native-type='submit' v-if='copyStatus != 2' :disabled='disableCommit'>\r\n            提交\r\n          </fm-button>\r\n          <fm-button round block type='primary' @click='save' v-if='copyStatus == 0'>暂存</fm-button>\r\n        </div>\r\n      </fm-form>\r\n    </div>\r\n    <!-- 增加按钮 -->\r\n    <!--    <div class=\"bottom\" @click=\"add\" v-if=\"curMeterInfo.state == 1\">-->\r\n    <!--      <i class=\"fm-icon fm-icon-plus\"></i>-->\r\n    <!--    </div>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  NavBar,\r\n  Cell,\r\n  Form,\r\n  Field,\r\n  RadioGroup,\r\n  Radio,\r\n  Notify,\r\n  Toast\r\n} from 'fawkes-mobile-lib'\r\nimport { queryTaskDetail, getDict, commitTask } from './api'\r\n\r\nexport default {\r\n  name: 'RevenueTaskDetail',\r\n  components: {\r\n    [NavBar.name]: NavBar,\r\n    [Cell.name]: Cell,\r\n    [Form.name]: Form,\r\n    [Field.name]: Field,\r\n    [RadioGroup.name]: RadioGroup,\r\n    [Radio.name]: Radio,\r\n    [Notify.name]: Notify,\r\n    [Toast.name]: Toast\r\n  },\r\n  data() {\r\n    return {\r\n      copyStatus: '0',\r\n      bookCode: null,\r\n      planCode: null,\r\n      userInfo: {},\r\n      meterCodeList: [],\r\n      meterInfoList: [],\r\n      curMeterCode: '',\r\n      curMeterInfo: {},\r\n      //字典\r\n      companyDict: [],\r\n      businessCompanyDict: [],\r\n      waterTypeDict: [],\r\n      meterDict: [],\r\n      meterBrandDict: []\r\n    }\r\n  },\r\n  computed: {\r\n    disableCommit() {\r\n      let state = this.curMeterInfo.state\r\n      let cv = this.curMeterInfo.curVal\r\n      let cr = this.curMeterInfo.unusualReason\r\n      if (state == 0) {\r\n        if (cv == '' || cv == null || cv == undefined) {\r\n          return true\r\n        }\r\n      } else {\r\n        if (cr == '' || cr == null || cr == undefined) {\r\n          return true\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    //扫描条形码\r\n    // scan() {\r\n    //   if (typeof yuanchu != 'undefined') {\r\n    //     yuanchu.scanner.openScanner((res) => {\r\n    //       if (res) {\r\n    //         // 根据imei号查询户表信息\r\n    //         console.log(res)\r\n    //         // getTaskDetail(res.data.guestNo)\r\n    //       }\r\n    //     })\r\n    //   } else {\r\n    //   }\r\n    // },\r\n    getTaskDetail(guestNo) {\r\n      this.userInfo = {}\r\n      this.curMeterCode = ''\r\n      this.meterCodeList = []\r\n      this.curMeterInfo = {}\r\n      this.meterInfoList = []\r\n      queryTaskDetail({ guestNo }).then((res) => {\r\n        if (res.data) {\r\n          this.userInfo = res.data\r\n          this.userInfo.company = this.filterDict(\r\n            'revenue_company',\r\n            this.userInfo.company\r\n          )\r\n          this.userInfo.businessCompany = this.filterDict(\r\n            'place_of_business',\r\n            this.userInfo.businessCompany\r\n          )\r\n          let data = res.data.waterMeterList\r\n          if (data.length > 0) {\r\n            this.meterInfoList = data\r\n            this.curMeterInfo = data[0]\r\n            this.curMeterInfo.usingWaterType = this.filterDict(\r\n              'water_use_type',\r\n              this.curMeterInfo.usingWaterType\r\n            )\r\n            this.curMeterInfo.waterMeterType = this.filterDict(\r\n              'water_meter_type',\r\n              this.curMeterInfo.waterMeterType\r\n            )\r\n            this.curMeterInfo.waterMeterBrand = this.filterDict(\r\n              'water_meter_brand',\r\n              this.curMeterInfo.waterMeterBrand\r\n            )\r\n            this.curMeterCode = data[0].meterNum\r\n            data.forEach((item) => {\r\n              this.meterCodeList.push({\r\n                value: item.meterNum,\r\n                text: item.meterNum\r\n              })\r\n            })\r\n          }\r\n        }\r\n        this.$set(this.curMeterInfo, 'state', '0')\r\n        this.$set(this.curMeterInfo, 'unusualReason', '')\r\n      })\r\n    },\r\n    //暂存加载信息\r\n    getStagingDetail(guestNo) {\r\n      this.userInfo = {}\r\n      this.curMeterCode = ''\r\n      this.meterCodeList = []\r\n      this.curMeterInfo = {}\r\n      this.meterInfoList = []\r\n      queryTaskDetail({ guestNo }).then((res) => {\r\n        if (res.data) {\r\n          this.userInfo = res.data\r\n          this.userInfo.company = this.filterDict(\r\n            'revenue_company',\r\n            this.userInfo.company\r\n          )\r\n          this.userInfo.businessCompany = this.filterDict(\r\n            'place_of_business',\r\n            this.userInfo.businessCompany\r\n          )\r\n          let savedTasks = localStorage.getItem('savedTasks')\r\n          let allTask = savedTasks ? JSON.parse(savedTasks) : []\r\n          let curTask = allTask.filter((item) => {\r\n            return item.planCode == this.planCode\r\n          })\r\n          let data = curTask[0].paramList\r\n          if (data.length > 0) {\r\n            this.meterInfoList = data\r\n            this.curMeterInfo = data[0]\r\n            this.curMeterCode = data[0].meterNum\r\n            data.forEach((item) => {\r\n              this.meterCodeList.push({\r\n                value: item.meterNum,\r\n                text: item.meterNum\r\n              })\r\n            })\r\n          }\r\n        }\r\n\r\n      })\r\n    },\r\n    //点击水表编号切换水表\r\n    changeMeterCode(e) {\r\n      let arr = this.meterInfoList.filter((item) => {\r\n        return item.meterNum == this.curMeterCode\r\n      })\r\n      this.curMeterInfo = arr[0]\r\n      let state = this.curMeterInfo.state ? this.curMeterInfo.state : '0'\r\n      let unusualReason = this.curMeterInfo.unusualReason\r\n        ? this.curMeterInfo.unusualReason\r\n        : ''\r\n      this.$set(this.curMeterInfo, 'state', state)\r\n      this.$set(this.curMeterInfo, 'unusualReason', unusualReason)\r\n      this.curMeterInfo.usingWaterType = this.filterDict(\r\n        'water_use_type',\r\n        this.curMeterInfo.usingWaterType\r\n      )\r\n      this.curMeterInfo.waterMeterType = this.filterDict(\r\n        'water_meter_type',\r\n        this.curMeterInfo.waterMeterType\r\n      )\r\n      this.curMeterInfo.waterMeterBrand = this.filterDict(\r\n        'water_meter_brand',\r\n        this.curMeterInfo.waterMeterBrand\r\n      )\r\n    },\r\n    //输入本次读数后计算用水量\r\n    /* checkCostVal() {\r\n      let lastVal =\r\n        this.curMeterInfo.lastVal == ''\r\n          ? 0\r\n          : parseFloat(this.curMeterInfo.lastVal)\r\n      let curVal =\r\n        this.curMeterInfo.curVal == ''\r\n          ? 0\r\n          : parseFloat(this.curMeterInfo.curVal)\r\n      let coseVal = curVal - lastVal\r\n      this.curMeterInfo.costVal = coseVal\r\n      if (coseVal < 0) {\r\n        this.curMeterInfo.state = '1'\r\n      }\r\n      this.meterInfoList.forEach((item) => {\r\n        if (item.registerNo == this.curMeterCode) {\r\n          item = this.curMeterInfo\r\n        }\r\n      })\r\n    }, */\r\n    changeMeterInfo() {\r\n      this.meterInfoList.forEach((item) => {\r\n        if (item.meterNum == this.curMeterCode) {\r\n          item = this.curMeterInfo\r\n        }\r\n      })\r\n    },\r\n    onSubmit() {\r\n      let paramList = []\r\n      let curTime = this.getCurTime()\r\n      let uid = localStorage.getItem('cs_userId')\r\n      this.meterInfoList.forEach((item) => {\r\n        paramList.push({\r\n          readingType: 'CB',\r\n          registerNo: item.registerNo,\r\n          meterReading: item.state == '0' ? item.curVal : null,\r\n          meterTime: curTime,\r\n          planCode: this.planCode,\r\n          bookCode: this.bookCode,\r\n          lastReadingIndex: item.meterIndex,\r\n          lastReadingTime: item.readingTime,\r\n          state: item.state == '0' ? 'NORMAL' : 'ABNORMAL',\r\n          unusualReason: item.unusualReason,\r\n          readingPerson: uid\r\n        })\r\n      })\r\n      let notAll = false\r\n      this.meterInfoList.map((item) => {\r\n        if (!item.state) {\r\n          notAll = true\r\n          Notify({\r\n            type: 'warning',\r\n            duration: 1000,\r\n            message: '请完善所有水表信息'\r\n          })\r\n        } else {\r\n          if (\r\n            item.state == '0' &&\r\n            (item.curVal == '' ||\r\n              item.curVal == null ||\r\n              item.curVal == undefined)\r\n          ) {\r\n            notAll = true\r\n            Notify({\r\n              type: 'warning',\r\n              duration: 1000,\r\n              message: '请完善所有水表信息'\r\n            })\r\n          }\r\n          if (\r\n            item.state == '1' &&\r\n            (item.unusualReason == '' ||\r\n              item.unusualReason == null ||\r\n              item.unusualReason == undefined)\r\n          ) {\r\n            notAll = true\r\n            Notify({\r\n              type: 'warning',\r\n              duration: 1000,\r\n              message: '请填写异常原因'\r\n            })\r\n          }\r\n        }\r\n      })\r\n      if (!notAll) {\r\n        commitTask(paramList).then((res) => {\r\n          if (res.status) {\r\n            if (this.copyStatus == 0) {\r\n              let all = localStorage.getItem('myDownloadPlan')\r\n              let allTask = all ? JSON.parse(all) : []\r\n              let otherTasks = allTask.filter((item) => {\r\n                return item.planCode != this.planCode\r\n              })\r\n              localStorage.removeItem('myDownloadPlan')\r\n              localStorage.setItem('myDownloadPlan', JSON.stringify(otherTasks))\r\n            } else {\r\n              let all = localStorage.getItem('savedTasks')\r\n              let allTask = all ? JSON.parse(all) : []\r\n              let otherTasks = allTask.filter((item) => {\r\n                return item.planCode != this.planCode\r\n              })\r\n              localStorage.removeItem('savedTasks')\r\n              localStorage.setItem('savedTasks', JSON.stringify(otherTasks))\r\n            }\r\n            Notify({ type: 'success', duration: 500, message: '提交成功' })\r\n            this.$router.replace({\r\n              name: 'TaskIndex'\r\n            })\r\n          } else {\r\n            Notify({ type: 'error', duration: 500, message: '提交失败' })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    save() {\r\n      let all = localStorage.getItem('myDownloadPlan')\r\n      let saved = localStorage.getItem('savedTasks')\r\n      let allTask = all ? JSON.parse(all) : []\r\n      let savedTasks = saved ? JSON.parse(saved) : []\r\n      let curTask = allTask.filter((item) => {\r\n        return item.planCode == this.planCode\r\n      })\r\n      let otherTasks = allTask.filter((item) => {\r\n        return item.planCode != this.planCode\r\n      })\r\n      let paramList = []\r\n      this.meterInfoList.forEach((item) => {\r\n        paramList.push({\r\n          waterMeterBrand: item.waterMeterBrand,\r\n          bore: item.bore,\r\n          remoteModuleNo: item.remoteModuleNo,\r\n          meterIndex: item.meterIndex,\r\n          connectingWellNo: item.connectingWellNo,\r\n          usingWaterType: item.usingWaterType,\r\n          installAddress: item.installAddress,\r\n          waterMeterType: item.waterMeterType,\r\n          readingTime: item.readingTime,\r\n          meterNum: item.meterNum,\r\n          registerNo: item.registerNo,\r\n          curVal: item.curVal,\r\n          planCode: this.planCode,\r\n          bookCode: this.bookCode,\r\n          lastReadingIndex: item.meterIndex,\r\n          lastReadingTime: item.readingTime,\r\n          state: item.state,\r\n          unusualReason: item.unusualReason\r\n        })\r\n      })\r\n      curTask[0].paramList = paramList\r\n      savedTasks.push(...curTask)\r\n      localStorage.removeItem('myDownloadPlan')\r\n      localStorage.removeItem('savedTasks')\r\n      localStorage.setItem('myDownloadPlan', JSON.stringify(otherTasks))\r\n      localStorage.setItem('savedTasks', JSON.stringify(savedTasks))\r\n      Notify({ type: 'success', duration: 500, message: '暂存成功' })\r\n      this.$router.replace({\r\n        name: 'TaskIndex'\r\n      })\r\n    },\r\n    /*打开新增异常工单页面*/\r\n    add() {\r\n      this.$router.push({\r\n        name: 'CommonOneFormIndex',\r\n        params: { type: 'add' }\r\n      })\r\n    },\r\n    //获取类型所有字典\r\n    queryDict(dictType) {\r\n      return new Promise((resolve, reject) => {\r\n        getDict(dictType).then((res) => {\r\n          if (res.data) {\r\n            resolve(res.data)\r\n          }\r\n        })\r\n      })\r\n    },\r\n    //过滤字典\r\n    filterDict(type, detail) {\r\n      if (detail !== null && detail !== '' && detail !== undefined) {\r\n        let dict = []\r\n        if (type == 'revenue_company') {\r\n          dict = this.companyDict\r\n        } else if (type == 'place_of_business') {\r\n          dict = this.businessCompanyDict\r\n        } else if (type == 'water_use_type') {\r\n          dict = this.waterTypeDict\r\n        } else if (type == 'water_meter_type') {\r\n          dict = this.meterDict\r\n        } else if (type == 'water_meter_brand') {\r\n          dict = this.meterBrandDict\r\n        } else {\r\n          dict = []\r\n        }\r\n        return dict.filter((item) => item.dictValue === detail)[0].dictLabel\r\n      }\r\n      return ''\r\n    },\r\n    //获取当前时间\r\n    getCurTime() {\r\n      let date = new Date()\r\n      let year = date.getFullYear()\r\n      let month = date.getMonth() + 1\r\n      let day = date.getDate()\r\n      let hour = date.getHours()\r\n      let minute = date.getMinutes()\r\n      let second = date.getSeconds()\r\n      let curTime =\r\n        year +\r\n        '-' +\r\n        (month >= 10 ? month : '0' + month) +\r\n        '-' +\r\n        (day >= 10 ? day : '0' + day) +\r\n        ' ' +\r\n        (hour >= 10 ? hour : '0' + hour) +\r\n        ':' +\r\n        (minute >= 10 ? minute : '0' + minute) +\r\n        ':' +\r\n        second\r\n      return curTime\r\n    }\r\n  },\r\n\r\n  async activated() {\r\n    Toast.loading({\r\n      message: '加载中...',\r\n      forbidClick: true\r\n    })\r\n    this.copyStatus = this.$route.params.type\r\n    this.planCode = this.$route.params.planCode\r\n    this.bookCode = this.$route.params.bookCode\r\n    let taskId = this.$route.params.tId\r\n    this.companyDict = await this.queryDict('revenue_company')\r\n    this.businessCompanyDict = await this.queryDict('place_of_business')\r\n    this.waterTypeDict = await this.queryDict('water_use_type')\r\n    this.meterDict = await this.queryDict('water_meter_type')\r\n    this.meterBrandDict = await this.queryDict('water_meter_brand')\r\n    if (this.copyStatus == 1) {\r\n      this.getStagingDetail(taskId)\r\n    } else {\r\n      this.getTaskDetail(taskId)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n#TaskDetail {\r\n  height: 100%;\r\n  overflow: auto;\r\n  background-color: #ecf4ff !important;\r\n\r\n  /deep/ .fm-nav-bar__content {\r\n    background-color: #0676fd !important;\r\n    height: 1.8rem;\r\n  }\r\n\r\n  /deep/ .fm-nav-bar__title {\r\n    color: #ffffff !important;\r\n  }\r\n\r\n  /deep/ .fm-nav-bar .fm-icon {\r\n    color: #ffffff !important;\r\n  }\r\n\r\n  /deep/ .fm-cell {\r\n    background-color: #ecf4ff !important;\r\n  }\r\n\r\n  /deep/ .fm-dropdown-menu {\r\n    width: 100% !important;\r\n    background-color: #ecf4ff !important;\r\n  }\r\n\r\n  /deep/ .fm-dropdown-menu__bar {\r\n    background-color: #ecf4ff !important;\r\n    box-shadow: none !important;\r\n  }\r\n\r\n  /deep/ .fm-dropdown-menu__item {\r\n    align-items: flex-start;\r\n    justify-content: left !important;\r\n  }\r\n\r\n  .rightIcon {\r\n    color: #fff;\r\n    font-size: 55px;\r\n  }\r\n\r\n  .btn-group {\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    margin: 16px 16px 200px;\r\n  }\r\n\r\n  .bottom {\r\n    position: fixed;\r\n    bottom: 300px;\r\n    right: 44px;\r\n    background-color: #027aff;\r\n    width: 102px;\r\n    height: 102px;\r\n    line-height: 102px;\r\n    border-radius: 50%;\r\n    color: #fff;\r\n    z-index: 1000;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>\r\n"]}]}