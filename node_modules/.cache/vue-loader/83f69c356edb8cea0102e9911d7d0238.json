{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\ProblemReport\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\ProblemReport\\index.vue","mtime":1705912915811},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgTWFwQ29tcCBmcm9tICdAL2NvbXBvbmVudHMveGEtbWFwL2luZGV4LnZ1ZScNCmltcG9ydCBwcm9ibGVtTGlzdCBmcm9tICdAL3ZpZXdzL1Byb2JsZW1SZXBvcnQvcHJvYmxlbUxpc3QudnVlJw0KaW1wb3J0IG1hcGJveGdsIGZyb20gJ21hcGJveC1nbCcNCmltcG9ydCAnbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmNzcycNCmltcG9ydCBtYXBTdHlsZSBmcm9tICcuL21hcFN0eWxlJw0KaW1wb3J0IHBvcHVwIGZyb20gJy4vcG9wdXAnDQpjb25zdCBwb3B1cEl0ZW0gPSBWdWUuZXh0ZW5kKHBvcHVwKQ0KY29uc3QgbWFwT2JqID0gew0KICBtYXA6IG51bGwsDQogIG1hcEluc3RhbmNlOiBudWxsLA0KfQ0KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQppbXBvcnQgew0KICBOYXZCYXIsDQogIFNlYXJjaCwNCiAgVG9hc3QsDQogIENlbGwsDQogIENlbGxHcm91cCwNCiAgUHVsbFJlZnJlc2gsDQogIExpc3QsDQogIFNpZGViYXIsDQogIFNpZGViYXJJdGVtLA0KICBTd2lwZUNlbGwsDQogIEJ1dHRvbiwNCiAgTm90aWNlQmFyLA0KICBJY29uLA0KICBEaWFsb2csDQp9IGZyb20gJ2Zhd2tlcy1tb2JpbGUtbGliJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdJbnNwZWN0aW9uJywNCiAgY29tcG9uZW50czogew0KICAgIE1hcENvbXAsDQogICAgcHJvYmxlbUxpc3QsDQogICAgW05hdkJhci5uYW1lXTogTmF2QmFyLA0KICAgIFtTZWFyY2gubmFtZV06IFNlYXJjaCwNCiAgICBbVG9hc3QubmFtZV06IFRvYXN0LA0KICAgIFtDZWxsLm5hbWVdOiBDZWxsLA0KICAgIFtDZWxsR3JvdXAubmFtZV06IENlbGxHcm91cCwNCiAgICBbUHVsbFJlZnJlc2gubmFtZV06IFB1bGxSZWZyZXNoLA0KICAgIFtMaXN0Lm5hbWVdOiBMaXN0LA0KICAgIFtTaWRlYmFyLm5hbWVdOiBTaWRlYmFyLA0KICAgIFtTaWRlYmFySXRlbS5uYW1lXTogU2lkZWJhckl0ZW0sDQogICAgW1N3aXBlQ2VsbC5uYW1lXTogU3dpcGVDZWxsLA0KICAgIFtCdXR0b24ubmFtZV06IEJ1dHRvbiwNCiAgICBbTm90aWNlQmFyLm5hbWVdOiBOb3RpY2VCYXIsDQogICAgW0ljb24ubmFtZV06IEljb24sDQogICAgW0RpYWxvZy5uYW1lXTogRGlhbG9nLA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBsbmdsYXQ6W10sDQogICAgICBjaG9zZVBvaW50OiBmYWxzZSwNCiAgICAgIG9iakluZm86IHt9LA0KICAgICAgYWNjZXNzVG9rZW46IHRoaXMuJHN0b3JhZ2UuZ2V0KCdhY2Nlc3NfdG9rZW4nKSwNCiAgICAgIGhlYWRlcjoge30sDQogICAgICBmb3JtVG9rZW46ICcnLA0KICAgICAgdGFibGVMaXN0OiBbXSwNCiAgICAgIGluc3BCdXNpbmVzc1R5cGU6ICcnLA0KICAgIH0NCiAgfSwNCiBjb21wdXRlZDogew0KICAgIGV2ZW50VHlwZUxpc3ROZXdGaWx0ZXJlZCgpIHsNCiAgICAgIGNvbnN0IHsgZGljdGlvbmFyeSwgZXZlbnRUeXBlTGlzdCwgdGFza0RldGFpbCB9ID0gdGhpcw0KICAgICAgbGV0IHRlbXAgPSBldmVudFR5cGVMaXN0LmZpbmQoKGl0ZW0pID0+IHsNCiAgICAgICAgcmV0dXJuIGl0ZW0ubGFiZWwgPT09IGRpY3Rpb25hcnlbdGFza0RldGFpbC5pbnNwQnVzaW5lc3NUeXBlXQ0KICAgICAgfSkNCiAgICAgIGlmICh0ZW1wKSB7DQogICAgICAgIHJldHVybiB0ZW1wLmNoaWxkcmVuDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gbnVsbA0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgLy8g6I635Y+WaGVhZGVy77yM5p+l6K+i5bel5Y2V55SoDQogICAgYXhpb3Moew0KICAgICAgLy8gdXJsOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luKycvbXlUaGlyZFVybC9tYWluL3VzZXJDZW50ZXJBcGkvc3NvL3Rva2VuQnlUb2tlbicsDQogICAgICB1cmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfVEhJUkRfUkVRVUVTVF9VUkwgKyAnL21haW4vdXNlckNlbnRlckFwaS9zc28vdG9rZW5CeVRva2VuJywNCiAgICAgIG1ldGhvZDogJ3Bvc3QnLA0KICAgICAgcGFyYW1zOiB7DQogICAgICAgIHRva2VuOiB0aGlzLmFjY2Vzc1Rva2VuLA0KICAgICAgfSwNCiAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgQXV0aG9yaXphdGlvbjogJ0Jhc2ljIGIzVjBkMjl5YXpwM2NHY3lNREl3JywNCiAgICAgIH0sDQogICAgfSkudGhlbigocmVzKSA9PiB7DQogICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgdGhpcy5mb3JtVG9rZW4gPSByZXMuZGF0YS5yZXN1bHREYXRhLnRva2VuDQogICAgICAgIHRoaXMuaGVhZGVyID0gew0KICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgdGhpcy5mb3JtVG9rZW4sDQogICAgICAgIH0NCiAgICAgICAgY29uc29sZS5sb2coJyB0aGlzLmhlYWRlcuafpeivouW3peWNleeUqCA6ICcsIHRoaXMuaGVhZGVyKQ0KICAgICAgICB0aGlzLmdldExpc3QxKCkgLy8g6I635Y+W5bel5Y2V5YiX6KGoLA0KICAgICAgfQ0KICAgIH0pDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgLy8gdGhpcy5pbml0TWFwKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOWcsOWbvuebuOWFsw0KICAgIHRvVGFyZ2V0KGxuZ2xhdCkgew0KICANCiAgICAgICAgaWYgKGxuZ2xhdC5sZW5ndGggPT0gMikgew0KICAgICAgICAgICAgd2luZG93LnhhTWFwLmZseVRvKHsNCiAgICAgICAgICAgICAgICBjZW50ZXI6IGxuZ2xhdCwNCiAgICAgICAgICAgICAgICB6b29tOiAxOSwNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygi5peg5L2N572u5L+h5oGvIikNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbWFwTG9hZGVkKCkgew0KICAgICAgd2luZG93LnhhTWFwLm9uKCdjbGljaycsIChlKSA9PiB7DQogICAgICAgIC8vIOiLpeS4umZ1bmN0aW8oZSl7IHRoaXPmmK90aGlzLndpbmRvdy54YU1hcH0NCiAgICAgICAgLy8gKGUpPT57IHRoaXPmmK90aGlzfQ0KICAgICAgICBjb25zb2xlLmxvZygnbWFwLWNsaWNrLWUnLCBlKQ0KICAgICAgICBjb25zb2xlLmxvZygnZS5sbmdMYXRuJywgZS5sbmdMYXQpDQogICAgICAgIHZhciBiYm94ID0gWw0KICAgICAgICAgIFtlLnBvaW50LnggLSAxLCBlLnBvaW50LnkgLSAxXSwNCiAgICAgICAgICBbZS5wb2ludC54ICsgMSwgZS5wb2ludC55ICsgMV0sDQogICAgICAgIF0NCiAgICAgICAgY29uc29sZS5sb2coJ2Jib3g6JywgYmJveCkNCiAgICAgICAgLy8gbWFwYm94IOi/lOWbnuafpeivouimgee0oOeahOWbvuWxguWxnuaApw0KICAgICAgICBsZXQgcXVlcnlmZWF0dXJlcyA9IHdpbmRvdy54YU1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoYmJveCwgew0KICAgICAgICAgIGxheWVyczogWw0KICAgICAgICAgICAgJ3JkX21hcF9kcmFpbnBpcGVfeXNfYmlnJywNCiAgICAgICAgICAgICdyZF9tYXBfZHJhaW5waXBlX3lzX3NtYWxsJywNCiAgICAgICAgICAgICdyZF9tYXBfZHJhaW5waXBlX3dzX3NtYWxsJywNCiAgICAgICAgICAgICdyZF9tYXBfZHJhaW5waXBlX3dzX2JpZycsDQogICAgICAgICAgICAncmRfbWFwX291dGZhbGwnLA0KICAgICAgICAgICAgJ3JkX21hcF9nYXRlJywNCiAgICAgICAgICAgICdyZF9tYXBfbWFuaG9sZScsDQogICAgICAgICAgICAncmRfbWFwX2NvbWInLA0KICAgICAgICAgICAgJ21hcF9zdXBwbHlfZmlyZWh5ZHJhbnQnLA0KICAgICAgICAgICAgJ21hcF9zdXBwbHlfdmFsdmUnLA0KICAgICAgICAgICAgJ21hcF9zdXBwbHlfcGlwZV9kaXN0cmlidXRlJywNCiAgICAgICAgICAgICdtYXBfc3VwcGx5X3BpcGVfZGVsaXZlcnknLA0KICAgICAgICAgICAgJ21hcF9zdXBwbHlfcGlwZV9jaXJjdWxhdGluZycsDQogICAgICAgICAgICAnbWFwX3N1cHBseV9ub2RlX2Rpc3RyaWJ1dGUnLA0KICAgICAgICAgICAgJ21hcF9zdXBwbHlfbm9kZV9kZWxpdmVyeScsDQogICAgICAgICAgICAnbWFwX3N1cHBseV9ub2RlX2NpcmN1bGF0aW5nJywNCiAgICAgICAgICAgICdtYXBfcmVjeWNsZV9waXBlJywNCiAgICAgICAgICAgICdtYXBfcmVjeWNsZV9ub2RlJywNCiAgICAgICAgICAgICdtYXBfd2F0ZXJ3b3JrJywNCiAgICAgICAgICBdLA0KICAgICAgICAgIC8vIGxheWVyczogbGF5ZXJzDQogICAgICAgIH0pDQogICAgICAgIGNvbnNvbGUubG9nKCfngrnpgIko5b6u55+p5b2iKeafpeivouWIsOeahHF1ZXJ5ZmVhdHVyZXM6JywgcXVlcnlmZWF0dXJlcykNCiAgICAgICAgLy8gY29uc29sZS5sb2coIueCuemAiSjlvq7nn6nlvaIp5p+l6K+i55qEcXVlcnlmZWF0dXJlczoiLCBxdWVyeWZlYXR1cmVzLnByb3BlcnRpZXMpDQogICAgICAgIC8vIHRoaXMuaGlnaHRMaWdodChxdWVyeWZlYXR1cmVzKS8vIOmrmOS6ruihqOagvOiusOW9le+8jOW5tumrmOS6ruWcsOWbvuimgee0oA0KICAgICAgICB0aGlzLm9iakluZm8gPSB7fSAvL+WFiOe9ruepuuWGjei1i+WAvA0KICAgICAgICAvLyDngrnlh7vkvY3nva7nmoTnu4/nuqzluqYNCiAgICAgICAgdGhpcy5vYmpJbmZvLmxuZyA9IGUubG5nTGF0LmxuZw0KICAgICAgICB0aGlzLm9iakluZm8ubGF0ID0gZS5sbmdMYXQubGF0DQogICAgICAgIGlmIChxdWVyeWZlYXR1cmVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAvLyBxdWVyeWZlYXR1cmVzLmZvckVhY2goZiA9PiB7DQogICAgICAgICAgbGV0IGYgPSBxdWVyeWZlYXR1cmVzWzBdDQogICAgICAgICAgY29uc29sZS5sb2coJ2ZmZmY6ICcsIGYpDQogICAgICAgICAgLy8g54K55Ye76KaB57Sg55qE57uP57qs5bqm77yM5pyJ55qE6K+d6KaG55uW5o6J54K55Ye75L2N572u57uP57qs5bqmDQogICAgICAgICAgdGhpcy5vYmpJbmZvLmxuZyA9IGYucHJvcGVydGllcy5sb25naXR1ZGUgfHwgdGhpcy5vYmpJbmZvLmxuZw0KICAgICAgICAgIHRoaXMub2JqSW5mby5sYXQgPSBmLnByb3BlcnRpZXMubGF0aXR1ZGUgfHwgdGhpcy5vYmpJbmZvLmxhdA0KICAgICAgICAgIC8vIOimgee0oOaJgOWcqOWbvuWxgklE5ZKM5bGe5oCn5L+h5oGvDQogICAgICAgICAgdGhpcy5vYmpJbmZvLmxheWVySUQgPSBmLmxheWVyLmlkDQogICAgICAgICAgdGhpcy5vYmpJbmZvLmxheWVyVHlwZSA9IGYubGF5ZXIudHlwZQ0KICAgICAgICAgIHRoaXMub2JqSW5mby5wcm9wZXJ0aWVzID0gZi5wcm9wZXJ0aWVzDQogICAgICAgICAgLy8g5bqV5Zu+6KaB57SgbmFtZV9sb2NhbOaIluiuvuaWveimgee0oHJvYWRfbmFtZSxpZA0KICAgICAgICAgIHRoaXMub2JqSW5mby5uYW1lX2xvY2FsID0gZi5wcm9wZXJ0aWVzLm5hbWVfbG9jYWwNCiAgICAgICAgICB0aGlzLm9iakluZm8ucm9hZF9uYW1lID0gZi5wcm9wZXJ0aWVzLnJvYWRfbmFtZQ0KICAgICAgICAgIHRoaXMub2JqSW5mby5pZCA9IGYucHJvcGVydGllcy5pZA0KICAgICAgICAgIC8vIOimgee0oOWvueixoeexu+Wei++8iOS4muWKoeexu+Weiy/orr7mlr3nsbvlnovvvIkNCiAgICAgICAgICBzd2l0Y2ggKGYubGF5ZXIuaWQpIHsNCiAgICAgICAgICAgIC8vIOmbqOawtA0KICAgICAgICAgICAgY2FzZSAncmRfbWFwX2NvbWInOiAvL2NvbWLkuIDlrprmmK/pm6jmsLTlj6MNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn6Zuo5rC0Jw0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+mbqOawtOWPoycNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGNhc2UgJ3JkX21hcF9vdXRmYWxsJzogLy/mjpLmlL7lj6MgMS3pm6jmsLTvvJsgMi3msaHmsLTvvJsgMy3lkIjmtYHvvJsgNC3lhbbku5YNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSBmLnByb3BlcnRpZXMucGlwZV90eXBlDQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5o6S5pS+5Y+jJw0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAncmRfbWFwX21hbmhvbGUnOiAvL+ajgOafpeS6lSAgMS3pm6jmsLTvvJsyLeaxoeawtA0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9IGYucHJvcGVydGllcy5tYW5ob2xlX3R5cGUNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfmo4Dmn6XkupUnDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBjYXNlICdyZF9tYXBfZ2F0ZSc6IC8v6Ze46ZeoIDEt6Zuo5rC077ybIDIt5rGh5rC077ybIDMt5ZCI5rWB77ybIDQt5YW25LuWDQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gZi5wcm9wZXJ0aWVzLnBpcGVfdHlwZQ0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+mXuOmXqCcNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGNhc2UgJ3JkX21hcF9kcmFpbnBpcGVfeXNfYmlnJzoNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn6Zuo5rC0Jw0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+mbqOawtOeuoee6vycNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGNhc2UgJ3JkX21hcF9kcmFpbnBpcGVfeXNfc21hbGwnOg0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfpm6jmsLQnDQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6Zuo5rC0566h57q/Jw0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgLy8g5rGh5rC0DQogICAgICAgICAgICBjYXNlICdyZF9tYXBfZHJhaW5waXBlX3dzX2JpZyc6DQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+axoeawtCcNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfmsaHmsLTnrqHnur8nDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBjYXNlICdyZF9tYXBfZHJhaW5waXBlX3dzX3NtYWxsJzoNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn5rGh5rC0Jw0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+axoeawtOeuoee6vycNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIC8vIOe7meawtA0KICAgICAgICAgICAgY2FzZSAnbWFwX3N1cHBseV9maXJlaHlkcmFudCc6IC8v5raI54Gr5qCT5LiA5a6a5piv57uZ5rC0DQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+e7meawtCcNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfmtojngavmoJMnDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBjYXNlICdtYXBfc3VwcGx5X3ZhbHZlJzogLy/pmIDpl6h2YWx2ZeS4gOWumuaYr+e7meawtA0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfnu5nmsLQnDQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6ZiA6ZeoJw0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAnbWFwX3N1cHBseV9waXBlX2Rpc3RyaWJ1dGUnOiAvL+mFjeawtOeuoee6vw0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfnu5nmsLQnDQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6YWN5rC0566h57q/Jw0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAnbWFwX3N1cHBseV9waXBlX2RlbGl2ZXJ5JzogLy/ovpPmsLTnrqHnur8NCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAnc3VwcGx5Jw0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+i+k+awtOeuoee6vycNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGNhc2UgJ21hcF9zdXBwbHlfcGlwZV9jaXJjdWxhdGluZyc6IC8v5Zue5rC0566h57q/DQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+e7meawtCcNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICflm57msLTnrqHnur8nDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBjYXNlICdtYXBfd2F0ZXJ3b3JrJzogLy/kvpvmsLTljoINCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn57uZ5rC0Jw0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+S+m+awtOWOgicNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIC8vIOWGjeeUn+awtA0KICAgICAgICAgICAgY2FzZSAnbWFwX3JlY3ljbGVfcGlwZSc6IC8v5YaN55Sf5rC0566h57q/DQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+WGjeeUn+awtCcNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICdwaXBlbGluZScNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGNhc2UgJ21hcF93YXRlcndvcmsnOiAvL+WGjeeUn+awtOWOgg0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICflho3nlJ/msLQnDQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5YaN55Sf5rC05Y6CJw0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgIH0NCiAgICAgICAgICAvLyDorr7mlr3nvJblj7cNCiAgICAgICAgICB0aGlzLm9iakluZm8uY29kZSA9DQogICAgICAgICAgICBmLnByb3BlcnRpZXMubWFuaG9sZV9jb2RlIHx8DQogICAgICAgICAgICBmLnByb3BlcnRpZXMuZ2F0ZV9jb2RlIHx8DQogICAgICAgICAgICBmLnByb3BlcnRpZXMub3V0bGV0X2NvZGUgfHwNCiAgICAgICAgICAgIGYucHJvcGVydGllcy5jb21iX2NvZGUgfHwNCiAgICAgICAgICAgIGYucHJvcGVydGllcy52YWx2ZV9jb2RlIHx8DQogICAgICAgICAgICBmLnByb3BlcnRpZXMucHVtcF9zdGF0aW9uX2NvZGUgfHwNCiAgICAgICAgICAgIGYucHJvcGVydGllcy5wbGFudF9jb2RlIHx8DQogICAgICAgICAgICBmLnByb3BlcnRpZXMucHVtcF9jb2RlIHx8DQogICAgICAgICAgICBmLnByb3BlcnRpZXMuZmlyZV9jb2NrX2NvZGUgfHwNCiAgICAgICAgICAgIGYucHJvcGVydGllcy5zdGFydF9jb2RlICsgJywnICsgZi5wcm9wZXJ0aWVzLmVuZF9jb2RlIHx8DQogICAgICAgICAgICAnJw0KICAgICAgICAgIC8vIH0pDQogICAgICAgIH0NCiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMub2JqSW5mbzogJywgdGhpcy5vYmpJbmZvKQ0KICAgICAgICAvLyBwb3B1cA0KICAgICAgICBpZiAodGhpcy5jaG9zZVBvaW50KSB7DQogICAgICAgICAgbGV0IHBvcHVwSHRtbCA9ICc8ZGl2IGlkPSJiYXNlLWRldGFpbCI+PC9kaXY+Jw0KICAgICAgICAgIG5ldyBtYXBib3hnbC5Qb3B1cCgpDQogICAgICAgICAgICAuc2V0TG5nTGF0KFtlLmxuZ0xhdC5sbmcsIGUubG5nTGF0LmxhdF0pDQogICAgICAgICAgICAuc2V0SFRNTChwb3B1cEh0bWwpDQogICAgICAgICAgICAuYWRkVG8od2luZG93LnhhTWFwKQ0KICAgICAgICAgIG5ldyBwb3B1cEl0ZW0oew0KICAgICAgICAgICAgcHJvcHNEYXRhOiB7DQogICAgICAgICAgICAgIGRldGFpbElkOiA5OTk5OSwNCiAgICAgICAgICAgICAgbG5nOiBlLmxuZ0xhdC5sbmcudG9GaXhlZCgzKSwNCiAgICAgICAgICAgICAgbGF0OiBlLmxuZ0xhdC5sYXQudG9GaXhlZCgzKSwNCiAgICAgICAgICAgICAgYmlnVHlwZTogdGhpcy5vYmpJbmZvLmJpZ1R5cGUsDQogICAgICAgICAgICAgIHNtYWxsVHlwZTogdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSwNCiAgICAgICAgICAgICAgZGV2aWNlQ29kZTogdGhpcy5vYmpJbmZvLmNvZGUsDQogICAgICAgICAgICAgIGZ1bjogdGhpcy5lZGl0Rm9ybSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgfSkuJG1vdW50KCcjYmFzZS1kZXRhaWwnKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgaW5pdE1hcCgpIHsNCiAgICAgIG1hcGJveGdsLmFjY2Vzc1Rva2VuID0NCiAgICAgICAgJ3BrLmV5SjFJam9pT1RNME1EazBNamcySWl3aVlTSTZJbU5zTW5ObWRtVnJaREJyWkdNelpHNTBjSEp1ZFhKa2JXOGlmUS5DMHdLaEpnclRvRkpnTDhHSDVNOHJnJw0KICAgICAgd2luZG93LnhhTWFwID0gbmV3IG1hcGJveGdsLk1hcCh7DQogICAgICAgIGNvbnRhaW5lcjogJ21hcENvbnRhaW5lcicsIC8vIOWuueWZqERPTSBpZA0KICAgICAgICBzdHlsZTogbWFwU3R5bGUsDQogICAgICAgIGNlbnRlcjogWzExNS45MjQ4NjEwMTM2OTQyOCwgMzkuMDYwNzU1NDk1ODkwNzNdLA0KICAgICAgICB6b29tOiAxMywNCiAgICAgICAgbWluWm9vbTogMTAsDQogICAgICAgIHBpdGNoOiAwLA0KICAgICAgfSkNCiAgICAgIC8vIGxldCBuZWVkTGF5ZXJzPVtdDQogICAgICAvLyDliqDlm77lsYIgaHR0cDovLzE3Mi4yMC43OS42NS9hcGkvc3dhbi9tYXBXb3Jrc2hvcFNvdXJjZS9kZXRhaWw/aWQ9MTU0NDY0MDI3ODU1OTgyMTgyNg0KICAgICAgYXhpb3MNCiAgICAgICAgLmdldCgnaHR0cDovLzE3Mi4yMC43OS42NS9hcGkvc3dhbi9tYXBXb3Jrc2hvcFNvdXJjZS9kZXRhaWw/aWQ9MTU0ODU3MzQxMjk2Mzc0OTg4OScpDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZygncmVzOiAnLCByZXMpDQogICAgICAgICAgbGV0IGxheWVycyA9IEpTT04ucGFyc2UocmVzLmRhdGEuZGF0YS5qc29uRGF0YSkNCiAgICAgICAgICBjb25zb2xlLmxvZygnbGF5ZXJzOiAnLCBsYXllcnMpDQogICAgICAgICAgT2JqZWN0LmtleXMobGF5ZXJzLnNvdXJjZXMpLmZvckVhY2goKGtleSkgPT4gew0KICAgICAgICAgICAgd2luZG93LnhhTWFwLmFkZFNvdXJjZShrZXksIGxheWVycy5zb3VyY2VzW2tleV0pDQogICAgICAgICAgfSkNCiAgICAgICAgICAvLyBuZWVkTGF5ZXJzPWxheWVycy5sYXllcnMNCiAgICAgICAgICBsYXllcnMubGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7DQogICAgICAgICAgICB3aW5kb3cueGFNYXAuYWRkTGF5ZXIobGF5ZXIpDQogICAgICAgICAgICB3aW5kb3cueGFNYXAuc2V0TGF5b3V0UHJvcGVydHkobGF5ZXIuaWQsICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZSkgPT4ge30pDQogICAgICAgIC5maW5hbGx5KCgpID0+IHt9KQ0KICAgICAgLy8g55uR5ZCs5Zyw5Zu+54K55Ye7DQogICAgICAvLyB3aW5kb3cueGFNYXAub24oImNsaWNrIiwgZnVuY3Rpb24oZSkgIHt9KQ0KICAgICAgLy8gd2luZG93LnhhTWFwLm9uKCJjbGljayIsIGxheWVyLmlkLGZ1bmN0aW9uKGUpICB7fSkvL+aJjeiDvemAieWIsGZlYXR1cmVzPz8/LOWwseaLv+WIsOi/h+S4gOasoQ0KDQogICAgICB3aW5kb3cueGFNYXAub24oJ2NsaWNrJywgKGUpID0+IHsNCiAgICAgICAgLy8g6Iul5Li6ZnVuY3RpbyhlKXsgdGhpc+aYr3RoaXMud2luZG93LnhhTWFwfQ0KICAgICAgICAvLyAoZSk9PnsgdGhpc+aYr3RoaXN9DQogICAgICAgIGNvbnNvbGUubG9nKCdtYXAtY2xpY2stZScsIGUpDQogICAgICAgIGNvbnNvbGUubG9nKCdlLmxuZ0xhdG4nLCBlLmxuZ0xhdCkNCiAgICAgICAgdmFyIGJib3ggPSBbDQogICAgICAgICAgW2UucG9pbnQueCAtIDEsIGUucG9pbnQueSAtIDFdLA0KICAgICAgICAgIFtlLnBvaW50LnggKyAxLCBlLnBvaW50LnkgKyAxXSwNCiAgICAgICAgXQ0KICAgICAgICBjb25zb2xlLmxvZygnYmJveDonLCBiYm94KQ0KICAgICAgICAvLyBtYXBib3gg6L+U5Zue5p+l6K+i6KaB57Sg55qE5Zu+5bGC5bGe5oCnDQogICAgICAgIGxldCBxdWVyeWZlYXR1cmVzID0gd2luZG93LnhhTWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhiYm94LCB7DQogICAgICAgICAgbGF5ZXJzOiBbDQogICAgICAgICAgICAncmRfbWFwX2RyYWlucGlwZV95c19iaWcnLA0KICAgICAgICAgICAgJ3JkX21hcF9kcmFpbnBpcGVfeXNfc21hbGwnLA0KICAgICAgICAgICAgJ3JkX21hcF9kcmFpbnBpcGVfd3Nfc21hbGwnLA0KICAgICAgICAgICAgJ3JkX21hcF9kcmFpbnBpcGVfd3NfYmlnJywNCiAgICAgICAgICAgICdyZF9tYXBfb3V0ZmFsbCcsDQogICAgICAgICAgICAncmRfbWFwX2dhdGUnLA0KICAgICAgICAgICAgJ3JkX21hcF9tYW5ob2xlJywNCiAgICAgICAgICAgICdyZF9tYXBfY29tYicsDQogICAgICAgICAgICAnbWFwX3N1cHBseV9maXJlaHlkcmFudCcsDQogICAgICAgICAgICAnbWFwX3N1cHBseV92YWx2ZScsDQogICAgICAgICAgICAnbWFwX3N1cHBseV9waXBlX2Rpc3RyaWJ1dGUnLA0KICAgICAgICAgICAgJ21hcF9zdXBwbHlfcGlwZV9kZWxpdmVyeScsDQogICAgICAgICAgICAnbWFwX3N1cHBseV9waXBlX2NpcmN1bGF0aW5nJywNCiAgICAgICAgICAgICdtYXBfc3VwcGx5X25vZGVfZGlzdHJpYnV0ZScsDQogICAgICAgICAgICAnbWFwX3N1cHBseV9ub2RlX2RlbGl2ZXJ5JywNCiAgICAgICAgICAgICdtYXBfc3VwcGx5X25vZGVfY2lyY3VsYXRpbmcnLA0KICAgICAgICAgICAgJ21hcF9yZWN5Y2xlX3BpcGUnLA0KICAgICAgICAgICAgJ21hcF9yZWN5Y2xlX25vZGUnLA0KICAgICAgICAgICAgJ21hcF93YXRlcndvcmsnLA0KICAgICAgICAgIF0sDQogICAgICAgICAgLy8gbGF5ZXJzOiBsYXllcnMNCiAgICAgICAgfSkNCiAgICAgICAgY29uc29sZS5sb2coJ+eCuemAiSjlvq7nn6nlvaIp5p+l6K+i5Yiw55qEcXVlcnlmZWF0dXJlczonLCBxdWVyeWZlYXR1cmVzKQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygi54K56YCJKOW+ruefqeW9oinmn6Xor6LnmoRxdWVyeWZlYXR1cmVzOiIsIHF1ZXJ5ZmVhdHVyZXMucHJvcGVydGllcykNCiAgICAgICAgLy8gdGhpcy5oaWdodExpZ2h0KHF1ZXJ5ZmVhdHVyZXMpLy8g6auY5Lqu6KGo5qC86K6w5b2V77yM5bm26auY5Lqu5Zyw5Zu+6KaB57SgDQogICAgICAgIHRoaXMub2JqSW5mbyA9IHt9IC8v5YWI572u56m65YaN6LWL5YC8DQogICAgICAgIC8vIOeCueWHu+S9jee9rueahOe7j+e6rOW6pg0KICAgICAgICB0aGlzLm9iakluZm8ubG5nID0gZS5sbmdMYXQubG5nDQogICAgICAgIHRoaXMub2JqSW5mby5sYXQgPSBlLmxuZ0xhdC5sYXQNCiAgICAgICAgaWYgKHF1ZXJ5ZmVhdHVyZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgIC8vIHF1ZXJ5ZmVhdHVyZXMuZm9yRWFjaChmID0+IHsNCiAgICAgICAgICBsZXQgZiA9IHF1ZXJ5ZmVhdHVyZXNbMF0NCiAgICAgICAgICBjb25zb2xlLmxvZygnZmZmZjogJywgZikNCiAgICAgICAgICAvLyDngrnlh7vopoHntKDnmoTnu4/nuqzluqbvvIzmnInnmoTor53opobnm5bmjonngrnlh7vkvY3nva7nu4/nuqzluqYNCiAgICAgICAgICB0aGlzLm9iakluZm8ubG5nID0gZi5wcm9wZXJ0aWVzLmxvbmdpdHVkZSB8fCB0aGlzLm9iakluZm8ubG5nDQogICAgICAgICAgdGhpcy5vYmpJbmZvLmxhdCA9IGYucHJvcGVydGllcy5sYXRpdHVkZSB8fCB0aGlzLm9iakluZm8ubGF0DQogICAgICAgICAgLy8g6KaB57Sg5omA5Zyo5Zu+5bGCSUTlkozlsZ7mgKfkv6Hmga8NCiAgICAgICAgICB0aGlzLm9iakluZm8ubGF5ZXJJRCA9IGYubGF5ZXIuaWQNCiAgICAgICAgICB0aGlzLm9iakluZm8ubGF5ZXJUeXBlID0gZi5sYXllci50eXBlDQogICAgICAgICAgdGhpcy5vYmpJbmZvLnByb3BlcnRpZXMgPSBmLnByb3BlcnRpZXMNCiAgICAgICAgICAvLyDlupXlm77opoHntKBuYW1lX2xvY2Fs5oiW6K6+5pa96KaB57Sgcm9hZF9uYW1lLGlkDQogICAgICAgICAgdGhpcy5vYmpJbmZvLm5hbWVfbG9jYWwgPSBmLnByb3BlcnRpZXMubmFtZV9sb2NhbA0KICAgICAgICAgIHRoaXMub2JqSW5mby5yb2FkX25hbWUgPSBmLnByb3BlcnRpZXMucm9hZF9uYW1lDQogICAgICAgICAgdGhpcy5vYmpJbmZvLmlkID0gZi5wcm9wZXJ0aWVzLmlkDQogICAgICAgICAgLy8g6KaB57Sg5a+56LGh57G75Z6L77yI5Lia5Yqh57G75Z6LL+iuvuaWveexu+Wei++8iQ0KICAgICAgICAgIHN3aXRjaCAoZi5sYXllci5pZCkgew0KICAgICAgICAgICAgLy8g6Zuo5rC0DQogICAgICAgICAgICBjYXNlICdyZF9tYXBfY29tYic6IC8vY29tYuS4gOWumuaYr+mbqOawtOWPow0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfpm6jmsLQnDQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6Zuo5rC05Y+jJw0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAncmRfbWFwX291dGZhbGwnOiAvL+aOkuaUvuWPoyAxLembqOawtO+8myAyLeaxoeawtO+8myAzLeWQiOa1ge+8myA0LeWFtuS7lg0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9IGYucHJvcGVydGllcy5waXBlX3R5cGUNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfmjpLmlL7lj6MnDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBjYXNlICdyZF9tYXBfbWFuaG9sZSc6IC8v5qOA5p+l5LqVICAxLembqOawtO+8mzIt5rGh5rC0DQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gZi5wcm9wZXJ0aWVzLm1hbmhvbGVfdHlwZQ0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+ajgOafpeS6lScNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGNhc2UgJ3JkX21hcF9nYXRlJzogLy/pl7jpl6ggMS3pm6jmsLTvvJsgMi3msaHmsLTvvJsgMy3lkIjmtYHvvJsgNC3lhbbku5YNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSBmLnByb3BlcnRpZXMucGlwZV90eXBlDQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6Ze46ZeoJw0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAncmRfbWFwX2RyYWlucGlwZV95c19iaWcnOg0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfpm6jmsLQnDQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6Zuo5rC0566h57q/Jw0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAncmRfbWFwX2RyYWlucGlwZV95c19zbWFsbCc6DQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+mbqOawtCcNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfpm6jmsLTnrqHnur8nDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAvLyDmsaHmsLQNCiAgICAgICAgICAgIGNhc2UgJ3JkX21hcF9kcmFpbnBpcGVfd3NfYmlnJzoNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn5rGh5rC0Jw0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+axoeawtOeuoee6vycNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGNhc2UgJ3JkX21hcF9kcmFpbnBpcGVfd3Nfc21hbGwnOg0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfmsaHmsLQnDQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5rGh5rC0566h57q/Jw0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgLy8g57uZ5rC0DQogICAgICAgICAgICBjYXNlICdtYXBfc3VwcGx5X2ZpcmVoeWRyYW50JzogLy/mtojngavmoJPkuIDlrprmmK/nu5nmsLQNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn57uZ5rC0Jw0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+a2iOeBq+agkycNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGNhc2UgJ21hcF9zdXBwbHlfdmFsdmUnOiAvL+mYgOmXqHZhbHZl5LiA5a6a5piv57uZ5rC0DQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+e7meawtCcNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfpmIDpl6gnDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBjYXNlICdtYXBfc3VwcGx5X3BpcGVfZGlzdHJpYnV0ZSc6IC8v6YWN5rC0566h57q/DQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+e7meawtCcNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfphY3msLTnrqHnur8nDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBjYXNlICdtYXBfc3VwcGx5X3BpcGVfZGVsaXZlcnknOiAvL+i+k+awtOeuoee6vw0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICdzdXBwbHknDQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6L6T5rC0566h57q/Jw0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAnbWFwX3N1cHBseV9waXBlX2NpcmN1bGF0aW5nJzogLy/lm57msLTnrqHnur8NCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn57uZ5rC0Jw0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+WbnuawtOeuoee6vycNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGNhc2UgJ21hcF93YXRlcndvcmsnOiAvL+S+m+awtOWOgg0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfnu5nmsLQnDQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5L6b5rC05Y6CJw0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgLy8g5YaN55Sf5rC0DQogICAgICAgICAgICBjYXNlICdtYXBfcmVjeWNsZV9waXBlJzogLy/lho3nlJ/msLTnrqHnur8NCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn5YaN55Sf5rC0Jw0KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ3BpcGVsaW5lJw0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAnbWFwX3dhdGVyd29yayc6IC8v5YaN55Sf5rC05Y6CDQogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+WGjeeUn+awtCcNCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICflho3nlJ/msLTljoInDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgfQ0KICAgICAgICAgIC8vIOiuvuaWvee8luWPtw0KICAgICAgICAgIHRoaXMub2JqSW5mby5jb2RlID0NCiAgICAgICAgICAgIGYucHJvcGVydGllcy5tYW5ob2xlX2NvZGUgfHwNCiAgICAgICAgICAgIGYucHJvcGVydGllcy5nYXRlX2NvZGUgfHwNCiAgICAgICAgICAgIGYucHJvcGVydGllcy5vdXRsZXRfY29kZSB8fA0KICAgICAgICAgICAgZi5wcm9wZXJ0aWVzLmNvbWJfY29kZSB8fA0KICAgICAgICAgICAgZi5wcm9wZXJ0aWVzLnZhbHZlX2NvZGUgfHwNCiAgICAgICAgICAgIGYucHJvcGVydGllcy5wdW1wX3N0YXRpb25fY29kZSB8fA0KICAgICAgICAgICAgZi5wcm9wZXJ0aWVzLnBsYW50X2NvZGUgfHwNCiAgICAgICAgICAgIGYucHJvcGVydGllcy5wdW1wX2NvZGUgfHwNCiAgICAgICAgICAgIGYucHJvcGVydGllcy5maXJlX2NvY2tfY29kZSB8fA0KICAgICAgICAgICAgZi5wcm9wZXJ0aWVzLnN0YXJ0X2NvZGUgKyAnLCcgKyBmLnByb3BlcnRpZXMuZW5kX2NvZGUgfHwNCiAgICAgICAgICAgICcnDQogICAgICAgICAgLy8gfSkNCiAgICAgICAgfQ0KICAgICAgICBjb25zb2xlLmxvZygndGhpcy5vYmpJbmZvOiAnLCB0aGlzLm9iakluZm8pDQogICAgICAgIC8vIHBvcHVwDQogICAgICAgIGlmICh0aGlzLmNob3NlUG9pbnQpIHsNCiAgICAgICAgICBsZXQgcG9wdXBIdG1sID0gJzxkaXYgaWQ9ImJhc2UtZGV0YWlsIj48L2Rpdj4nDQogICAgICAgICAgbmV3IG1hcGJveGdsLlBvcHVwKCkNCiAgICAgICAgICAgIC5zZXRMbmdMYXQoW2UubG5nTGF0LmxuZywgZS5sbmdMYXQubGF0XSkNCiAgICAgICAgICAgIC5zZXRIVE1MKHBvcHVwSHRtbCkNCiAgICAgICAgICAgIC5hZGRUbyh3aW5kb3cueGFNYXApDQogICAgICAgICAgbmV3IHBvcHVwSXRlbSh7DQogICAgICAgICAgICBwcm9wc0RhdGE6IHsNCiAgICAgICAgICAgICAgZGV0YWlsSWQ6IDk5OTk5LA0KICAgICAgICAgICAgICBsbmc6IGUubG5nTGF0LmxuZy50b0ZpeGVkKDMpLA0KICAgICAgICAgICAgICBsYXQ6IGUubG5nTGF0LmxhdC50b0ZpeGVkKDMpLA0KICAgICAgICAgICAgICBiaWdUeXBlOiB0aGlzLm9iakluZm8uYmlnVHlwZSwNCiAgICAgICAgICAgICAgc21hbGxUeXBlOiB0aGlzLm9iakluZm8uc21hbGxUeXBlLA0KICAgICAgICAgICAgICBkZXZpY2VDb2RlOiB0aGlzLm9iakluZm8uY29kZSwNCiAgICAgICAgICAgICAgZnVuOiB0aGlzLmVkaXRGb3JtLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9KS4kbW91bnQoJyNiYXNlLWRldGFpbCcpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICAvLyB3aW5kb3cueGFNYXAub24oJ2NsaWNrJyxlPT57fSnnu5PmnZ8NCiAgICB9LA0KICAgIGVkaXRGb3JtKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBuYW1lOiAnYWRkUHJvYmxlbUluZGV4JywNCiAgICAgICAgcXVlcnk6IHsgbXNnOiB0aGlzLm9iakluZm8sIHRva2VuOiB0aGlzLmZvcm1Ub2tlbiB9LA0KICAgICAgICBwYXJhbXM6IHsgdHlwZTogJ2FkZCcgfSwNCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRMaXN0MSgpIHsNCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgIHN5c0NvZGU6ICdvdXR3b3JrJywNCiAgICAgICAgc21hbGxUeXBlOiAnYWJub3JtYWxfaW5mb3JtJywNCiAgICAgICAgLy8gdG9rZW46IHRoaXMuYWNjZXNzVG9rZW4sDQogICAgICAgICJwYWdlIjogew0KICAgICAgICAgICAgICAgICAgICAiY3VycmVudCI6IDEsDQogICAgICAgICAgICAgICAgICAgICJzaXplIjogLTEsLy8tMeafpeWFqOmDqA0KICAgICAgICAgICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGF4aW9zKHsNCiAgICAgICAgLy8gdXJsOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luKycvbWFpbi9vdXR3b3JrYXBpL3RpY2tldFN0YXRpc3RpY0NsaWVudC9nZXRUaWNrZXRMaXN0JywNCiAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX1RISVJEX09VVFdPUktBUElfVVJMICsgJy9tYWluL291dHdvcmthcGkvdGlja2V0U3RhdGlzdGljQ2xpZW50L2dldFRpY2tldExpc3QnLA0KICAgICAgICBtZXRob2Q6ICdwb3N0JywNCiAgICAgICAgZGF0YTogcGFyYW1zLA0KICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlciwNCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBjb25zb2xlLmxvZygnZ2V0VGFibGVEYXRhLXJlczogJywgcmVzKQ0KICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5yZXN1bHREYXRhLnJlY29yZHMsJz09PT09PT09PT09PT09PT09PT09PT09PScpDQogICAgICAgICAgcmVzLmRhdGEucmVzdWx0RGF0YS5yZWNvcmRzLmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgICAgIHRoaXMudGFibGVMaXN0LnB1c2goew0KICAgICAgICAgICAgICBmYXVsdFR5cGVzOiBpdGVtLmZvcm1WYWx1ZS5mYXVsdFR5cGVzLA0KICAgICAgICAgICAgICB0aWNrZXRTdGF0dXNOYW1lOiBpdGVtLnRpY2tldFN0YXR1c05hbWUsDQogICAgICAgICAgICAgIHF1ZXN0aW9uRGVzY3JpYmU6IGl0ZW0uZm9ybVZhbHVlLnF1ZXN0aW9uRGVzY3JpYmUsDQogICAgICAgICAgICAgIGNyZWF0ZUJ5TmFtZTogaXRlbS5jcmVhdGVCeU5hbWUsDQogICAgICAgICAgICAgIGNyZWF0ZVRpbWU6IGl0ZW0uY3JlYXRlVGltZS5zdWJzdHJpbmcoMCwgMTApLA0KICAgICAgICAgICAgICBkZWZlY3RGcm9tOiBpdGVtLmZvcm1WYWx1ZS5kZWZlY3RGcm9tLA0KICAgICAgICAgICAgICBpZDogaXRlbS5pZCwNCiAgICAgICAgICAgICAgbG5nbGF0OiBbaXRlbS5hcHBlYWxMbmcsIGl0ZW0uYXBwZWFsTGF0XSwNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSkNCiAgICAgICAgICAvLyB0aGlzLiRlbWl0KHRoaXMudGFibGVMaXN0LCd0YWJsZUxpc3QnKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgYWRkKCkgew0KICAgICAgdGhpcy5vYmpJbmZvID0ge30NCiAgICAgIFRvYXN0KHsNCiAgICAgICAgbWVzc2FnZTogJ+WcsOWbvueCuemAiScsDQogICAgICAgIHBvc2l0aW9uOiAndG9wJywNCiAgICAgIH0pDQogICAgICB0aGlzLmNob3NlUG9pbnQgPSB0cnVlDQogICAgfSwNCiAgfSwNCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/ProblemReport","sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <fm-nav-bar title=\"问题上报\" left-arrow @click-left=\"$router.go(-1)\"></fm-nav-bar>\r\n      <!-- <div class=\"map-container\" id=\"mapContainer\"></div> -->\r\n      <xa-map :create=\"mapLoaded\"></xa-map>\r\n      <!-- <MapComp\r\n      ref=\"mymap\"\r\n      :create=\"initMap\"\r\n      style=\"position: absolute\"\r\n    ></MapComp> -->\r\n      <problemList :tableList=\"tableList\" @flyTo=\"toTarget\"/>\r\n    <!-- 增加按钮 -->\r\n    <div class=\"bottom\" @click=\"add\">\r\n      <i class=\"fm-icon-plus\"></i>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MapComp from '@/components/xa-map/index.vue'\r\nimport problemList from '@/views/ProblemReport/problemList.vue'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport 'mapbox-gl/dist/mapbox-gl.css'\r\nimport mapStyle from './mapStyle'\r\nimport popup from './popup'\r\nconst popupItem = Vue.extend(popup)\r\nconst mapObj = {\r\n  map: null,\r\n  mapInstance: null,\r\n}\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport {\r\n  NavBar,\r\n  Search,\r\n  Toast,\r\n  Cell,\r\n  CellGroup,\r\n  PullRefresh,\r\n  List,\r\n  Sidebar,\r\n  SidebarItem,\r\n  SwipeCell,\r\n  Button,\r\n  NoticeBar,\r\n  Icon,\r\n  Dialog,\r\n} from 'fawkes-mobile-lib'\r\n\r\nexport default {\r\n  name: 'Inspection',\r\n  components: {\r\n    MapComp,\r\n    problemList,\r\n    [NavBar.name]: NavBar,\r\n    [Search.name]: Search,\r\n    [Toast.name]: Toast,\r\n    [Cell.name]: Cell,\r\n    [CellGroup.name]: CellGroup,\r\n    [PullRefresh.name]: PullRefresh,\r\n    [List.name]: List,\r\n    [Sidebar.name]: Sidebar,\r\n    [SidebarItem.name]: SidebarItem,\r\n    [SwipeCell.name]: SwipeCell,\r\n    [Button.name]: Button,\r\n    [NoticeBar.name]: NoticeBar,\r\n    [Icon.name]: Icon,\r\n    [Dialog.name]: Dialog,\r\n  },\r\n  data() {\r\n    return {\r\n      lnglat:[],\r\n      chosePoint: false,\r\n      objInfo: {},\r\n      accessToken: this.$storage.get('access_token'),\r\n      header: {},\r\n      formToken: '',\r\n      tableList: [],\r\n      inspBusinessType: '',\r\n    }\r\n  },\r\n computed: {\r\n    eventTypeListNewFiltered() {\r\n      const { dictionary, eventTypeList, taskDetail } = this\r\n      let temp = eventTypeList.find((item) => {\r\n        return item.label === dictionary[taskDetail.inspBusinessType]\r\n      })\r\n      if (temp) {\r\n        return temp.children\r\n      } else {\r\n        return null\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    // 获取header，查询工单用\r\n    axios({\r\n      // url: window.location.origin+'/myThirdUrl/main/userCenterApi/sso/tokenByToken',\r\n      url: process.env.VUE_APP_THIRD_REQUEST_URL + '/main/userCenterApi/sso/tokenByToken',\r\n      method: 'post',\r\n      params: {\r\n        token: this.accessToken,\r\n      },\r\n      headers: {\r\n        Authorization: 'Basic b3V0d29yazp3cGcyMDIw',\r\n      },\r\n    }).then((res) => {\r\n      if (res.status == 200) {\r\n        this.formToken = res.data.resultData.token\r\n        this.header = {\r\n          'Content-Type': 'application/json',\r\n          Authorization: 'Bearer ' + this.formToken,\r\n        }\r\n        console.log(' this.header查询工单用 : ', this.header)\r\n        this.getList1() // 获取工单列表,\r\n      }\r\n    })\r\n  },\r\n  mounted() {\r\n    // this.initMap()\r\n  },\r\n  methods: {\r\n    // 地图相关\r\n    toTarget(lnglat) {\r\n  \r\n        if (lnglat.length == 2) {\r\n            window.xaMap.flyTo({\r\n                center: lnglat,\r\n                zoom: 19,\r\n            })\r\n        } else {\r\n            console.log(\"无位置信息\")\r\n        }\r\n    },\r\n    mapLoaded() {\r\n      window.xaMap.on('click', (e) => {\r\n        // 若为functio(e){ this是this.window.xaMap}\r\n        // (e)=>{ this是this}\r\n        console.log('map-click-e', e)\r\n        console.log('e.lngLatn', e.lngLat)\r\n        var bbox = [\r\n          [e.point.x - 1, e.point.y - 1],\r\n          [e.point.x + 1, e.point.y + 1],\r\n        ]\r\n        console.log('bbox:', bbox)\r\n        // mapbox 返回查询要素的图层属性\r\n        let queryfeatures = window.xaMap.queryRenderedFeatures(bbox, {\r\n          layers: [\r\n            'rd_map_drainpipe_ys_big',\r\n            'rd_map_drainpipe_ys_small',\r\n            'rd_map_drainpipe_ws_small',\r\n            'rd_map_drainpipe_ws_big',\r\n            'rd_map_outfall',\r\n            'rd_map_gate',\r\n            'rd_map_manhole',\r\n            'rd_map_comb',\r\n            'map_supply_firehydrant',\r\n            'map_supply_valve',\r\n            'map_supply_pipe_distribute',\r\n            'map_supply_pipe_delivery',\r\n            'map_supply_pipe_circulating',\r\n            'map_supply_node_distribute',\r\n            'map_supply_node_delivery',\r\n            'map_supply_node_circulating',\r\n            'map_recycle_pipe',\r\n            'map_recycle_node',\r\n            'map_waterwork',\r\n          ],\r\n          // layers: layers\r\n        })\r\n        console.log('点选(微矩形)查询到的queryfeatures:', queryfeatures)\r\n        // console.log(\"点选(微矩形)查询的queryfeatures:\", queryfeatures.properties)\r\n        // this.hightLight(queryfeatures)// 高亮表格记录，并高亮地图要素\r\n        this.objInfo = {} //先置空再赋值\r\n        // 点击位置的经纬度\r\n        this.objInfo.lng = e.lngLat.lng\r\n        this.objInfo.lat = e.lngLat.lat\r\n        if (queryfeatures.length > 0) {\r\n          // queryfeatures.forEach(f => {\r\n          let f = queryfeatures[0]\r\n          console.log('ffff: ', f)\r\n          // 点击要素的经纬度，有的话覆盖掉点击位置经纬度\r\n          this.objInfo.lng = f.properties.longitude || this.objInfo.lng\r\n          this.objInfo.lat = f.properties.latitude || this.objInfo.lat\r\n          // 要素所在图层ID和属性信息\r\n          this.objInfo.layerID = f.layer.id\r\n          this.objInfo.layerType = f.layer.type\r\n          this.objInfo.properties = f.properties\r\n          // 底图要素name_local或设施要素road_name,id\r\n          this.objInfo.name_local = f.properties.name_local\r\n          this.objInfo.road_name = f.properties.road_name\r\n          this.objInfo.id = f.properties.id\r\n          // 要素对象类型（业务类型/设施类型）\r\n          switch (f.layer.id) {\r\n            // 雨水\r\n            case 'rd_map_comb': //comb一定是雨水口\r\n              this.objInfo.bigType = '雨水'\r\n              this.objInfo.smallType = '雨水口'\r\n              break\r\n            case 'rd_map_outfall': //排放口 1-雨水； 2-污水； 3-合流； 4-其他\r\n              this.objInfo.bigType = f.properties.pipe_type\r\n              this.objInfo.smallType = '排放口'\r\n              break\r\n            case 'rd_map_manhole': //检查井  1-雨水；2-污水\r\n              this.objInfo.bigType = f.properties.manhole_type\r\n              this.objInfo.smallType = '检查井'\r\n              break\r\n            case 'rd_map_gate': //闸门 1-雨水； 2-污水； 3-合流； 4-其他\r\n              this.objInfo.bigType = f.properties.pipe_type\r\n              this.objInfo.smallType = '闸门'\r\n              break\r\n            case 'rd_map_drainpipe_ys_big':\r\n              this.objInfo.bigType = '雨水'\r\n              this.objInfo.smallType = '雨水管线'\r\n              break\r\n            case 'rd_map_drainpipe_ys_small':\r\n              this.objInfo.bigType = '雨水'\r\n              this.objInfo.smallType = '雨水管线'\r\n              break\r\n            // 污水\r\n            case 'rd_map_drainpipe_ws_big':\r\n              this.objInfo.bigType = '污水'\r\n              this.objInfo.smallType = '污水管线'\r\n              break\r\n            case 'rd_map_drainpipe_ws_small':\r\n              this.objInfo.bigType = '污水'\r\n              this.objInfo.smallType = '污水管线'\r\n              break\r\n            // 给水\r\n            case 'map_supply_firehydrant': //消火栓一定是给水\r\n              this.objInfo.bigType = '给水'\r\n              this.objInfo.smallType = '消火栓'\r\n              break\r\n            case 'map_supply_valve': //阀门valve一定是给水\r\n              this.objInfo.bigType = '给水'\r\n              this.objInfo.smallType = '阀门'\r\n              break\r\n            case 'map_supply_pipe_distribute': //配水管线\r\n              this.objInfo.bigType = '给水'\r\n              this.objInfo.smallType = '配水管线'\r\n              break\r\n            case 'map_supply_pipe_delivery': //输水管线\r\n              this.objInfo.bigType = 'supply'\r\n              this.objInfo.smallType = '输水管线'\r\n              break\r\n            case 'map_supply_pipe_circulating': //回水管线\r\n              this.objInfo.bigType = '给水'\r\n              this.objInfo.smallType = '回水管线'\r\n              break\r\n            case 'map_waterwork': //供水厂\r\n              this.objInfo.bigType = '给水'\r\n              this.objInfo.smallType = '供水厂'\r\n              break\r\n            // 再生水\r\n            case 'map_recycle_pipe': //再生水管线\r\n              this.objInfo.bigType = '再生水'\r\n              this.objInfo.smallType = 'pipeline'\r\n              break\r\n            case 'map_waterwork': //再生水厂\r\n              this.objInfo.bigType = '再生水'\r\n              this.objInfo.smallType = '再生水厂'\r\n              break\r\n          }\r\n          // 设施编号\r\n          this.objInfo.code =\r\n            f.properties.manhole_code ||\r\n            f.properties.gate_code ||\r\n            f.properties.outlet_code ||\r\n            f.properties.comb_code ||\r\n            f.properties.valve_code ||\r\n            f.properties.pump_station_code ||\r\n            f.properties.plant_code ||\r\n            f.properties.pump_code ||\r\n            f.properties.fire_cock_code ||\r\n            f.properties.start_code + ',' + f.properties.end_code ||\r\n            ''\r\n          // })\r\n        }\r\n        console.log('this.objInfo: ', this.objInfo)\r\n        // popup\r\n        if (this.chosePoint) {\r\n          let popupHtml = '<div id=\"base-detail\"></div>'\r\n          new mapboxgl.Popup()\r\n            .setLngLat([e.lngLat.lng, e.lngLat.lat])\r\n            .setHTML(popupHtml)\r\n            .addTo(window.xaMap)\r\n          new popupItem({\r\n            propsData: {\r\n              detailId: 99999,\r\n              lng: e.lngLat.lng.toFixed(3),\r\n              lat: e.lngLat.lat.toFixed(3),\r\n              bigType: this.objInfo.bigType,\r\n              smallType: this.objInfo.smallType,\r\n              deviceCode: this.objInfo.code,\r\n              fun: this.editForm,\r\n            },\r\n          }).$mount('#base-detail')\r\n        }\r\n      })\r\n    },\r\n    initMap() {\r\n      mapboxgl.accessToken =\r\n        'pk.eyJ1IjoiOTM0MDk0Mjg2IiwiYSI6ImNsMnNmdmVrZDBrZGMzZG50cHJudXJkbW8ifQ.C0wKhJgrToFJgL8GH5M8rg'\r\n      window.xaMap = new mapboxgl.Map({\r\n        container: 'mapContainer', // 容器DOM id\r\n        style: mapStyle,\r\n        center: [115.92486101369428, 39.06075549589073],\r\n        zoom: 13,\r\n        minZoom: 10,\r\n        pitch: 0,\r\n      })\r\n      // let needLayers=[]\r\n      // 加图层 http://172.20.79.65/api/swan/mapWorkshopSource/detail?id=1544640278559821826\r\n      axios\r\n        .get('http://172.20.79.65/api/swan/mapWorkshopSource/detail?id=1548573412963749889')\r\n        .then((res) => {\r\n          console.log('res: ', res)\r\n          let layers = JSON.parse(res.data.data.jsonData)\r\n          console.log('layers: ', layers)\r\n          Object.keys(layers.sources).forEach((key) => {\r\n            window.xaMap.addSource(key, layers.sources[key])\r\n          })\r\n          // needLayers=layers.layers\r\n          layers.layers.forEach((layer) => {\r\n            window.xaMap.addLayer(layer)\r\n            window.xaMap.setLayoutProperty(layer.id, 'visibility', 'visible')\r\n          })\r\n        })\r\n        .catch((e) => {})\r\n        .finally(() => {})\r\n      // 监听地图点击\r\n      // window.xaMap.on(\"click\", function(e)  {})\r\n      // window.xaMap.on(\"click\", layer.id,function(e)  {})//才能选到features???,就拿到过一次\r\n\r\n      window.xaMap.on('click', (e) => {\r\n        // 若为functio(e){ this是this.window.xaMap}\r\n        // (e)=>{ this是this}\r\n        console.log('map-click-e', e)\r\n        console.log('e.lngLatn', e.lngLat)\r\n        var bbox = [\r\n          [e.point.x - 1, e.point.y - 1],\r\n          [e.point.x + 1, e.point.y + 1],\r\n        ]\r\n        console.log('bbox:', bbox)\r\n        // mapbox 返回查询要素的图层属性\r\n        let queryfeatures = window.xaMap.queryRenderedFeatures(bbox, {\r\n          layers: [\r\n            'rd_map_drainpipe_ys_big',\r\n            'rd_map_drainpipe_ys_small',\r\n            'rd_map_drainpipe_ws_small',\r\n            'rd_map_drainpipe_ws_big',\r\n            'rd_map_outfall',\r\n            'rd_map_gate',\r\n            'rd_map_manhole',\r\n            'rd_map_comb',\r\n            'map_supply_firehydrant',\r\n            'map_supply_valve',\r\n            'map_supply_pipe_distribute',\r\n            'map_supply_pipe_delivery',\r\n            'map_supply_pipe_circulating',\r\n            'map_supply_node_distribute',\r\n            'map_supply_node_delivery',\r\n            'map_supply_node_circulating',\r\n            'map_recycle_pipe',\r\n            'map_recycle_node',\r\n            'map_waterwork',\r\n          ],\r\n          // layers: layers\r\n        })\r\n        console.log('点选(微矩形)查询到的queryfeatures:', queryfeatures)\r\n        // console.log(\"点选(微矩形)查询的queryfeatures:\", queryfeatures.properties)\r\n        // this.hightLight(queryfeatures)// 高亮表格记录，并高亮地图要素\r\n        this.objInfo = {} //先置空再赋值\r\n        // 点击位置的经纬度\r\n        this.objInfo.lng = e.lngLat.lng\r\n        this.objInfo.lat = e.lngLat.lat\r\n        if (queryfeatures.length > 0) {\r\n          // queryfeatures.forEach(f => {\r\n          let f = queryfeatures[0]\r\n          console.log('ffff: ', f)\r\n          // 点击要素的经纬度，有的话覆盖掉点击位置经纬度\r\n          this.objInfo.lng = f.properties.longitude || this.objInfo.lng\r\n          this.objInfo.lat = f.properties.latitude || this.objInfo.lat\r\n          // 要素所在图层ID和属性信息\r\n          this.objInfo.layerID = f.layer.id\r\n          this.objInfo.layerType = f.layer.type\r\n          this.objInfo.properties = f.properties\r\n          // 底图要素name_local或设施要素road_name,id\r\n          this.objInfo.name_local = f.properties.name_local\r\n          this.objInfo.road_name = f.properties.road_name\r\n          this.objInfo.id = f.properties.id\r\n          // 要素对象类型（业务类型/设施类型）\r\n          switch (f.layer.id) {\r\n            // 雨水\r\n            case 'rd_map_comb': //comb一定是雨水口\r\n              this.objInfo.bigType = '雨水'\r\n              this.objInfo.smallType = '雨水口'\r\n              break\r\n            case 'rd_map_outfall': //排放口 1-雨水； 2-污水； 3-合流； 4-其他\r\n              this.objInfo.bigType = f.properties.pipe_type\r\n              this.objInfo.smallType = '排放口'\r\n              break\r\n            case 'rd_map_manhole': //检查井  1-雨水；2-污水\r\n              this.objInfo.bigType = f.properties.manhole_type\r\n              this.objInfo.smallType = '检查井'\r\n              break\r\n            case 'rd_map_gate': //闸门 1-雨水； 2-污水； 3-合流； 4-其他\r\n              this.objInfo.bigType = f.properties.pipe_type\r\n              this.objInfo.smallType = '闸门'\r\n              break\r\n            case 'rd_map_drainpipe_ys_big':\r\n              this.objInfo.bigType = '雨水'\r\n              this.objInfo.smallType = '雨水管线'\r\n              break\r\n            case 'rd_map_drainpipe_ys_small':\r\n              this.objInfo.bigType = '雨水'\r\n              this.objInfo.smallType = '雨水管线'\r\n              break\r\n            // 污水\r\n            case 'rd_map_drainpipe_ws_big':\r\n              this.objInfo.bigType = '污水'\r\n              this.objInfo.smallType = '污水管线'\r\n              break\r\n            case 'rd_map_drainpipe_ws_small':\r\n              this.objInfo.bigType = '污水'\r\n              this.objInfo.smallType = '污水管线'\r\n              break\r\n            // 给水\r\n            case 'map_supply_firehydrant': //消火栓一定是给水\r\n              this.objInfo.bigType = '给水'\r\n              this.objInfo.smallType = '消火栓'\r\n              break\r\n            case 'map_supply_valve': //阀门valve一定是给水\r\n              this.objInfo.bigType = '给水'\r\n              this.objInfo.smallType = '阀门'\r\n              break\r\n            case 'map_supply_pipe_distribute': //配水管线\r\n              this.objInfo.bigType = '给水'\r\n              this.objInfo.smallType = '配水管线'\r\n              break\r\n            case 'map_supply_pipe_delivery': //输水管线\r\n              this.objInfo.bigType = 'supply'\r\n              this.objInfo.smallType = '输水管线'\r\n              break\r\n            case 'map_supply_pipe_circulating': //回水管线\r\n              this.objInfo.bigType = '给水'\r\n              this.objInfo.smallType = '回水管线'\r\n              break\r\n            case 'map_waterwork': //供水厂\r\n              this.objInfo.bigType = '给水'\r\n              this.objInfo.smallType = '供水厂'\r\n              break\r\n            // 再生水\r\n            case 'map_recycle_pipe': //再生水管线\r\n              this.objInfo.bigType = '再生水'\r\n              this.objInfo.smallType = 'pipeline'\r\n              break\r\n            case 'map_waterwork': //再生水厂\r\n              this.objInfo.bigType = '再生水'\r\n              this.objInfo.smallType = '再生水厂'\r\n              break\r\n          }\r\n          // 设施编号\r\n          this.objInfo.code =\r\n            f.properties.manhole_code ||\r\n            f.properties.gate_code ||\r\n            f.properties.outlet_code ||\r\n            f.properties.comb_code ||\r\n            f.properties.valve_code ||\r\n            f.properties.pump_station_code ||\r\n            f.properties.plant_code ||\r\n            f.properties.pump_code ||\r\n            f.properties.fire_cock_code ||\r\n            f.properties.start_code + ',' + f.properties.end_code ||\r\n            ''\r\n          // })\r\n        }\r\n        console.log('this.objInfo: ', this.objInfo)\r\n        // popup\r\n        if (this.chosePoint) {\r\n          let popupHtml = '<div id=\"base-detail\"></div>'\r\n          new mapboxgl.Popup()\r\n            .setLngLat([e.lngLat.lng, e.lngLat.lat])\r\n            .setHTML(popupHtml)\r\n            .addTo(window.xaMap)\r\n          new popupItem({\r\n            propsData: {\r\n              detailId: 99999,\r\n              lng: e.lngLat.lng.toFixed(3),\r\n              lat: e.lngLat.lat.toFixed(3),\r\n              bigType: this.objInfo.bigType,\r\n              smallType: this.objInfo.smallType,\r\n              deviceCode: this.objInfo.code,\r\n              fun: this.editForm,\r\n            },\r\n          }).$mount('#base-detail')\r\n        }\r\n      })\r\n      // window.xaMap.on('click',e=>{})结束\r\n    },\r\n    editForm() {\r\n      this.$router.push({\r\n        name: 'addProblemIndex',\r\n        query: { msg: this.objInfo, token: this.formToken },\r\n        params: { type: 'add' },\r\n      })\r\n    },\r\n    getList1() {\r\n      let params = {\r\n        sysCode: 'outwork',\r\n        smallType: 'abnormal_inform',\r\n        // token: this.accessToken,\r\n        \"page\": {\r\n                    \"current\": 1,\r\n                    \"size\": -1,//-1查全部\r\n                }\r\n      }\r\n      axios({\r\n        // url: window.location.origin+'/main/outworkapi/ticketStatisticClient/getTicketList',\r\n        url: process.env.VUE_APP_THIRD_OUTWORKAPI_URL + '/main/outworkapi/ticketStatisticClient/getTicketList',\r\n        method: 'post',\r\n        data: params,\r\n        headers: this.header,\r\n      }).then((res) => {\r\n        console.log('getTableData-res: ', res)\r\n        if (res.status == 200) {\r\n          console.log(res.data.resultData.records,'========================')\r\n          res.data.resultData.records.forEach((item) => {\r\n            this.tableList.push({\r\n              faultTypes: item.formValue.faultTypes,\r\n              ticketStatusName: item.ticketStatusName,\r\n              questionDescribe: item.formValue.questionDescribe,\r\n              createByName: item.createByName,\r\n              createTime: item.createTime.substring(0, 10),\r\n              defectFrom: item.formValue.defectFrom,\r\n              id: item.id,\r\n              lnglat: [item.appealLng, item.appealLat],\r\n            })\r\n          })\r\n          // this.$emit(this.tableList,'tableList')\r\n        }\r\n      })\r\n    },\r\n    add() {\r\n      this.objInfo = {}\r\n      Toast({\r\n        message: '地图点选',\r\n        position: 'top',\r\n      })\r\n      this.chosePoint = true\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n#base-detail {\r\n  width: auto;\r\n  height: auto;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n  padding-top: 10px;\r\n  padding-bottom: 10px;\r\n  border-radius: 20px;\r\n  border: 1px saddlebrown solid;\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.main {\r\n  background-color: #f2f3f4 !important;\r\n  height: 1334px;\r\n  width: 750px;\r\n  .map-container {\r\n    height: 680px;\r\n    width: 750px;\r\n  }\r\n}\r\n.bottom {\r\n  position: fixed;\r\n  top: 0px;\r\n  right: 0px;\r\n  width: 100px;\r\n  height: 100px;\r\n  line-height: 100px;\r\n  color: #191919;\r\n  z-index: 1000;\r\n  text-align: center;\r\n  .fm-icon-plus {\r\n    font-size: 40px;\r\n    color: #027aff;\r\n  }\r\n}\r\n</style>\r\n"]}]}