{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\BZList\\BZDetail\\monitor.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\BZList\\BZDetail\\monitor.vue","mtime":1705912915783},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgInZpZGVvLmpzL2Rpc3QvdmlkZW8tanMuY3NzIjsNCmltcG9ydCB2aWRlb2pzIGZyb20gInZpZGVvLmpzIjsNCmltcG9ydCAidmlkZW9qcy1jb250cmliLWhscyI7DQppbXBvcnQgcmVxdWVzdCBmcm9tICdAL3V0aWxzL3JlcXVlc3QnDQpleHBvcnQgZGVmYXVsdCB7DQogICAgcHJvcHM6IHsNCiAgICAgICAgdmlkZW9EYXRhOiB7DQogICAgICAgICAgICB0eXBlOiBBcnJheQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgIHJlcXVlc3QNCiAgICB9LA0KICAgIG1vdW50ZWQoKSB7DQoNCiAgICB9LA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICB2aWRlb1VSTDogJ2h0dHA6Ly9wbGF5ZXJ0ZXN0Lmxvbmd0YWlsdmlkZW8uY29tL2FkYXB0aXZlL2JpcGJvcC9nZWFyNC9wcm9nX2luZGV4Lm0zdTgnLA0KICAgICAgICAgICAgQWN0aXZlOiAwLA0KICAgICAgICAgICAgdmlkZW9TdHJlYW06ICcnLA0KICAgICAgICB9DQogICAgfSwNCiAgICAvL+WNuOi9vXZpZGVvDQogICAgZGVzdHJveWVkKCkgew0KICAgICAgICB0aGlzLm15VmlkZW8uZGlzcG9zZSgpDQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIG9uY2xpY2soaW5kZXgpIHsNCiAgICAgICAgICAgIHRoaXMuQWN0aXZlID0gaW5kZXgNCiAgICAgICAgICAgIHJlcXVlc3Qoew0KICAgICAgICAgICAgICAgIHVybDogJy94YXN3LXB1bXAvcHVtcC9hcHAvZ2V0VmlkZW9CeUNvZGUnLA0KICAgICAgICAgICAgICAgIG1ldGhvZDogJ2dldCcsDQogICAgICAgICAgICAgICAgcGFyYW1zOg0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgY2FtZXJhSW5kZXhDb2RlOiB0aGlzLnZpZGVvRGF0YVtpbmRleF0uY2FtZXJhSW5kZXhDb2RlLA0KICAgICAgICAgICAgICAgICAgICB2aWRlb0lkOnRoaXMudmlkZW9EYXRhW2luZGV4XS52aWRlb0lkLA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMubWVudWxpc3RDbGljayhyZXMuZGF0YSkNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8v6YeN5Yi26KeG6aKR5rqQDQogICAgICAgIG1lbnVsaXN0Q2xpY2soZGF0YSkgew0KICAgICAgICAgICAgdGhpcy5teVZpZGVvLnJlc2V0KCk7IC8v6YeN572uIHZpZGVvDQogICAgICAgICAgICB0aGlzLm15VmlkZW8uc3JjKFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi94LW1wZWdVUkwnLA0KICAgICAgICAgICAgICAgICAgICBzcmM6IGRhdGEudmlkZW9VcmwsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgdGhpcy5teVZpZGVvLmxvYWQoKTsNCiAgICAgICAgICAgIHRoaXMubXlWaWRlby5wbGF5KCk7DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQoKSB7DQogICAgICAgIC8v5Yid5aeL5YyWdmlkZW8NCiAgICAgICAgdGhpcy5teVZpZGVvID0gdmlkZW9qcygNCiAgICAgICAgICAgICJteVZpZGVvIiwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBiaWdQbGF5QnV0dG9uOiB0cnVlLA0KICAgICAgICAgICAgICAgIHRleHRUcmFja0Rpc3BsYXk6IGZhbHNlLA0KICAgICAgICAgICAgICAgIHBvc3RlckltYWdlOiB0cnVlLA0KICAgICAgICAgICAgICAgIGVycm9yRGlzcGxheTogZmFsc2UsDQogICAgICAgICAgICAgICAgY29udHJvbEJhcjogdHJ1ZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgKTsNCiAgICAgICAgdGhpcy5vbmNsaWNrKDApDQogICAgfSwNCn0NCg=="},{"version":3,"sources":["monitor.vue"],"names":[],"mappings":";AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"monitor.vue","sourceRoot":"src/views/BZList/BZDetail","sourcesContent":["<template>\r\n    <div class=\"content\">\r\n        <video poster=\"@/assets/img/login/login-logo.png\" style=\"width:100%;height:220px\" id=\"myVideo\"\r\n            class=\"video-js vjs-default-skin vjs-big-play-centered\" preload=\"auto\">\r\n            <source :src=\"videoStream\" type=\"application/x-mpegURL\">\r\n        </video>\r\n        <div class=\"list\">\r\n            <fm-grid :column-num=\"2\" :gutter=\"20\">\r\n                <div class=\"row\" v-for=\"item,index in videoData\" :key=\"index\" :title=\"index\">\r\n                    <fm-button v-if=\"Active==index\" class=\"button\" plain color=\"#2D7EFF\" @click=\"onclick(index)\">\r\n                        {{item.monitorName}}\r\n                    </fm-button>\r\n                    <fm-button v-else class=\"button\" color=\"#68737F\" plain @click=\"onclick(index)\">\r\n                        {{item.monitorName}}\r\n                    </fm-button>\r\n                </div>\r\n            </fm-grid>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport \"video.js/dist/video-js.css\";\r\nimport videojs from \"video.js\";\r\nimport \"videojs-contrib-hls\";\r\nimport request from '@/utils/request'\r\nexport default {\r\n    props: {\r\n        videoData: {\r\n            type: Array\r\n        }\r\n    },\r\n    components: {\r\n        request\r\n    },\r\n    mounted() {\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            videoURL: 'http://playertest.longtailvideo.com/adaptive/bipbop/gear4/prog_index.m3u8',\r\n            Active: 0,\r\n            videoStream: '',\r\n        }\r\n    },\r\n    //卸载video\r\n    destroyed() {\r\n        this.myVideo.dispose()\r\n    },\r\n    methods: {\r\n        onclick(index) {\r\n            this.Active = index\r\n            request({\r\n                url: '/xasw-pump/pump/app/getVideoByCode',\r\n                method: 'get',\r\n                params:\r\n                {\r\n                    cameraIndexCode: this.videoData[index].cameraIndexCode,\r\n                    videoId:this.videoData[index].videoId,\r\n                }\r\n            }).then((res) => {\r\n                this.menulistClick(res.data)\r\n            })\r\n        },\r\n        //重制视频源\r\n        menulistClick(data) {\r\n            this.myVideo.reset(); //重置 video\r\n            this.myVideo.src([\r\n                {\r\n                    type: 'application/x-mpegURL',\r\n                    src: data.videoUrl,\r\n                },\r\n            ]);\r\n            this.myVideo.load();\r\n            this.myVideo.play();\r\n        }\r\n    },\r\n    mounted() {\r\n        //初始化video\r\n        this.myVideo = videojs(\r\n            \"myVideo\",\r\n            {\r\n                bigPlayButton: true,\r\n                textTrackDisplay: false,\r\n                posterImage: true,\r\n                errorDisplay: false,\r\n                controlBar: true\r\n            },\r\n        );\r\n        this.onclick(0)\r\n    },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.content {\r\n    margin-top: 10px;\r\n}\r\n\r\n.row {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n}\r\n\r\n.button {\r\n    border-radius: 16px;\r\n    width: 334px;\r\n    height: 100px;\r\n    margin-top: 20px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.vjs-big-play-button .vjs-icon-placeholder {\r\n    font-size: 1.63em !important;\r\n}\r\n\r\n.list {\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    height: 800px;\r\n}\r\n\r\n.vjs-paused .vjs-big-play-button,\r\n.vjs-paused.vjs-has-started .vjs-big-play-button {\r\n    display: block !important;\r\n}\r\n</style>"]}]}