{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\components\\select-user\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\components\\select-user\\index.vue","mtime":1705912799960},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgew0KICBOYXZCYXIsDQogIFNlYXJjaCwNCiAgQ2VsbCwNCiAgQ2VsbEdyb3VwLA0KICBJbWFnZSwNCiAgTGlzdCwNCiAgUG9wdXAsDQogIEJ1dHRvbiwNCiAgUmFkaW9Hcm91cCwNCiAgUmFkaW8sDQogIFRhZywNCiAgQ2hlY2tib3gsDQogIENoZWNrYm94R3JvdXAsDQogIE5vdGlmeSwNCn0gZnJvbSAnZmF3a2VzLW1vYmlsZS1saWInDQppbXBvcnQgeyBTVEFUVVNfQkFSX0hFSUdIVCB9IGZyb20gJ0Avc3RvcmUvU3RhdGUvc3RhdGVUeXBlcycNCmltcG9ydCB7IGdldERlcHQgfSBmcm9tICcuL2FwaScNCmltcG9ydCB7IHNlYXJjaFVzZXIgfSBmcm9tICdAL2FwaS91c2VyJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBbTmF2QmFyLm5hbWVdOiBOYXZCYXIsDQogICAgW1NlYXJjaC5uYW1lXTogU2VhcmNoLA0KICAgIFtDZWxsLm5hbWVdOiBDZWxsLA0KICAgIFtDZWxsR3JvdXAubmFtZV06IENlbGxHcm91cCwNCiAgICBbSW1hZ2UubmFtZV06IEltYWdlLA0KICAgIFtMaXN0Lm5hbWVdOiBMaXN0LA0KICAgIFtQb3B1cC5uYW1lXTogUG9wdXAsDQogICAgW0J1dHRvbi5uYW1lXTogQnV0dG9uLA0KICAgIFtSYWRpb0dyb3VwLm5hbWVdOiBSYWRpb0dyb3VwLA0KICAgIFtSYWRpby5uYW1lXTogUmFkaW8sDQogICAgW1RhZy5uYW1lXTogVGFnLA0KICAgIFtDaGVja2JveC5uYW1lXTogQ2hlY2tib3gsDQogICAgW0NoZWNrYm94R3JvdXAubmFtZV06IENoZWNrYm94R3JvdXAsDQogICAgW05vdGlmeS5Db21wb25lbnQubmFtZV06IE5vdGlmeS5Db21wb25lbnQsDQogIH0sDQogIGZpbHRlcnM6IHsNCiAgICBoZWFkUGhvdG9TaXplOiBmdW5jdGlvbiAodmFsdWUpIHsNCiAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHIoMCwgMSkNCiAgICB9LA0KICAgIGxvb2tIZWFkUGhvdG86IGZ1bmN0aW9uICh2YWwpIHsNCiAgICAgIHJldHVybiBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfVVJMfS9zeXMtc3RvcmFnZS9kb3dubG9hZF9pbWFnZT9mOHM9JHt2YWx9YA0KICAgIH0sDQogIH0sDQogIHByb3BzOiB7DQogICAgdXNlck5hbWU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgIH0sDQogICAgdXNlckZ1bGxuYW1lOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICB9LA0KICAgIHRpdGxlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAn6YCJ5oup5Lq65ZGYJywNCiAgICB9LA0KICAgIG11bHRpcGxlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICBkaXNhYmxlZDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgcGxhY2Vob2xkZXI6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcnLA0KICAgIH0sDQogICAgcmVxdWlyZWQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZSwNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB1c2VyTGlzdDogW10sDQogICAgICB1c2VyRGF0YTogW10sDQogICAgICByZXN1bHQ6IFtdLCAvLyDlvZPliY3pgInkuK3nmoTnlKjmiLfmlbDnu4QNCiAgICAgIGRpc3BsYXlMaXN0OiBbXSwgLy8g5bey6YCJ55WM6Z2i5bGV56S655qE55So5oi35pWw57uEDQogICAgICBkaXNwbGF5RGF0YTogW10sIC8vIOWxleekuuW3sumAieeahOOAgeehruiupOWQjueahOaVsOaNrg0KICAgICAgc2VsZWN0VXNlckxpc3Q6IFtdLCAvL+mAieS4reeahOS6uuWRmOaVsOe7hA0KICAgICAgc2hvdzogZmFsc2UsIC8vIOaYvuekuumAieS6uue7hOS7tnBvcHVw55WM6Z2iDQogICAgICB2aWV3U2hvdzogZmFsc2UsIC8vIOaYvuekuuW3sumAieS6uuWRmOeVjOmdog0KICAgICAgbmF2VGl0bGU6ICfnu4Tnu4fmnrbmnoQnLA0KICAgICAgc2VhcmNoVmFsdWU6ICcnLA0KICAgICAgdHJlZUxpc3Q6IFtdLCAvL+e7hOe7h+aetuaehOaVsOaNrg0KICAgICAgdHJlZURhdGE6IFtdLCAvLyDlrZjmlL7mr4/kuIDnuqfpobXpnaLpg6jpl6jliJfooagNCiAgICAgIHRyZWVTaG93OiB0cnVlLCAvLyDlvZPliY3pobXpnaLmmK/lkKbmmL7npLrpg6jpl6gNCiAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgZmluaXNoZWQ6IGZhbHNlLA0KICAgICAgZGVwSWQ6IFtdLCAvL+iusOW9leiuv+mXrua3seW6plzkv67mlLluYXZUaXRsZSwg6buY6K6k56ys5LiA57qn4oCc57uE57uH5p625p6E4oCdDQogICAgICBwYWdlTm86IDEsDQogICAgICBwYWdlU2l6ZTogMjAsDQogICAgICBhY2NvdW50U3RhdHVzOiAxLA0KICAgICAgbm90aWZ5U2hvdzogZmFsc2UsDQogICAgICBub3RpZnlUZXh0OiAnJywNCiAgICAgIGNoYW5nZVBhZ2VkOiBmYWxzZSwgLy8g5piv5ZCm5YiH5o2i6YOo6ZeoDQogICAgICBzZWFyY2hJblVzZXJQYWdlOiBmYWxzZSwgLy8g5piv5ZCm5Zyo55So5oi355WM6Z2i5p+l6K+iDQogICAgICBub2RlSXRlbTogbnVsbCwgLy8g5b2T5YmN6YOo6Zeo6IqC54K5DQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC8vIOmAieS4reeahOe7k+aenOmbhg0KICAgIHRlbXBSZXN1bHQoKSB7DQogICAgICAvLyDlpJrpgInml7bvvIzojrflj5blvZPliY3lt7LpgInkuK3nmoTnlKjmiLcNCiAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7DQogICAgICAgIHJldHVybiB0aGlzLnVzZXJMaXN0LmZpbHRlcigodXNlcikgPT4gdXNlci5jaGVja2VkKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0DQogICAgICB9DQogICAgfSwNCiAgICAvLyDmmK/lkKblnKjnlKjmiLfliJfooajnlYzpnaINCiAgICBpblVzZXJQYWdlKCkgew0KICAgICAgLy8g55So6YOo6Zeo6IqC54K55piv5ZCm5Li65Y+25a2Q6IqC54K55Yik5pat5piv5Zyo6YOo6Zeo6L+Y5piv55So5oi35YiX6KGo6aG16Z2iDQogICAgICByZXR1cm4gdGhpcy5kZXBJZC5sZW5ndGggIT0gMCAmJiAhdGhpcy5kZXBJZC5hdCgtMSk/Lmhhc0NoaWxkcmVuDQogICAgfSwNCiAgICBzZWxlY3RUaXRsZSgpIHsNCiAgICAgIHJldHVybiBg5bey6YCJ77yaICR7dGhpcy5kaXNwbGF5TGlzdC5sZW5ndGh9IOS6umANCiAgICB9LA0KICAgIC8vIOWNlemAieeahOeUqOaIt+WQjQ0KICAgIGNoZWNrZWROYW1lKCkgew0KICAgICAgcmV0dXJuIHRoaXMucmVzdWx0WzBdPy51c2VyTmFtZSB8fCAnJw0KICAgIH0sDQogIH0sDQogIHdhdGNoOiB7DQogICAgLy/op6PlhrNGb3JtQ2VudGVy5omT5byA6KGo5Y2V5pe25pWw5o2u5LiN5Zue5pi+6Zeu6aKYDQogICAgdXNlckZ1bGxuYW1lKCkgew0KICAgICAgdGhpcy5pbml0KCkNCiAgICB9LA0KICAgIHRlbXBSZXN1bHQobmV3VmFsLCBvbGRWYWwpIHsNCiAgICAgIC8vIOWkmumAiQ0KICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHsNCiAgICAgICAgLy8gbmV3VmFsIC0gb2xkVmFsIC0gcmV1c2x0IOW+heaWsOWinueahA0KICAgICAgICBjb25zdCB0b0FkZCA9IG5ld1ZhbA0KICAgICAgICAgIC5maWx0ZXIoDQogICAgICAgICAgICAodXNlcikgPT4gIW9sZFZhbC5zb21lKCh2YWwpID0+IHVzZXIudXNlck5hbWUgPT0gdmFsLnVzZXJOYW1lKQ0KICAgICAgICAgICkNCiAgICAgICAgICAuZmlsdGVyKA0KICAgICAgICAgICAgKGFkZCkgPT4gIXRoaXMucmVzdWx0LnNvbWUoKHZhbCkgPT4gdmFsLnVzZXJOYW1lID09IGFkZC51c2VyTmFtZSkNCiAgICAgICAgICApDQoNCiAgICAgICAgaWYgKHRvQWRkLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICB0aGlzLnJlc3VsdCA9IHRoaXMucmVzdWx0LmNvbmNhdCh0b0FkZCkNCiAgICAgICAgfQ0KDQogICAgICAgIGxldCB0b1JlbW92ZSA9IFtdDQoNCiAgICAgICAgLy8g5aSE55CG5YiH5o2i6YOo6Zeo5pe25oSP5aSW5riF56m66YCJ5Lit6K6w5b2V6Zeu6aKYDQogICAgICAgIGlmICh0aGlzLmNoYW5nZVBhZ2VkKSB7DQogICAgICAgICAgdGhpcy5jaGFuZ2VQYWdlZCA9IGZhbHNlDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy8g5b6F5Yig6ZmkIG9sZC1uZXcNCiAgICAgICAgICB0b1JlbW92ZSA9IG9sZFZhbC5maWx0ZXIoDQogICAgICAgICAgICAodXNlcikgPT4gIW5ld1ZhbC5zb21lKCh2YWwpID0+IHVzZXIudXNlck5hbWUgPT0gdmFsLnVzZXJOYW1lKQ0KICAgICAgICAgICkNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIOWIh+aNoumDqOmXqOaXtuS4jeWIoOmZpO+8jOmBv+WFjeW3sumAieS4reiusOW9leiiq+a4heepug0KICAgICAgICBpZiAodG9SZW1vdmUubGVuZ3RoID4gMCkgew0KICAgICAgICAgIHRoaXMucmVzdWx0ID0gdGhpcy5yZXN1bHQuZmlsdGVyKA0KICAgICAgICAgICAgKGl0ZW0pID0+ICF0b1JlbW92ZS5zb21lKCh2YWwpID0+IHZhbC51c2VyTmFtZSA9PSBpdGVtLnVzZXJOYW1lKQ0KICAgICAgICAgICkNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8g5Y2V6YCJDQogICAgICAgIHRoaXMucmVzdWx0ID0gbmV3VmFsDQogICAgICB9DQogICAgfSwNCiAgICBkZXBJZChuZXdWYWwpIHsNCiAgICAgIGlmIChuZXdWYWwubGVuZ3RoID4gMCkgew0KICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKA0KICAgICAgICAgICdiYWNrYnV0dG9uJywNCiAgICAgICAgICB0aGlzLiRyZWZzLnVzZXJQb3B1cC5jbG9zZSwNCiAgICAgICAgICBmYWxzZQ0KICAgICAgICApDQogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JhY2tidXR0b24nLCB0aGlzLmJhY2ssIGZhbHNlKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigNCiAgICAgICAgICAnYmFja2J1dHRvbicsDQogICAgICAgICAgdGhpcy4kcmVmcy51c2VyUG9wdXAuY2xvc2UsDQogICAgICAgICAgZmFsc2UNCiAgICAgICAgKQ0KICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdiYWNrYnV0dG9uJywgdGhpcy5iYWNrLCBmYWxzZSkNCiAgICAgIH0NCiAgICB9LA0KICAgIHZpZXdTaG93KG5ld1ZhbCkgew0KICAgICAgaWYgKG5ld1ZhbCkgew0KICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdiYWNrYnV0dG9uJywgdGhpcy5iYWNrLCBmYWxzZSkNCiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmFja2J1dHRvbicsIHRoaXMuY2FuY2VsLCBmYWxzZSkNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuaW5pdCgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvL+abtOaWsOeItue7hOS7tg0KICAgIHVwZGF0ZVByb3BzKHZhbCkgew0KICAgICAgbGV0IHVzZXJuYW1lU3RyID0gJycNCiAgICAgIGxldCB1c2VyZnVsbG5hbWVTdHIgPSAnJw0KICAgICAgaWYgKHZhbC5sZW5ndGggPT0gMCkgew0KICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dXNlck5hbWUnLCAnJykNCiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnVzZXJGdWxsbmFtZScsICcnKQ0KICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB2YWwpIC8v5pq06Zyy6YCJ5Lq657uE5Lu255qEY2hhbmdl5LqL5Lu25ZCO57ut6ZyA6KaB5Y+v5Lul6LCD55SoDQogICAgICB9IGVsc2Ugew0KICAgICAgICB2YWwuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICAgIHVzZXJuYW1lU3RyICs9IGl0ZW0udXNlck5hbWUgKyAnLCcNCiAgICAgICAgICB1c2VyZnVsbG5hbWVTdHIgKz0gaXRlbS51c2VyRnVsbG5hbWUgKyAnLCcNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy4kZW1pdCgNCiAgICAgICAgICAndXBkYXRlOnVzZXJOYW1lJywNCiAgICAgICAgICB1c2VybmFtZVN0ci5zdWJzdHJpbmcoMCwgdXNlcm5hbWVTdHIubGVuZ3RoIC0gMSkNCiAgICAgICAgKQ0KICAgICAgICB0aGlzLiRlbWl0KA0KICAgICAgICAgICd1cGRhdGU6dXNlckZ1bGxuYW1lJywNCiAgICAgICAgICB1c2VyZnVsbG5hbWVTdHIuc3Vic3RyaW5nKDAsIHVzZXJmdWxsbmFtZVN0ci5sZW5ndGggLSAxKQ0KICAgICAgICApDQogICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHZhbCkNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5Yig6ZmkDQogICAgaGFuZGxlRGVsZXRlKGluZGV4KSB7DQogICAgICB0aGlzLnJlc3VsdC5zcGxpY2UoaW5kZXgsIDEpDQogICAgICB0aGlzLmRpc3BsYXlEYXRhID0gdGhpcy5yZXN1bHQNCiAgICAgIHRoaXMudXBkYXRlUHJvcHModGhpcy5yZXN1bHQpDQogICAgfSwNCiAgICAvL+mAieaLqeS6uuWRmFzmiZPlvIDlvLnlh7rlsYINCiAgICBzZWxlY3RVc2VyKCkgew0KICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnNob3cgPSB0cnVlDQogICAgICAgIHRoaXMudHJlZVNob3cgPSB0cnVlDQogICAgICAgIC8v6I635Y+W5qCR5b2i5pWw5o2uDQogICAgICAgIGdldERlcHQoe30pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGlmIChyZXMuc3RhdHVzKSB7DQogICAgICAgICAgICB0aGlzLnRyZWVMaXN0ID0gcmVzLmRhdGENCiAgICAgICAgICAgIHRoaXMudHJlZURhdGEucHVzaChyZXMuZGF0YSkNCiAgICAgICAgICAgIHRoaXMuZGVwSWQucHVzaCh7DQogICAgICAgICAgICAgIHRpdGxlOiAn57uE57uH5p625p6EJywNCiAgICAgICAgICAgICAgaWQ6ICcwJywNCiAgICAgICAgICAgICAgaGFzQ2hpbGRyZW46IHJlcy5kYXRhLmxlbmd0aCA+IDAsDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5p+l55yL5bey6YCJ5Lq65ZGY5ZCN5Y2VDQogICAgdmlld1NlbGVjdGVkVXNlcigpIHsNCiAgICAgIHRoaXMudmlld1Nob3cgPSB0cnVlDQogICAgICB0aGlzLmRpc3BsYXlMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLnJlc3VsdCkNCiAgICB9LA0KICAgIC8vIOW3sumAieaLqeeUqOaIt+eVjOmdouWIoOmZpOeUqOaItw0KICAgIGRlbGV0ZVVzZXIoaXRlbSwgaW5kZXgpIHsNCiAgICAgIHRoaXMuZGlzcGxheUxpc3Quc3BsaWNlKGluZGV4LCAxKQ0KICAgIH0sDQogICAgLy/kv53lrZjnmoTor53kvJrkv53lrZjmk43kvZwNCiAgICBzYXZlVXNlcigpIHsNCiAgICAgIHRoaXMucmVzdWx0ID0gQXJyYXkuZnJvbSh0aGlzLmRpc3BsYXlMaXN0KQ0KICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHsNCiAgICAgICAgaWYgKHRoaXMucmVzdWx0Lmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgdGhpcy51c2VyTGlzdC5mb3JFYWNoKCh1c2VyKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRzZXQodXNlciwgJ2NoZWNrZWQnLCBmYWxzZSkNCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMucmVzdWx0LmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgICAgIHRoaXMudXNlckxpc3QuZm9yRWFjaCgodXNlcikgPT4gew0KICAgICAgICAgICAgICBpZiAodXNlci51c2VyTmFtZSA9PSBpdGVtLnVzZXJOYW1lKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc2V0KHVzZXIsICdjaGVja2VkJywgdHJ1ZSkNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRzZXQodXNlciwgJ2NoZWNrZWQnLCBmYWxzZSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIHRoaXMudmlld1Nob3cgPSBmYWxzZQ0KICAgIH0sDQogICAgLy/lj5bmtojliJnkuYvliY3lgZrnmoTmk43kvZzpg73lj5bmtogNCiAgICBjYW5jZWwoKSB7DQogICAgICB0aGlzLnZpZXdTaG93ID0gZmFsc2UNCiAgICB9LA0KICAgIC8v5Zue6YCADQogICAgYmFjaygpIHsNCiAgICAgIC8vIOa4heepuuaQnOe0ouahhg0KICAgICAgdGhpcy5zZWFyY2hWYWx1ZSA9ICcnDQogICAgICAvLyDmn6Xor6LpobXpnaLkuI3opoHlvLnlh7rmoIfpopjvvIzmuIXnqbrmk43kvZwNCiAgICAgIGlmICh0aGlzLnNlYXJjaEluVXNlclBhZ2UgfHwgKCF0aGlzLnRyZWVTaG93ICYmICF0aGlzLmluVXNlclBhZ2UpKSB7DQogICAgICAgIHRoaXMub25DbGVhcigpDQogICAgICAgIHJldHVybg0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8g5Yig6Zmk5b2T5YmN5qCH6aKYDQogICAgICAgIHRoaXMuZGVwSWQucG9wKCkNCiAgICAgIH0NCg0KICAgICAgaWYgKHRoaXMuZGVwSWQubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLm5hdlRpdGxlID0gdGhpcy5kZXBJZFt0aGlzLmRlcElkLmxlbmd0aCAtIDFdPy50aXRsZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8g56ys5LiA57qn6aG16Z2i5pe25YWz6Zet5by556qX5LiU5oGi5aSN5bey6YCJ5YC8DQogICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlDQogICAgICAgIHRoaXMucmVzdWx0ID0gQXJyYXkuZnJvbSh0aGlzLmRpc3BsYXlEYXRhKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCg0KICAgICAgaWYgKHRoaXMudHJlZVNob3cpIHsNCiAgICAgICAgdGhpcy50cmVlRGF0YS5wb3AoKQ0KICAgICAgICAvLyDojrflj5bkuIrkuIDnuqfpg6jpl6jliJfooajkv6Hmga8NCiAgICAgICAgdGhpcy50cmVlTGlzdCA9IHRoaXMudHJlZURhdGEuYXQoLTEpDQogICAgICB9IGVsc2Ugew0KICAgICAgICAvLyDku47nlKjmiLfliJfooajpobXpnaLov5Tlm54NCiAgICAgICAgdGhpcy50cmVlU2hvdyA9IHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5qCR5b2i5Yik5patDQogICAganVkZ2VDaGlsZChub2RlLCB0cmVlKSB7DQogICAgICBpZiAodHJlZS5sZW5ndGggIT0gMCkgew0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyZWUubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZiAobm9kZSA9PSB0cmVlW2ldICYmIHRyZWVbaV0uY2hpbGRyZW4pIHsNCiAgICAgICAgICAgIHJldHVybiB0cmVlW2ldLmNoaWxkcmVuDQogICAgICAgICAgfSBlbHNlIGlmICh0cmVlW2ldLmNoaWxkcmVuKSB7DQogICAgICAgICAgICB0aGlzLmp1ZGdlQ2hpbGQobm9kZSwgdHJlZVtpXS5jaGlsZHJlbikNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5qCR5b2i54K55Ye75ZCO5Ye6546w5a2Q57qn55uu5b2V77ya5LiL57qn57uE57uH5py65p6E5oiW6ICF5LiL6Z2i55qE5Lq65ZGYDQogICAgaGFuZGxlQ2xpY2soaXRlbSkgew0KICAgICAgdGhpcy5zZWFyY2hWYWx1ZSA9ICcnDQogICAgICBpZiAodGhpcy50cmVlU2hvdykgew0KICAgICAgICB0aGlzLm5vZGVJdGVtID0gaXRlbQ0KICAgICAgfQ0KICAgICAgLy8g6Lez6L2s5paw6YOo6Zeo5YmN6K6w5b2V5LiK5LiA57qnDQogICAgICB0aGlzLmRlcElkLnB1c2goew0KICAgICAgICB0aXRsZTogaXRlbS5jb250ZW50Lm5hbWUsDQogICAgICAgIGlkOiBpdGVtLmlkLA0KICAgICAgICBoYXNDaGlsZHJlbjogaXRlbT8uY2hpbGRyZW4/Lmxlbmd0aCA+IDAsDQogICAgICB9KQ0KICAgICAgdGhpcy5uYXZUaXRsZSA9IGl0ZW0uY29udGVudC5uYW1lDQogICAgICAvLyDpg6jpl6jpobXpnaINCiAgICAgIGlmICh0aGlzLmp1ZGdlQ2hpbGQoaXRlbSwgdGhpcy50cmVlTGlzdCkpIHsNCiAgICAgICAgdGhpcy50cmVlTGlzdCA9IHRoaXMuanVkZ2VDaGlsZChpdGVtLCB0aGlzLnRyZWVMaXN0KQ0KICAgICAgICB0aGlzLnRyZWVEYXRhLnB1c2godGhpcy50cmVlTGlzdCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIOS6uuWRmOWIl+ihqOmhtemdog0KICAgICAgICB0aGlzLnBhZ2VObyA9IDEgLy/liJ3lp4vljJbov5vlhaXml7bvvIzpobXnoIHlv4XpobvkuLox77yM5ZCm5YiZ5Lya6KKr5b2x5ZONDQogICAgICAgIGxldCBkYXRhID0gew0KICAgICAgICAgIG9yZ05vOiBpdGVtLmNvbnRlbnQub3JnTm8sDQogICAgICAgICAgc2VhcmNoVmFsdWU6IHRoaXMuc2VhcmNoVmFsdWUsDQogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsDQogICAgICAgICAgcGFnZU5vOiB0aGlzLnBhZ2VObywNCiAgICAgICAgICBhY2NvdW50U3RhdHVzOiAxLA0KICAgICAgICB9DQogICAgICAgIHRoaXMuY2hhbmdlUGFnZWQgPSB0cnVlDQogICAgICAgIHNlYXJjaFVzZXIoZGF0YSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgdGhpcy51c2VyTGlzdCA9IHJlcy5kYXRhLmxpc3QNCiAgICAgICAgICB0aGlzLmZpbmlzaGVkID0gcmVzLmRhdGEuaXNMYXN0UGFnZQ0KICAgICAgICAgIHRoaXMudHJlZVNob3cgPSBmYWxzZQ0KICAgICAgICAgIC8vIOWkmumAiQ0KICAgICAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7DQogICAgICAgICAgICBpZiAodGhpcy5yZXN1bHQubGVuZ3RoICYmIHRoaXMudXNlckxpc3QubGVuZ3RoKSB7DQogICAgICAgICAgICAgIHRoaXMucmVzdWx0LmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLnVzZXJMaXN0LmZvckVhY2goKHVzZXIpID0+IHsNCiAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnVzZXJOYW1lID09IHVzZXIudXNlck5hbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHVzZXIsICdjaGVja2VkJywgdHJ1ZSkNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5LiL5ouJ5Yqg6L295pWw5o2uDQogICAgb25Mb2FkKCkgew0KICAgICAgdGhpcy5wYWdlTm8gKz0gMQ0KICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgIG9yZ05vOiB0aGlzLm5vZGVJdGVtPy5pZCwNCiAgICAgICAgc2VhcmNoVmFsdWU6IHRoaXMuc2VhcmNoVmFsdWUsDQogICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLA0KICAgICAgICBwYWdlTm86IHRoaXMucGFnZU5vLA0KICAgICAgICBhY2NvdW50U3RhdHVzOiAxLA0KICAgICAgfQ0KICAgICAgc2VhcmNoVXNlcihkYXRhKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy51c2VyTGlzdC5wdXNoKC4uLnJlcy5kYXRhLmxpc3QpDQogICAgICAgIHRoaXMudHJlZVNob3cgPSBmYWxzZQ0KICAgICAgICBpZiAodGhpcy51c2VyTGlzdC5sZW5ndGggPT0gcmVzLmRhdGEudG90YWwpIHsNCiAgICAgICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICB9LA0KICAgIC8v56Gu6K6k6YCJ5oupDQogICAgY29uZmlybSgpIHsNCiAgICAgIHRoaXMuZGVwSWQgPSBbXQ0KICAgICAgdGhpcy5uYXZUaXRsZSA9ICfnu4Tnu4fmnrbmnoQnDQogICAgICB0aGlzLnNob3cgPSBmYWxzZQ0KICAgICAgdGhpcy5zZWFyY2hWYWx1ZSA9ICcnDQogICAgICB0aGlzLnRyZWVMaXN0ID0gW10NCiAgICAgIC8vIOabtOaWsOWbnuWhq+WxleekuuaVsOaNrg0KICAgICAgdGhpcy5kaXNwbGF5RGF0YSA9IHRoaXMucmVzdWx0DQogICAgICB0aGlzLnVwZGF0ZVByb3BzKHRoaXMucmVzdWx0KQ0KICAgIH0sDQogICAgLy8g5Yid5aeL5YyWDQogICAgaW5pdCgpIHsNCiAgICAgIGNvbnN0IHVzZXJmdWxsbmFtZUFyciA9IHRoaXMudXNlckZ1bGxuYW1lDQogICAgICAgID8gdGhpcy51c2VyRnVsbG5hbWUuc3BsaXQoJywnKQ0KICAgICAgICA6IFtdDQogICAgICBjb25zdCB1c2VybmFtZUFyciA9IHRoaXMudXNlck5hbWUgPyB0aGlzLnVzZXJOYW1lLnNwbGl0KCcsJykgOiBbXQ0KICAgICAgY29uc3QgbGVuID0gdXNlcmZ1bGxuYW1lQXJyLmxlbmd0aA0KICAgICAgY29uc3QgbGVuMiA9IHVzZXJuYW1lQXJyLmxlbmd0aA0KDQogICAgICBpZiAodGhpcy51c2VyRnVsbG5hbWUgJiYgdGhpcy51c2VyTmFtZSkgew0KICAgICAgICBpZiAobGVuICE9PSBsZW4yKSB7DQogICAgICAgICAgdGhpcy5jb250cm9sTm90aWZ5U2hvdygn5Yid5aeL5Lq65ZGY5pWw5YC86ZSZ6K+vJykNCiAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmRpc3BsYXlEYXRhID0gdXNlcm5hbWVBcnIubWFwKCh1c2VyTmFtZSwgaW5kZXgpID0+IHsNCiAgICAgICAgICAgIHJldHVybiB7IHVzZXJOYW1lOiB1c2VyTmFtZSwgdXNlckZ1bGxuYW1lOiB1c2VyZnVsbG5hbWVBcnJbaW5kZXhdIH0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIHRoaXMucmVzdWx0ID0gQXJyYXkuZnJvbSh0aGlzLmRpc3BsYXlEYXRhKQ0KICAgICAgICB9DQogICAgICB9IGVsc2UgaWYgKCF0aGlzLnVzZXJmdWxsbmFtZSAmJiAhdGhpcy51c2VybmFtZSkgew0KICAgICAgICB0aGlzLmRpc3BsYXlMaXN0ID0gW10NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuY29udHJvbE5vdGlmeVNob3coDQogICAgICAgICAgJ+ivt+i+k+WFpeato+ehrueahOS6uuWRmOaVsOaNrizkurrlkZhpZOWSjOS6uuWRmOWQjeensOmcgOWQjOaXtui1i+WAvCcNCiAgICAgICAgKQ0KICAgICAgfQ0KICAgIH0sDQogICAgb25TZWFyY2godmFsKSB7DQogICAgICAvLyDnqbrmnaHku7bnrYnlkIzkuo7muIXnqboNCiAgICAgIGlmICh2YWwgPT09ICcnIHx8ICF2YWwpIHsNCiAgICAgICAgdGhpcy5vbkNsZWFyKCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICh0aGlzLmluVXNlclBhZ2UpIHsNCiAgICAgICAgICB0aGlzLnNlYXJjaEluVXNlclBhZ2UgPSB0cnVlDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5wYWdlTm8gPSAxDQogICAgICAgIGxldCBkYXRhID0gew0KICAgICAgICAgIHNlYXJjaFZhbHVlOiB2YWwsDQogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsDQogICAgICAgICAgcGFnZU5vOiB0aGlzLnBhZ2VObywNCiAgICAgICAgICBhY2NvdW50U3RhdHVzOiAxLA0KICAgICAgICB9DQogICAgICAgIHNlYXJjaFVzZXIoZGF0YSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgdGhpcy51c2VyTGlzdCA9IHJlcy5kYXRhLmxpc3QNCiAgICAgICAgICB0aGlzLnRyZWVTaG93ID0gZmFsc2UNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIG9uQ2xlYXIoKSB7DQogICAgICB0aGlzLnNlYXJjaFZhbHVlID0gJycNCiAgICAgIC8vIOWcqOeUqOaIt+WIl+ihqOmhtemdoua4heepuuafpeivouaXtg0KICAgICAgaWYgKHRoaXMuaW5Vc2VyUGFnZSkgew0KICAgICAgICB0aGlzLnNlYXJjaEluVXNlclBhZ2UgPSBmYWxzZQ0KICAgICAgICB0aGlzLnBhZ2VObyA9IDENCiAgICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgICAgb3JnTm86IHRoaXMubm9kZUl0ZW0/LmlkLA0KICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLA0KICAgICAgICAgIHBhZ2VObzogdGhpcy5wYWdlTm8sDQogICAgICAgICAgYWNjb3VudFN0YXR1czogMSwNCiAgICAgICAgfQ0KICAgICAgICBzZWFyY2hVc2VyKGRhdGEpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIHRoaXMudXNlckxpc3QgPSByZXMuZGF0YS5saXN0DQogICAgICAgICAgdGhpcy50cmVlU2hvdyA9IGZhbHNlDQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICAvLyDlnKjpg6jpl6jliJfooajpobXpnaINCiAgICAgICAgdGhpcy51c2VyTGlzdCA9IFtdDQogICAgICAgIHRoaXMudHJlZVNob3cgPSB0cnVlDQogICAgICB9DQogICAgfSwNCiAgICBjb250cm9sTm90aWZ5U2hvdyh0ZXh0KSB7DQogICAgICB0aGlzLm5vdGlmeVRleHQgPSB0ZXh0DQogICAgICB0aGlzLm5vdGlmeVNob3cgPSB0cnVlDQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgdGhpcy5ub3RpZnlTaG93ID0gZmFsc2UNCiAgICAgIH0sIDEwMDApDQogICAgfSwNCiAgICBoYW5kbGVSYWlkb0NoZWNrKGl0ZW0pIHsNCiAgICAgIC8vIHRoaXMuY2hlY2tlZE5hbWUgPSBpdGVtLnVzZXJOYW1lDQogICAgICB0aGlzLnJlc3VsdCA9IFtpdGVtXQ0KICAgIH0sDQogICAgLy8g56ys5LqM57qn5by556qX77yI5bey6YCJ55So5oi355WM6Z2i77yJ5YWz6Zet5ZCODQogICAgYWZ0ZXJDbG9zZWQoKSB7DQogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdiYWNrYnV0dG9uJywgdGhpcy5jYW5jZWwsIGZhbHNlKQ0KICAgICAgLy8g56e76Zmk57uE5Lu25YWz6Zet5pe25re75Yqg55qE6buY6K6k5LqL5Lu2DQogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdiYWNrYnV0dG9uJywgdGhpcy4kYmFjaywgZmFsc2UpDQogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdiYWNrYnV0dG9uJywgdGhpcy5iYWNrLCBmYWxzZSkNCiAgICB9LA0KICB9LA0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAiMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/select-user","sourcesContent":["<!--\r\n * @Author: wei_sc\r\n * @Date: 2022-03-03 11:47:41\r\n * @LastEditors: xie_sm\r\n * @LastEditTime: 2022-05-18 16:38:18\r\n * @FilePath: \\mobile-template\\src\\components\\select-user\\index.vue\r\n * @Description: 选人组件\r\n *\r\n-->\r\n<template>\r\n  <div class=\"select-container\">\r\n    <div class=\"select-box\">\r\n      <!-- 回填展示数据 -->\r\n      <fm-cell :title=\"title\" is-link @click=\"selectUser\" :required=\"required\">\r\n        <template #default>\r\n          <div v-if=\"displayData.length && displayData.length != 0\">\r\n            <fm-tag\r\n              v-for=\"(item, index) in displayData\"\r\n              :key=\"index\"\r\n              :closeable=\"!disabled\"\r\n              size=\"medium\"\r\n              style=\"margin-right: 8px\"\r\n              @close=\"handleDelete(index)\"\r\n            >\r\n              {{ item.userFullname }}\r\n            </fm-tag>\r\n          </div>\r\n          <span v-else>\r\n            {{ placeholder }}\r\n          </span>\r\n        </template>\r\n        <template #right-icon>\r\n          <i\r\n            v-if=\"!(displayData.length && displayData.length != 0)\"\r\n            class=\"fm-icon fm-icon-arrow\"\r\n          ></i>\r\n        </template>\r\n      </fm-cell>\r\n      <!-- 选择用户界面 -->\r\n      <div class=\"select-popup\">\r\n        <fm-popup\r\n          ref=\"userPopup\"\r\n          :visible.sync=\"show\"\r\n          position=\"bottom\"\r\n          :style=\"{ height: '100%', overflow: 'hidden' }\"\r\n        >\r\n          <fm-nav-bar :title=\"navTitle\" :border=\"true\">\r\n            <template #left>\r\n              <i class=\"fm-icon fm-icon-arrow-left\" @click=\"back\"></i>\r\n            </template>\r\n          </fm-nav-bar>\r\n          <div class=\"popup-container\">\r\n            <div\r\n              :class=\"['address-box', treeShow ? 'address-box-with-org' : '']\"\r\n            >\r\n              <div class=\"address-search-box\">\r\n                <fm-search\r\n                  v-model=\"searchValue\"\r\n                  placeholder=\"搜索\"\r\n                  @search=\"onSearch\"\r\n                  @clear=\"onClear\"\r\n                >\r\n                </fm-search>\r\n              </div>\r\n              <div class=\"address-tree\">\r\n                <fm-cell-group v-if=\"treeShow\">\r\n                  <fm-cell\r\n                    v-for=\"item in treeList\"\r\n                    :key=\"item.id\"\r\n                    @click=\"handleClick(item)\"\r\n                  >\r\n                    <template #title>\r\n                      <fm-image\r\n                        width=\"20\"\r\n                        height=\"20\"\r\n                        :src=\"require('@/assets/img/org-tree.png')\"\r\n                      />\r\n                      <span class=\"cell-title\">{{ item.content.name }}</span>\r\n                    </template>\r\n                  </fm-cell>\r\n                </fm-cell-group>\r\n                <fm-list\r\n                  v-else\r\n                  v-model=\"loading\"\r\n                  :finished=\"finished\"\r\n                  finished-text=\"我们是有底线的\"\r\n                  :immediate-check=\"false\"\r\n                  @load=\"onLoad\"\r\n                >\r\n                  <!-- <fm-checkbox-group v-model=\"result\"> -->\r\n                  <fm-cell-group>\r\n                    <fm-cell\r\n                      v-for=\"item in userList\"\r\n                      :key=\"item.userName\"\r\n                      clickable\r\n                    >\r\n                      <template #title>\r\n                        <img\r\n                          class=\"head-photo\"\r\n                          v-if=\"item.photoToken\"\r\n                          :src=\"item.photoToken | lookHeadPhoto\"\r\n                        />\r\n                        <div class=\"head-photo\" v-else>\r\n                          {{ item.userFullname | headPhotoSize }}\r\n                        </div>\r\n                        <span class=\"cell-title\">{{ item.userFullname }}</span>\r\n                      </template>\r\n                      <template #right-icon>\r\n                        <fm-checkbox\r\n                          v-if=\"multiple\"\r\n                          :name=\"item\"\r\n                          v-model=\"item.checked\"\r\n                        />\r\n                        <fm-radio\r\n                          v-else\r\n                          :name=\"item.userName\"\r\n                          :value=\"checkedName\"\r\n                          @click=\"handleRaidoCheck(item)\"\r\n                        />\r\n                      </template>\r\n                    </fm-cell>\r\n                  </fm-cell-group>\r\n                  <!-- </fm-checkbox-group> -->\r\n                </fm-list>\r\n              </div>\r\n            </div>\r\n            <div class=\"selected-user\" v-if=\"!treeShow\">\r\n              <span class=\"select-text\" @click=\"viewSelectedUser\"\r\n                >已选：{{ result.length }} 人</span\r\n              >\r\n              <div class=\"select-button\">\r\n                <fm-button type=\"primary\" size=\"small\" @click=\"confirm\" native-type=\"button\"\r\n                  >确定</fm-button\r\n                >\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fm-popup>\r\n      </div>\r\n      <!-- 查看已选择用户界面，可在此处删除，删除后点击确定才会变更result值 -->\r\n      <div>\r\n        <fm-popup\r\n          :visible.sync=\"viewShow\"\r\n          position=\"bottom\"\r\n          :style=\"{ height: '100%' }\"\r\n          :safe-area-inset-bottom=\"true\"\r\n          @closed=\"afterClosed\"\r\n        >\r\n          <fm-nav-bar\r\n            :title=\"selectTitle\"\r\n            :border=\"true\"\r\n            right-text=\"确定\"\r\n            @click-right=\"saveUser\"\r\n          >\r\n            <template #left>\r\n              <i class=\"fm-icon fm-icon-arrow-left\" @click=\"cancel\"></i>\r\n            </template>\r\n          </fm-nav-bar>\r\n          <div class=\"popup-container\">\r\n            <fm-cell-group>\r\n              <fm-cell\r\n                v-for=\"(item, index) in displayList\"\r\n                :key=\"item.username\"\r\n              >\r\n                <template #title>\r\n                  <img\r\n                    class=\"head-photo\"\r\n                    v-if=\"item.photoToken\"\r\n                    :src=\"item.photoToken | lookHeadPhoto\"\r\n                  />\r\n                  <div class=\"head-photo\" v-else>\r\n                    {{ item.userFullname | headPhotoSize }}\r\n                  </div>\r\n                  <span class=\"cell-title\">{{ item.userFullname }}</span>\r\n                </template>\r\n                <template #right-icon>\r\n                  <i\r\n                    class=\"fm-icon fm-icon-close cus-icon\"\r\n                    @click=\"deleteUser(item, index)\"\r\n                  ></i>\r\n                </template>\r\n              </fm-cell>\r\n            </fm-cell-group>\r\n          </div>\r\n        </fm-popup>\r\n      </div>\r\n    </div>\r\n    <fm-notify :visible.sync=\"notifyShow\" type=\"warning\">\r\n      <span>{{ notifyText }}</span>\r\n    </fm-notify>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  NavBar,\r\n  Search,\r\n  Cell,\r\n  CellGroup,\r\n  Image,\r\n  List,\r\n  Popup,\r\n  Button,\r\n  RadioGroup,\r\n  Radio,\r\n  Tag,\r\n  Checkbox,\r\n  CheckboxGroup,\r\n  Notify,\r\n} from 'fawkes-mobile-lib'\r\nimport { STATUS_BAR_HEIGHT } from '@/store/State/stateTypes'\r\nimport { getDept } from './api'\r\nimport { searchUser } from '@/api/user'\r\n\r\nexport default {\r\n  components: {\r\n    [NavBar.name]: NavBar,\r\n    [Search.name]: Search,\r\n    [Cell.name]: Cell,\r\n    [CellGroup.name]: CellGroup,\r\n    [Image.name]: Image,\r\n    [List.name]: List,\r\n    [Popup.name]: Popup,\r\n    [Button.name]: Button,\r\n    [RadioGroup.name]: RadioGroup,\r\n    [Radio.name]: Radio,\r\n    [Tag.name]: Tag,\r\n    [Checkbox.name]: Checkbox,\r\n    [CheckboxGroup.name]: CheckboxGroup,\r\n    [Notify.Component.name]: Notify.Component,\r\n  },\r\n  filters: {\r\n    headPhotoSize: function (value) {\r\n      return value.substr(0, 1)\r\n    },\r\n    lookHeadPhoto: function (val) {\r\n      return `${process.env.VUE_APP_BASE_URL}/sys-storage/download_image?f8s=${val}`\r\n    },\r\n  },\r\n  props: {\r\n    userName: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    userFullname: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '选择人员',\r\n    },\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    required: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      userList: [],\r\n      userData: [],\r\n      result: [], // 当前选中的用户数组\r\n      displayList: [], // 已选界面展示的用户数组\r\n      displayData: [], // 展示已选的、确认后的数据\r\n      selectUserList: [], //选中的人员数组\r\n      show: false, // 显示选人组件popup界面\r\n      viewShow: false, // 显示已选人员界面\r\n      navTitle: '组织架构',\r\n      searchValue: '',\r\n      treeList: [], //组织架构数据\r\n      treeData: [], // 存放每一级页面部门列表\r\n      treeShow: true, // 当前页面是否显示部门\r\n      loading: false,\r\n      finished: false,\r\n      depId: [], //记录访问深度\\修改navTitle, 默认第一级“组织架构”\r\n      pageNo: 1,\r\n      pageSize: 20,\r\n      accountStatus: 1,\r\n      notifyShow: false,\r\n      notifyText: '',\r\n      changePaged: false, // 是否切换部门\r\n      searchInUserPage: false, // 是否在用户界面查询\r\n      nodeItem: null, // 当前部门节点\r\n    }\r\n  },\r\n  computed: {\r\n    // 选中的结果集\r\n    tempResult() {\r\n      // 多选时，获取当前已选中的用户\r\n      if (this.multiple) {\r\n        return this.userList.filter((user) => user.checked)\r\n      } else {\r\n        return this.result\r\n      }\r\n    },\r\n    // 是否在用户列表界面\r\n    inUserPage() {\r\n      // 用部门节点是否为叶子节点判断是在部门还是用户列表页面\r\n      return this.depId.length != 0 && !this.depId.at(-1)?.hasChildren\r\n    },\r\n    selectTitle() {\r\n      return `已选： ${this.displayList.length} 人`\r\n    },\r\n    // 单选的用户名\r\n    checkedName() {\r\n      return this.result[0]?.userName || ''\r\n    },\r\n  },\r\n  watch: {\r\n    //解决FormCenter打开表单时数据不回显问题\r\n    userFullname() {\r\n      this.init()\r\n    },\r\n    tempResult(newVal, oldVal) {\r\n      // 多选\r\n      if (this.multiple) {\r\n        // newVal - oldVal - reuslt 待新增的\r\n        const toAdd = newVal\r\n          .filter(\r\n            (user) => !oldVal.some((val) => user.userName == val.userName)\r\n          )\r\n          .filter(\r\n            (add) => !this.result.some((val) => val.userName == add.userName)\r\n          )\r\n\r\n        if (toAdd.length > 0) {\r\n          this.result = this.result.concat(toAdd)\r\n        }\r\n\r\n        let toRemove = []\r\n\r\n        // 处理切换部门时意外清空选中记录问题\r\n        if (this.changePaged) {\r\n          this.changePaged = false\r\n        } else {\r\n          // 待删除 old-new\r\n          toRemove = oldVal.filter(\r\n            (user) => !newVal.some((val) => user.userName == val.userName)\r\n          )\r\n        }\r\n\r\n        // 切换部门时不删除，避免已选中记录被清空\r\n        if (toRemove.length > 0) {\r\n          this.result = this.result.filter(\r\n            (item) => !toRemove.some((val) => val.userName == item.userName)\r\n          )\r\n        }\r\n      } else {\r\n        // 单选\r\n        this.result = newVal\r\n      }\r\n    },\r\n    depId(newVal) {\r\n      if (newVal.length > 0) {\r\n        document.removeEventListener(\r\n          'backbutton',\r\n          this.$refs.userPopup.close,\r\n          false\r\n        )\r\n        document.addEventListener('backbutton', this.back, false)\r\n      } else {\r\n        document.addEventListener(\r\n          'backbutton',\r\n          this.$refs.userPopup.close,\r\n          false\r\n        )\r\n        document.removeEventListener('backbutton', this.back, false)\r\n      }\r\n    },\r\n    viewShow(newVal) {\r\n      if (newVal) {\r\n        document.removeEventListener('backbutton', this.back, false)\r\n        document.addEventListener('backbutton', this.cancel, false)\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    //更新父组件\r\n    updateProps(val) {\r\n      let usernameStr = ''\r\n      let userfullnameStr = ''\r\n      if (val.length == 0) {\r\n        this.$emit('update:userName', '')\r\n        this.$emit('update:userFullname', '')\r\n        this.$emit('change', val) //暴露选人组件的change事件后续需要可以调用\r\n      } else {\r\n        val.forEach((item) => {\r\n          usernameStr += item.userName + ','\r\n          userfullnameStr += item.userFullname + ','\r\n        })\r\n        this.$emit(\r\n          'update:userName',\r\n          usernameStr.substring(0, usernameStr.length - 1)\r\n        )\r\n        this.$emit(\r\n          'update:userFullname',\r\n          userfullnameStr.substring(0, userfullnameStr.length - 1)\r\n        )\r\n        this.$emit('change', val)\r\n      }\r\n    },\r\n    //删除\r\n    handleDelete(index) {\r\n      this.result.splice(index, 1)\r\n      this.displayData = this.result\r\n      this.updateProps(this.result)\r\n    },\r\n    //选择人员\\打开弹出层\r\n    selectUser() {\r\n      if (this.disabled) {\r\n        return\r\n      } else {\r\n        this.show = true\r\n        this.treeShow = true\r\n        //获取树形数据\r\n        getDept({}).then((res) => {\r\n          if (res.status) {\r\n            this.treeList = res.data\r\n            this.treeData.push(res.data)\r\n            this.depId.push({\r\n              title: '组织架构',\r\n              id: '0',\r\n              hasChildren: res.data.length > 0,\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    //查看已选人员名单\r\n    viewSelectedUser() {\r\n      this.viewShow = true\r\n      this.displayList = Array.from(this.result)\r\n    },\r\n    // 已选择用户界面删除用户\r\n    deleteUser(item, index) {\r\n      this.displayList.splice(index, 1)\r\n    },\r\n    //保存的话会保存操作\r\n    saveUser() {\r\n      this.result = Array.from(this.displayList)\r\n      if (this.multiple) {\r\n        if (this.result.length == 0) {\r\n          this.userList.forEach((user) => {\r\n            this.$set(user, 'checked', false)\r\n          })\r\n        } else {\r\n          this.result.forEach((item) => {\r\n            this.userList.forEach((user) => {\r\n              if (user.userName == item.userName) {\r\n                this.$set(user, 'checked', true)\r\n              } else {\r\n                this.$set(user, 'checked', false)\r\n              }\r\n            })\r\n          })\r\n        }\r\n      }\r\n\r\n      this.viewShow = false\r\n    },\r\n    //取消则之前做的操作都取消\r\n    cancel() {\r\n      this.viewShow = false\r\n    },\r\n    //回退\r\n    back() {\r\n      // 清空搜索框\r\n      this.searchValue = ''\r\n      // 查询页面不要弹出标题，清空操作\r\n      if (this.searchInUserPage || (!this.treeShow && !this.inUserPage)) {\r\n        this.onClear()\r\n        return\r\n      } else {\r\n        // 删除当前标题\r\n        this.depId.pop()\r\n      }\r\n\r\n      if (this.depId.length > 0) {\r\n        this.navTitle = this.depId[this.depId.length - 1]?.title\r\n      } else {\r\n        // 第一级页面时关闭弹窗且恢复已选值\r\n        this.show = false\r\n        this.result = Array.from(this.displayData)\r\n        return\r\n      }\r\n\r\n      if (this.treeShow) {\r\n        this.treeData.pop()\r\n        // 获取上一级部门列表信息\r\n        this.treeList = this.treeData.at(-1)\r\n      } else {\r\n        // 从用户列表页面返回\r\n        this.treeShow = true\r\n      }\r\n    },\r\n    //树形判断\r\n    judgeChild(node, tree) {\r\n      if (tree.length != 0) {\r\n        for (let i = 0; i < tree.length; i++) {\r\n          if (node == tree[i] && tree[i].children) {\r\n            return tree[i].children\r\n          } else if (tree[i].children) {\r\n            this.judgeChild(node, tree[i].children)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    //树形点击后出现子级目录：下级组织机构或者下面的人员\r\n    handleClick(item) {\r\n      this.searchValue = ''\r\n      if (this.treeShow) {\r\n        this.nodeItem = item\r\n      }\r\n      // 跳转新部门前记录上一级\r\n      this.depId.push({\r\n        title: item.content.name,\r\n        id: item.id,\r\n        hasChildren: item?.children?.length > 0,\r\n      })\r\n      this.navTitle = item.content.name\r\n      // 部门页面\r\n      if (this.judgeChild(item, this.treeList)) {\r\n        this.treeList = this.judgeChild(item, this.treeList)\r\n        this.treeData.push(this.treeList)\r\n      } else {\r\n        // 人员列表页面\r\n        this.pageNo = 1 //初始化进入时，页码必须为1，否则会被影响\r\n        let data = {\r\n          orgNo: item.content.orgNo,\r\n          searchValue: this.searchValue,\r\n          pageSize: this.pageSize,\r\n          pageNo: this.pageNo,\r\n          accountStatus: 1,\r\n        }\r\n        this.changePaged = true\r\n        searchUser(data).then((res) => {\r\n          this.userList = res.data.list\r\n          this.finished = res.data.isLastPage\r\n          this.treeShow = false\r\n          // 多选\r\n          if (this.multiple) {\r\n            if (this.result.length && this.userList.length) {\r\n              this.result.forEach((item) => {\r\n                this.userList.forEach((user) => {\r\n                  if (item.userName == user.userName) {\r\n                    this.$set(user, 'checked', true)\r\n                  }\r\n                })\r\n              })\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n    //下拉加载数据\r\n    onLoad() {\r\n      this.pageNo += 1\r\n      let data = {\r\n        orgNo: this.nodeItem?.id,\r\n        searchValue: this.searchValue,\r\n        pageSize: this.pageSize,\r\n        pageNo: this.pageNo,\r\n        accountStatus: 1,\r\n      }\r\n      searchUser(data).then((res) => {\r\n        this.userList.push(...res.data.list)\r\n        this.treeShow = false\r\n        if (this.userList.length == res.data.total) {\r\n          this.finished = true\r\n        }\r\n      })\r\n      this.loading = false\r\n    },\r\n    //确认选择\r\n    confirm() {\r\n      this.depId = []\r\n      this.navTitle = '组织架构'\r\n      this.show = false\r\n      this.searchValue = ''\r\n      this.treeList = []\r\n      // 更新回填展示数据\r\n      this.displayData = this.result\r\n      this.updateProps(this.result)\r\n    },\r\n    // 初始化\r\n    init() {\r\n      const userfullnameArr = this.userFullname\r\n        ? this.userFullname.split(',')\r\n        : []\r\n      const usernameArr = this.userName ? this.userName.split(',') : []\r\n      const len = userfullnameArr.length\r\n      const len2 = usernameArr.length\r\n\r\n      if (this.userFullname && this.userName) {\r\n        if (len !== len2) {\r\n          this.controlNotifyShow('初始人员数值错误')\r\n          return false\r\n        } else {\r\n          this.displayData = usernameArr.map((userName, index) => {\r\n            return { userName: userName, userFullname: userfullnameArr[index] }\r\n          })\r\n          this.result = Array.from(this.displayData)\r\n        }\r\n      } else if (!this.userfullname && !this.username) {\r\n        this.displayList = []\r\n      } else {\r\n        this.controlNotifyShow(\r\n          '请输入正确的人员数据,人员id和人员名称需同时赋值'\r\n        )\r\n      }\r\n    },\r\n    onSearch(val) {\r\n      // 空条件等同于清空\r\n      if (val === '' || !val) {\r\n        this.onClear()\r\n      } else {\r\n        if (this.inUserPage) {\r\n          this.searchInUserPage = true\r\n        }\r\n        this.pageNo = 1\r\n        let data = {\r\n          searchValue: val,\r\n          pageSize: this.pageSize,\r\n          pageNo: this.pageNo,\r\n          accountStatus: 1,\r\n        }\r\n        searchUser(data).then((res) => {\r\n          this.userList = res.data.list\r\n          this.treeShow = false\r\n        })\r\n      }\r\n    },\r\n    onClear() {\r\n      this.searchValue = ''\r\n      // 在用户列表页面清空查询时\r\n      if (this.inUserPage) {\r\n        this.searchInUserPage = false\r\n        this.pageNo = 1\r\n        let data = {\r\n          orgNo: this.nodeItem?.id,\r\n          pageSize: this.pageSize,\r\n          pageNo: this.pageNo,\r\n          accountStatus: 1,\r\n        }\r\n        searchUser(data).then((res) => {\r\n          this.userList = res.data.list\r\n          this.treeShow = false\r\n        })\r\n      } else {\r\n        // 在部门列表页面\r\n        this.userList = []\r\n        this.treeShow = true\r\n      }\r\n    },\r\n    controlNotifyShow(text) {\r\n      this.notifyText = text\r\n      this.notifyShow = true\r\n      setTimeout(() => {\r\n        this.notifyShow = false\r\n      }, 1000)\r\n    },\r\n    handleRaidoCheck(item) {\r\n      // this.checkedName = item.userName\r\n      this.result = [item]\r\n    },\r\n    // 第二级弹窗（已选用户界面）关闭后\r\n    afterClosed() {\r\n      document.removeEventListener('backbutton', this.cancel, false)\r\n      // 移除组件关闭时添加的默认事件\r\n      document.removeEventListener('backbutton', this.$back, false)\r\n      document.addEventListener('backbutton', this.back, false)\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.popup-container {\r\n  // 减去标题栏的高度\r\n  height: calc(100% - 92px);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.address-search-box {\r\n  margin-bottom: 10px;\r\n}\r\n.selected-user {\r\n  position: fixed;\r\n  bottom: 0;\r\n  background: #ffffff;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 20px;\r\n  font-size: 0.21333rem;\r\n  box-sizing: border-box;\r\n  .select-text {\r\n    font-size: 32px;\r\n    color: #027aff;\r\n  }\r\n}\r\n\r\n.address-box {\r\n  max-height: calc(100% - 104px);\r\n  background: #f9f9f9;\r\n  flex: 1;\r\n}\r\n\r\n// 没有显示选中人信息时\r\n.address-box-with-org {\r\n  max-height: calc(100%);\r\n}\r\n\r\n.address-tree {\r\n  height: calc(100% - 124px);\r\n  overflow: scroll;\r\n  .fm-list {\r\n    height: 100%;\r\n  }\r\n}\r\n.cell-title {\r\n  margin-left: 0.32rem;\r\n}\r\n\r\n.cus-icon {\r\n  margin: auto 0;\r\n}\r\n\r\n/deep/ .fm-nav-bar .fm-icon {\r\n  color: #ffffff;\r\n}\r\n\r\n.person-container {\r\n  height: 100%;\r\n  background: #eeeeee;\r\n}\r\n.person-box {\r\n  height: 80%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  flex-wrap: nowrap;\r\n}\r\n.person-photo {\r\n  margin: 0.42667rem;\r\n}\r\n\r\n.person-photo-title {\r\n  margin: 0.4rem 0.8rem;\r\n  /deep/.fm-cell__value--alone {\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n.person-photo-title1 {\r\n  margin: 0.4rem 0.8rem;\r\n  /deep/.fm-cell__value--alone {\r\n    text-align: center;\r\n    color: #ffffff;\r\n  }\r\n  /deep/.fm-cell {\r\n    background: #027aff;\r\n  }\r\n}\r\n.fm-cell__title {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.head-photo {\r\n  width: 80px;\r\n  height: 80px;\r\n  background: linear-gradient(138deg, #2f95f5 0%, #4088ff 100%);\r\n  opacity: 0.92;\r\n  border-radius: 50%;\r\n  text-align: center;\r\n  line-height: 80px;\r\n  color: #fff;\r\n  font-size: 32px;\r\n}\r\n/deep/.fm-notify {\r\n  padding-top: var(--height);\r\n}\r\n</style>\r\n"]}]}