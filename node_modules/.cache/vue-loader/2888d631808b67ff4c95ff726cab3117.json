{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\BZList\\pumpMap\\index.vue?vue&type=style&index=0&id=41bff7b8&lang=less&scoped=true","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\BZList\\pumpMap\\index.vue","mtime":1708928163361},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoucHVtcC1tYXAgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGhlaWdodDogMTAwJTsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCg0KICAucHVtcC1tYXAtaXRlbSB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIH0NCg0KICAucHVtcC1tYXAtaWNvbiB7DQogICAgd2lkdGg6IDYwcHg7DQogICAgaGVpZ2h0OiA2MHB4Ow0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgfQ0KDQogIC5wdW1wLW1hcC10ZXh0IHsNCiAgICBoZWlnaHQ6IDQwcHg7DQogICAgbGluZS1oZWlnaHQ6IDQwcHg7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIHBhZGRpbmc6IDAgMTBweDsNCiAgfQ0KfQ0KDQouY2FyZFRpdGxlIHsNCiAgbWFyZ2luLWxlZnQ6IDEwcHg7DQogIG1hcmdpbi1yaWdodDogMTBweDsNCiAgbWF4LXdpZHRoOiAyMDBweDsNCiAgZm9udC1zaXplOiAyNXB4Ow0KICBsaW5lLWhlaWdodDogMjVweDsNCiAgaGVpZ2h0OiAyNXB4Ow0KICBvdmVyZmxvdzogaGlkZGVuOw0KICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsNCn0NCg0KLm15LXN3aXBlIC5mbS1zd2lwZS1pdGVtIHsNCiAgZm9udC1zaXplOiAyMHB4Ow0KICBsaW5lLWhlaWdodDogMjEycHg7DQogIGhlaWdodDogMTAwJTsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiBub25lOw0KfQ0KDQouY2FyZCB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgYm90dG9tOiA1MHB4Ow0KICB3aWR0aDogNjkwcHg7DQogIGhlaWdodDogMjEycHg7DQogIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOw0KICBib3JkZXItcmFkaXVzOiAyMHB4Ow0KICBib3gtc2hhZG93OiAwcHggOHB4IDIwcHggMHB4ICNCNEM1RTI7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIHotaW5kZXg6IDk5Ow0KfQ0KDQovZGVlcC8gLmNlbGwtbGluZS1zaXplIHsNCiAgbGluZS1oZWlnaHQ6IDRweDsNCn0NCg0KLmNhcmRUYWcgew0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgYm9yZGVyOiBub25lOw0KICBjb2xvcjogd2hpdGU7DQogIGhlaWdodDogMzBweDsNCiAgd2lkdGg6IDUwcHg7DQogIGZvbnQtc2l6ZTogMTVweDsNCn0NCg0KLmdzQ2FyZCB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgdG9wOiA0MDBweDsNCiAgd2lkdGg6IDMwMHB4Ow0KICBoZWlnaHQ6IDQwMHB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwOw0KICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICBvcGFjaXR5OiAwLjc7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIHBhZGRpbmc6IDIwcHg7DQogIHotaW5kZXg6IDM5OTsNCn0NCg0KLnJhaW5DYXJkIHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB0b3A6IDYwMHB4Ow0KICB3aWR0aDogMzAwcHg7DQogIGhlaWdodDogMjAwcHg7DQogIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7DQogIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogIG9wYWNpdHk6IDAuNzsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgcGFkZGluZzogMjBweDsNCiAgei1pbmRleDogMzk5Ow0KfQ0KDQouY2FyZEljb24gew0KICBtYXJnaW4tdG9wOiAyMHB4Ow0KICBoZWlnaHQ6IDQwcHg7DQp9DQoNCi5saXN0IHsNCiAgb3ZlcmZsb3cteDogaGlkZGVuOw0KICBvdmVyZmxvdy15OiBzY3JvbGw7DQogIGhlaWdodDogMzAwcHg7DQp9DQoNCi5jZW50ZXIgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCn0NCg0KLnJvdyB7DQogIHdpZHRoOiAxMDAlOw0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogcm93Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogIGFsaWduLWl0ZW1zOiBiYXNlbGluZTsNCn0NCg0KLmNhcmRUZXh0IHsNCiAgZGlzcGxheTogZmxleDsNCiAgY29sb3I6ICNGRkZGRkY7DQogIGZvbnQtc2l6ZTogMzBweDsNCiAgbWFyZ2luLWxlZnQ6IDEwcHg7DQogIG1hcmdpbi1yaWdodDogMTBweDsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgbWF4LXdpZHRoOiAxMDAlOw0KICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCn0NCg0KLm91dHB1dCB7DQogIGNvbG9yOiAjRkZGRkZGOw0KICBtYXJnaW4tdG9wOiA1MHB4Ow0KICBmb250LXNpemU6IDIwcHg7DQogIG1hcmdpbi1sZWZ0OiAxMHB4Ow0KICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsNCn0NCg0KLmRpdmlkZXIgew0KICBtYXJnaW4tdG9wOiAxMHB4Ow0KICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KfQ0KDQoudGFnIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgdG9wOiAwOw0KICByaWdodDogMDsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMTAlOw0KfQ0KDQouaW1nIHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBoZWlnaHQ6IDMwcHg7DQogIHJpZ2h0OiAwOw0KICB0b3A6IDA7DQp9DQoNCi5pY29uIHsNCiAgaGVpZ2h0OiAzMHB4Ow0KfQ0KDQouaWNvblRleHQgew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGNvbG9yOiBibGFjazsNCiAgaGVpZ2h0OiAyMHB4Ow0KICByaWdodDogMTBweDsNCiAgdG9wOiAwcHg7DQp9DQoNCi5jaGFydENlbGwgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwOw0KICBvcGFjaXR5OiAwLjc7DQp9DQoNCi5sb2FkaW5nIHsNCiAgZGlzcGxheTogZmxleDsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIG1hcmdpbi10b3A6IDQwJTsNCn0NCg0KLmNoYXJ0SGVhZGVyIHsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IHJvdzsNCiAgbWFyZ2luLXRvcDogMTBweDsNCn0NCg0KLmNoYXJ0SGVhZGVyVGV4dCB7DQogIGNvbG9yOiB3aGl0ZTsNCiAgd2lkdGg6IDEwMCU7DQogIGZvbnQtc2l6ZTogMTRweDsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0KDQouYXJyb3dCdXR0b24gew0KICBoZWlnaHQ6IDIycHg7DQp9DQoNCi5ncm91cCB7DQogIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7DQogIG9wYWNpdHk6IDAuNzsNCn0NCg0KLmNoYXJ0VGl0ZWxUZXh0IHsNCiAgY29sb3I6IHdoaXRlOw0KICB3aWR0aDogMTAwJTsNCiAgZm9udC1zaXplOiAxNHB4Ow0KICB0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KDQoudGV4dCB7DQogIHotaW5kZXg6IDE7DQp9DQoNCi5pbWdMaXN0IHsNCiAgd2lkdGg6IDIzMnB4Ow0KICBoZWlnaHQ6IDEzMnB4Ow0KICBib3JkZXItcmFkaXVzOiAxOHB4Ow0KfQ0KDQouaXRlbSB7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgZGlzcGxheTogZmxleDsNCiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsNCiAgaGVpZ2h0OiAyMTJweDsNCiAgYm94LXNoYWRvdzogMHB4IDhweCAyMHB4IDBweCByZ2JhKDE4MCwgMTk3LCAyMjYsIDEpOw0KICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICBwYWRkaW5nOiAwIDM0cHggMCAyNHB4Ow0KDQogIC5pdGVtLXRhZyB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICByaWdodDogMDsNCiAgICB0b3A6IDA7DQogICAgd2lkdGg6IDEwMHB4Ow0KICAgIGhlaWdodDogNDBweDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KDQogICAgLmltZyB7DQogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIGhlaWdodDogMTAwJTsNCiAgICB9DQoNCiAgICAuaW1ncyB7DQogICAgICB3aWR0aDogMjBweDsNCiAgICAgIGhlaWdodDogMjBweDsNCiAgICAgIHotaW5kZXg6IDE7DQogICAgfQ0KDQogICAgLmZvbnQgew0KICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgei1pbmRleDogMTsNCiAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICB9DQogIH0NCg0KICAubGFibGVUZXh0IHsNCiAgICBjb2xvcjogIzJEN0VGRjsNCiAgICBmb250LXdlaWdodDogNDAwOw0KICAgIGZvbnQtc2l6ZTogMTRwdDsNCiAgfQ0KDQogIC5pdGVtLWltZyB7DQogICAgd2lkdGg6IDIzMnB4Ow0KICAgIGhlaWdodDogMTMycHg7DQogIH0NCg0KICAuaXRlbS1jb250ZW50IHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgIHdpZHRoOiAzODBweDsNCiAgICBoZWlnaHQ6IDEzMnB4Ow0KICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWU7DQoNCiAgICAuaXRlbS1jb250ZW50LWljb24gew0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7DQogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7DQogICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgaGVpZ2h0OiA2NXB4Ow0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsNCiAgICB9DQoNCiAgICAuaXRlbS1jb250ZW50LXRleHQgew0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7DQogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7DQogICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgaGVpZ2h0OiA3MHB4Ow0KICAgICAgbGluZS1oZWlnaHQ6IDMwcHg7DQogICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA+WA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/BZList/pumpMap","sourcesContent":["<template>\r\n  <div class=\"pump-map\">\r\n    <fm-nav-bar title=\"地图\" left-arrow @click-left=\"$router.replace('/BZList')\">\r\n    </fm-nav-bar>\r\n    <!-- 地图 -->\r\n    <MapComp ref=\"mymap\" :ifInspection=\"true\" @mapLoaded=\"mapLoaded\"></MapComp>\r\n    <div class=\"center\" v-if=\"show\">\r\n      <!-- 供水卡片 -->\r\n      <div class=\"gsCard\" v-if=\"pumpType=='供水'\">\r\n        <div class=\"loading\" v-if=\"!loaded\">\r\n          <fm-loading size=\"15px\" type=\"spinner\" color=\"white\" />\r\n        </div>\r\n        <div v-else>\r\n          <div class=\"cardText\">\r\n            {{pumpName}}\r\n          </div>\r\n          <div class=\"row\">\r\n            <img class=\"cardIcon\" src=\"@/assets/img/pumpmap/GsTag.png\">\r\n            <div class=\"chartHeaderText\">{{liveData.pumpState.runNum !=null?liveData.pumpState.runNum: '--'}}</div>\r\n            <img class=\"cardIcon\" src=\"@/assets/img/pumpmap/iconRed.png\">\r\n            <div class=\"chartHeaderText\">{{liveData.pumpState.alarmNum!=null?liveData.pumpState.alarmNum: '--'}}</div>\r\n            <img class=\"cardIcon\" src=\"@/assets/img/pumpmap/iconGrey.png\">\r\n            <div class=\"chartHeaderText\">{{liveData.pumpState.offNum !=null?liveData.pumpState.offNum: '--'}}</div>\r\n          </div>\r\n          <!-- 表头 -->\r\n          <div class=\"list\">\r\n            <div class=\"chartCell\">\r\n              <fm-divider class=\"divider\" />\r\n              <div class=\"chartHeader\">\r\n                <div class=\"chartHeaderText\"></div>\r\n                <div class=\"chartHeaderText\">进水</div>\r\n                <div class=\"chartHeaderText\">出水</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"chartCell\" v-for=\"(item,index) in  liveData && liveData.waterPressure\" :key=\"index\">\r\n              <fm-divider class=\"divider\" />\r\n              <div class=\"chartHeader\">\r\n                <div class=\"chartTitelText\">{{item.monitorItem !=null?item.monitorItem: '--'}}</div>\r\n                <div class=\"chartHeaderText\">{{item.inner !=null?item.inner: '--'}}</div>\r\n                <div class=\"chartHeaderText\">{{item.outer!=null?item.outer: '--'}}</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"chartCell\" v-for=\"(item,index) in liveData && liveData.waterQuality\" :key=\"index+100\">\r\n              <fm-divider class=\"divider\" />\r\n              <div class=\"chartHeader\">\r\n                <div class=\"chartTitelText\">{{item.monitorItem !=null?item.monitorItem: '--'}}</div>\r\n                <div class=\"chartHeaderText\">{{item.inner !=null?item.inner: '--'}}</div>\r\n                <div class=\"chartHeaderText\">{{item.outer!=null?item.outer: '--'}}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 雨水卡片 -->\r\n      <div class=\"rainCard\" v-else-if=\"pumpType=='雨水'\">\r\n        <div class=\"loading\" v-if=\"!loaded\">\r\n          <fm-loading size=\"15px\" type=\"spinner\" color=\"white\" />\r\n        </div>\r\n        <div v-else>\r\n          <div class=\"cardText\">\r\n            {{pumpName}}\r\n          </div>\r\n          <div class=\"row\">\r\n            <img class=\"cardIcon\" src=\"@/assets/img/pumpmap/RnTag.png\">\r\n            <div class=\"chartHeaderText\">{{liveData.pumpState.runNumh !=null?liveData.pumpState.runNumh: '--'}}</div>\r\n            <img class=\"cardIcon\" src=\"@/assets/img/pumpmap/iconRed.png\">\r\n            <div class=\"chartHeaderText\">{{liveData.pumpState.alarmNum !=null?liveData.pumpState.alarmNum: '--'}}</div>\r\n            <img class=\"cardIcon\" src=\"@/assets/img/pumpmap/iconGrey.png\">\r\n            <div class=\"chartHeaderText\">{{liveData.pumpState.offNum !=null?liveData.pumpState.offNum: '--'}}</div>\r\n          </div>\r\n          <div class=\"output\">\r\n            出水流量：{{liveData.waterPressure[1].outer}} m³/h\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 污水卡片 -->\r\n      <div class=\"rainCard\" v-else>\r\n        <div class=\"loading\" v-if=\"!loaded\">\r\n          <fm-loading size=\"15px\" type=\"spinner\" color=\"white\" />\r\n        </div>\r\n        <div v-else>\r\n          <div class=\"cardText\">\r\n            {{pumpName}}\r\n          </div>\r\n          <div class=\"row\">\r\n            <img class=\"cardIcon\" src=\"@/assets/img/pumpmap/WsTag.png\">\r\n            <div class=\"chartHeaderText\">{{liveData.pumpState.runNumh !=null?liveData.pumpState.runNumh: '--'}}</div>\r\n            <img class=\"cardIcon\" src=\"@/assets/img/pumpmap/iconRed.png\">\r\n            <div class=\"chartHeaderText\">{{liveData.pumpState.alarmNum !=null?liveData.pumpState.alarmNum: '--'}}</div>\r\n            <img class=\"cardIcon\" src=\"@/assets/img/pumpmap/iconGrey.png\">\r\n            <div class=\"chartHeaderText\">{{liveData.pumpState.offNum !=null?liveData.pumpState.offNum: '--'}}</div>\r\n          </div>\r\n          <div class=\"output\">\r\n            出水流量：{{liveData.waterPressure[1].outer}} m³/h\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <!-- 底部tab -->\r\n    <div>\r\n      <div class=\"center\">\r\n        <div class=\"card\">\r\n          <div>\r\n            <fm-swipe class=\"my-swipe\" ref=\"swipper\" @change=\"onChange\" :show-indicators=\"false\">\r\n              <fm-swipe-item v-for=\"(item,index) in tableData\" :key=\"index\">\r\n                <div class=\"item\">\r\n                  <div class=\"item-tag\" @click=\"goDetail(AllList[index])\">\r\n                    <img class=\"img\" src=\"@/assets/img/pumpmap/mapTag.png\">\r\n                    <img class=\"imgs\" src=\"@/assets/img/pumpmap/tagIcon.png\">\r\n                    <span class=\"font\">{{liveData.alarmNum}}</span>\r\n                  </div>\r\n                  <img class=\"arrowButton\" src=\"@/assets/img/pumpmap/arrowBack.png\" @click=\"arrowBack\">\r\n                  <div class=\"item-img\" @click=\"goDetail(AllList[index])\">\r\n                    <img class=\"imgList\" :src=\"imgs[index]\">\r\n                  </div>\r\n                  <div class=\"item-content\" @click=\"goDetail(AllList[index])\">\r\n                    <div class=\"item-content-icon\">\r\n                      <img class=\"icon\" src=\"@/assets/img/pumpmap/supercharge-pump@2x.png\">\r\n                      <div class=\"cardTitle\">{{item.pumpName}}</div>\r\n                      <fm-tag class=\"cardTag\" round\r\n                        :color=\"item.pumpType=='供水'?'#2D7EFF':item.pumpType=='污水'?'#91510A':'#40BB5A'\">{{item.pumpType}}\r\n                      </fm-tag>\r\n                    </div>\r\n                    <div class=\"item-content-text\">\r\n                      <img class=\"icon\" src=\"@/assets/img/BZList/location.png\">\r\n                      <div class=\"cardText\">{{item.address==''?'未获取到位置':item.address}}</div>\r\n                    </div>\r\n                  </div>\r\n                  <img class=\"arrowButton\" src=\"@/assets/img/pumpmap/arrow.png\" @click=\"arrow\">\r\n                </div>\r\n              </fm-swipe-item>\r\n            </fm-swipe>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MapComp from '@/views/inspectMap/index.vue'\r\nimport request from '@/utils/request'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport { pumpInfoPage, getLiveData } from './api'\r\n\r\nconst mapObj = {\r\n  map: null,\r\n  mapInstance: null,\r\n}\r\n\r\nexport default {\r\n  components: { MapComp, request },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      loaded: false,\r\n      pumpName: '',\r\n      pumpType: '',\r\n      imgUrl: '',\r\n      imgs: [],\r\n      tableData: [],\r\n      liveData: {},\r\n      allData: [],\r\n      index: 0,\r\n      AllList: [],\r\n      GsList: [],\r\n      WsList: [],\r\n      RnList: [],\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.queryInfo()\r\n    this.getData()\r\n  },\r\n  mounted() {\r\n    //当前定位图片\r\n    mapObj.loadImage(\r\n      require('@/assets/img/pumpmap/loc.png'),\r\n      function (error, image) {\r\n        if (error) throw error\r\n        that.map.addImage('mark', image)\r\n      }\r\n    )\r\n  },\r\n  methods: {\r\n    arrow() {\r\n      this.$refs.swipper.next()\r\n    },\r\n    arrowBack() {\r\n      this.$refs.swipper.prev()\r\n    },\r\n    arrowTo(index) {\r\n      this.$refs.swipper.swipeTo(index)\r\n    },\r\n    onChange(index) {\r\n      this.tableData.forEach((item, itemIndex) => {\r\n        if (itemIndex === index && item.lon != null && item.lat != null) {\r\n          this.show = true\r\n          this.getDataByName(item.pumpName)\r\n          mapObj.map.flyTo({ center: [item.lon, item.lat] })\r\n        }\r\n      })\r\n    },\r\n    //泵站分页查询\r\n    async queryInfo() {\r\n      let query = {\r\n        pageIndex: 1,\r\n        pageSize: 15,\r\n      }\r\n      const {\r\n        data: { records },\r\n      } = await pumpInfoPage(query)\r\n      this.tableData = records\r\n      console.log(this.tableData)\r\n      this.tableData.forEach((item) => {\r\n        this.getLiveData(item.id)\r\n        this.getImg(item.imageId)\r\n      });\r\n    },\r\n    //获取图片\r\n    getImg(imgToken) {\r\n      this.imgUrl = imgToken ? '/api/sys-storage/download_image?f8s=' + imgToken : null\r\n      this.imgs.push(this.imgUrl)\r\n    },\r\n    // 获取厂站列表数据\r\n    getData() {\r\n      request({\r\n        url: '/xasw-pump/pump/app/list',\r\n        method: 'get',\r\n        pumpType: '供水',\r\n      }).then((res) => {\r\n        this.AllList = this.AllList.concat(res.data)\r\n        this.AllList.forEach(element => {\r\n          element.pumpType == '供水' ?\r\n            this.GsList = this.GsList.concat(element) :\r\n            element.pumpType == '污水' ?\r\n              this.WsList = this.WsList.concat(element) :\r\n              this.RnList = this.RnList.concat(element)\r\n        });\r\n      }).finally(() => {\r\n      })\r\n    },\r\n    // 跳转详情页\r\n    goDetail(tappedObject) {\r\n      this.AllList != '' ?\r\n        this.$router.push({\r\n          path: '/BZList/BZdetail',\r\n          query: {\r\n            GsData: this.GsList,\r\n            WsData: this.WsData,\r\n            RnData: this.RnData,\r\n            tappedObject: tappedObject,\r\n          }\r\n        }) :\r\n        console.log('列表是空的')\r\n    },\r\n    //获取地图元素中的泵站名称\r\n    getName(e) {\r\n      if (e.originalEvent.srcElement.innerText != '' && e.originalEvent.srcElement.innerText != null) {\r\n        this.show = true\r\n        this.pumpName = e.originalEvent.srcElement.innerText\r\n        this.getDataByName(e.originalEvent.srcElement.innerText)\r\n        this.getIndex(e.originalEvent.srcElement.innerText)\r\n      }\r\n      else if (e.originalEvent.srcElement.id != '' && e.originalEvent.srcElement.id != null) {\r\n        this.show = true\r\n        this.pumpName = e.originalEvent.srcElement.id\r\n        this.getDataByName(e.originalEvent.srcElement.id)\r\n        this.getIndex(e.originalEvent.srcElement.id)\r\n      }\r\n      else {\r\n        this.show = false\r\n      }\r\n    },\r\n    //用泵站名称获取对应id\r\n    getDataByName(name) {\r\n      let temp\r\n      this.pumpName = name\r\n      this.tableData.forEach((item) => {\r\n        if (name == item.pumpName) {\r\n          temp = item.id\r\n          this.pumpType = item.pumpType\r\n        }\r\n      })\r\n      this.getLiveData(temp)\r\n    },\r\n    getIndex(name) {\r\n      this.tableData.forEach((item, index) => {\r\n        if (name == item.pumpName) {\r\n          this.index = index\r\n        }\r\n      })\r\n    },\r\n    //获取实时数据\r\n    getLiveData(id) {\r\n      this.loaded = false\r\n      request({\r\n        url: `/xasw-pump/pump/app/monitoringAlarm`,\r\n        method: \"get\",\r\n        params: {\r\n          pumpId: id\r\n        },\r\n      }).then((res) => {\r\n        this.liveData = res.data\r\n        this.allData.push(this.liveData)\r\n        this.loaded = true\r\n      })\r\n    },\r\n    //地图初始化\r\n    async mapLoaded(mapInstance) {\r\n      mapObj.mapInstance = mapInstance\r\n      mapObj.map = mapInstance.map\r\n\r\n      this.tableData.forEach((item) => {\r\n        if (!item.pumpIcon) return\r\n        let box = document.createElement('div')\r\n        box.className = 'pump-map-item'\r\n        box.style.display = 'flex'\r\n        box.style.flexDirection = 'column'\r\n        box.style.alignItems = 'center'\r\n\r\n        let content = document.createElement('div')\r\n        content.className = 'pump-map-text'\r\n        content.innerText = item.pumpName\r\n        // content.click=this.onClick(item.pumpName)\r\n        content.style.backgroundColor = 'none'\r\n        content.style.color = 'none'\r\n        content.style.textAlign = 'center'\r\n\r\n        let icon = document.createElement('div')\r\n        icon.className = 'pump-map-icon'\r\n        icon.id = item.pumpName\r\n        icon.style.background = `url(${require(`@/assets/img/pumpmap/loc.png`)}) no-repeat`\r\n        icon.style.backgroundSize = '100%'\r\n        icon.style.height = '15px'\r\n        icon.style.width = '15px'\r\n        icon.style.textAlign = 'center'\r\n\r\n        box.appendChild(content)\r\n        box.appendChild(icon)\r\n\r\n        let marker = new mapboxgl.Marker(box).setLngLat([item.lon, item.lat]).addTo(mapObj.map)\r\n\r\n        marker.getElement().addEventListener('click', () => {\r\n          this.config = true\r\n        })\r\n      })\r\n\r\n      mapObj.map.on('click', (e) => {\r\n        console.log(e)\r\n        this.loaded = false\r\n        this.getName(e)\r\n        this.arrowTo(this.index)\r\n        if (!this.config) return\r\n        let { lat, lng } = e.lngLat\r\n        mapObj.map.flyTo({ center: [lng, lat] })\r\n        this.config = false\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style  lang=\"less\" scoped>\r\n.pump-map {\r\n  position: relative;\r\n  height: 100%;\r\n  overflow: hidden;\r\n\r\n  .pump-map-item {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n\r\n  .pump-map-icon {\r\n    width: 60px;\r\n    height: 60px;\r\n    text-align: center;\r\n  }\r\n\r\n  .pump-map-text {\r\n    height: 40px;\r\n    line-height: 40px;\r\n    text-align: center;\r\n    padding: 0 10px;\r\n  }\r\n}\r\n\r\n.cardTitle {\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n  max-width: 200px;\r\n  font-size: 25px;\r\n  line-height: 25px;\r\n  height: 25px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.my-swipe .fm-swipe-item {\r\n  font-size: 20px;\r\n  line-height: 212px;\r\n  height: 100%;\r\n  text-align: center;\r\n  background-color: none;\r\n}\r\n\r\n.card {\r\n  position: absolute;\r\n  bottom: 50px;\r\n  width: 690px;\r\n  height: 212px;\r\n  background-color: white;\r\n  border-radius: 20px;\r\n  box-shadow: 0px 8px 20px 0px #B4C5E2;\r\n  overflow: hidden;\r\n  z-index: 99;\r\n}\r\n\r\n/deep/ .cell-line-size {\r\n  line-height: 4px;\r\n}\r\n\r\n.cardTag {\r\n  justify-content: center;\r\n  border: none;\r\n  color: white;\r\n  height: 30px;\r\n  width: 50px;\r\n  font-size: 15px;\r\n}\r\n\r\n.gsCard {\r\n  position: absolute;\r\n  top: 400px;\r\n  width: 300px;\r\n  height: 400px;\r\n  background-color: #000000;\r\n  border-radius: 10px;\r\n  opacity: 0.7;\r\n  overflow: hidden;\r\n  padding: 20px;\r\n  z-index: 399;\r\n}\r\n\r\n.rainCard {\r\n  position: absolute;\r\n  top: 600px;\r\n  width: 300px;\r\n  height: 200px;\r\n  background-color: #000000;\r\n  border-radius: 10px;\r\n  opacity: 0.7;\r\n  overflow: hidden;\r\n  padding: 20px;\r\n  z-index: 399;\r\n}\r\n\r\n.cardIcon {\r\n  margin-top: 20px;\r\n  height: 40px;\r\n}\r\n\r\n.list {\r\n  overflow-x: hidden;\r\n  overflow-y: scroll;\r\n  height: 300px;\r\n}\r\n\r\n.center {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.row {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: baseline;\r\n}\r\n\r\n.cardText {\r\n  display: flex;\r\n  color: #FFFFFF;\r\n  font-size: 30px;\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n  overflow: hidden;\r\n  max-width: 100%;\r\n  text-overflow: ellipsis;\r\n  align-items: center;\r\n}\r\n\r\n.output {\r\n  color: #FFFFFF;\r\n  margin-top: 50px;\r\n  font-size: 20px;\r\n  margin-left: 10px;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.divider {\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.tag {\r\n  background-color: black;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 10%;\r\n}\r\n\r\n.img {\r\n  position: absolute;\r\n  height: 30px;\r\n  right: 0;\r\n  top: 0;\r\n}\r\n\r\n.icon {\r\n  height: 30px;\r\n}\r\n\r\n.iconText {\r\n  position: absolute;\r\n  color: black;\r\n  height: 20px;\r\n  right: 10px;\r\n  top: 0px;\r\n}\r\n\r\n.chartCell {\r\n  background-color: #000000;\r\n  opacity: 0.7;\r\n}\r\n\r\n.loading {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 40%;\r\n}\r\n\r\n.chartHeader {\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-top: 10px;\r\n}\r\n\r\n.chartHeaderText {\r\n  color: white;\r\n  width: 100%;\r\n  font-size: 14px;\r\n  text-align: center;\r\n}\r\n\r\n.arrowButton {\r\n  height: 22px;\r\n}\r\n\r\n.group {\r\n  background-color: #000000;\r\n  opacity: 0.7;\r\n}\r\n\r\n.chartTitelText {\r\n  color: white;\r\n  width: 100%;\r\n  font-size: 14px;\r\n  text-align: left;\r\n}\r\n\r\n.text {\r\n  z-index: 1;\r\n}\r\n\r\n.imgList {\r\n  width: 232px;\r\n  height: 132px;\r\n  border-radius: 18px;\r\n}\r\n\r\n.item {\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background-color: white;\r\n  height: 212px;\r\n  box-shadow: 0px 8px 20px 0px rgba(180, 197, 226, 1);\r\n  border-radius: 16px;\r\n  padding: 0 34px 0 24px;\r\n\r\n  .item-tag {\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n    align-items: center;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    width: 100px;\r\n    height: 40px;\r\n    background-color: #fff;\r\n\r\n    .img {\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n\r\n    .imgs {\r\n      width: 20px;\r\n      height: 20px;\r\n      z-index: 1;\r\n    }\r\n\r\n    .font {\r\n      font-size: 14px;\r\n      z-index: 1;\r\n      color: white;\r\n    }\r\n  }\r\n\r\n  .lableText {\r\n    color: #2D7EFF;\r\n    font-weight: 400;\r\n    font-size: 14pt;\r\n  }\r\n\r\n  .item-img {\r\n    width: 232px;\r\n    height: 132px;\r\n  }\r\n\r\n  .item-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    width: 380px;\r\n    height: 132px;\r\n    background-color: #eee;\r\n\r\n    .item-content-icon {\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: flex-start;\r\n      align-items: center;\r\n      height: 65px;\r\n      background-color: #fff;\r\n    }\r\n\r\n    .item-content-text {\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: flex-start;\r\n      align-items: center;\r\n      height: 70px;\r\n      line-height: 30px;\r\n      overflow: hidden;\r\n      background-color: #fff;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}