{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\PersonalCenter\\Forget.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\PersonalCenter\\Forget.vue","mtime":1705912800054},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IEJ1dHRvbiwgTmF2QmFyLCBGb3JtLCBGaWVsZCwgSW1hZ2UsIEljb24sIENoZWNrYm94LCBUb2FzdCB9IGZyb20gJ2Zhd2tlcy1tb2JpbGUtbGliJzsKaW1wb3J0IHsgcHdkRW5jcnlwdCB9IGZyb20gJ0AvdXRpbHMvZW5jcnlwdGlvbi9wd2QnOwppbXBvcnQgeyBpc1Bob25lLCBwd2RSdWxlIH0gZnJvbSAnQC91dGlscy92YWxpZGF0ZSc7CmltcG9ydCB7IGdldENvZGUsIHJlc1Bhc3MgfSBmcm9tICcuL2FwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbG9naW4nLAogIGNvbXBvbmVudHM6IHsKICAgIFtCdXR0b24ubmFtZV06IEJ1dHRvbiwKICAgIFtOYXZCYXIubmFtZV06IE5hdkJhciwKICAgIFtGb3JtLm5hbWVdOiBGb3JtLAogICAgW0ZpZWxkLm5hbWVdOiBGaWVsZCwKICAgIFtJbWFnZS5uYW1lXTogSW1hZ2UsCiAgICBbSWNvbi5uYW1lXTogSWNvbiwKICAgIFtDaGVja2JveC5uYW1lXTogQ2hlY2tib3gsCiAgICBbVG9hc3QubmFtZV06IFRvYXN0CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmV4dFN0ZXA6IGZhbHNlLAogICAgICBmaXJzdE5ld1B3ZFR5cGU6ICdwYXNzd29yZCcsCiAgICAgIGxhc3ROZXdQd2RUeXBlOiAncGFzc3dvcmQnLAogICAgICBmaXJzdEZsYWc6IGZhbHNlLAogICAgICAvL+iOt+WPlumqjOivgeeggeaMiemSruaYr+WQpuemgeeUqAogICAgICBjb3VudERvd246IDAsCiAgICAgIGZvcm06IHsKICAgICAgICBjYXB0Y2hhOiAnJywKICAgICAgICBrZXk6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICBwd2Q6ICcnLAogICAgICAgIGNvbmZpcm1Qd2Q6ICcnCiAgICAgIH0sCiAgICAgIGZpcnN0RGlzYWJsZWQ6IHRydWUsCiAgICAgIGxhc3REaXNhYmxlZDogdHJ1ZSwKICAgICAgc2VuZENhcHRjaGE6IHRydWUsCiAgICAgIHBob25lUnVsZXM6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ+aJi+acuuWPt+S4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ29uQmx1cicKICAgICAgfSwgewogICAgICAgIC8vIOiHquWumuS5ieagoemqjOinhOWImQogICAgICAgIHZhbGlkYXRvcjogdmFsdWUgPT4gewogICAgICAgICAgcmV0dXJuIGlzUGhvbmUodmFsdWUpOwogICAgICAgIH0sCiAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeato+ehrueahOaJi+acuuWPt+agvOW8jycsCiAgICAgICAgdHJpZ2dlcjogJ29uQmx1cicKICAgICAgfV0sCiAgICAgIGNhcHRjaGFSdWxlczogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6aqM6K+B56CB5LiN6IO95Li656m6JywKICAgICAgICB0cmlnZ2VyOiAnb25CbHVyJwogICAgICB9LCB7CiAgICAgICAgLy8g6Ieq5a6a5LmJ5qCh6aqM6KeE5YiZCiAgICAgICAgdmFsaWRhdG9yOiB2YWx1ZSA9PiB7CiAgICAgICAgICByZXR1cm4gdmFsdWUubGVuZ3RoID49IDQ7CiAgICAgICAgfSwKICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5q2j56Gu55qE6aqM6K+B56CB5Liq5pWwJywKICAgICAgICB0cmlnZ2VyOiAnb25CbHVyJwogICAgICB9XSwKICAgICAgZmlyc3ROZXdQd2RSdWxlczogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn5paw5a+G56CB5LiN6IO95Li656m6JywKICAgICAgICB0cmlnZ2VyOiAnb25CbHVyJwogICAgICB9LCB7CiAgICAgICAgLy8g6Ieq5a6a5LmJ5qCh6aqM6KeE5YiZCiAgICAgICAgdmFsaWRhdG9yOiB2YWx1ZSA9PiB7CiAgICAgICAgICByZXR1cm4gcHdkUnVsZSh2YWx1ZSk7CiAgICAgICAgfSwKICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5q2j56Gu55qE5a+G56CB5qC85byPJywKICAgICAgICB0cmlnZ2VyOiAnb25CbHVyJwogICAgICB9XSwKICAgICAgbGFzdE5ld1B3ZFJ1bGVzOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfnoa7orqTlr4bnoIHkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdvbkJsdXInCiAgICAgIH0sIHsKICAgICAgICAvLyDoh6rlrprkuYnmoKHpqozop4TliJkKICAgICAgICB2YWxpZGF0b3I6IHZhbHVlID0+IHsKICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdGhpcy5mb3JtLnB3ZDsKICAgICAgICB9LAogICAgICAgIG1lc3NhZ2U6ICfkuKTmrKHlr4bnoIHovpPlhaXkuI3kuIDoh7QnLAogICAgICAgIHRyaWdnZXI6ICdvbkJsdXInCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIHZpZXdQYXNzd29yZChwd2RUeXBlKSB7CiAgICAgIGlmICh0aGlzW3B3ZFR5cGVdID09ICdwYXNzd29yZCcpIHsKICAgICAgICB0aGlzW3B3ZFR5cGVdID0gJ3RleHQnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXNbcHdkVHlwZV0gPSAncGFzc3dvcmQnOwogICAgICB9CiAgICB9LAogICAgLy/lj5HpgIHpqozor4HnoIEKICAgIHJlc2V0Q291bnQoKSB7CiAgICAgIC8v5oiQ5Yqf5pe255qE56iL5bqPCiAgICAgIGlmICghL14xWzM0NTY3ODldXGR7OX0kLy50ZXN0KHRoaXMuZm9ybS5waG9uZSkpIHsKICAgICAgICB0aGlzLkNoZWNrRnJvbUVyck1zZy5waG9uZSA9ICfor7fovpPlhaXmraPnoa7moLzlvI/nmoTmiYvmnLrlj7fnoIEnOwogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHRoaXMuZmlyc3REaXNhYmxlZCA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGdldENvZGUodGhpcy5mb3JtLnBob25lKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5jb3VudERvd24gPSA2MDsKICAgICAgICAgIHRoaXMuZm9ybS5rZXkgPSByZXMuZGF0YTsKICAgICAgICAgIHRoaXMuY291bnQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgVG9hc3QocmVzLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6K6h5pe25ZmoCiAgICBjb3VudCgpIHsKICAgICAgdGhpcy5maXJzdEZsYWcgPSB0cnVlOwogICAgICBsZXQgY291bnRlciA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgdGhpcy5jb3VudERvd24tLTsKICAgICAgICBpZiAodGhpcy5jb3VudERvd24gPT0gMCkgewogICAgICAgICAgdGhpcy5maXJzdEZsYWcgPSBmYWxzZTsKICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKGNvdW50ZXIpOwogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgLy8g56ys5LiA5q2lZm9ybeagoemqjAogICAgZmlyc3RDaGVja1ZhbGlkYXRvcigpIHsKICAgICAgLy8g5omL5py65Y+35Y2V54us6aqM6K+BICAg5Yik5pat5piv5ZCm56aB55So5Y+R6YCB6aqM6K+B56CB5oyJ6ZKuCiAgICAgIHRoaXMuJHJlZnMuZmlyc3RGb3JtLnZhbGlkYXRlKCdwaG9uZScpLnRoZW4oKCkgPT4gewogICAgICAgIC8v5oiQ5Yqf5pe255qE56iL5bqPCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgdGhpcy5zZW5kQ2FwdGNoYSA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgLy/lpLHotKXml7bnmoTnqIvluo8KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLnNlbmRDYXB0Y2hhID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuJHJlZnMuZmlyc3RGb3JtLnZhbGlkYXRlKCkudGhlbigoKSA9PiB7CiAgICAgICAgLy/miJDlip/ml7bnmoTnqIvluo8KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLmZpcnN0RGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIC8v5aSx6LSl5pe255qE56iL5bqPCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgdGhpcy5maXJzdERpc2FibGVkID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g56ys5LqM5q2lZm9ybeagoemqjAogICAgbGFzdENoZWNrVmFsaWRhdG9yKCkgewogICAgICB0aGlzLiRyZWZzLmxhc3RGb3JtLnZhbGlkYXRlKCkudGhlbigoKSA9PiB7CiAgICAgICAgLy/miJDlip/ml7bnmoTnqIvluo8KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLmxhc3REaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgLy/lpLHotKXml7bnmoTnqIvluo8KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLmxhc3REaXNhYmxlZCA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOesrOS4gOatpeaPkOS6pAogICAgZmlyc3RTdWJtaXQoKSB7CiAgICAgIHRoaXMubmV4dFN0ZXAgPSB0cnVlOwogICAgfSwKICAgIC8vIOWujOaIkAogICAgb25TdWJtaXQoKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgY2FwdGNoYTogdGhpcy5mb3JtLmNhcHRjaGEsCiAgICAgICAga2V5OiB0aGlzLmZvcm0ua2V5LAogICAgICAgIHBob25lOiB0aGlzLmZvcm0ucGhvbmUsCiAgICAgICAgcHdkOiBwd2RFbmNyeXB0KHRoaXMuZm9ybS5wd2QpLAogICAgICAgIGNvbmZpcm1Qd2Q6IHB3ZEVuY3J5cHQodGhpcy5mb3JtLmNvbmZpcm1Qd2QpCiAgICAgIH07CiAgICAgIHJlc1Bhc3MoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3RhdHVzKSB7CiAgICAgICAgICBUb2FzdCgn5a+G56CB5L+u5pS55oiQ5YqfJyk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFRvYXN0KHJlcy5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["Button","NavBar","Form","Field","Image","Icon","Checkbox","Toast","pwdEncrypt","isPhone","pwdRule","getCode","resPass","name","components","data","nextStep","firstNewPwdType","lastNewPwdType","firstFlag","countDown","form","captcha","key","phone","pwd","confirmPwd","firstDisabled","lastDisabled","sendCaptcha","phoneRules","required","message","trigger","validator","value","captchaRules","length","firstNewPwdRules","lastNewPwdRules","created","methods","viewPassword","pwdType","resetCount","test","CheckFromErrMsg","$nextTick","then","res","status","count","counter","window","setInterval","clearInterval","firstCheckValidator","$refs","firstForm","validate","catch","lastCheckValidator","lastForm","firstSubmit","onSubmit","$router","push"],"sources":["src/views/PersonalCenter/Forget.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-conatiner\">\r\n    <fm-nav-bar left-arrow fixed @click-left=\"$router.go(-1)\" />\r\n    <!-- 表单登录 -->\r\n    <div class=\"tip\">忘记密码</div>\r\n    <!-- 手机号 获取验证码 -->\r\n    <fm-form validate-trigger=\"onBlur\" ref=\"firstForm\" class=\"form-container\" v-if=\"!nextStep\">\r\n      <fm-field\r\n        class=\"field-mobile\"\r\n        v-model=\"form.phone\"\r\n        type=\"tel\"\r\n        placeholder=\"请输入手机号\"\r\n        clearable\r\n        name=\"phone\"\r\n        @blur=\"firstCheckValidator\"\r\n        :rules=\"phoneRules\"\r\n      />\r\n      <div class=\"code-item\">\r\n        <fm-field\r\n          class=\"field-code\"\r\n          v-model=\"form.captcha\"\r\n          type=\"number\"\r\n          maxlength=\"6\"\r\n          clearable\r\n          placeholder=\"验证码\"\r\n          @blur=\"firstCheckValidator\"\r\n          :rules=\"captchaRules\"\r\n        >\r\n        </fm-field>\r\n        <fm-button class=\"send-button\" v-if=\"sendCaptcha\" :disabled=\"sendCaptcha\" type=\"primary\">\r\n          {{ firstFlag ? countDown + 's重新获取' : '发送验证码' }}\r\n        </fm-button>\r\n        <fm-button\r\n          v-else\r\n          class=\"send-button\"\r\n          :disabled=\"firstFlag\"\r\n          type=\"primary\"\r\n          @click=\"resetCount\"\r\n        >\r\n          {{ firstFlag ? countDown + 's重新获取' : '发送验证码' }}\r\n        </fm-button>\r\n      </div>\r\n      <div style=\"margin: 16px\">\r\n        <fm-button\r\n          block\r\n          :disabled=\"firstDisabled\"\r\n          type=\"primary\"\r\n          @click=\"firstSubmit\"\r\n          native-type=\"submit\"\r\n          >下一步</fm-button\r\n        >\r\n      </div>\r\n    </fm-form>\r\n    <!-- 密码 确认密码 -->\r\n    <fm-form class=\"form-container\" ref=\"lastForm\" v-if=\"nextStep\">\r\n      <fm-field\r\n        class=\"field-mobile\"\r\n        v-model=\"form.pwd\"\r\n        clearable\r\n        name=\"密码\"\r\n        placeholder=\"请输入新密码\"\r\n        @blur=\"lastCheckValidator\"\r\n        :type=\"firstNewPwdType\"\r\n        @click-suffix-icon=\"viewPassword('firstNewPwdType')\"\r\n        :rules=\"firstNewPwdRules\"\r\n      >\r\n        <template #suffix-icon>\r\n          <i class=\"fm-icon fm-icon-eye-o suffix-icon\" v-if=\"firstNewPwdType == 'text'\"></i>\r\n          <i class=\"fm-icon fm-icon-closed-eye suffix-icon\" v-else></i>\r\n        </template>\r\n      </fm-field>\r\n      <fm-field\r\n        class=\"field-mobile\"\r\n        v-model=\"form.confirmPwd\"\r\n        name=\"确认密码\"\r\n        placeholder=\"请输入确认的新密码\"\r\n        clearable\r\n        @blur=\"lastCheckValidator\"\r\n        :type=\"lastNewPwdType\"\r\n        @click-suffix-icon=\"viewPassword('lastNewPwdType')\"\r\n        :rules=\"lastNewPwdRules\"\r\n      >\r\n        <template #suffix-icon>\r\n          <i class=\"fm-icon fm-icon-eye-o suffix-icon\" v-if=\"lastNewPwdType == 'text'\"></i>\r\n          <i class=\"fm-icon fm-icon-closed-eye suffix-icon\" v-else></i>\r\n        </template>\r\n      </fm-field>\r\n      <div class=\"pwd-tip\">\r\n        密码设置为8-15位，且必须为数字、大写字母、小写字母和特殊符号四种组合。\r\n      </div>\r\n      <div style=\"margin: 16px\">\r\n        <fm-button\r\n          round\r\n          block\r\n          @click=\"onSubmit\"\r\n          :disabled=\"lastDisabled\"\r\n          type=\"primary\"\r\n          native-type=\"submit\"\r\n          >确认</fm-button\r\n        >\r\n      </div>\r\n    </fm-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Button, NavBar, Form, Field, Image, Icon, Checkbox, Toast } from 'fawkes-mobile-lib'\r\nimport { pwdEncrypt } from '@/utils/encryption/pwd'\r\nimport { isPhone, pwdRule } from '@/utils/validate'\r\nimport { getCode, resPass } from './api'\r\nexport default {\r\n  name: 'login',\r\n  components: {\r\n    [Button.name]: Button,\r\n    [NavBar.name]: NavBar,\r\n    [Form.name]: Form,\r\n    [Field.name]: Field,\r\n    [Image.name]: Image,\r\n    [Icon.name]: Icon,\r\n    [Checkbox.name]: Checkbox,\r\n    [Toast.name]: Toast,\r\n  },\r\n  data() {\r\n    return {\r\n      nextStep: false,\r\n      firstNewPwdType: 'password',\r\n      lastNewPwdType: 'password',\r\n      firstFlag: false, //获取验证码按钮是否禁用\r\n      countDown: 0,\r\n      form: {\r\n        captcha: '',\r\n        key: '',\r\n        phone: '',\r\n        pwd: '',\r\n        confirmPwd: '',\r\n      },\r\n      firstDisabled: true,\r\n      lastDisabled: true,\r\n      sendCaptcha: true,\r\n      phoneRules: [\r\n        {\r\n          required: true,\r\n          message: '手机号不能为空',\r\n          trigger: 'onBlur',\r\n        },\r\n        {\r\n          // 自定义校验规则\r\n          validator: (value) => {\r\n            return isPhone(value)\r\n          },\r\n          message: '请输入正确的手机号格式',\r\n          trigger: 'onBlur',\r\n        },\r\n      ],\r\n      captchaRules: [\r\n        {\r\n          required: true,\r\n          message: '验证码不能为空',\r\n          trigger: 'onBlur',\r\n        },\r\n        {\r\n          // 自定义校验规则\r\n          validator: (value) => {\r\n            return value.length >= 4\r\n          },\r\n          message: '请输入正确的验证码个数',\r\n          trigger: 'onBlur',\r\n        },\r\n      ],\r\n      firstNewPwdRules: [\r\n        {\r\n          required: true,\r\n          message: '新密码不能为空',\r\n          trigger: 'onBlur',\r\n        },\r\n        {\r\n          // 自定义校验规则\r\n          validator: (value) => {\r\n            return pwdRule(value)\r\n          },\r\n          message: '请输入正确的密码格式',\r\n          trigger: 'onBlur',\r\n        },\r\n      ],\r\n      lastNewPwdRules: [\r\n        {\r\n          required: true,\r\n          message: '确认密码不能为空',\r\n          trigger: 'onBlur',\r\n        },\r\n        {\r\n          // 自定义校验规则\r\n          validator: (value) => {\r\n            return value === this.form.pwd\r\n          },\r\n          message: '两次密码输入不一致',\r\n          trigger: 'onBlur',\r\n        },\r\n      ],\r\n    }\r\n  },\r\n  created() {},\r\n  methods: {\r\n    viewPassword(pwdType) {\r\n      if (this[pwdType] == 'password') {\r\n        this[pwdType] = 'text'\r\n      } else {\r\n        this[pwdType] = 'password'\r\n      }\r\n    },\r\n    //发送验证码\r\n    resetCount() {\r\n      //成功时的程序\r\n      if (!/^1[3456789]\\d{9}$/.test(this.form.phone)) {\r\n        this.CheckFromErrMsg.phone = '请输入正确格式的手机号码'\r\n        this.$nextTick(() => {\r\n          this.firstDisabled = true\r\n        })\r\n        return false\r\n      }\r\n      getCode(this.form.phone).then((res) => {\r\n        if (res.status == true) {\r\n          this.countDown = 60\r\n          this.form.key = res.data\r\n          this.count()\r\n        } else {\r\n          Toast(res.message)\r\n        }\r\n      })\r\n    },\r\n    // 计时器\r\n    count() {\r\n      this.firstFlag = true\r\n      let counter = window.setInterval(() => {\r\n        this.countDown--\r\n        if (this.countDown == 0) {\r\n          this.firstFlag = false\r\n          window.clearInterval(counter)\r\n        }\r\n      }, 1000)\r\n    },\r\n    // 第一步form校验\r\n    firstCheckValidator() {\r\n      // 手机号单独验证   判断是否禁用发送验证码按钮\r\n      this.$refs.firstForm\r\n        .validate('phone')\r\n        .then(() => {\r\n          //成功时的程序\r\n          this.$nextTick(() => {\r\n            this.sendCaptcha = false\r\n          })\r\n        })\r\n        .catch(() => {\r\n          //失败时的程序\r\n          this.$nextTick(() => {\r\n            this.sendCaptcha = true\r\n          })\r\n        })\r\n      this.$refs.firstForm\r\n        .validate()\r\n        .then(() => {\r\n          //成功时的程序\r\n          this.$nextTick(() => {\r\n            this.firstDisabled = false\r\n          })\r\n        })\r\n        .catch(() => {\r\n          //失败时的程序\r\n          this.$nextTick(() => {\r\n            this.firstDisabled = true\r\n          })\r\n        })\r\n    },\r\n    // 第二步form校验\r\n    lastCheckValidator() {\r\n      this.$refs.lastForm\r\n        .validate()\r\n        .then(() => {\r\n          //成功时的程序\r\n          this.$nextTick(() => {\r\n            this.lastDisabled = false\r\n          })\r\n        })\r\n        .catch(() => {\r\n          //失败时的程序\r\n          this.$nextTick(() => {\r\n            this.lastDisabled = true\r\n          })\r\n        })\r\n    },\r\n\r\n    // 第一步提交\r\n    firstSubmit() {\r\n      this.nextStep = true\r\n    },\r\n    // 完成\r\n    onSubmit() {\r\n      const data = {\r\n        captcha: this.form.captcha,\r\n        key: this.form.key,\r\n        phone: this.form.phone,\r\n        pwd: pwdEncrypt(this.form.pwd),\r\n        confirmPwd: pwdEncrypt(this.form.confirmPwd),\r\n      }\r\n      resPass(data).then((res) => {\r\n        if (res.status) {\r\n          Toast('密码修改成功')\r\n          this.$router.push('/login')\r\n        } else {\r\n          Toast(res.message)\r\n        }\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.fm-hairline--bottom::after {\r\n  border: none;\r\n}\r\n.suffix-icon {\r\n  margin-left: 10px;\r\n}\r\n.main-conatiner {\r\n  height: 100%;\r\n  background: url('../../assets/img/login/bg.png') no-repeat;\r\n  background-size: 100% 100%;\r\n}\r\n.main-conatiner::before {\r\n  display: table;\r\n  content: '';\r\n}\r\n/deep/.fm-nav-bar {\r\n  background-color: transparent !important;\r\n}\r\n/deep/.fm-cell {\r\n  overflow: visible;\r\n  position: relative;\r\n}\r\n/deep/.fm-field__error-message {\r\n  position: absolute;\r\n  top: 70px;\r\n}\r\n.tip {\r\n  margin-top: 178px;\r\n  font-size: 50px;\r\n  font-weight: 600;\r\n  padding-left: 46px;\r\n  padding-right: 46px;\r\n}\r\n.form-container {\r\n  padding-left: 46px;\r\n  padding-right: 46px;\r\n  font-size: 28px;\r\n  margin-top: 177px;\r\n  .sub-menu {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding-left: 32px;\r\n    padding-right: 32px;\r\n    color: #027aff;\r\n    font-size: 28px;\r\n    padding-top: 30px;\r\n  }\r\n}\r\n\r\n.field-mobile,\r\n.field-code {\r\n  border-bottom: 2px #e3e3e3 solid;\r\n  padding-left: 24px;\r\n  background-color: #fff;\r\n  margin-bottom: 44px;\r\n  border: none;\r\n  border-radius: 25px;\r\n  /deep/ .fm-field__left-icon {\r\n    height: 48px;\r\n  }\r\n  /deep/ .fm-icon {\r\n    font-size: 48px;\r\n  }\r\n  /deep/ .fm-field__body {\r\n    height: 100%;\r\n  }\r\n}\r\n.code-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.field-code {\r\n  flex: 1.5;\r\n}\r\n.send-button {\r\n  margin-bottom: 44px;\r\n  color: #fff;\r\n  border-radius: 4px;\r\n  width: auto;\r\n  text-align: center;\r\n  background: #347df6;\r\n  margin-left: 20px;\r\n  flex: 1;\r\n  padding: 30px;\r\n  border-radius: 20px;\r\n}\r\n/deep/.fm-cell__value {\r\n  overflow: visible;\r\n}\r\n.fm-field--error ::placeholder {\r\n  color: rgba(159, 159, 159, 0.6);\r\n}\r\n.pwd-tip {\r\n  font-size: 28px;\r\n  color: rgb(159, 159, 159);\r\n  line-height: 42px;\r\n}\r\n</style>\r\n"],"mappings":"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"}]}