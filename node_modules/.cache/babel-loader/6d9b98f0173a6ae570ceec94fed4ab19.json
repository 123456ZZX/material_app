{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\OneMap\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\OneMap\\index.vue","mtime":1705912915806},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBtYXBUb29scyBmcm9tICcuL21hcFRvb2xzJzsKaW1wb3J0IG1vbml0b3JMaXN0IGZyb20gJy4vbW9uaXRvckxpc3QnOwppbXBvcnQgeyBhZGRJY29uVG9NYXAgfSBmcm9tICdAL3V0aWxzL21hcFV0aWxzJzsKaW1wb3J0IHsgZ2V0QWxsRXF1aXBtZW50SW5mb3JtYXRpb24gfSBmcm9tICcuL2FwaSc7CmltcG9ydCB7IGJib3gsIGNlbnRlciBhcyBnZXRDZW50ZXIgfSBmcm9tICdAdHVyZi90dXJmJzsKaW1wb3J0IF9jbG9uZURlZXAgZnJvbSAnbG9kYXNoL2Nsb25lRGVlcCc7Ci8vIOWbvuS+iwppbXBvcnQgeyBkZWZhbHRMZWdlbmRMaXN0IH0gZnJvbSAnLi9kZWZhbHRMZWdlbmRMaXN0LmpzJzsKLy8g5Y6L5Yqb55uR5rWL54K55Ye75by556qXCmltcG9ydCBQcmVzc3VyZU1vbml0b3JEZXRhaWwgZnJvbSAnLi9jb21wb25lbnRzL1ByZXNzdXJlTW9uaXRvckRldGFpbC52dWUnOwppbXBvcnQgTGluZURldGFpbCBmcm9tICcuL2NvbXBvbmVudHMvTGluZURldGFpbC52dWUnOwppbXBvcnQgTWFwTGVnZW5kIGZyb20gJy4vY29tcG9uZW50cy9tYXBMZWdlbmQudnVlJzsKaW1wb3J0IHsgbGVnZW5kTGlzdEltcG9ydCB9IGZyb20gJy4vbGVnZW5kTGlzdCc7CmNvbnN0IE1hcE9iaiA9IHsKICBtYXA6IG51bGwsCiAgdmlld2VyOiBudWxsLAogIHBvcHVwSXRlbTogJycsCiAgLy9tYXBib3jmsJTms6HmoYYKICBtYXJrZXI6ICcnLAogIG1vbml0b3JQb3B1cHM6IFtdLAogIG1vbml0b3JQb3B1cENvbnRlbnQ6IFtdCn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnT25lTWFwJywKICBjb21wb25lbnRzOiB7CiAgICBtYXBUb29scywKICAgIG1vbml0b3JMaXN0LAogICAgUHJlc3N1cmVNb25pdG9yRGV0YWlsLAogICAgTGluZURldGFpbCwKICAgIE1hcExlZ2VuZAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkVGFiOiAn5Zyw5Zu+JywKICAgICAgcG9wdXBTaG93OiBmYWxzZSwKICAgICAgbGVnZW5kTGlzdDogbGVnZW5kTGlzdEltcG9ydCwKICAgICAgcHJlc3N1cmVNb25pdG9yU2hvdzogZmFsc2UsCiAgICAgIC8vIOWOi+WKm+ebkea1i+ivpuaDhemdouadv+aYvumakAogICAgICBwaXBlbGluZVNob3c6IGZhbHNlLAogICAgICAvLyDnrqHnur/or6bmg4XpnaLmnb/mmL7pmpAKICAgICAgcHJlc3N1cmVEYXRhRGV0YWlsOiB7fSwKICAgICAgLy8g5Y6L5Yqb55uR5rWL6K+m5oOF6Z2i5p2/5Z+656GA5L+h5oGvCiAgICAgIHBpcGVsaW5lQmFzZUluZm86IHt9LAogICAgICAvLyDnrqHnur/or6bmg4XpnaLmnb/ln7rnoYDkv6Hmga8KICAgICAgbGF5ZXJJRDogJycsCiAgICAgIGxlZ2VuZENvbmZpZzogW10sCiAgICAgIGljb25zOiBbewogICAgICAgIG5hbWU6ICfljovlipvnm5HmtYso5L6bKSonLAogICAgICAgIHVybDogcmVxdWlyZSgnQC9hc3NldHMvaW1nL21hcC/ljovlipvnm5HmtYsucG5nJykKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfljovlipvnm5HmtYvnprvnur/kvpsnLAogICAgICAgIHVybDogcmVxdWlyZSgnQC9hc3NldHMvaW1nL21hcC/ljovlipvnprvnur/kvpvlnLDlm74ucG5nJykKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfljovlipvnm5HmtYvmiqXorabkvpsnLAogICAgICAgIHVybDogcmVxdWlyZSgnQC9hc3NldHMvaW1nL21hcC/ljovlipvmiqXorabkvpvlnLDlm74ucG5nJykKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfms7Xnq5knLAogICAgICAgIHVybDogcmVxdWlyZSgnQC9hc3NldHMvaW1nL21hcC9wdW1wLnBuZycpCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5YaN55Sf5rC05Y6CJywKICAgICAgICB1cmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy9tYXAv5YaN55Sf5rC05Y6C5Zyw5Zu+LnBuZycpCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5L6b5rC05Y6CJywKICAgICAgICB1cmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy9tYXAv5L6b5rC05Y6C5Zyw5Zu+LnBuZycpCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn57uZ5rC05Yqg5Y6L5rO156uZJywKICAgICAgICB1cmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy9tYXAv57uZ5rC05Yqg5Y6L5rO156uZ5Zyw5Zu+LnBuZycpCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5Y6L5Yqb55uR5rWLKOWGjeeUnykqJywKICAgICAgICB1cmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy9tYXAv5YaN55Sf5rC05Y6L5Yqb55uR5rWLLnBuZycpCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5Y6L5Yqb55uR5rWL56a757q/5YaN55SfJywKICAgICAgICB1cmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy9tYXAv5Y6L5Yqb56a757q/5YaN55Sf5Zyw5Zu+LnBuZycpCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5Y6L5Yqb55uR5rWL5oql6K2m5YaN55SfJywKICAgICAgICB1cmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy9tYXAv5Y6L5Yqb5oql6K2m5YaN55Sf5Zyw5Zu+LnBuZycpCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5rWB6YeP6K6hKOS+mykqJywKICAgICAgICB1cmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy9tYXAv5rWB6YeP6K6h5Zyw5Zu+LnBuZycpCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5rWB6YeP56a757q/5L6bJywKICAgICAgICB1cmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy9tYXAv5rWB6YeP56a757q/5L6b5Zyw5Zu+LnBuZycpCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5rWB6YeP5oql6K2m5L6bJywKICAgICAgICB1cmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy9tYXAv5rWB6YeP5oql6K2m5L6b5Zyw5Zu+LnBuZycpCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5rWB6YeP6K6hKOWGjeeUnykqJywKICAgICAgICB1cmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy9tYXAv5rWB6YeP6K6h5YaN55Sf5Zyw5Zu+LnBuZycpCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5rWB6YeP56a757q/5YaN55SfJywKICAgICAgICB1cmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy9tYXAv5rWB6YeP56a757q/5YaN55Sf5Zyw5Zu+LnBuZycpCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5rWB6YeP5oql6K2m5YaN55SfJywKICAgICAgICB1cmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy9tYXAv5rWB6YeP5oql6K2m5YaN55Sf5Zyw5Zu+LnBuZycpCiAgICAgIH0KICAgICAgLy8gewogICAgICAvLyAgIG5hbWU6ICLmj5DmoIfmlLnpgKDnu5nmsLTljoIiLAogICAgICAvLyAgIHVybDogcmVxdWlyZSgiQC9hc3NldHMvaW1nL21hcC/mj5DmoIfmlLnpgKDnu5nmsLTljoIucG5nIiksCiAgICAgIC8vIH0sCiAgICAgIC8vIHsKICAgICAgLy8gICBuYW1lOiAi6KeE5YiS5paw5bu657uZ5rC05Y6CIiwKICAgICAgLy8gICB1cmw6IHJlcXVpcmUoIkAvYXNzZXRzL2ltZy9tYXAv6KeE5YiS5paw5bu657uZ5rC05Y6CLnBuZyIpLAogICAgICAvLyB9LAogICAgICBdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbGVnZW5kQ2xpY2soZSwgaXRlbSwgaWQpIHsKICAgICAgaWYgKHR5cGVvZiBpdGVtLmlkID09ICdudW1iZXInKSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIG1lc3NhZ2U6ICflvZPliY3lm77lsYLmmoLml6DmlbDmja7vvIEnCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGl0ZW0uY2xpY2tGbGFnID0gIWl0ZW0uY2xpY2tGbGFnOwogICAgICB0aGlzLmxlZ2VuZENvbnRyb2xMYXllcihpdGVtKTsKICAgIH0sCiAgICBsZWdlbmRDb250cm9sTGF5ZXIoaXRlbSkgewogICAgICBsZXQgbWFwID0gd2luZG93LnhhTWFwOwogICAgICBpZiAobWFwLmdldExheWVyKGl0ZW0uaWQpKSB7CiAgICAgICAgaWYgKGl0ZW0uY2xpY2tGbGFnKSB7CiAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoaXRlbS5pZCwgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICAgICAgaWYgKGl0ZW0uaWQgPT0gJ3JkX21hcF9kcmFpbnBpcGVfeXNfYmlnJykgewogICAgICAgICAgICBsZXQgZmlsdGVyID0gbWFwLmdldEZpbHRlcigncmRfbWFwX21hbmhvbGUnKTsKICAgICAgICAgICAgaWYgKGZpbHRlci50b1N0cmluZygpID09IFsnYWxsJ10udG9TdHJpbmcoKSB8fCBmaWx0ZXIudG9TdHJpbmcoKSA9PSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICfpm6jmsLQnXS50b1N0cmluZygpKSB7CiAgICAgICAgICAgICAgaWYgKG1hcC5nZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV93c19iaWcnLCAndmlzaWJpbGl0eScpID09ICdub25lJykgewogICAgICAgICAgICAgICAgZmlsdGVyID0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAnJ107CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZpbHRlciA9IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJ+axoeawtCddOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvL+mbqOawtOeuoee6v+WbvuWxguaOp+WItumbqOawtOS6leOAgembqOawtOeureWktOOAgembqOawtOi+g+Wwj+Wxgue6p+WbvuWxguaYvuekugogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoJ3JkX21hcF9jb21iJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICAgICAgICBtYXAuc2V0RmlsdGVyKCdyZF9tYXBfbWFuaG9sZScsIGZpbHRlcik7CiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV95c19iaWdfZGlyZWN0aW9uJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoJ3JkX21hcF9kcmFpbnBpcGVfeXNfc21hbGwnLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV95c19zbWFsbF9kaXJlY3Rpb24nLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gJ21hcF9zdXBwbHlfcGlwZV9jaXJjdWxhdGluZycpIHsKICAgICAgICAgICAgLy/lvqrnjq/msLTvvIjlm57msLTvvInnrqHnur/mjqfliLblvqrnjq/msLTvvIjlm57msLTvvInoioLngrnmmL7npLoKICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCdtYXBfc3VwcGx5X25vZGVfY2lyY3VsYXRpbmcnLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gJ21hcF9zdXBwbHlfcGlwZV9kaXN0cmlidXRlJykgewogICAgICAgICAgICAvL+mFjeawtOeuoee6v+aOp+WItumFjeawtOiKgueCueaYvuekugogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoJ21hcF9zdXBwbHlfbm9kZV9kaXN0cmlidXRlJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlkID09ICdtYXBfc3VwcGx5X3BpcGVfZGVsaXZlcnknKSB7CiAgICAgICAgICAgIC8v6L6T5rC0566h57q/5o6n5Yi26L6T5rC06IqC54K55pi+56S6CiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgnbWFwX3N1cHBseV9ub2RlX2RlbGl2ZXJ5JywgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlkID09ICdtYXBfcmVjeWNsZV9waXBlJykgewogICAgICAgICAgICAvL+WGjeeUn+awtOeuoee6v+aOp+WItuWGjeeUn+awtOiKgueCueaYvuekugogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoJ21hcF9yZWN5Y2xlX25vZGUnLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gJ3JkX21hcF9kcmFpbnBpcGVfd3NfYmlnJykgewogICAgICAgICAgICAvL+axoeawtOeuoee6v+WbvuWxguaOp+WItuaxoeawtOS6leOAgeaxoeawtOeureWktOOAgeaxoeawtOi+g+Wwj+Wxgue6p+WbvuWxguaYvuekugogICAgICAgICAgICBsZXQgZmlsdGVyID0gbWFwLmdldEZpbHRlcigncmRfbWFwX21hbmhvbGUnKTsKICAgICAgICAgICAgaWYgKGZpbHRlci50b1N0cmluZygpID09IFsnYWxsJ10udG9TdHJpbmcoKSB8fCBmaWx0ZXIudG9TdHJpbmcoKSA9PSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICfmsaHmsLQnXS50b1N0cmluZygpKSB7CiAgICAgICAgICAgICAgaWYgKG1hcC5nZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV95c19iaWcnLCAndmlzaWJpbGl0eScpID09ICdub25lJykgewogICAgICAgICAgICAgICAgZmlsdGVyID0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAnJ107CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZpbHRlciA9IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJ+mbqOawtCddOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBtYXAuc2V0RmlsdGVyKCdyZF9tYXBfbWFuaG9sZScsIGZpbHRlcik7CiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV93c19iaWdfZGlyZWN0aW9uJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoJ3JkX21hcF9kcmFpbnBpcGVfd3Nfc21hbGwnLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV93c19zbWFsbF9kaXJlY3Rpb24nLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gJ+WOi+WKm+ebkea1iycpIHsKICAgICAgICAgICAgLy8gbWFwLnNldExheW91dFByb3BlcnR5KAogICAgICAgICAgICAvLyAgICLljovlipvnm5HmtYst5oql6K2mIiwKICAgICAgICAgICAgLy8gICAidmlzaWJpbGl0eSIsCiAgICAgICAgICAgIC8vICAgIm5vbmUiCiAgICAgICAgICAgIC8vICk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eShpdGVtLmlkLCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7CiAgICAgICAgICBpZiAoaXRlbS5pZCA9PSAncmRfbWFwX2RyYWlucGlwZV95c19iaWcnKSB7CiAgICAgICAgICAgIGxldCBmaWx0ZXIgPSBtYXAuZ2V0RmlsdGVyKCdyZF9tYXBfbWFuaG9sZScpOwogICAgICAgICAgICBpZiAoZmlsdGVyLnRvU3RyaW5nKCkgPT0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAnJ10udG9TdHJpbmcoKSB8fCBmaWx0ZXIudG9TdHJpbmcoKSA9PSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICfmsaHmsLQnXS50b1N0cmluZygpKSB7CiAgICAgICAgICAgICAgaWYgKG1hcC5nZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV93c19iaWcnLCAndmlzaWJpbGl0eScpICE9ICdub25lJykgewogICAgICAgICAgICAgICAgZmlsdGVyID0gWydhbGwnXTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZmlsdGVyID0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAn6Zuo5rC0J107CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIG1hcC5zZXRGaWx0ZXIoJ3JkX21hcF9tYW5ob2xlJywgZmlsdGVyKTsKICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCdyZF9tYXBfY29tYicsICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTsKICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCdyZF9tYXBfZHJhaW5waXBlX3lzX2JpZ19kaXJlY3Rpb24nLCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7CiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV95c19zbWFsbCcsICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTsKICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCdyZF9tYXBfZHJhaW5waXBlX3lzX3NtYWxsX2RpcmVjdGlvbicsICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTsKICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAnbWFwX3N1cHBseV9waXBlX2NpcmN1bGF0aW5nJykgewogICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoJ21hcF9zdXBwbHlfbm9kZV9jaXJjdWxhdGluZycsICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTsKICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAnbWFwX3N1cHBseV9waXBlX2Rpc3RyaWJ1dGUnKSB7CiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgnbWFwX3N1cHBseV9ub2RlX2Rpc3RyaWJ1dGUnLCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7CiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gJ21hcF9zdXBwbHlfcGlwZV9kZWxpdmVyeScpIHsKICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCdtYXBfc3VwcGx5X25vZGVfZGVsaXZlcnknLCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7CiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gJ21hcF9yZWN5Y2xlX3BpcGUnKSB7CiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgnbWFwX3JlY3ljbGVfbm9kZScsICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTsKICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAncmRfbWFwX2RyYWlucGlwZV93c19iaWcnKSB7CiAgICAgICAgICAgIGxldCBmaWx0ZXIgPSBtYXAuZ2V0RmlsdGVyKCdyZF9tYXBfbWFuaG9sZScpOwogICAgICAgICAgICBpZiAoZmlsdGVyLnRvU3RyaW5nKCkgPT0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAnJ10udG9TdHJpbmcoKSB8fCBmaWx0ZXIudG9TdHJpbmcoKSA9PSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICfpm6jmsLQnXS50b1N0cmluZygpKSB7CiAgICAgICAgICAgICAgaWYgKG1hcC5nZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV95c19iaWcnLCAndmlzaWJpbGl0eScpICE9ICdub25lJykgewogICAgICAgICAgICAgICAgZmlsdGVyID0gWydhbGwnXTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZmlsdGVyID0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAn5rGh5rC0J107CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV93c19iaWdfZGlyZWN0aW9uJywgJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpOwogICAgICAgICAgICBtYXAuc2V0RmlsdGVyKCdyZF9tYXBfbWFuaG9sZScsIGZpbHRlcik7CiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX21hbmhvbGUnLCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7CiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV93c19zbWFsbF9kaXJlY3Rpb24nLCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7CiAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV93c19zbWFsbCcsICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTsKICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAn5Y6L5Yqb55uR5rWLJykgewogICAgICAgICAgICAvLyBtYXAuc2V0TGF5b3V0UHJvcGVydHkoCiAgICAgICAgICAgIC8vICAgIuWOi+WKm+ebkea1iy3miqXoraYiLAogICAgICAgICAgICAvLyAgICJ2aXNpYmlsaXR5IiwKICAgICAgICAgICAgLy8gICAidmlzaWJsZSIKICAgICAgICAgICAgLy8gKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBsZWdlbmRUaXRsZU5hbWVDbGljayhsZWdlbmRUaXRsZU5hbWUpIHsKICAgICAgdGhpcy5sZWdlbmRMaXN0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgaWYgKGl0ZW0ubGFiZWwgPT09IGxlZ2VuZFRpdGxlTmFtZSkgewogICAgICAgICAgaXRlbS50aXRsZVN0YXR1cyA9ICFpdGVtLnRpdGxlU3RhdHVzOwogICAgICAgICAgLy8KICAgICAgICAgIGl0ZW0ub3B0aW9ucy5mb3JFYWNoKHNtYWxsSXRlbSA9PiB7CiAgICAgICAgICAgIC8vIOW9k+ivpeagh+mimOS4i+WbvuWxguWGheWuueS4uuaYvuekuueKtuaAgeaXtuaJjei/m+WFpeWIpOaWrQogICAgICAgICAgICBpZiAoaXRlbS50aXRsZVN0YXR1cyA9PT0gdHJ1ZSAmJiB0eXBlb2Ygc21hbGxJdGVtLmlkID09ICdudW1iZXInKSB7CiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNtYWxsSXRlbS5sYWJlbCArICflm77lsYLmmoLml6DmlbDmja7vvIEnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGl0ZW0udGl0bGVTdGF0dXMgPT09IHRydWUpIHsKICAgICAgICAgICAgICAvLyDmoIfpopjnirbmgIHngrnkuq7ml7YKICAgICAgICAgICAgICBzbWFsbEl0ZW0uY2xpY2tGbGFnID0gZmFsc2U7IC8vIOWbvuWxguWdh+aYvuekugogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHNtYWxsSXRlbS5jbGlja0ZsYWcgPSB0cnVlOyAvLyDlm77lsYLlnYfpmpDol48KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmxlZ2VuZENvbnRyb2xMYXllcihzbWFsbEl0ZW0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjbG9zZVBvcCh2YWwpIHsKICAgICAgdGhpcy5wb3B1cFNob3cgPSB2YWw7CiAgICB9LAogICAgc2hvd01hcExlZ2VuZCgpIHsKICAgICAgdGhpcy5wb3B1cFNob3cgPSB0cnVlOwogICAgfSwKICAgIC8vIHRhYuWIh+aNouWbnuiwgwogICAgY2hhbmdlVHlwZShuYW1lLCB0aXRsZSkgewogICAgICAvLyBUb2FzdC5sb2FkaW5nKHsKICAgICAgLy8gICBtZXNzYWdlOiAn5Yqg6L295LitLi4uJywKICAgICAgLy8gICBmb3JiaWRDbGljazogdHJ1ZSwKICAgICAgLy8gICBkdXJhdGlvbjogMAogICAgICAvLyB9KQogICAgICB0aGlzLnNlbGVjdGVkVGFiID0gbmFtZTsKICAgIH0sCiAgICBnZXREZWZhdWx0QmFzZUxheWVycyhsYXllcnMpIHsKICAgICAgdGhpcy4kcmVmcy5tYXBUb29scy5nZXREZWZhdWx0QmFzZUxheWVycyhsYXllcnMpOwogICAgfSwKICAgIGdldEJhc2VMYXllck9iamVjdChsYXllcnMpIHsKICAgICAgdGhpcy4kcmVmcy5tYXBUb29scy5nZXRCYXNlTGF5ZXJPYmplY3QobGF5ZXJzKTsKICAgIH0sCiAgICAvKirliJ3lp4vljJblnLDlm77kuovku7YgKi8KICAgIGFzeW5jIGluaXRTY2VuZSgpIHsKICAgICAgdGhpcy5sZWdlbmRDb25maWcgPSBkZWZhbHRMZWdlbmRMaXN0OwogICAgICAvLyB0aGlzLnJlYnVpbGRMZWdlbmRMaXN0ID0gbGVnZW5kTGlzdAogICAgICBNYXBPYmoubWFwID0gd2luZG93LnhhTWFwOwogICAgICBhd2FpdCBhZGRJY29uVG9NYXAoTWFwT2JqLm1hcCwgdGhpcy5pY29ucyk7CiAgICAgIC8vIOa3u+WKoOWOi+WKm+ebkea1i+iuvuWkh+eCuQogICAgICB0aGlzLmdldFByZXNzdXJlUG9pbnQoKTsKICAgIH0sCiAgICAvLyDljovlipvnm5HmtYvorr7lpIfmt7vliqDlm77moIcKICAgIGFzeW5jIGdldFByZXNzdXJlUG9pbnQoKSB7CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgZGV2aWNlVHlwZTogJycKICAgICAgfTsKICAgICAgbGV0IGFyciA9IFtdOwogICAgICBsZXQgZmxvd0FyciA9IFtdOyAvL+a1gemHj+iuoQogICAgICBsZXQgc3VwcGx5Rmxvd0FyciA9IFtdOyAvL+S+m+awtOa1gemHj+iuoQogICAgICBsZXQgcmVjeWNsZUZsb3dBcnIgPSBbXTsgLy/lho3nlJ/msLTmtYHph4/orqEKICAgICAgbGV0IHByZXNzdXJlQXJyID0gW107CiAgICAgIGxldCBzdXBwbHlQcmVzc3VyZUFyciA9IFtdOyAvL+S+m+awtOWOi+WKm+iuoQogICAgICBsZXQgcmVjeWNsZVByZXNzdXJlQXJyID0gW107IC8v5YaN55Sf5rC05Y6L5YqbCiAgICAgIC8vIOiOt+WPluaJgOacieebkea1i+iuvuWkh+WfuuehgOS/oeaBrwogICAgICBhd2FpdCBnZXRBbGxFcXVpcG1lbnRJbmZvcm1hdGlvbihwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmRhdGEgJiYgcmVzLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgYXJyID0gcmVzLmRhdGE7CiAgICAgICAgICBmbG93QXJyID0gYXJyLmZpbHRlcihpdGVtID0+IHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZGV2aWNlVHlwZSA9PSAnRmxvd21ldGVyJzsKICAgICAgICAgIH0pOwogICAgICAgICAgc3VwcGx5Rmxvd0FyciA9IGZsb3dBcnIuZmlsdGVyKGl0ZW0gPT4gewogICAgICAgICAgICByZXR1cm4gaXRlbS5iZWxvbmdTeXN0ZW0gPT0gJ+S+m+awtCc7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJlY3ljbGVGbG93QXJyID0gZmxvd0Fyci5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmJlbG9uZ1N5c3RlbSA9PSAn5YaN55Sf5rC0JzsKICAgICAgICAgIH0pOwogICAgICAgICAgcHJlc3N1cmVBcnIgPSBhcnIuZmlsdGVyKGl0ZW0gPT4gewogICAgICAgICAgICByZXR1cm4gaXRlbS5kZXZpY2VUeXBlID09ICdJVlRNJzsKICAgICAgICAgIH0pOwogICAgICAgICAgc3VwcGx5UHJlc3N1cmVBcnIgPSBwcmVzc3VyZUFyci5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmJlbG9uZ1N5c3RlbSA9PSAn5L6b5rC0JzsKICAgICAgICAgIH0pOwogICAgICAgICAgcmVjeWNsZVByZXNzdXJlQXJyID0gcHJlc3N1cmVBcnIuZmlsdGVyKGl0ZW0gPT4gewogICAgICAgICAgICByZXR1cm4gaXRlbS5iZWxvbmdTeXN0ZW0gPT0gJ+WGjeeUn+awtCc7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuYWRkWW91ckxheWVyKHN1cHBseUZsb3dBcnIsICfmtYHph4/orqEo5L6bKSonLCAn5rWB6YeP56a757q/5L6bJywgJ+a1gemHj+aKpeitpuS+mycpOwogICAgICAgICAgdGhpcy5hZGRZb3VyTGF5ZXIocmVjeWNsZUZsb3dBcnIsICfmtYHph4/orqEo5YaN55SfKSonLCAn5rWB6YeP56a757q/5YaN55SfJywgJ+a1gemHj+aKpeitpuWGjeeUnycpOwogICAgICAgICAgdGhpcy5hZGRZb3VyTGF5ZXIoc3VwcGx5UHJlc3N1cmVBcnIsICfljovlipvnm5HmtYso5L6bKSonLCAn5Y6L5Yqb55uR5rWL56a757q/5L6bJywgJ+WOi+WKm+ebkea1i+aKpeitpuS+mycpOwogICAgICAgICAgdGhpcy5hZGRZb3VyTGF5ZXIocmVjeWNsZVByZXNzdXJlQXJyLCAn5Y6L5Yqb55uR5rWLKOWGjeeUnykqJywgJ+WOi+WKm+ebkea1i+emu+e6v+WGjeeUnycsICfljovlipvnm5HmtYvmiqXorablho3nlJ8nKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAvLyBsZXQgcGFyYW1zMSA9IHsKICAgICAgLy8gICBkZXZpY2VUeXBlOiAiWkpJVlRNIiwKICAgICAgLy8gfQogICAgICAvLyBhd2FpdCBnZXRBbGxFcXVpcG1lbnRJbmZvcm1hdGlvbihwYXJhbXMxKS50aGVuKChyZXMpID0+IHsKICAgICAgLy8gICBpZiAocmVzLmRhdGEgJiYgcmVzLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAvLyAgICAgYXJyID0gYXJyLmNvbmNhdChyZXMuZGF0YSkKICAgICAgLy8gICB9CiAgICAgIC8vIH0pOwogICAgICAvLyB0aGlzLmFkZFlvdXJMYXllcihhcnIsICLljovlipvnm5HmtYsiKTsKICAgIH0sCiAgICAvLyDlnKjlnLDlm77kuIrmt7vliqDlm77moIflm77lsYIKICAgIGFkZFlvdXJMYXllcihwb2ludExpc3QsIGlkLCBvZmZsaW5lSW1hZ2VJZCwgd2FybkltYWdlSWQpIHsKICAgICAgbGV0IHZpc2liaWxpdHkgPSAndmlzaWJsZSc7CiAgICAgIGlmIChpZCA9PSAn5Y6L5Yqb55uR5rWLKOS+mykqJykgewogICAgICAgIHZpc2liaWxpdHkgPSAndmlzaWJsZSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmlzaWJpbGl0eSA9ICdub25lJzsKICAgICAgfQogICAgICBjb25zdCBzb3VyY2VEYXRhID0gewogICAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsCiAgICAgICAgZmVhdHVyZXM6IHBvaW50TGlzdC5tYXAoaSA9PiB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0eXBlOiAnRmVhdHVyZScsCiAgICAgICAgICAgIGdlb21ldHJ5OiB7CiAgICAgICAgICAgICAgdHlwZTogJ1BvaW50JywKICAgICAgICAgICAgICBjb29yZGluYXRlczogW2kubG9uLCBpLmxhdF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHJvcGVydGllczogaQogICAgICAgICAgfTsKICAgICAgICB9KQogICAgICB9OwogICAgICBpZiAod2luZG93LnhhTWFwLmdldFNvdXJjZShpZCkpIHsKICAgICAgICB3aW5kb3cueGFNYXAuZ2V0U291cmNlKGlkKS5zZXREYXRhKHNvdXJjZURhdGEpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB3aW5kb3cueGFNYXAuYWRkTGF5ZXIoewogICAgICAgIGlkOiBpZCwKICAgICAgICB0eXBlOiAnc3ltYm9sJywKICAgICAgICBzb3VyY2U6IHsKICAgICAgICAgIHR5cGU6ICdnZW9qc29uJywKICAgICAgICAgIGRhdGE6IHNvdXJjZURhdGEKICAgICAgICB9LAogICAgICAgIGxheW91dDogewogICAgICAgICAgJ2ljb24taW1hZ2UnOiBbJ2Nhc2UnLCBbJ2FsbCcsIFsnPT0nLCBbJ2dldCcsICdpb3RPbmxpbmUnXSwgJzAnXSwgWychPScsIFsnZ2V0JywgJ2lzV2FybiddLCAnMSddXSwgaWQsIFsnPT0nLCBbJ2dldCcsICdpb3RPbmxpbmUnXSwgJzEnXSwgb2ZmbGluZUltYWdlSWQsIFsnYWxsJywgWyc9PScsIFsnZ2V0JywgJ2lvdE9ubGluZSddLCAnMCddLCBbJz09JywgWydnZXQnLCAnaXNXYXJuJ10sICcxJ11dLCB3YXJuSW1hZ2VJZCwgaWRdLAogICAgICAgICAgJ2ljb24tc2l6ZSc6IDAuNywKICAgICAgICAgIC8vIOWbvuagh+W8uuWItuWFqOmDqOaYvuekugogICAgICAgICAgJ2ljb24taWdub3JlLXBsYWNlbWVudCc6IHRydWUsCiAgICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmlsaXR5CiAgICAgICAgfSwKICAgICAgICBtaW56b29tOiAxMwogICAgICB9LCAnJyk7CiAgICAgIGxldCBvYmogPSB7fTsKICAgICAgb2JqW2lkXSA9IHBvaW50TGlzdDsKICAgICAgTWFwT2JqLm1vbml0b3JQb3B1cENvbnRlbnQucHVzaChvYmopOwogICAgICAvLyB3aW5kb3cueGFNYXAub24oIm1vdXNlZW50ZXIiLCBpZCwgdGhpcy5oYW5kbGVNb3VzZUVudGVyKTsKICAgICAgLy8gd2luZG93LnhhTWFwLm9uKCJtb3VzZW91dCIsIGlkLCB0aGlzLmhhbmRsZU1vdXNlT3V0KTsKICAgICAgd2luZG93LnhhTWFwLm9uKCdjbGljaycsIGlkLCB0aGlzLmhhbmRsZU1vdXNlQ2xpY2spOwogICAgICAvLyB3aW5kb3cueGFNYXAub24oImxvYWQiLCAoKSA9PiB7CiAgICAgIC8vICAgd2luZG93LnhhTWFwLm1vdmVMYXllcigi5Y6L5Yqb55uR5rWLIiwgIiIpOwogICAgICAvLyB9KTsKICAgIH0sCiAgICAvLyDpvKDmoIfngrnlh7sKICAgIGhhbmRsZU1vdXNlQ2xpY2soZSkgewogICAgICBjb25zdCBmZWF0dXJlID0gZS5mZWF0dXJlc1swXTsKICAgICAgd2luZG93LnhhTWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJzsKICAgICAgLy8g566h57q/6K+m5oOF6Z2i5p2/5YWz6ZetCiAgICAgIHRoaXMucGlwZWxpbmVTaG93ID0gZmFsc2U7CiAgICAgIC8vIOi1i+WAvOS8oOmAkue7meivpuaDhemdouadv1ByZXNzdXJlTW9uaXRvci52dWUKICAgICAgdGhpcy5wcmVzc3VyZURhdGFEZXRhaWwgPSBfY2xvbmVEZWVwKGZlYXR1cmUucHJvcGVydGllcyk7CiAgICAgIHRoaXMucHJlc3N1cmVEYXRhRGV0YWlsLnJlYWx0aW1lRGF0YSA9IEpTT04ucGFyc2UoZmVhdHVyZS5wcm9wZXJ0aWVzLnJlYWx0aW1lRGF0YSk7CiAgICAgIC8vIOWOi+WKm+ebkea1i+ivpuaDhemdouadvwogICAgICB0aGlzLnByZXNzdXJlTW9uaXRvclNob3cgPSB0cnVlOwogICAgfSwKICAgIC8vIOeuoee6vy4uLueCueWHuwogICAgaGFuZGxlTGF5ZXJDbGljayhlKSB7CiAgICAgIHdpbmRvdy54YU1hcC5nZXRDYW52YXMoKS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7CiAgICAgIGNvbnN0IGZlYXR1cmUgPSB3aW5kb3cueGFNYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQpWzBdOwogICAgICB0aGlzLmxheWVySUQgPSBmZWF0dXJlLmxheWVyLmlkOwogICAgICAvLyB0aGlzLnJlYnVpbGREZXRhaWxJbmZvKGZlYXR1cmUpOwoKICAgICAgY29uc3QgdHlwZSA9IGZlYXR1cmUuZ2VvbWV0cnkudHlwZTsKICAgICAgY29uc3Qgc291cmNlRGF0YSA9IHsKICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLAogICAgICAgIGZlYXR1cmVzOiBbZmVhdHVyZV0KICAgICAgfTsKICAgICAgbGV0IGNlbnRlciA9IGdldENlbnRlcihzb3VyY2VEYXRhKS5nZW9tZXRyeS5jb29yZGluYXRlczsKICAgICAgdGhpcy5oaWdobGlnaHRPbk1hcCh0eXBlLCBbZmVhdHVyZV0sIHRoaXMubGF5ZXJJRCwgY2VudGVyKTsKICAgICAgaWYgKHRoaXMubGF5ZXJJRCA9PT0gJ3JkX21hcF9kcmFpbnBpcGVfeXNfYmlnJyB8fCB0aGlzLmxheWVySUQgPT0gJ3JkX21hcF9kcmFpbnBpcGVfeXNfc21hbGwnIHx8IHRoaXMubGF5ZXJJRCA9PT0gJ3JkX21hcF9kcmFpbnBpcGVfd3NfYmlnJyB8fCB0aGlzLmxheWVySUQgPT0gJ3JkX21hcF9kcmFpbnBpcGVfd3Nfc21hbGwnIHx8IHRoaXMubGF5ZXJJRCA9PSAnbWFwX3N1cHBseV9waXBlX2Rpc3RyaWJ1dGUnIHx8IHRoaXMubGF5ZXJJRCA9PSAnbWFwX3N1cHBseV9waXBlX2NpcmN1bGF0aW5nJyB8fCB0aGlzLmxheWVySUQgPT0gJ21hcF9zdXBwbHlfcGlwZV9kZWxpdmVyeScgfHwgdGhpcy5sYXllcklEID09ICdtYXBfcmVjeWNsZV9waXBlJykgewogICAgICAgIC8vIOWOi+WKm+ebkea1i+ivpuaDhemdouadv+WFs+mXrQogICAgICAgIHRoaXMucHJlc3N1cmVNb25pdG9yU2hvdyA9IGZhbHNlOwogICAgICAgIC8vIOeuoee6v+W8ueeql+aJk+W8gAogICAgICAgIHRoaXMucGlwZWxpbmVTaG93ID0gdHJ1ZTsKICAgICAgICB0aGlzLnBpcGVsaW5lQmFzZUluZm8gPSBmZWF0dXJlLnByb3BlcnRpZXM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g566h57q/5by556qX5YWz6ZetCiAgICAgICAgdGhpcy5waXBlbGluZVNob3cgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIC8qKg0KICAgICAqIOmrmOS6rumAieS4reeahOWFg+e0oA0KICAgICAqLwogICAgaGlnaGxpZ2h0T25NYXAodHlwZSwgZmVhdHVyZXMsIGxheWVySUQsIGxuZ0xhdCkgewogICAgICBpZiAobGF5ZXJJRCkgdGhpcy5sYXllcklEID0gbGF5ZXJJRDsKICAgICAgdGhpcy5yZW1vdmVBbGxIaWdobGlnaHRMYXllcigpOwogICAgICBjb25zdCBzb3VyY2VEYXRhID0gewogICAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsCiAgICAgICAgZmVhdHVyZXM6IGZlYXR1cmVzCiAgICAgIH07CiAgICAgIGNvbnN0IGJvdW5kID0gYmJveChzb3VyY2VEYXRhKTsKICAgICAgY29uc3QgY2VudGVyID0gbG5nTGF0ID8gbG5nTGF0IDogZ2V0Q2VudGVyKHNvdXJjZURhdGEpLmdlb21ldHJ5LmNvb3JkaW5hdGVzOwogICAgICAvLyB3aW5kb3cueGFNYXAuZml0Qm91bmRzKGJvdW5kLCB7IG1heFpvb206IDEyLCBwYWRkaW5nOiB7IHJpZ2h0OiA0MDAgfSB9KTsKICAgICAgLy8gdGhpcy5zaG93UG9wdXAoY2VudGVyLCBmZWF0dXJlcyk7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICBpZiAoWydQb2ludCcsICdNdWx0aVBvaW50J10uaW5jbHVkZXModHlwZSkpIHsKICAgICAgICAgIC8vIOeCuQogICAgICAgICAgaWYgKGZlYXR1cmVzWzBdLmxheWVyICYmIGZlYXR1cmVzWzBdLmxheWVyLmxheW91dFsnaWNvbi1pbWFnZSddKSB7CiAgICAgICAgICAgIHZhciBfZmVhdHVyZXMkMCRsYXllciRsYXk7CiAgICAgICAgICAgIGNvbnN0IGljb25OYW1lID0gKChfZmVhdHVyZXMkMCRsYXllciRsYXkgPSBmZWF0dXJlc1swXS5sYXllci5sYXlvdXRbJ2ljb24taW1hZ2UnXSkgPT09IG51bGwgfHwgX2ZlYXR1cmVzJDAkbGF5ZXIkbGF5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZmVhdHVyZXMkMCRsYXllciRsYXkubmFtZSkgfHwgZmVhdHVyZXNbMF0ubGF5ZXIubGF5b3V0WydpY29uLWltYWdlJ107CiAgICAgICAgICAgIGNvbnN0IGljb25zaXplID0gZmVhdHVyZXNbMF0ubGF5ZXIubGF5b3V0WydpY29uLXNpemUnXTsKICAgICAgICAgICAgdGhpcy5yZW1vdmVMYXllclNvdXJjZSgnaGlnaHRsaWdodFBvaW50Jyk7CiAgICAgICAgICAgIC8vIGlmKHRoaXMubW91c2VFbnRlckNhbGxiYWNrKSB0aGlzLm1vdXNlRW50ZXJDYWxsYmFjayhlLmxuZ0xhdCwgW2ZlYXR1cmVdKTsKICAgICAgICAgICAgd2luZG93LnhhTWFwLmFkZExheWVyKHsKICAgICAgICAgICAgICBpZDogJ2hpZ2h0bGlnaHRQb2ludCcsCiAgICAgICAgICAgICAgdHlwZTogJ3N5bWJvbCcsCiAgICAgICAgICAgICAgc291cmNlOiB7CiAgICAgICAgICAgICAgICB0eXBlOiAnZ2VvanNvbicsCiAgICAgICAgICAgICAgICBkYXRhOiBmZWF0dXJlc1swXQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgbGF5b3V0OiB7CiAgICAgICAgICAgICAgICAnaWNvbi1zaXplJzogaWNvbnNpemUgKiAxLjQsCiAgICAgICAgICAgICAgICAnaWNvbi1pbWFnZSc6IGljb25OYW1lCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHdpbmRvdy54YU1hcC5hZGRMYXllcih7CiAgICAgICAgICAgICAgaWQ6IGBoaWdodGxpZ2h0UG9pbnRgLAogICAgICAgICAgICAgIHR5cGU6ICdjaXJjbGUnLAogICAgICAgICAgICAgIHNvdXJjZTogewogICAgICAgICAgICAgICAgdHlwZTogJ2dlb2pzb24nLAogICAgICAgICAgICAgICAgZGF0YTogc291cmNlRGF0YQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgcGFpbnQ6IHsKICAgICAgICAgICAgICAgICdjaXJjbGUtY29sb3InOiAncmVkJywKICAgICAgICAgICAgICAgICdjaXJjbGUtb3BhY2l0eSc6IDAsCiAgICAgICAgICAgICAgICAnY2lyY2xlLXJhZGl1cyc6IDYsCiAgICAgICAgICAgICAgICAnY2lyY2xlLXN0cm9rZS1jb2xvcic6ICcjMUQ3NUZGJywKICAgICAgICAgICAgICAgICdjaXJjbGUtc3Ryb2tlLW9wYWNpdHknOiAxLAogICAgICAgICAgICAgICAgJ2NpcmNsZS1zdHJva2Utd2lkdGgnOiAzCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIGxheW91dDogewogICAgICAgICAgICAgIC8vICAgJ2ljb24taW1hZ2UnOiAndW5jdXJlZC1wdWxzaW5nLWRvdCcsCiAgICAgICAgICAgICAgLy8gICAnaWNvbi1pZ25vcmUtcGxhY2VtZW50JzogdHJ1ZSwKICAgICAgICAgICAgICAvLyAgICdpY29uLWFsbG93LW92ZXJsYXAnOiB0cnVlCiAgICAgICAgICAgICAgLy8gfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ1NIT1dfTUFQUkVTRVJWT0lSJywgZmFsc2UpOwogICAgICAgIH0gZWxzZSBpZiAoWydMaW5lU3RyaW5nJywgJ011bHRpTGluZVN0cmluZyddLmluY2x1ZGVzKHR5cGUpKSB7CiAgICAgICAgICBsZXQgY29sb3IgPSAnIzkxNTEwQSc7CiAgICAgICAgICBpZiAobGF5ZXJJRCA9PSAncmRfbWFwX2RyYWlucGlwZV95c19zbWFsbCcpIHsKICAgICAgICAgICAgY29sb3IgPSAnIzM5OUFFQSc7CiAgICAgICAgICB9IGVsc2UgaWYgKGxheWVySUQgPT0gJ3JkX21hcF9kcmFpbnBpcGVfd3Nfc21hbGwnKSB7CiAgICAgICAgICAgIGNvbG9yID0gJyM5MTUxMEEnOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGVmYWx0TGVnZW5kTGlzdC5mb3JFYWNoKGxlZ2VuZCA9PiB7CiAgICAgICAgICAgICAgaWYgKGxlZ2VuZC5pZCA9PSBsYXllcklEKSB7CiAgICAgICAgICAgICAgICBjb2xvciA9IGxlZ2VuZC5jbGlja0NvbG9yOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICAvLyDnur8KICAgICAgICAgIHdpbmRvdy54YU1hcC5hZGRMYXllcih7CiAgICAgICAgICAgIGlkOiBgaGlnaHRsaWdodExpbmVgLAogICAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICAgIHNvdXJjZTogewogICAgICAgICAgICAgIHR5cGU6ICdnZW9qc29uJywKICAgICAgICAgICAgICBkYXRhOiBzb3VyY2VEYXRhCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBhaW50OiB7CiAgICAgICAgICAgICAgJ2xpbmUtY29sb3InOiBjb2xvciwKICAgICAgICAgICAgICAnbGluZS13aWR0aCc6IDgKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBsYXlvdXQ6IHsKICAgICAgICAgICAgLy8gICAnaWNvbi1pbWFnZSc6ICd1bmN1cmVkLXB1bHNpbmctZG90JywKICAgICAgICAgICAgLy8gICAnaWNvbi1pZ25vcmUtcGxhY2VtZW50JzogdHJ1ZSwKICAgICAgICAgICAgLy8gICAnaWNvbi1hbGxvdy1vdmVybGFwJzogdHJ1ZQogICAgICAgICAgICAvLyB9LAogICAgICAgICAgfSk7CiAgICAgICAgICAvLyB3aW5kb3cueGFNYXAuZml0Qm91bmRzKGJvdW5kLCB7bWF4Wm9vbTogMTUsIHBhZGRpbmc6IHtyaWdodDogNDAwfX0pOwogICAgICAgIH0gZWxzZSBpZiAoWydQb2x5Z29uJywgJ011bHRpUG9seWdvbiddLmluY2x1ZGVzKHR5cGUpKSB7CiAgICAgICAgICAvLyDpnaIKICAgICAgICAgIHdpbmRvdy54YU1hcC5hZGRMYXllcih7CiAgICAgICAgICAgIGlkOiBgaGlnaHRsaWdodFBvbHlnb25gLAogICAgICAgICAgICB0eXBlOiAnZmlsbCcsCiAgICAgICAgICAgIHNvdXJjZTogewogICAgICAgICAgICAgIHR5cGU6ICdnZW9qc29uJywKICAgICAgICAgICAgICBkYXRhOiBzb3VyY2VEYXRhCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBhaW50OiB7CiAgICAgICAgICAgICAgJ2ZpbGwtY29sb3InOiAncmdiYSgyNTUsIDAsIDAsIDAuNiknCiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gbGF5b3V0OiB7CiAgICAgICAgICAgIC8vICAgJ2ljb24taW1hZ2UnOiAndW5jdXJlZC1wdWxzaW5nLWRvdCcsCiAgICAgICAgICAgIC8vICAgJ2ljb24taWdub3JlLXBsYWNlbWVudCc6IHRydWUsCiAgICAgICAgICAgIC8vICAgJ2ljb24tYWxsb3ctb3ZlcmxhcCc6IHRydWUKICAgICAgICAgICAgLy8gfSwKICAgICAgICAgIH0pOwogICAgICAgICAgLy8gd2luZG93LnhhTWFwLmZpdEJvdW5kcyhib3VuZCwge21heFpvb206IDE1LCBwYWRkaW5nOiB7cmlnaHQ6IDQwMH19KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZUFsbEhpZ2hsaWdodExheWVyKGUpIHsKICAgICAgdGhpcy5yZW1vdmVMYXllclNvdXJjZSgnaGlnaHRsaWdodFBvaW50Jyk7CiAgICAgIHRoaXMucmVtb3ZlTGF5ZXJTb3VyY2UoJ2hpZ2h0bGlnaHRMaW5lJyk7CiAgICAgIHRoaXMucmVtb3ZlTGF5ZXJTb3VyY2UoJ2hpZ2h0bGlnaHRQb2x5Z29uJyk7CiAgICB9LAogICAgLyoqDQogICAgICog5riF56m65Li05pe255qE5Zu+5bGC5ZKM5rqQDQogICAgICovCiAgICByZW1vdmVMYXllclNvdXJjZShuYW1lKSB7CiAgICAgIGlmICh3aW5kb3cueGFNYXAuZ2V0TGF5ZXIoYCR7bmFtZX1gKSkgd2luZG93LnhhTWFwLnJlbW92ZUxheWVyKGAke25hbWV9YCk7CiAgICAgIGlmICh3aW5kb3cueGFNYXAuZ2V0U291cmNlKGAke25hbWV9YCkpIHdpbmRvdy54YU1hcC5yZW1vdmVTb3VyY2UoYCR7bmFtZX1gKTsKICAgIH0sCiAgICAvLyDljovlipvnm5HmtYvor6bmg4XpnaLmnb9QcmVzc3VyZU1vbml0b3IudnVl5YWz6Zet5oyJ6ZKu5Zue6LCDCiAgICBjbG9zZVBvcHVwX3ByZXNzdXJlKCkgewogICAgICAvLyDljovlipvnm5HmtYvor6bmg4XpnaLmnb8KICAgICAgdGhpcy5wcmVzc3VyZU1vbml0b3JTaG93ID0gZmFsc2U7CiAgICB9LAogICAgLy/lhbPpl63nrqHnur/lvLnnqpcKICAgIGNsb3NlUG9wdXBfbGluZSgpIHsKICAgICAgdGhpcy5waXBlbGluZVNob3cgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"names":["mapTools","monitorList","addIconToMap","getAllEquipmentInformation","bbox","center","getCenter","_cloneDeep","defaltLegendList","PressureMonitorDetail","LineDetail","MapLegend","legendListImport","MapObj","map","viewer","popupItem","marker","monitorPopups","monitorPopupContent","name","components","data","selectedTab","popupShow","legendList","pressureMonitorShow","pipelineShow","pressureDataDetail","pipelineBaseInfo","layerID","legendConfig","icons","url","require","methods","legendClick","e","item","id","$notify","type","message","clickFlag","legendControlLayer","window","xaMap","getLayer","setLayoutProperty","filter","getFilter","toString","getLayoutProperty","setFilter","legendTitleNameClick","legendTitleName","forEach","label","titleStatus","options","smallItem","setTimeout","closePop","val","showMapLegend","changeType","title","getDefaultBaseLayers","layers","$refs","getBaseLayerObject","initScene","getPressurePoint","params","deviceType","arr","flowArr","supplyFlowArr","recycleFlowArr","pressureArr","supplyPressureArr","recyclePressureArr","then","res","length","belongSystem","addYourLayer","pointList","offlineImageId","warnImageId","visibility","sourceData","features","i","geometry","coordinates","lon","lat","properties","getSource","setData","addLayer","source","layout","minzoom","obj","push","on","handleMouseClick","feature","getCanvas","style","cursor","realtimeData","JSON","parse","handleLayerClick","queryRenderedFeatures","point","layer","highlightOnMap","lngLat","removeAllHighlightLayer","bound","$nextTick","includes","_features$0$layer$lay","iconName","iconsize","removeLayerSource","paint","$store","commit","color","legend","clickColor","removeLayer","removeSource","closePopup_pressure","closePopup_line"],"sources":["src/views/OneMap/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <fm-nav-bar>\r\n      <template #title>\r\n        <div class=\"top\">\r\n          <fm-tabs\r\n            v-model=\"selectedTab\"\r\n            @tab-click=\"changeType\"\r\n            type=\"card\"\r\n            color=\"#1B67D8\"\r\n          >\r\n            <fm-tab name=\"地图\" label=\"地图\"></fm-tab>\r\n            <fm-tab name=\"监测列表\" label=\"监测列表\"></fm-tab>\r\n          </fm-tabs>\r\n        </div>\r\n      </template>\r\n      <template #right>\r\n        <img\r\n          v-if=\"selectedTab == '地图'\"\r\n          style=\"height: 24px; position: absolute; right: 20px\"\r\n          :src=\"require('@/assets/img/map/right.png')\"\r\n          @click=\"showMapLegend\"\r\n        />\r\n      </template>\r\n    </fm-nav-bar>\r\n    <xa-map\r\n      v-show=\"selectedTab == '地图'\"\r\n      :create=\"initScene\"\r\n      :legendConfig=\"legendConfig\"\r\n      @getDefaultBaseLayers=\"getDefaultBaseLayers\"\r\n      @getBaseLayerObject=\"getBaseLayerObject\"\r\n      @handleLayerClick=\"handleLayerClick\"\r\n    ></xa-map>\r\n    <mapTools ref=\"mapTools\" v-show=\"selectedTab == '地图'\"></mapTools>\r\n    <monitorList\r\n      ref=\"monitorList\"\r\n      v-if=\"selectedTab == '监测列表'\"\r\n    ></monitorList>\r\n    <PressureMonitorDetail\r\n      v-if=\"pressureMonitorShow && selectedTab == '地图'\"\r\n      :pressureDataDetail=\"pressureDataDetail\"\r\n      @closePopup_pressure=\"closePopup_pressure\"\r\n    >\r\n    </PressureMonitorDetail>\r\n    <LineDetail\r\n      v-if=\"pipelineShow && selectedTab == '地图'\"\r\n      :pipelineBaseInfo=\"pipelineBaseInfo\"\r\n      @closePopup_line=\"closePopup_line\"\r\n    >\r\n    </LineDetail>\r\n    <map-legend\r\n      :popupShow=\"popupShow\"\r\n      shape=\"rectangle\"\r\n      :data-source=\"legendList\"\r\n      :click-func=\"legendClick\"\r\n      @closePop=\"closePop\"\r\n      @legendTitleNameClick=\"legendTitleNameClick\"\r\n    ></map-legend>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mapTools from './mapTools'\r\nimport monitorList from './monitorList'\r\nimport { addIconToMap } from '@/utils/mapUtils'\r\nimport { getAllEquipmentInformation } from './api'\r\nimport { bbox, center as getCenter } from '@turf/turf'\r\nimport _cloneDeep from 'lodash/cloneDeep'\r\n// 图例\r\nimport { defaltLegendList } from './defaltLegendList.js'\r\n// 压力监测点击弹窗\r\nimport PressureMonitorDetail from './components/PressureMonitorDetail.vue'\r\nimport LineDetail from './components/LineDetail.vue'\r\nimport MapLegend from './components/mapLegend.vue'\r\nimport { legendListImport } from './legendList'\r\n\r\nconst MapObj = {\r\n  map: null,\r\n  viewer: null,\r\n  popupItem: '', //mapbox气泡框\r\n  marker: '',\r\n  monitorPopups: [],\r\n  monitorPopupContent: [],\r\n}\r\nexport default {\r\n  name: 'OneMap',\r\n  components: {\r\n    mapTools,\r\n    monitorList,\r\n    PressureMonitorDetail,\r\n    LineDetail,\r\n    MapLegend,\r\n  },\r\n  data() {\r\n    return {\r\n      selectedTab: '地图',\r\n      popupShow: false,\r\n      legendList: legendListImport,\r\n      pressureMonitorShow: false, // 压力监测详情面板显隐\r\n      pipelineShow: false, // 管线详情面板显隐\r\n      pressureDataDetail: {}, // 压力监测详情面板基础信息\r\n      pipelineBaseInfo: {}, // 管线详情面板基础信息\r\n      layerID: '',\r\n      legendConfig: [],\r\n      icons: [\r\n        {\r\n          name: '压力监测(供)*',\r\n          url: require('@/assets/img/map/压力监测.png'),\r\n        },\r\n        {\r\n          name: '压力监测离线供',\r\n          url: require('@/assets/img/map/压力离线供地图.png'),\r\n        },\r\n        {\r\n          name: '压力监测报警供',\r\n          url: require('@/assets/img/map/压力报警供地图.png'),\r\n        },\r\n        {\r\n          name: '泵站',\r\n          url: require('@/assets/img/map/pump.png'),\r\n        },\r\n        {\r\n          name: '再生水厂',\r\n          url: require('@/assets/img/map/再生水厂地图.png'),\r\n        },\r\n        {\r\n          name: '供水厂',\r\n          url: require('@/assets/img/map/供水厂地图.png'),\r\n        },\r\n        {\r\n          name: '给水加压泵站',\r\n          url: require('@/assets/img/map/给水加压泵站地图.png'),\r\n        },\r\n        {\r\n          name: '压力监测(再生)*',\r\n          url: require('@/assets/img/map/再生水压力监测.png'),\r\n        },\r\n        {\r\n          name: '压力监测离线再生',\r\n          url: require('@/assets/img/map/压力离线再生地图.png'),\r\n        },\r\n        {\r\n          name: '压力监测报警再生',\r\n          url: require('@/assets/img/map/压力报警再生地图.png'),\r\n        },\r\n        {\r\n          name: '流量计(供)*',\r\n          url: require('@/assets/img/map/流量计地图.png'),\r\n        },\r\n        {\r\n          name: '流量离线供',\r\n          url: require('@/assets/img/map/流量离线供地图.png'),\r\n        },\r\n        {\r\n          name: '流量报警供',\r\n          url: require('@/assets/img/map/流量报警供地图.png'),\r\n        },\r\n        {\r\n          name: '流量计(再生)*',\r\n          url: require('@/assets/img/map/流量计再生地图.png'),\r\n        },\r\n        {\r\n          name: '流量离线再生',\r\n          url: require('@/assets/img/map/流量离线再生地图.png'),\r\n        },\r\n        {\r\n          name: '流量报警再生',\r\n          url: require('@/assets/img/map/流量报警再生地图.png'),\r\n        },\r\n        // {\r\n        //   name: \"提标改造给水厂\",\r\n        //   url: require(\"@/assets/img/map/提标改造给水厂.png\"),\r\n        // },\r\n        // {\r\n        //   name: \"规划新建给水厂\",\r\n        //   url: require(\"@/assets/img/map/规划新建给水厂.png\"),\r\n        // },\r\n      ],\r\n    }\r\n  },\r\n  methods: {\r\n    legendClick(e, item, id) {\r\n      if (typeof item.id == 'number') {\r\n        this.$notify({\r\n          type: 'warning',\r\n          message: '当前图层暂无数据！',\r\n        })\r\n        return\r\n      }\r\n      item.clickFlag = !item.clickFlag\r\n      this.legendControlLayer(item)\r\n    },\r\n    legendControlLayer(item) {\r\n      let map = window.xaMap\r\n      if (map.getLayer(item.id)) {\r\n        if (item.clickFlag) {\r\n          map.setLayoutProperty(item.id, 'visibility', 'none')\r\n          if (item.id == 'rd_map_drainpipe_ys_big') {\r\n            let filter = map.getFilter('rd_map_manhole')\r\n            if (\r\n              filter.toString() == ['all'].toString() ||\r\n              filter.toString() == ['in', 'manhole_type', '雨水'].toString()\r\n            ) {\r\n              if (\r\n                map.getLayoutProperty(\r\n                  'rd_map_drainpipe_ws_big',\r\n                  'visibility'\r\n                ) == 'none'\r\n              ) {\r\n                filter = ['in', 'manhole_type', '']\r\n              } else {\r\n                filter = ['in', 'manhole_type', '污水']\r\n              }\r\n            }\r\n            //雨水管线图层控制雨水井、雨水箭头、雨水较小层级图层显示\r\n            map.setLayoutProperty('rd_map_comb', 'visibility', 'none')\r\n\r\n            map.setFilter('rd_map_manhole', filter)\r\n            map.setLayoutProperty(\r\n              'rd_map_drainpipe_ys_big_direction',\r\n              'visibility',\r\n              'none'\r\n            )\r\n            map.setLayoutProperty(\r\n              'rd_map_drainpipe_ys_small',\r\n              'visibility',\r\n              'none'\r\n            )\r\n            map.setLayoutProperty(\r\n              'rd_map_drainpipe_ys_small_direction',\r\n              'visibility',\r\n              'none'\r\n            )\r\n          } else if (item.id == 'map_supply_pipe_circulating') {\r\n            //循环水（回水）管线控制循环水（回水）节点显示\r\n            map.setLayoutProperty(\r\n              'map_supply_node_circulating',\r\n              'visibility',\r\n              'none'\r\n            )\r\n          } else if (item.id == 'map_supply_pipe_distribute') {\r\n            //配水管线控制配水节点显示\r\n            map.setLayoutProperty(\r\n              'map_supply_node_distribute',\r\n              'visibility',\r\n              'none'\r\n            )\r\n          } else if (item.id == 'map_supply_pipe_delivery') {\r\n            //输水管线控制输水节点显示\r\n            map.setLayoutProperty(\r\n              'map_supply_node_delivery',\r\n              'visibility',\r\n              'none'\r\n            )\r\n          } else if (item.id == 'map_recycle_pipe') {\r\n            //再生水管线控制再生水节点显示\r\n            map.setLayoutProperty('map_recycle_node', 'visibility', 'none')\r\n          } else if (item.id == 'rd_map_drainpipe_ws_big') {\r\n            //污水管线图层控制污水井、污水箭头、污水较小层级图层显示\r\n            let filter = map.getFilter('rd_map_manhole')\r\n            if (\r\n              filter.toString() == ['all'].toString() ||\r\n              filter.toString() == ['in', 'manhole_type', '污水'].toString()\r\n            ) {\r\n              if (\r\n                map.getLayoutProperty(\r\n                  'rd_map_drainpipe_ys_big',\r\n                  'visibility'\r\n                ) == 'none'\r\n              ) {\r\n                filter = ['in', 'manhole_type', '']\r\n              } else {\r\n                filter = ['in', 'manhole_type', '雨水']\r\n              }\r\n            }\r\n            map.setFilter('rd_map_manhole', filter)\r\n            map.setLayoutProperty(\r\n              'rd_map_drainpipe_ws_big_direction',\r\n              'visibility',\r\n              'none'\r\n            )\r\n            map.setLayoutProperty(\r\n              'rd_map_drainpipe_ws_small',\r\n              'visibility',\r\n              'none'\r\n            )\r\n            map.setLayoutProperty(\r\n              'rd_map_drainpipe_ws_small_direction',\r\n              'visibility',\r\n              'none'\r\n            )\r\n          } else if (item.id == '压力监测') {\r\n            // map.setLayoutProperty(\r\n            //   \"压力监测-报警\",\r\n            //   \"visibility\",\r\n            //   \"none\"\r\n            // );\r\n          }\r\n        } else {\r\n          map.setLayoutProperty(item.id, 'visibility', 'visible')\r\n          if (item.id == 'rd_map_drainpipe_ys_big') {\r\n            let filter = map.getFilter('rd_map_manhole')\r\n            if (\r\n              filter.toString() == ['in', 'manhole_type', ''].toString() ||\r\n              filter.toString() == ['in', 'manhole_type', '污水'].toString()\r\n            ) {\r\n              if (\r\n                map.getLayoutProperty(\r\n                  'rd_map_drainpipe_ws_big',\r\n                  'visibility'\r\n                ) != 'none'\r\n              ) {\r\n                filter = ['all']\r\n              } else {\r\n                filter = ['in', 'manhole_type', '雨水']\r\n              }\r\n            }\r\n            map.setFilter('rd_map_manhole', filter)\r\n            map.setLayoutProperty('rd_map_comb', 'visibility', 'visible')\r\n            map.setLayoutProperty(\r\n              'rd_map_drainpipe_ys_big_direction',\r\n              'visibility',\r\n              'visible'\r\n            )\r\n            map.setLayoutProperty(\r\n              'rd_map_drainpipe_ys_small',\r\n              'visibility',\r\n              'visible'\r\n            )\r\n            map.setLayoutProperty(\r\n              'rd_map_drainpipe_ys_small_direction',\r\n              'visibility',\r\n              'visible'\r\n            )\r\n          } else if (item.id == 'map_supply_pipe_circulating') {\r\n            map.setLayoutProperty(\r\n              'map_supply_node_circulating',\r\n              'visibility',\r\n              'visible'\r\n            )\r\n          } else if (item.id == 'map_supply_pipe_distribute') {\r\n            map.setLayoutProperty(\r\n              'map_supply_node_distribute',\r\n              'visibility',\r\n              'visible'\r\n            )\r\n          } else if (item.id == 'map_supply_pipe_delivery') {\r\n            map.setLayoutProperty(\r\n              'map_supply_node_delivery',\r\n              'visibility',\r\n              'visible'\r\n            )\r\n          } else if (item.id == 'map_recycle_pipe') {\r\n            map.setLayoutProperty('map_recycle_node', 'visibility', 'visible')\r\n          } else if (item.id == 'rd_map_drainpipe_ws_big') {\r\n            let filter = map.getFilter('rd_map_manhole')\r\n            if (\r\n              filter.toString() == ['in', 'manhole_type', ''].toString() ||\r\n              filter.toString() == ['in', 'manhole_type', '雨水'].toString()\r\n            ) {\r\n              if (\r\n                map.getLayoutProperty(\r\n                  'rd_map_drainpipe_ys_big',\r\n                  'visibility'\r\n                ) != 'none'\r\n              ) {\r\n                filter = ['all']\r\n              } else {\r\n                filter = ['in', 'manhole_type', '污水']\r\n              }\r\n            }\r\n            map.setLayoutProperty(\r\n              'rd_map_drainpipe_ws_big_direction',\r\n              'visibility',\r\n              'visible'\r\n            )\r\n            map.setFilter('rd_map_manhole', filter)\r\n            map.setLayoutProperty('rd_map_manhole', 'visibility', 'visible')\r\n            map.setLayoutProperty(\r\n              'rd_map_drainpipe_ws_small_direction',\r\n              'visibility',\r\n              'visible'\r\n            )\r\n            map.setLayoutProperty(\r\n              'rd_map_drainpipe_ws_small',\r\n              'visibility',\r\n              'visible'\r\n            )\r\n          } else if (item.id == '压力监测') {\r\n            // map.setLayoutProperty(\r\n            //   \"压力监测-报警\",\r\n            //   \"visibility\",\r\n            //   \"visible\"\r\n            // );\r\n          }\r\n        }\r\n      }\r\n    },\r\n    legendTitleNameClick(legendTitleName) {\r\n      this.legendList.forEach((item) => {\r\n        if (item.label === legendTitleName) {\r\n          item.titleStatus = !item.titleStatus\r\n          //\r\n          item.options.forEach((smallItem) => {\r\n            // 当该标题下图层内容为显示状态时才进入判断\r\n            if (item.titleStatus === true && typeof smallItem.id == 'number') {\r\n              setTimeout(() => {\r\n                this.$notify({\r\n                  type: 'warning',\r\n                  message: smallItem.label + '图层暂无数据！',\r\n                })\r\n              }, 0)\r\n              return\r\n            }\r\n            if (item.titleStatus === true) {\r\n              // 标题状态点亮时\r\n              smallItem.clickFlag = false // 图层均显示\r\n            } else {\r\n              smallItem.clickFlag = true // 图层均隐藏\r\n            }\r\n            this.legendControlLayer(smallItem)\r\n          })\r\n        }\r\n      })\r\n    },\r\n    closePop(val) {\r\n      this.popupShow = val\r\n    },\r\n    showMapLegend() {\r\n      this.popupShow = true\r\n    },\r\n    // tab切换回调\r\n    changeType(name, title) {\r\n      // Toast.loading({\r\n      //   message: '加载中...',\r\n      //   forbidClick: true,\r\n      //   duration: 0\r\n      // })\r\n      this.selectedTab = name\r\n    },\r\n    getDefaultBaseLayers(layers) {\r\n      this.$refs.mapTools.getDefaultBaseLayers(layers)\r\n    },\r\n    getBaseLayerObject(layers) {\r\n      this.$refs.mapTools.getBaseLayerObject(layers)\r\n    },\r\n    /**初始化地图事件 */\r\n    async initScene() {\r\n      this.legendConfig = defaltLegendList\r\n      // this.rebuildLegendList = legendList\r\n      MapObj.map = window.xaMap\r\n      await addIconToMap(MapObj.map, this.icons)\r\n      // 添加压力监测设备点\r\n      this.getPressurePoint()\r\n    },\r\n    // 压力监测设备添加图标\r\n    async getPressurePoint() {\r\n      let params = {\r\n        deviceType: '',\r\n      }\r\n      let arr = []\r\n      let flowArr = [] //流量计\r\n      let supplyFlowArr = [] //供水流量计\r\n      let recycleFlowArr = [] //再生水流量计\r\n      let pressureArr = []\r\n      let supplyPressureArr = [] //供水压力计\r\n      let recyclePressureArr = [] //再生水压力\r\n      // 获取所有监测设备基础信息\r\n      await getAllEquipmentInformation(params).then((res) => {\r\n        if (res.data && res.data.length > 0) {\r\n          arr = res.data\r\n          flowArr = arr.filter((item) => {\r\n            return item.deviceType == 'Flowmeter'\r\n          })\r\n          supplyFlowArr = flowArr.filter((item) => {\r\n            return item.belongSystem == '供水'\r\n          })\r\n          recycleFlowArr = flowArr.filter((item) => {\r\n            return item.belongSystem == '再生水'\r\n          })\r\n          pressureArr = arr.filter((item) => {\r\n            return item.deviceType == 'IVTM'\r\n          })\r\n          supplyPressureArr = pressureArr.filter((item) => {\r\n            return item.belongSystem == '供水'\r\n          })\r\n          recyclePressureArr = pressureArr.filter((item) => {\r\n            return item.belongSystem == '再生水'\r\n          })\r\n          this.addYourLayer(\r\n            supplyFlowArr,\r\n            '流量计(供)*',\r\n            '流量离线供',\r\n            '流量报警供'\r\n          )\r\n          this.addYourLayer(\r\n            recycleFlowArr,\r\n            '流量计(再生)*',\r\n            '流量离线再生',\r\n            '流量报警再生'\r\n          )\r\n          this.addYourLayer(\r\n            supplyPressureArr,\r\n            '压力监测(供)*',\r\n            '压力监测离线供',\r\n            '压力监测报警供'\r\n          )\r\n          this.addYourLayer(\r\n            recyclePressureArr,\r\n            '压力监测(再生)*',\r\n            '压力监测离线再生',\r\n            '压力监测报警再生'\r\n          )\r\n        }\r\n      })\r\n      // let params1 = {\r\n      //   deviceType: \"ZJIVTM\",\r\n      // }\r\n      // await getAllEquipmentInformation(params1).then((res) => {\r\n      //   if (res.data && res.data.length > 0) {\r\n      //     arr = arr.concat(res.data)\r\n      //   }\r\n      // });\r\n      // this.addYourLayer(arr, \"压力监测\");\r\n    },\r\n    // 在地图上添加图标图层\r\n    addYourLayer(pointList, id, offlineImageId, warnImageId) {\r\n      let visibility = 'visible'\r\n      if (id == '压力监测(供)*') {\r\n        visibility = 'visible'\r\n      } else {\r\n        visibility = 'none'\r\n      }\r\n      const sourceData = {\r\n        type: 'FeatureCollection',\r\n        features: pointList.map((i) => {\r\n          return {\r\n            type: 'Feature',\r\n            geometry: {\r\n              type: 'Point',\r\n              coordinates: [i.lon, i.lat],\r\n            },\r\n            properties: i,\r\n          }\r\n        }),\r\n      }\r\n      if (window.xaMap.getSource(id)) {\r\n        window.xaMap.getSource(id).setData(sourceData)\r\n        return\r\n      }\r\n      window.xaMap.addLayer(\r\n        {\r\n          id: id,\r\n          type: 'symbol',\r\n          source: {\r\n            type: 'geojson',\r\n            data: sourceData,\r\n          },\r\n          layout: {\r\n            'icon-image': [\r\n              'case',\r\n              [\r\n                'all',\r\n                ['==', ['get', 'iotOnline'], '0'],\r\n                ['!=', ['get', 'isWarn'], '1'],\r\n              ],\r\n              id,\r\n              ['==', ['get', 'iotOnline'], '1'],\r\n              offlineImageId,\r\n              [\r\n                'all',\r\n                ['==', ['get', 'iotOnline'], '0'],\r\n                ['==', ['get', 'isWarn'], '1'],\r\n              ],\r\n              warnImageId,\r\n              id,\r\n            ],\r\n            'icon-size': 0.7,\r\n            // 图标强制全部显示\r\n            'icon-ignore-placement': true,\r\n            visibility: visibility,\r\n          },\r\n          minzoom: 13,\r\n        },\r\n        ''\r\n      )\r\n      let obj = {}\r\n      obj[id] = pointList\r\n      MapObj.monitorPopupContent.push(obj)\r\n      // window.xaMap.on(\"mouseenter\", id, this.handleMouseEnter);\r\n      // window.xaMap.on(\"mouseout\", id, this.handleMouseOut);\r\n      window.xaMap.on('click', id, this.handleMouseClick)\r\n      // window.xaMap.on(\"load\", () => {\r\n      //   window.xaMap.moveLayer(\"压力监测\", \"\");\r\n      // });\r\n    },\r\n    // 鼠标点击\r\n    handleMouseClick(e) {\r\n      const feature = e.features[0]\r\n      window.xaMap.getCanvas().style.cursor = 'pointer'\r\n      // 管线详情面板关闭\r\n      this.pipelineShow = false\r\n      // 赋值传递给详情面板PressureMonitor.vue\r\n      this.pressureDataDetail = _cloneDeep(feature.properties)\r\n      this.pressureDataDetail.realtimeData = JSON.parse(\r\n        feature.properties.realtimeData\r\n      )\r\n      // 压力监测详情面板\r\n      this.pressureMonitorShow = true\r\n    },\r\n    // 管线...点击\r\n    handleLayerClick(e) {\r\n      window.xaMap.getCanvas().style.cursor = 'pointer'\r\n      const feature = window.xaMap.queryRenderedFeatures(e.point)[0]\r\n      this.layerID = feature.layer.id\r\n      // this.rebuildDetailInfo(feature);\r\n\r\n      const type = feature.geometry.type\r\n      const sourceData = {\r\n        type: 'FeatureCollection',\r\n        features: [feature],\r\n      }\r\n      let center = getCenter(sourceData).geometry.coordinates\r\n      this.highlightOnMap(type, [feature], this.layerID, center)\r\n      if (\r\n        this.layerID === 'rd_map_drainpipe_ys_big' ||\r\n        this.layerID == 'rd_map_drainpipe_ys_small' ||\r\n        this.layerID === 'rd_map_drainpipe_ws_big' ||\r\n        this.layerID == 'rd_map_drainpipe_ws_small' ||\r\n        this.layerID == 'map_supply_pipe_distribute' ||\r\n        this.layerID == 'map_supply_pipe_circulating' ||\r\n        this.layerID == 'map_supply_pipe_delivery' ||\r\n        this.layerID == 'map_recycle_pipe'\r\n      ) {\r\n        // 压力监测详情面板关闭\r\n        this.pressureMonitorShow = false\r\n        // 管线弹窗打开\r\n        this.pipelineShow = true\r\n        this.pipelineBaseInfo = feature.properties\r\n      } else {\r\n        // 管线弹窗关闭\r\n        this.pipelineShow = false\r\n      }\r\n    },\r\n    /**\r\n     * 高亮选中的元素\r\n     */\r\n    highlightOnMap(type, features, layerID, lngLat) {\r\n      if (layerID) this.layerID = layerID\r\n      this.removeAllHighlightLayer()\r\n      const sourceData = {\r\n        type: 'FeatureCollection',\r\n        features: features,\r\n      }\r\n      const bound = bbox(sourceData)\r\n      const center = lngLat\r\n        ? lngLat\r\n        : getCenter(sourceData).geometry.coordinates\r\n      // window.xaMap.fitBounds(bound, { maxZoom: 12, padding: { right: 400 } });\r\n      // this.showPopup(center, features);\r\n      this.$nextTick(() => {\r\n        if (['Point', 'MultiPoint'].includes(type)) {\r\n          // 点\r\n          if (features[0].layer && features[0].layer.layout['icon-image']) {\r\n            const iconName =\r\n              features[0].layer.layout['icon-image']?.name ||\r\n              features[0].layer.layout['icon-image']\r\n            const iconsize = features[0].layer.layout['icon-size']\r\n            this.removeLayerSource('hightlightPoint')\r\n            // if(this.mouseEnterCallback) this.mouseEnterCallback(e.lngLat, [feature]);\r\n            window.xaMap.addLayer({\r\n              id: 'hightlightPoint',\r\n              type: 'symbol',\r\n              source: {\r\n                type: 'geojson',\r\n                data: features[0],\r\n              },\r\n              layout: {\r\n                'icon-size': iconsize * 1.4,\r\n                'icon-image': iconName,\r\n              },\r\n            })\r\n          } else {\r\n            window.xaMap.addLayer({\r\n              id: `hightlightPoint`,\r\n              type: 'circle',\r\n              source: {\r\n                type: 'geojson',\r\n                data: sourceData,\r\n              },\r\n              paint: {\r\n                'circle-color': 'red',\r\n                'circle-opacity': 0,\r\n                'circle-radius': 6,\r\n                'circle-stroke-color': '#1D75FF',\r\n                'circle-stroke-opacity': 1,\r\n                'circle-stroke-width': 3,\r\n              },\r\n              // layout: {\r\n              //   'icon-image': 'uncured-pulsing-dot',\r\n              //   'icon-ignore-placement': true,\r\n              //   'icon-allow-overlap': true\r\n              // },\r\n            })\r\n          }\r\n          this.$store.commit('SHOW_MAPRESERVOIR', false)\r\n        } else if (['LineString', 'MultiLineString'].includes(type)) {\r\n          let color = '#91510A'\r\n          if (layerID == 'rd_map_drainpipe_ys_small') {\r\n            color = '#399AEA'\r\n          } else if (layerID == 'rd_map_drainpipe_ws_small') {\r\n            color = '#91510A'\r\n          } else {\r\n            defaltLegendList.forEach((legend) => {\r\n              if (legend.id == layerID) {\r\n                color = legend.clickColor\r\n              }\r\n            })\r\n          }\r\n          // 线\r\n          window.xaMap.addLayer({\r\n            id: `hightlightLine`,\r\n            type: 'line',\r\n            source: {\r\n              type: 'geojson',\r\n              data: sourceData,\r\n            },\r\n            paint: {\r\n              'line-color': color,\r\n              'line-width': 8,\r\n            },\r\n            // layout: {\r\n            //   'icon-image': 'uncured-pulsing-dot',\r\n            //   'icon-ignore-placement': true,\r\n            //   'icon-allow-overlap': true\r\n            // },\r\n          })\r\n          // window.xaMap.fitBounds(bound, {maxZoom: 15, padding: {right: 400}});\r\n        } else if (['Polygon', 'MultiPolygon'].includes(type)) {\r\n          // 面\r\n          window.xaMap.addLayer({\r\n            id: `hightlightPolygon`,\r\n            type: 'fill',\r\n            source: {\r\n              type: 'geojson',\r\n              data: sourceData,\r\n            },\r\n            paint: {\r\n              'fill-color': 'rgba(255, 0, 0, 0.6)',\r\n            },\r\n            // layout: {\r\n            //   'icon-image': 'uncured-pulsing-dot',\r\n            //   'icon-ignore-placement': true,\r\n            //   'icon-allow-overlap': true\r\n            // },\r\n          })\r\n          // window.xaMap.fitBounds(bound, {maxZoom: 15, padding: {right: 400}});\r\n        }\r\n      })\r\n    },\r\n    removeAllHighlightLayer(e) {\r\n      this.removeLayerSource('hightlightPoint')\r\n      this.removeLayerSource('hightlightLine')\r\n      this.removeLayerSource('hightlightPolygon')\r\n    },\r\n    /**\r\n     * 清空临时的图层和源\r\n     */\r\n    removeLayerSource(name) {\r\n      if (window.xaMap.getLayer(`${name}`)) window.xaMap.removeLayer(`${name}`)\r\n      if (window.xaMap.getSource(`${name}`))\r\n        window.xaMap.removeSource(`${name}`)\r\n    },\r\n    // 压力监测详情面板PressureMonitor.vue关闭按钮回调\r\n    closePopup_pressure() {\r\n      // 压力监测详情面板\r\n      this.pressureMonitorShow = false\r\n    },\r\n    //关闭管线弹窗\r\n    closePopup_line() {\r\n      this.pipelineShow = false\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.main {\r\n  width: 100%;\r\n  height: calc(100% - 98px - env(safe-area-inset-bottom));\r\n  height: calc(100% - 98px - constant(safe-area-inset-bottom));\r\n  position: relative;\r\n  .top {\r\n    width: 100%;\r\n    height: 70px;\r\n    padding: 10px 0;\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    /deep/.fm-tabs__nav--card {\r\n      border-color: transparent !important;\r\n    }\r\n    /deep/.fm-tab {\r\n      color: #555555 !important;\r\n      width: 202px;\r\n      height: 56px;\r\n      box-shadow: 0px 8px 16px 0px rgba(104, 115, 127, 0.06);\r\n      border-radius: 32px;\r\n      border-right: none !important;\r\n      background-color: #f5f5f5;\r\n    }\r\n    /deep/.fm-tab--active {\r\n      color: #ffffff !important;\r\n      width: 202px;\r\n      height: 56px;\r\n      border-radius: 32px;\r\n    }\r\n  }\r\n}\r\n</style>"],"mappings":"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"}]}