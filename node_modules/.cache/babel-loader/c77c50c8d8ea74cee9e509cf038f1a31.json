{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\PipeNetLeakDetection\\LeakDetectionForm.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\PipeNetLeakDetection\\LeakDetectionForm.vue","mtime":1708928163405},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEFQSSBmcm9tICdAL2NvbW1vbi9jb25maWcuanMnOwppbXBvcnQgeyBnZXRXaW5kb3dIZWlnaHQgfSBmcm9tICdAL3V0aWxzL21vbml0b3IuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xlYWtEZXRlY3Rpb25Gb3JtJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWNjZXNzVG9rZW46IHRoaXMuJHN0b3JhZ2UuZ2V0KCdhY2Nlc3NfdG9rZW4nKSwKICAgICAgZm9ybVRva2VuOiAnJywKICAgICAgc3RhdHVzQmFySGVpZ2h0OiAwLAogICAgICBpZnJhbWVIZWlnaHQ6IDAKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdXJsKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuaWQpIHsKICAgICAgICAvLyDmn6XnnIvlt6XljZXpobUKICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnYuVlVFX0FQUF9XUEdfVVJMICsgJy9vdXR3b3JrQXBwLyMvcGFnZXMvdGlja2V0L2RldGFpbC9pbmRleD9pZD0nICsgdGhpcy4kcm91dGUucXVlcnkuaWQgKyAnJnN5c0NvZGU9b3V0d29yaycgKyAnJnRva2VuPScgKyB0aGlzLmZvcm1Ub2tlbjsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgX3RoaXMkJHJvdXRlJHF1ZXJ5JHByLCBfdGhpcyQkcm91dGUkcXVlcnkkcHIyLCBfdGhpcyQkcm91dGUkcXVlcnkkcHIzLCBfdGhpcyQkcm91dGUkcXVlcnkkcHI0LCBfdGhpcyQkcm91dGUkcXVlcnkkcHI1LCBfdGhpcyQkcm91dGUkcXVlcnkkcHI2LCBfdGhpcyQkcm91dGUkcXVlcnkkcHI3LCBfdGhpcyQkcm91dGUkcXVlcnkkcHI4LCBfdGhpcyQkcm91dGUkcXVlcnkkcHI5OwogICAgICAgIC8vIOWIm+W7uuW3peWNlemhte+8iOe9kemhteerr++8iQogICAgICAgIC8vIHJldHVybiAnaHR0cDovLzE3Mi4yMC43OS43MC9vdXR3b3JrL2lmcmFtZS5odG1sIy9jcmVhdG9yP3RlbXBsYXRlQ29kZT1waXBlX2xlYWtfdGVtcGxhdGUmc3lzQ29kZT1vdXR3b3JrJmhpZGVNZW51PTEmaGlkZU11bHRpVGFiPTEmdG9rZW49MDM1OWY2YTEtNTE1YS00MzkzLWJhODEtODI5ZjkwZmRiY2U3JmZvcm1WYWx1ZT0lN0IlMjJ0aXRsZSUyMiUzQSUyMiVFNSVCNyVBNSVFNSU4RCU5NSVFNiVBMCU4NyVFOSVBMiU5OCUyMiwlMjJwcmlvcml0eSUyMiUzQSUyMjElMjIsJTIyZGV2aWNlVHlwZSUyMiUzQSU1QiUyMjAlMjIsJTIyMSUyMiU1RCwlMjJkZXZpY2VDb2RlJTIyJTNBJTIyMDAxJTIyLCUyMnRpY2tldEFkZHJlc3MlMjIlM0ElN0IlMjJhZGRyZXNzJTIyJTNBJTIyJUU0JUI4JThBJUU2JUI1JUI3JTIyLCUyMnBvaW50JTIyJTNBJTdCJTIybGF0JTIyJTNBJTIyMCUyMiwlMjJsbmclMjIlM0ElMjIwJTIyJTdEJTdEJTdEJwogICAgICAgIC8vIOWIm+W7uuW3peWNlemhte+8iOenu+WKqOerr++8iQogICAgICAgIC8vIGh0dHA6Ly8xNzIuMjAuNzkuNzAvb3V0d29ya0FwcC8jL3BhZ2VzL2luZGV4L2Zvcm0/dGVtcGxhdGVDb2RlPXBpcGVfbGVha190ZW1wbGF0ZSZzeXNDb2RlPW91dHdvcmsmdG9rZW49MjhjOTEyZWEtMDIyMC00Y2UzLThjOTktMzc0OWNkMzljOTVkJmZvcm1WYWx1ZT0lN0IlMjJ0aXRsZSUyMiUzQSUyMiVFNSVCNyVBNSVFNSU4RCU5NSVFNiVBMCU4NyVFOSVBMiU5OCUyMiUyQyUyMnByaW9yaXR5JTIyJTNBJTIyMSUyMiUyQyUyMmRldmljZVR5cGUlMjIlM0ElNUIlMjIwJTIyJTJDJTIyMSUyMiU1RCUyQyUyMmRldmljZUNvZGUlMjIlM0ElMjIwMDElMjIlMkMlMjJ0aWNrZXRBZGRyZXNzJTIyJTNBJTdCJTIyYWRkcmVzcyUyMiUzQSUyMiVFNCVCOCU4QSVFNiVCNSVCNyUyMiUyQyUyMnBvaW50JTIyJTNBJTdCJTIybGF0JTIyJTNBJTIyMCUyMiUyQyUyMmxuZyUyMiUzQSUyMjAlMjIlN0QlN0QlN0QKICAgICAgICBsZXQgZGV2aWNlQ29kZVogPSAoKChfdGhpcyQkcm91dGUkcXVlcnkkcHIgPSB0aGlzLiRyb3V0ZS5xdWVyeS5wcm9wZXJ0aWVzKSA9PT0gbnVsbCB8fCBfdGhpcyQkcm91dGUkcXVlcnkkcHIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRyb3V0ZSRxdWVyeSRwci5zdGFydF9jb2RlKSB8fCAnJykgKyAnficgKyAoKChfdGhpcyQkcm91dGUkcXVlcnkkcHIyID0gdGhpcy4kcm91dGUucXVlcnkucHJvcGVydGllcykgPT09IG51bGwgfHwgX3RoaXMkJHJvdXRlJHF1ZXJ5JHByMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHJvdXRlJHF1ZXJ5JHByMi5lbmRfY29kZSkgfHwgJycpOwogICAgICAgIGxldCBkZXB0aFogPSAoKChfdGhpcyQkcm91dGUkcXVlcnkkcHIzID0gdGhpcy4kcm91dGUucXVlcnkucHJvcGVydGllcykgPT09IG51bGwgfHwgX3RoaXMkJHJvdXRlJHF1ZXJ5JHByMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHJvdXRlJHF1ZXJ5JHByMy5zdGFydF9kZXB0aCkgfHwgJycpICsgJ34nICsgKCgoX3RoaXMkJHJvdXRlJHF1ZXJ5JHByNCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnByb3BlcnRpZXMpID09PSBudWxsIHx8IF90aGlzJCRyb3V0ZSRxdWVyeSRwcjQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRyb3V0ZSRxdWVyeSRwcjQuZW5kX2RlcHRoKSB8fCAnJyk7CiAgICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgIC8vIOW3peWNleagh+mimAogICAgICAgICAgcHJpb3JpdHk6ICcnLAogICAgICAgICAgLy8g5LyY5YWI57qnIDDntKfmgKUgMeS8mOWFiCAy5LiA6IisCiAgICAgICAgICBkZXZpY2VOYW1lOiAnJywKICAgICAgICAgIC8vIOaTjeS9nOWvueixoeWQjeensAogICAgICAgICAgZGV2aWNlVHlwZTogJycsCiAgICAgICAgICAvLyDkuJrliqHnsbvlnosKICAgICAgICAgIGRldmljZUNvZGU6IGRldmljZUNvZGVaID09ICd+JyA/ICcnIDogZGV2aWNlQ29kZVosCiAgICAgICAgICBjYWxpYmVyU2VjdGlvblNpemU6ICgoX3RoaXMkJHJvdXRlJHF1ZXJ5JHByNSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnByb3BlcnRpZXMpID09PSBudWxsIHx8IF90aGlzJCRyb3V0ZSRxdWVyeSRwcjUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRyb3V0ZSRxdWVyeSRwcjUuY2FsaWJlcl9zZWN0aW9uX3NpemUpIHx8ICgoX3RoaXMkJHJvdXRlJHF1ZXJ5JHByNiA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnByb3BlcnRpZXMpID09PSBudWxsIHx8IF90aGlzJCRyb3V0ZSRxdWVyeSRwcjYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRyb3V0ZSRxdWVyeSRwcjYuc2VjdGlvbl9kYXRhMSkgfHwgJycsCiAgICAgICAgICAvLyDnrqHlvoQKICAgICAgICAgIG1hdGVyaWFsOiAoKF90aGlzJCRyb3V0ZSRxdWVyeSRwcjcgPSB0aGlzLiRyb3V0ZS5xdWVyeS5wcm9wZXJ0aWVzKSA9PT0gbnVsbCB8fCBfdGhpcyQkcm91dGUkcXVlcnkkcHI3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkcm91dGUkcXVlcnkkcHI3Lm1hdGVyaWFsKSB8fCAnJywKICAgICAgICAgIC8vIOeuoeadkAoKICAgICAgICAgIGRlcHRoOiBkZXB0aFogPT0gJ34nID8gJycgOiBkZXB0aFosCiAgICAgICAgICB0aWNrZXRBZGRyZXNzOiB7CiAgICAgICAgICAgIGFkZHJlc3M6ICgoX3RoaXMkJHJvdXRlJHF1ZXJ5JHByOCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnByb3BlcnRpZXMpID09PSBudWxsIHx8IF90aGlzJCRyb3V0ZSRxdWVyeSRwcjggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRyb3V0ZSRxdWVyeSRwcjgucm9hZF9uYW1lKSB8fCAoKF90aGlzJCRyb3V0ZSRxdWVyeSRwcjkgPSB0aGlzLiRyb3V0ZS5xdWVyeS5wcm9wZXJ0aWVzKSA9PT0gbnVsbCB8fCBfdGhpcyQkcm91dGUkcXVlcnkkcHI5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkcm91dGUkcXVlcnkkcHI5LnBsYW50X2FkZHJlc3MpIHx8ICcnLAogICAgICAgICAgICAvLyDlnLDngrkKICAgICAgICAgICAgcG9pbnQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmxuZ0xhdCAvLyDnu4/nuqzluqYKICAgICAgICAgIH0sCiAgICAgICAgICB0YXNrSWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LnRhc2tJZAogICAgICAgIH07CiAgICAgICAgLy8gbGV0IGVuY29kZVVSSUZvcm1WYWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShmb3JtVmFsdWUpKQogICAgICAgIHJldHVybiBwcm9jZXNzLmVudi5WVUVfQVBQX1dQR19VUkwgKyAnL291dHdvcmtBcHAvIy9wYWdlcy9pbmRleC9mb3JtP3RlbXBsYXRlQ29kZT1waXBlX2xlYWtfdGVtcGxhdGUmc3lzQ29kZT1vdXR3b3JrJnRva2VuPScgKyB0aGlzLmZvcm1Ub2tlbiArICcmZm9ybVZhbHVlPScgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7CiAgICAgIH0KICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICAvLyDnp7vpmaTov5Tlm57kuIrkuIDnuqfnmoTnm5HlkKwKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5nb1RvTWFwUGFnZSk7CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zdGF0dXNCYXJIZWlnaHQgPSB0aGlzLiRzdG9yYWdlLmdldCgnc3RhdHVzQmFySGVpZ2h0Jyk7CiAgICB0aGlzLmlmcmFtZUhlaWdodCA9IHRoaXMuc3RhdHVzQmFySGVpZ2h0ID8gYCR7Z2V0V2luZG93SGVpZ2h0KCkgLSB0aGlzLnN0YXR1c0JhckhlaWdodH1weGAgOiBgJHtnZXRXaW5kb3dIZWlnaHQoKX1weGA7CiAgICAvLyDov5Tlm57kuIrkuIDnuqfnm5HlkKwKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5nb1RvTWFwUGFnZSk7CiAgICBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5xdWVyeS5wcm9wZXJ0aWVzKTsKICAgIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlLnF1ZXJ5LmxuZ0xhdCk7CiAgICBheGlvcyh7CiAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9USElSRF9SRVFVRVNUX1VSTCArICcvbWFpbi91c2VyQ2VudGVyQXBpL3Nzby90b2tlbkJ5VG9rZW4nLAogICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgcGFyYW1zOiB7CiAgICAgICAgdG9rZW46IHRoaXMuYWNjZXNzVG9rZW4KICAgICAgfSwKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICdCYXNpYyBiM1YwZDI5eWF6cDNjR2N5TURJdycKICAgICAgfQogICAgfSkudGhlbihyZXMgPT4gewogICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICB0aGlzLmZvcm1Ub2tlbiA9IHJlcy5kYXRhLnJlc3VsdERhdGEudG9rZW47CiAgICAgICAgdGhpcy5jcmVhdGVFbGUoKTsKICAgICAgfQogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnb1RvTWFwUGFnZShlKSB7CiAgICAgIGlmIChlLmRhdGEubmFtZSA9ICduYXZpZ2F0ZUJhY2snKSB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0sIDEwMDApOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKCfmj5DkuqTlt6XljZXov5Tlm57kv6Hmga8nLCBlLmRhdGEpOwogICAgfSwKICAgIGNyZWF0ZUVsZSgpIHsKICAgICAgbGV0IGVsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogICAgICBjb25zb2xlLmxvZygndGhpcy5mb3JtVG9rZW46ICcsIHRoaXMuZm9ybVRva2VuKTsKICAgICAgY29uc29sZS5sb2coJ3RoaXMudXJsOiAnLCB0aGlzLnVybCk7CiAgICAgIGVsZS5zcmMgPSB0aGlzLnVybDsKICAgICAgZWxlLnN0eWxlLmhlaWdodCA9IHRoaXMuaWZyYW1lSGVpZ2h0OwogICAgICBlbGUuc3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICAgIGVsZS5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7CiAgICAgIGxldCBub2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0xlYWtEZXRlY3Rpb25Gb3JtJyk7CiAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoZWxlKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["axios","API","getWindowHeight","name","data","accessToken","$storage","get","formToken","statusBarHeight","iframeHeight","computed","url","$route","query","id","process","env","VUE_APP_WPG_URL","_this$$route$query$pr","_this$$route$query$pr2","_this$$route$query$pr3","_this$$route$query$pr4","_this$$route$query$pr5","_this$$route$query$pr6","_this$$route$query$pr7","_this$$route$query$pr8","_this$$route$query$pr9","deviceCodeZ","properties","start_code","end_code","depthZ","start_depth","end_depth","params","title","priority","deviceName","deviceType","deviceCode","caliberSectionSize","caliber_section_size","section_data1","material","depth","ticketAddress","address","road_name","plant_address","point","lngLat","taskId","encodeURIComponent","JSON","stringify","beforeDestroy","window","removeEventListener","goToMapPage","mounted","addEventListener","console","log","VUE_APP_THIRD_REQUEST_URL","method","token","headers","Authorization","then","res","status","resultData","createEle","methods","e","setTimeout","$router","go","ele","document","createElement","src","style","height","width","border","node","getElementById","appendChild"],"sources":["src/views/PipeNetLeakDetection/LeakDetectionForm.vue"],"sourcesContent":["<template>\r\n  <div id=\"LeakDetectionForm\" :style=\"{ marginTop: `${statusBarHeight}px` }\">\r\n    <!-- <fm-nav-bar v-if=\"$route.query.id\" left-arrow @click-left=\"$router.go(-1)\"> </fm-nav-bar> -->\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nimport API from '@/common/config.js'\r\nimport { getWindowHeight } from '@/utils/monitor.js'\r\nexport default {\r\n  name: 'LeakDetectionForm',\r\n  data() {\r\n    return {\r\n      accessToken: this.$storage.get('access_token'),\r\n      formToken: '',\r\n      statusBarHeight: 0,\r\n      iframeHeight: 0,\r\n    }\r\n  },\r\n  computed: {\r\n    url() {\r\n      if (this.$route.query.id) {\r\n        // 查看工单页\r\n        return (\r\n          process.env.VUE_APP_WPG_URL +\r\n          '/outworkApp/#/pages/ticket/detail/index?id=' +\r\n          this.$route.query.id +\r\n          '&sysCode=outwork' +\r\n          '&token=' +\r\n          this.formToken\r\n        )\r\n      } else {\r\n        // 创建工单页（网页端）\r\n        // return 'http://172.20.79.70/outwork/iframe.html#/creator?templateCode=pipe_leak_template&sysCode=outwork&hideMenu=1&hideMultiTab=1&token=0359f6a1-515a-4393-ba81-829f90fdbce7&formValue=%7B%22title%22%3A%22%E5%B7%A5%E5%8D%95%E6%A0%87%E9%A2%98%22,%22priority%22%3A%221%22,%22deviceType%22%3A%5B%220%22,%221%22%5D,%22deviceCode%22%3A%22001%22,%22ticketAddress%22%3A%7B%22address%22%3A%22%E4%B8%8A%E6%B5%B7%22,%22point%22%3A%7B%22lat%22%3A%220%22,%22lng%22%3A%220%22%7D%7D%7D'\r\n        // 创建工单页（移动端）\r\n        // http://172.20.79.70/outworkApp/#/pages/index/form?templateCode=pipe_leak_template&sysCode=outwork&token=28c912ea-0220-4ce3-8c99-3749cd39c95d&formValue=%7B%22title%22%3A%22%E5%B7%A5%E5%8D%95%E6%A0%87%E9%A2%98%22%2C%22priority%22%3A%221%22%2C%22deviceType%22%3A%5B%220%22%2C%221%22%5D%2C%22deviceCode%22%3A%22001%22%2C%22ticketAddress%22%3A%7B%22address%22%3A%22%E4%B8%8A%E6%B5%B7%22%2C%22point%22%3A%7B%22lat%22%3A%220%22%2C%22lng%22%3A%220%22%7D%7D%7D\r\n        let deviceCodeZ = (this.$route.query.properties?.start_code || '') + '~' + (this.$route.query.properties?.end_code || '')\r\n        let depthZ = (this.$route.query.properties?.start_depth || '') + '~' + (this.$route.query.properties?.end_depth || '')\r\n        let params = {\r\n          title: '', // 工单标题\r\n          priority: '', // 优先级 0紧急 1优先 2一般\r\n          deviceName: '', // 操作对象名称\r\n          deviceType: '', // 业务类型\r\n          deviceCode: deviceCodeZ == '~' ? '' : deviceCodeZ,\r\n\r\n          caliberSectionSize:\r\n            this.$route.query.properties?.caliber_section_size ||\r\n            this.$route.query.properties?.section_data1 ||\r\n            '', // 管径\r\n          material: this.$route.query.properties?.material || '', // 管材\r\n\r\n          depth: depthZ == '~' ? '' : depthZ,\r\n          ticketAddress: {\r\n            address:\r\n              this.$route.query.properties?.road_name ||\r\n              this.$route.query.properties?.plant_address ||\r\n              '', // 地点\r\n            point: this.$route.query.lngLat, // 经纬度\r\n          },\r\n          taskId: this.$route.query.taskId,\r\n        }\r\n        // let encodeURIFormValue = encodeURIComponent(JSON.stringify(formValue))\r\n        return (\r\n          process.env.VUE_APP_WPG_URL +\r\n          '/outworkApp/#/pages/index/form?templateCode=pipe_leak_template&sysCode=outwork&token=' +\r\n          this.formToken +\r\n          '&formValue=' +\r\n          encodeURIComponent(JSON.stringify(params))\r\n        )\r\n      }\r\n    },\r\n  },\r\n  beforeDestroy() {\r\n    // 移除返回上一级的监听\r\n    window.removeEventListener('message', this.goToMapPage)\r\n  },\r\n  mounted() {\r\n    this.statusBarHeight = this.$storage.get('statusBarHeight')\r\n    this.iframeHeight = this.statusBarHeight\r\n      ? `${getWindowHeight() - this.statusBarHeight}px`\r\n      : `${getWindowHeight()}px`\r\n    // 返回上一级监听\r\n    window.addEventListener('message', this.goToMapPage)\r\n    console.log(this.$route.query.properties)\r\n    console.log(this.$route.query.lngLat)\r\n    axios({\r\n      url: process.env.VUE_APP_THIRD_REQUEST_URL + '/main/userCenterApi/sso/tokenByToken',\r\n      method: 'post',\r\n      params: {\r\n        token: this.accessToken,\r\n      },\r\n      headers: {\r\n        Authorization: 'Basic b3V0d29yazp3cGcyMDIw',\r\n      },\r\n    }).then((res) => {\r\n      if (res.status == 200) {\r\n        this.formToken = res.data.resultData.token\r\n        this.createEle()\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    goToMapPage(e) {\r\n      if ((e.data.name = 'navigateBack')) {\r\n        setTimeout(() => {\r\n          this.$router.go(-1)\r\n        }, 1000)\r\n      }\r\n      console.log('提交工单返回信息', e.data)\r\n    },\r\n    createEle() {\r\n      let ele = document.createElement('iframe')\r\n      console.log('this.formToken: ', this.formToken)\r\n      console.log('this.url: ', this.url)\r\n      ele.src = this.url\r\n      ele.style.height = this.iframeHeight\r\n      ele.style.width = '100%'\r\n      ele.style.border = 'none'\r\n      let node = document.getElementById('LeakDetectionForm')\r\n      node.appendChild(ele)\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n#LeakDetectionForm {\r\n  height: 100vh;\r\n  width: 100%;\r\n}\r\n</style>\r\n"],"mappings":"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"}]}