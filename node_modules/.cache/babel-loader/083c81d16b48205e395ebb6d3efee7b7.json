{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\inspectionManage\\GalleryInspection.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\inspectionManage\\GalleryInspection.vue","mtime":1708928163425},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0ICogYXMgQXBpIGZyb20gJy4vYXBpJzsKaW1wb3J0IGJ1cyBmcm9tICdAL3V0aWxzL2J1cyc7CmltcG9ydCB7IEVOVU0gfSBmcm9tICdAL3N0b3JlL1N0YXRlL3N0YXRlVHlwZXMnOwppbXBvcnQgKiBhcyB0dXJmIGZyb20gJ0B0dXJmL3R1cmYnOwppbXBvcnQgeyBiYm94LCBjZW50ZXIgYXMgZ2V0Q2VudGVyIH0gZnJvbSAnQHR1cmYvdHVyZic7CmltcG9ydCBfY2xvbmVEZWVwIGZyb20gJ2xvZGFzaC9jbG9uZURlZXAnOwppbXBvcnQgeyBhZGRJY29uVG9NYXAgfSBmcm9tICdAL3V0aWxzL21hcFV0aWxzJzsKaW1wb3J0IG1hcGJveGdsIGZyb20gJ21hcGJveC1nbCc7CmltcG9ydCB7IFRvYXN0LCBEaWFsb2csIE5vdGlmeSB9IGZyb20gJ2Zhd2tlcy1tb2JpbGUtbGliJzsKaW1wb3J0IG1peGlucyBmcm9tICdAL3ZpZXdzL2luc3BlY3RNYXAvbWl4aW5zL21peGlucy5qcyc7CmltcG9ydCBkYXlqcyBmcm9tICdkYXlqcyc7CmltcG9ydCByZXF1ZXN0IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnJywKICAvLyBtaXhpbnM6IFttaXhpbnNdLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDnlKjkuo7nu5nov5vluqbmnaHplb/luqbotYvlgLwKICAgICAgdGFza1Byb2Nlc3M6IDEwMCwKICAgICAgZGl2V2lkdGg6IDAsCiAgICAgIHBlcmNlbnROdW06IDEsCiAgICAgIC8vIOW9k+WJjeeCueWHu+eahOS7u+WKoQogICAgICB0YXNrRGV0YWlsOiB7fSwKICAgICAgLy8g5beh5qOA5ZGY5L+h5oGvCiAgICAgIHVzZXJJbmZvOiB7fSwKICAgICAgLy8g5piv5ZCm5byA5aeL6K6w5b2VCiAgICAgIGlmUmVjb3JkaW5nOiBmYWxzZSwKICAgICAgLy8g5piv5ZCm5Li65p+l55yL54q25oCBCiAgICAgIGlzVmlldzogZmFsc2UsCiAgICAgIC8vIOaYr+WQpuS4uuW3oeajgOWRmOeZu+mZhu+8jGZhbHNl5Li65beh5qOA5ZGY55m75b2VCiAgICAgIGlzRmxhZzogZmFsc2UsCiAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLiRzdG9yYWdlLmdldCgnYWNjZXNzX3Rva2VuJyksCiAgICAgIGZvcm1Ub2tlbjogJycsCiAgICAgIGhlYWRlcjoge30sCiAgICAgIEluc3BPYmplY3RUeXBlTGlzdDogW10sCiAgICAgIEluc3BPYmplY3RMaXN0OiBbXSwKICAgICAgbm93Q2xpY2s6ICflhajpg6gnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOWAkuiuoeaXtgogICAgdGltZVJlc3QoKSB7CiAgICAgIC8vIHJldHVybiBuZXcgRGF0ZSgnMjAyMy0wNy0wMSAwMDowMDowMCcpLmdldFRpbWUoKSAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpCiAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnRhc2tEZXRhaWwudGFza0VuZFRpbWUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgfSwKICAgIHN0eWxlVmFyKCkgewogICAgICByZXR1cm4gewogICAgICAgIC8vIOi/m+W6puadoeWFqOmVvwogICAgICAgICctLXRvdGFsV2lkdGgnOiB0aGlzLmRpdldpZHRoICsgJ3B4JywKICAgICAgICAnLS1iYXJXaWR0aCc6ICcxMDBweCcsCiAgICAgICAgJy0tY29sb3JCbHVlJzogJ2JsdWUnCiAgICAgIH07CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2coJ+WtmOWCqOWcqOacrOWcsOeahOajgOa8j+S7u+WKoScsIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dhbGxlcnlUYXNrRGF0YScpKSk7CgogICAgLy8g5b2T5YmN54K55Ye755qE5Lu75Yqh77yM5LuO5pys5Zyw5Lit6I635Y+WCiAgICB0aGlzLnRhc2tEZXRhaWwgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYWxsZXJ5VGFza0RhdGEnKSk7CiAgICB0aGlzLnRhc2tQcm9jZXNzID0gdGhpcy5jaGFuZ2VUb1JhdGUodGhpcy50YXNrRGV0YWlsLnJlcG9ydFJhdGUpOyAvLyDku7vliqHov5vluqYKICAgIHRoaXMudXNlckluZm8gPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mbzsKICAgIGNvbnNvbGUubG9nKCd0aGlzLnVzZXJJbmZvJywgdGhpcy51c2VySW5mbyk7CiAgICBjb25zb2xlLmxvZygn5b2T5YmN54K55Ye755qE5Lu75YqhJywgdGhpcy50YXNrRGV0YWlsKTsKICAgIGNvbnNvbGUubG9nKHRoaXMudXNlckluZm8udXNlck5hbWUsIHRoaXMudGFza0RldGFpbC5pbnNwZWN0b3IsICctLS0tLS3lt6Hmo4DkurrlkZjkuI7lvZPliY3nmbvpmYbotKblj7ctLS0tLS0nLCB0aGlzLnVzZXJJbmZvLnVzZXJGdWxsbmFtZSwgdGhpcy50YXNrRGV0YWlsLmluc3BlY3RvckZ1bGxOYW1lKTsKCiAgICAvLyDlvZPlt6Hmo4DkurrlkZjkuI7lvZPliY3nmbvpmYbotKblj7fkuIDoh7Tml7bmiY3og73mo4DmvI8KICAgIGlmICh0aGlzLnVzZXJJbmZvLnVzZXJOYW1lICE9IHRoaXMudGFza0RldGFpbC5pbnNwZWN0b3IgJiYgdGhpcy51c2VySW5mby51c2VyRnVsbG5hbWUgIT0gdGhpcy50YXNrRGV0YWlsLmluc3BlY3RvckZ1bGxOYW1lKSB7CiAgICAgIGNvbnNvbGUubG9nKCfkurrlkZjkuI3kuIDoh7QnKTsKICAgICAgLy8gdHJ1ZeS4uuW3oeajgOWRmOacqueZu+W9le+8jOS4uuafpeeci+eKtuaAgQogICAgICAvLyB0aGlzLmlzRmxhZyA9IHRydWUKICAgIH0KICAgIC8vIGluc3BlY3RvcjogImNoZW5fYm9saW4iCiAgICAvLyBpbnNwZWN0b3JGdWxsTmFtZTogIumZiOWNmuaelyIKCiAgICAvLyB1c2VyRnVsbG5hbWU6ICLlrovlh6/pvpkiCiAgICAvLyB1c2VyTmFtZTogInNvbmdfa2wiCgogICAgLy8g6I635Y+WaGVhZGVy77yM5p+l6K+i5bel5Y2V55SoCiAgICBheGlvcyh7CiAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9USElSRF9SRVFVRVNUX1VSTCArICcvbWFpbi91c2VyQ2VudGVyQXBpL3Nzby90b2tlbkJ5VG9rZW4nLAogICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgcGFyYW1zOiB7CiAgICAgICAgdG9rZW46IHRoaXMuYWNjZXNzVG9rZW4KICAgICAgfSwKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICdCYXNpYyBiM1YwZDI5eWF6cDNjR2N5TURJdycKICAgICAgfQogICAgfSkudGhlbihyZXMgPT4gewogICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICB0aGlzLmZvcm1Ub2tlbiA9IHJlcy5kYXRhLnJlc3VsdERhdGEudG9rZW47CiAgICAgICAgdGhpcy5oZWFkZXIgPSB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgdGhpcy5mb3JtVG9rZW4KICAgICAgICB9OwogICAgICB9CiAgICB9KTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmRpdldpZHRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRleHRXaWR0aCcpLmNsaWVudFdpZHRoOwogICAgY29uc29sZS5sb2coJ3RleHRXaWR0aCB3aWR0aDogJyArIHRoaXMuZGl2V2lkdGgpOwogICAgdGhpcy5zdHlsZVZhclsnLS1iYXJXaWR0aCddID0gcGFyc2VJbnQodGhpcy5kaXZXaWR0aCAqIHRoaXMucGVyY2VudE51bSkgKyAncHgnOwogICAgdGhpcy5nZXRJbnNwT2JqZWN0TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlVG9SYXRlKGNvdmVyYWdlKSB7CiAgICAgIGlmIChjb3ZlcmFnZS5pbmNsdWRlcygnLycpKSB7CiAgICAgICAgbGV0IGluc3AgPSBOdW1iZXIoY292ZXJhZ2Uuc3BsaXQoJy8nKVswXSk7CiAgICAgICAgbGV0IHVuaW5zcCA9IE51bWJlcihjb3ZlcmFnZS5zcGxpdCgnLycpWzFdKTsKICAgICAgICBpZiAodW5pbnNwKSB7CiAgICAgICAgICB0aGlzLnBlcmNlbnROdW0gPSBpbnNwIC8gdW5pbnNwIHx8IDA7CiAgICAgICAgICByZXR1cm4gKGluc3AgLyB1bmluc3AgKiAxMDApLnRvRml4ZWQoMikgKyAnJSc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAnMCUnOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJzAlJzsKICAgICAgfQogICAgfSwKICAgIC8vIOi/lOWbnuS7u+WKoemhtQogICAgZ29CYWNrVG9UYXNrKCkgewogICAgICBpZiAodGhpcy5pZlJlY29yZGluZykgewogICAgICAgIC8vIOW9k+WJjeato+WcqOW3oeajgOS4reaXtu+8jOi/lOWbnuS7u+WKoemhteaXtuaPkOekuuaYr+WQpuemu+W8gOivpeS7u+WKoQogICAgICAgIHRoaXMuaWZMZWF2ZVRhc2sgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBnZXRJbnNwT2JqZWN0TGlzdCgpIHsKICAgICAgbGV0IHJlcyA9IGF3YWl0IEFwaS5pbnNwT2JqZWN0KHsKICAgICAgICB0YXNrSWQ6IHRoaXMudGFza0RldGFpbC5pZAogICAgICB9KTsKICAgICAgaWYgKHJlcy5zdGF0dXMpIHsKICAgICAgICByZXMuZGF0YS5vYmplY3RUeXBlTGlzdCA/IHRoaXMuSW5zcE9iamVjdFR5cGVMaXN0ID0gcmVzLmRhdGEub2JqZWN0VHlwZUxpc3QgOiAnJzsKICAgICAgICB0aGlzLkluc3BPYmplY3RMaXN0ID0gcmVzLmRhdGEub2JqZWN0czsKICAgICAgfQogICAgfSwKICAgIC8vIOWFqOmDqOOAgeaUr+W7iuOAgeawtOS/oeiIseeCueWHuwogICAgYXN5bmMgYnRuQ2xpY2sodGV4dCkgewogICAgICB0aGlzLm5vd0NsaWNrID0gdGV4dDsKICAgICAgbGV0IHJlcyA9IHt9OwogICAgICBpZiAodGV4dCA9PSAn5YWo6YOoJykgewogICAgICAgIHRoaXMuZ2V0SW5zcE9iamVjdExpc3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXMgPSBhd2FpdCBBcGkuaW5zcE9iamVjdCh7CiAgICAgICAgICB0YXNrSWQ6IHRoaXMudGFza0RldGFpbC5pZCwKICAgICAgICAgIG9iamVjdFN0YXR1czogdGhpcy5ub3dDbGlja0RvbmUsCiAgICAgICAgICBvYmplY3RUeXBlOiB0ZXh0CiAgICAgICAgfSk7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMpIHsKICAgICAgICAgIHRoaXMuSW5zcE9iamVjdExpc3QgPSByZXMuZGF0YS5vYmplY3RzOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOW8gOWni+euoeW7iuW3oeajgAogICAgc3RhcnRHYWxsZXJ5SW5zcCgpIHsKICAgICAgLy8gdGhpcy50YXNrRGV0YWlsIOS4uuW9k+WJjeS7u+WKoeivpuaDhe+8jOWPr+mAmui/hyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYWxsZXJ5VGFza0RhdGEnKSkg6I635Y+WCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnU3RhcnRHYWxsZXJ5SW5zcGVjdGlvbicKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["Vue","axios","Api","bus","ENUM","turf","bbox","center","getCenter","_cloneDeep","addIconToMap","mapboxgl","Toast","Dialog","Notify","mixins","dayjs","request","name","components","data","taskProcess","divWidth","percentNum","taskDetail","userInfo","ifRecording","isView","isFlag","accessToken","$storage","get","formToken","header","InspObjectTypeList","InspObjectList","nowClick","computed","timeRest","Date","taskEndTime","getTime","styleVar","created","console","log","JSON","parse","localStorage","getItem","changeToRate","reportRate","$store","state","userName","inspector","userFullname","inspectorFullName","url","process","env","VUE_APP_THIRD_REQUEST_URL","method","params","token","headers","Authorization","then","res","status","resultData","mounted","document","querySelector","clientWidth","parseInt","getInspObjectList","methods","coverage","includes","insp","Number","split","uninsp","toFixed","goBackToTask","ifLeaveTask","$router","go","inspObject","taskId","id","objectTypeList","objects","btnClick","text","objectStatus","nowClickDone","objectType","startGalleryInsp","push"],"sources":["src/views/inspectionManage/GalleryInspection.vue"],"sourcesContent":["<template>\r\n  <div class=\"GalleryInspectionStyle\">\r\n    <fm-nav-bar left-arrow :title=\"taskDetail.taskName\" @click-left=\"goBackToTask\">\r\n    </fm-nav-bar>\r\n    <div class=\"mapContainer\">\r\n      <div class=\"topCard\">\r\n        <div class=\"leftSide\">\r\n          <div class=\"littleLine1\">\r\n            <div class=\"textWidth\">\r\n              <span>任务进度</span>\r\n              <span>{{ taskProcess }}</span>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"true\" class=\"littleLine2\">\r\n            <!--  第一层，固定进度条宽度 -->\r\n            <div :style=\"styleVar\" class=\"progressWidth\">\r\n              <!-- 第二层，计算得到的实际比率宽度 -->\r\n              <div :style=\"styleVar\" class=\"colorWidth\">\r\n                <!-- 第三层，动画 -->\r\n                <div :style=\"styleVar\" class=\"progressAnimate\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"littleLine3\">\r\n            <img src=\"../../assets/img/inspection/剩余时间.png\" alt=\"\" />\r\n            <div class=\"titleText\">剩余时间：</div>\r\n            <fm-count-down :time=\"timeRest\">\r\n              <template #default=\"timeData\">\r\n                <span class=\"block\">{{ timeData.days }}</span>\r\n                <span class=\"colon\">天</span>\r\n                <span class=\"block\">{{ timeData.hours }}</span>\r\n                <span class=\"colon\"> : </span>\r\n                <span class=\"block\">{{ timeData.minutes }}</span>\r\n              </template>\r\n            </fm-count-down>\r\n          </div>\r\n        </div>\r\n        <div class=\"rightSide\">\r\n          <img @click=\"startGalleryInsp\" src=\"@/assets/img/inspection/暂停.png\" alt=\"\" />\r\n          <!-- <img src=\"@/assets/img/inspection/开始.png\" alt=\"\"> -->\r\n        </div>\r\n      </div>\r\n      <div class=\"bottomCard\">\r\n        <div class=\"topThreeBtn\">\r\n          <div class=\"buttonStyle\" @click=\"btnClick('全部')\" :class=\"nowClick == '全部' ? 'chooseStyle' : ''\">\r\n            全部\r\n          </div>\r\n          <div class=\"buttonStyle\" v-for=\"(item, index) in InspObjectTypeList\" :key=\"index\" @click=\"btnClick(item)\"\r\n            :class=\"nowClick == item ? 'chooseStyle' : ''\">\r\n            {{ item }}\r\n          </div>\r\n        </div>\r\n        <div class=\"bottomList\">\r\n          <div class=\"lineStyle\" v-for=\"(item, index) in InspObjectList\" :key=\"index\">\r\n            <span class=\"numStyle\">{{ index + 1 }}</span>\r\n            <span class=\"textStyle\">{{ item.objectName }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport * as Api from './api'\r\nimport bus from '@/utils/bus'\r\nimport { ENUM } from '@/store/State/stateTypes'\r\nimport * as turf from '@turf/turf'\r\nimport { bbox, center as getCenter } from '@turf/turf'\r\nimport _cloneDeep from 'lodash/cloneDeep'\r\nimport { addIconToMap } from '@/utils/mapUtils'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport { Toast, Dialog, Notify } from 'fawkes-mobile-lib'\r\nimport mixins from '@/views/inspectMap/mixins/mixins.js'\r\nimport dayjs from 'dayjs'\r\nimport request from '@/utils/request'\r\n\r\nexport default {\r\n  name: '',\r\n  // mixins: [mixins],\r\n  components: {},\r\n  data() {\r\n    return {\r\n      // 用于给进度条长度赋值\r\n      taskProcess: 100,\r\n      divWidth: 0,\r\n      percentNum: 1,\r\n\r\n      // 当前点击的任务\r\n      taskDetail: {},\r\n      // 巡检员信息\r\n      userInfo: {},\r\n      // 是否开始记录\r\n      ifRecording: false,\r\n      // 是否为查看状态\r\n      isView: false,\r\n      // 是否为巡检员登陆，false为巡检员登录\r\n      isFlag: false,\r\n\r\n      accessToken: this.$storage.get('access_token'),\r\n      formToken: '',\r\n      header: {},\r\n\r\n      InspObjectTypeList: [],\r\n      InspObjectList: [],\r\n      nowClick: '全部',\r\n    }\r\n  },\r\n  computed: {\r\n    // 倒计时\r\n    timeRest() {\r\n      // return new Date('2023-07-01 00:00:00').getTime() - new Date().getTime()\r\n      return new Date(this.taskDetail.taskEndTime).getTime() - new Date().getTime()\r\n    },\r\n    styleVar() {\r\n      return {\r\n        // 进度条全长\r\n        '--totalWidth': this.divWidth + 'px',\r\n        '--barWidth': '100px',\r\n        '--colorBlue': 'blue',\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    console.log('存储在本地的检漏任务', JSON.parse(localStorage.getItem('galleryTaskData')))\r\n\r\n    // 当前点击的任务，从本地中获取\r\n    this.taskDetail = JSON.parse(localStorage.getItem('galleryTaskData'))\r\n    this.taskProcess = this.changeToRate(this.taskDetail.reportRate) // 任务进度\r\n    this.userInfo = this.$store.state.userInfo\r\n    console.log('this.userInfo', this.userInfo)\r\n    console.log('当前点击的任务', this.taskDetail)\r\n    console.log(\r\n      this.userInfo.userName,\r\n      this.taskDetail.inspector,\r\n      '------巡检人员与当前登陆账号------',\r\n      this.userInfo.userFullname,\r\n      this.taskDetail.inspectorFullName\r\n    )\r\n\r\n    // 当巡检人员与当前登陆账号一致时才能检漏\r\n    if (\r\n      this.userInfo.userName != this.taskDetail.inspector &&\r\n      this.userInfo.userFullname != this.taskDetail.inspectorFullName\r\n    ) {\r\n      console.log('人员不一致')\r\n      // true为巡检员未登录，为查看状态\r\n      // this.isFlag = true\r\n    }\r\n    // inspector: \"chen_bolin\"\r\n    // inspectorFullName: \"陈博林\"\r\n\r\n    // userFullname: \"宋凯龙\"\r\n    // userName: \"song_kl\"\r\n\r\n    // 获取header，查询工单用\r\n    axios({\r\n      url: process.env.VUE_APP_THIRD_REQUEST_URL + '/main/userCenterApi/sso/tokenByToken',\r\n      method: 'post',\r\n      params: {\r\n        token: this.accessToken,\r\n      },\r\n      headers: {\r\n        Authorization: 'Basic b3V0d29yazp3cGcyMDIw',\r\n      },\r\n    }).then((res) => {\r\n      if (res.status == 200) {\r\n        this.formToken = res.data.resultData.token\r\n        this.header = {\r\n          'Content-Type': 'application/json',\r\n          Authorization: 'Bearer ' + this.formToken,\r\n        }\r\n      }\r\n    })\r\n  },\r\n  mounted() {\r\n    this.divWidth = document.querySelector('.textWidth').clientWidth\r\n    console.log('textWidth width: ' + this.divWidth)\r\n    this.styleVar['--barWidth'] = parseInt(this.divWidth * this.percentNum) + 'px'\r\n    this.getInspObjectList()\r\n  },\r\n  methods: {\r\n    changeToRate(coverage) {\r\n      if (coverage.includes('/')) {\r\n        let insp = Number(coverage.split('/')[0])\r\n        let uninsp = Number(coverage.split('/')[1])\r\n        if (uninsp) {\r\n          this.percentNum = insp / uninsp || 0\r\n          return ((insp / uninsp) * 100).toFixed(2) + '%'\r\n        } else {\r\n          return '0%'\r\n        }\r\n      } else {\r\n        return '0%'\r\n      }\r\n    },\r\n    // 返回任务页\r\n    goBackToTask() {\r\n      if (this.ifRecording) {\r\n        // 当前正在巡检中时，返回任务页时提示是否离开该任务\r\n        this.ifLeaveTask = true\r\n      } else {\r\n        this.$router.go(-1)\r\n      }\r\n    },\r\n    async getInspObjectList() {\r\n      let res = await Api.inspObject({ taskId: this.taskDetail.id })\r\n      if (res.status) {\r\n        res.data.objectTypeList ? this.InspObjectTypeList = res.data.objectTypeList : ''\r\n        this.InspObjectList = res.data.objects\r\n      }\r\n    },\r\n    // 全部、支廊、水信舱点击\r\n    async btnClick(text) {\r\n      this.nowClick = text\r\n      let res = {}\r\n      if (text == '全部') {\r\n        this.getInspObjectList()\r\n      } else {\r\n        res = await Api.inspObject({ taskId: this.taskDetail.id, objectStatus: this.nowClickDone, objectType: text })\r\n        if (res.status) {\r\n          this.InspObjectList = res.data.objects\r\n        }\r\n      }\r\n    },\r\n    // 开始管廊巡检\r\n    startGalleryInsp() {\r\n      // this.taskDetail 为当前任务详情，可通过 JSON.parse(localStorage.getItem('galleryTaskData')) 获取\r\n      this.$router.push({\r\n        name: 'StartGalleryInspection',\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.GalleryInspectionStyle {\r\n  background-color: #ffffff !important;\r\n  height: 100%;\r\n\r\n  // 顶部标题背景色\r\n  /deep/.fm-nav-bar__content {\r\n    background-color: #ffffff;\r\n  }\r\n\r\n  /deep/.fm-nav-bar__title {\r\n    color: #191919 !important;\r\n  }\r\n\r\n  /deep/ .fm-nav-bar .fm-icon {\r\n    color: #191919 !important;\r\n  }\r\n\r\n  .mapContainer {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    height: calc(100% - 92px);\r\n    width: 100%;\r\n    background: linear-gradient(0deg,\r\n        rgba(211, 231, 254, 0) 0%,\r\n        rgba(211, 231, 254, 0.05) 50%,\r\n        rgba(211, 231, 254, 0.4) 100%);\r\n\r\n    .topCard {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      width: 690px;\r\n      min-height: 175px;\r\n      margin-top: 48px;\r\n      background: #ffffff;\r\n      box-shadow: 0px 4px 16px 0px rgba(104, 115, 127, 0.06);\r\n      border-radius: 16px;\r\n\r\n      .leftSide {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-evenly;\r\n        width: 70%;\r\n        height: 100%;\r\n\r\n        // background-color: rgb(255, 196, 196);\r\n        .littleLine1 {\r\n          display: flex;\r\n          align-items: center;\r\n          min-height: 85px;\r\n          padding: 0 32px;\r\n          font-size: 36px;\r\n          font-family: Helvetica-Bold, Helvetica;\r\n          font-weight: bold;\r\n          color: #191919;\r\n\r\n          .textWidth {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            width: 90%;\r\n            min-height: 85px;\r\n          }\r\n        }\r\n\r\n        .littleLine2 {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          min-height: 24px;\r\n          padding-left: 32px;\r\n\r\n          // 第一层，固定进度条宽度\r\n          .progressWidth {\r\n            width: var(--totalWidth);\r\n            height: 16px;\r\n            border-radius: 8px;\r\n            background: rgba(27, 103, 216, 0.08);\r\n            box-shadow: inset 0px 0px 5px 0px rgba(39, 123, 214, 0.15);\r\n\r\n            // 第二层，计算得到的实际比率宽度\r\n            .colorWidth {\r\n              width: var(--barWidth);\r\n              height: 16px;\r\n              border-radius: 8px;\r\n              box-shadow: 0px 4px 8px 0px rgba(50, 127, 211, 0.24);\r\n              border-radius: 8px;\r\n              background: linear-gradient(-45deg, #1b67d8 0%, rgba(58, 160, 238, 0.42) 100%);\r\n\r\n              // 第三层，动画\r\n              .progressAnimate {\r\n                width: 0;\r\n                height: 16px;\r\n                border-radius: 8px;\r\n                background: linear-gradient(270deg, #1b67d8 0%, rgba(58, 160, 238, 0.42) 100%);\r\n                // background: linear-gradient(to top right, #CDDC39, #8BC34A, #FFEB3B);\r\n                animation: w 3s linear infinite;\r\n\r\n                @keyframes w {\r\n                  0% {\r\n                    width: 0;\r\n                  }\r\n\r\n                  100% {\r\n                    width: var(--barWidth);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // 剩余时间\r\n        .littleLine3 {\r\n          display: flex;\r\n          align-items: center;\r\n          width: 100%;\r\n          min-height: 85px;\r\n          font-size: 28px;\r\n          font-family: PingFangSC-Regular, PingFang SC;\r\n          font-weight: 400;\r\n          color: #999999;\r\n\r\n          img {\r\n            width: 32px;\r\n            height: 32px;\r\n            margin: 0 10px 0 32px;\r\n          }\r\n\r\n          // background-color: rgb(255, 129, 245);\r\n          .colon {\r\n            display: inline-block;\r\n            margin: 0 20px;\r\n            font-size: 24px;\r\n            font-weight: 400;\r\n            color: #2062c4;\r\n            line-height: 33px;\r\n          }\r\n\r\n          .block {\r\n            display: inline-block;\r\n            width: 38px;\r\n            font-size: 24px;\r\n            text-align: center;\r\n            color: #2062c4;\r\n            background: rgba(27, 103, 216, 0.1);\r\n            border-radius: 8px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .rightSide {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 30%;\r\n        height: 100%;\r\n\r\n        // background-color: rgb(196, 255, 196);\r\n        img {\r\n          width: 140px;\r\n          height: 140px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .bottomCard {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 690px;\r\n      height: calc(100% - 278px);\r\n      margin-top: 32px;\r\n      background: #FFFFFF;\r\n      box-shadow: 0px 4px 16px 0px rgba(104, 115, 127, 0.06);\r\n      border-radius: 16px 16px 0 0;\r\n\r\n      .topThreeBtn {\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n        width: 100%;\r\n        height: 110px;\r\n\r\n        .buttonStyle {\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          width: 196px;\r\n          height: 64px;\r\n          margin-top: 30px;\r\n          background: #f5f5f5;\r\n          border-radius: 36px;\r\n          transition: all 0.4s;\r\n          font-size: 28px;\r\n          font-family: PingFangSC-Regular, PingFang SC;\r\n          font-weight: 400;\r\n          color: #555555;\r\n        }\r\n\r\n        .chooseStyle {\r\n          color: #1b67d8;\r\n          background: #dde8f9;\r\n        }\r\n      }\r\n\r\n      .bottomList {\r\n        width: 100%;\r\n        height: calc(100% - 110px);\r\n        overflow-y: scroll;\r\n\r\n        // background-color: rgb(130, 247, 139);\r\n        .lineStyle {\r\n          position: relative;\r\n          display: flex;\r\n          align-items: center;\r\n          // width: 100%;\r\n          height: 96px;\r\n          line-height: 96px;\r\n          padding-left: 8px;\r\n\r\n          .numStyle {\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            width: 60px;\r\n            font-size: 36px;\r\n            font-family: Helvetica-Bold, Helvetica;\r\n            font-weight: bold;\r\n            color: #1b67d8;\r\n          }\r\n\r\n          .textStyle {\r\n            display: flex;\r\n            align-items: center;\r\n            padding-left: 24px;\r\n            font-size: 32px;\r\n            font-family: PingFangSC-Regular, PingFang SC;\r\n            font-weight: 400;\r\n            color: #333333;\r\n          }\r\n\r\n          &::after {\r\n            content: '';\r\n            position: absolute;\r\n            display: block;\r\n            width: 89%;\r\n            height: 1px;\r\n            background-color: #eeeeee;\r\n            bottom: 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"}]}