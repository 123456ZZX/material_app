{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\PumpStationInspection\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\PumpStationInspection\\index.vue","mtime":1705912915820},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBJbnNwZWN0aW9uU3RhdHVzIGZyb20gJy4vY29tcG9uZW50cy9JbnNwZWN0aW9uU3RhdHVzLnZ1ZSc7CmltcG9ydCBTdGF0dXNDb250ZW50IGZyb20gJy4vY29tcG9uZW50cy9TdGF0dXNDb250ZW50JzsKaW1wb3J0IEluc3BlY3Rpb25TdWJtaXQgZnJvbSAnLi9jb21wb25lbnRzL0luc3BlY3Rpb25TdWJtaXQudnVlJzsKaW1wb3J0IEluc3BlY3Rpb25MaXN0IGZyb20gJy4vY29tcG9uZW50cy9JbnNwZWN0aW9uTGlzdC52dWUnOwppbXBvcnQgSW5zcGVjdGlvbk1hcCBmcm9tICcuL2NvbXBvbmVudHMvSW5zcGVjdGlvbk1hcC52dWUnOwppbXBvcnQgSW5zcGVjdGlvbkhpZGRlblBvcHVwIGZyb20gJy4vY29tcG9uZW50cy9JbnNwZWN0aW9uSGlkZGVuUG9wdXAudnVlJzsKaW1wb3J0IHsgcGF0cm9sLCBnZXRUb2tlbiwgdGlja2V0TGlzdCB9IGZyb20gJy4vYXBpJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEluc3BlY3Rpb25TdGF0dXMsCiAgICBTdGF0dXNDb250ZW50LAogICAgSW5zcGVjdGlvblN1Ym1pdCwKICAgIEluc3BlY3Rpb25MaXN0LAogICAgSW5zcGVjdGlvbk1hcCwKICAgIEluc3BlY3Rpb25IaWRkZW5Qb3B1cAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAnJywKICAgICAgUGF0cm9sRGF0YToge30sCiAgICAgIHBhdHJvbFBvaW50UmVzdWx0TGlzdDogW10sCiAgICAgIGRpc2FibGVkOiB0cnVlLAogICAgICBzdGF0dXNDb250ZW50U2hvdzogZmFsc2UsCiAgICAgIGNyZWF0ZVdvcmtVcmw6ICcnLAogICAgICBoaWRkZW5EYW5nZXJMaXN0OiBbXSwKICAgICAgbW9kZWxUeXBlOiAnbGlzdCcsCiAgICAgIC8vbGlzdOWIl+ihqO+8jG1hcOWcsOWbvgoKICAgICAgdHJhY2tEVE9TOiBbXSwKICAgICAgLy/lt6Hmo4Dlm77moIcKCiAgICAgIC8vIOW9k+WJjeW3oeajgOWRmOaJgOWkhOS9jee9rgogICAgICBjdXJyZW50UG9zaXRpb246IG51bGwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRQYXRyb2woKTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZyh0aGlzLlBhdHJvbERhdGEpOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuc2F2ZVBhdHJvbERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6L+U5Zue5beh5qOA566h55CG6aG16Z2iCiAgICBnb1RvSW5zcGVjdGlvbk1hbmFnZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9wdW1wL2luc3BlY3Rpb25NYW5hZ2UnKTsKICAgIH0sCiAgICAvL+iOt+WPluW3peWNleivpuaDhQogICAgYXN5bmMgY3JlYXRlV29yayhkYXRhLCB0eXBlKSB7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEsIHR5cGUpOwogICAgICBsZXQgd29ya09yZGVySWRMaXN0ID0gW107CiAgICAgIC8v5Y2V5Liq5beh5qOA54K55bel5Y2VCiAgICAgIGlmICh0eXBlID09PSAnaXRlbScpIHsKICAgICAgICB2YXIgX2RhdGEkcGF0cm9sSXRlbXNSZXN1OwogICAgICAgIGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwIHx8IChfZGF0YSRwYXRyb2xJdGVtc1Jlc3UgPSBkYXRhLnBhdHJvbEl0ZW1zUmVzdWx0TGlzdCkgPT09IG51bGwgfHwgX2RhdGEkcGF0cm9sSXRlbXNSZXN1ID09PSB2b2lkIDAgfHwgX2RhdGEkcGF0cm9sSXRlbXNSZXN1LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICBpdGVtLndvcmtPcmRlcklkICYmIHdvcmtPcmRlcklkTGlzdC5wdXNoKGl0ZW0ud29ya09yZGVySWQpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBfZGF0YSRwYXRyb2xQb2ludFJlc3U7CiAgICAgICAgLy/miYDmnInlt6Hmo4Dngrnlt6XljZUKICAgICAgICBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCB8fCAoX2RhdGEkcGF0cm9sUG9pbnRSZXN1ID0gZGF0YS5wYXRyb2xQb2ludFJlc3VsdExpc3QpID09PSBudWxsIHx8IF9kYXRhJHBhdHJvbFBvaW50UmVzdSA9PT0gdm9pZCAwIHx8IF9kYXRhJHBhdHJvbFBvaW50UmVzdS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgdmFyIF9pdGVtJHBhdHJvbEl0ZW1zUmVzdTsKICAgICAgICAgIGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwIHx8IChfaXRlbSRwYXRyb2xJdGVtc1Jlc3UgPSBpdGVtLnBhdHJvbEl0ZW1zUmVzdWx0TGlzdCkgPT09IG51bGwgfHwgX2l0ZW0kcGF0cm9sSXRlbXNSZXN1ID09PSB2b2lkIDAgfHwgX2l0ZW0kcGF0cm9sSXRlbXNSZXN1LmZvckVhY2goZGF0YSA9PiB7CiAgICAgICAgICAgIGRhdGEud29ya09yZGVySWQgJiYgd29ya09yZGVySWRMaXN0LnB1c2goZGF0YS53b3JrT3JkZXJJZCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgICBjb25zdCB7CiAgICAgICAgYWNjZXNzVG9rZW4KICAgICAgfSA9IGF3YWl0IGdldFRva2VuKHRoaXMuJHN0b3JhZ2UuZ2V0KCdhY2Nlc3NfdG9rZW4nKSk7CiAgICAgIGNvbnN0IHsKICAgICAgICByZXN1bHREYXRhCiAgICAgIH0gPSBhd2FpdCB0aWNrZXRMaXN0KGFjY2Vzc1Rva2VuLCB3b3JrT3JkZXJJZExpc3QpOwogICAgICB0aGlzLmhpZGRlbkRhbmdlckxpc3QgPSByZXN1bHREYXRhOwogICAgfSwKICAgIC8v5piv5ZCm56aB5q2i6L+b5YWl5beh5qOA6aG5CiAgICBpc0Rpc2FibGVkKGNvbmZpZykgewogICAgICB0aGlzLmRpc2FibGVkID0gY29uZmlnOwogICAgfSwKICAgIC8v6I635Y+W55So5oi35beh5qOA54K5CiAgICBhc3luYyBnZXRQYXRyb2woKSB7CiAgICAgIGxldCB7CiAgICAgICAgdGFza0lkCiAgICAgIH0gPSB0aGlzLiRyb3V0ZS5xdWVyeTsKICAgICAgbGV0IFBhdHJvbERhdGE7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSBhd2FpdCBwYXRyb2wodGFza0lkKTsKICAgICAgICBQYXRyb2xEYXRhID0gZGF0YTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBQYXRyb2xEYXRhID0gSlNPTi5wYXJzZSh0aGlzLiRzdG9yYWdlLmdldCgnUGF0cm9sRGF0YScpKTsKICAgICAgfQogICAgICBsZXQgewogICAgICAgIHBhdHJvbFJvdXRlTmFtZSwKICAgICAgICBwYXRyb2xQb2ludFJlc3VsdExpc3QKICAgICAgfSA9IFBhdHJvbERhdGE7CiAgICAgIHRoaXMuUGF0cm9sRGF0YSA9IFBhdHJvbERhdGE7CiAgICAgIHRoaXMucGF0cm9sUG9pbnRSZXN1bHRMaXN0ID0gcGF0cm9sUG9pbnRSZXN1bHRMaXN0OwogICAgICB0aGlzLnRpdGxlID0gcGF0cm9sUm91dGVOYW1lOwogICAgICB0aGlzLmlzVW5zdWJtaXR0ZWQoKTsKICAgICAgdGhpcy5zdGFydEdldExvY2F0aW9uKCk7CiAgICB9LAogICAgLy/kv53lrZjlt6Hmo4Dor6bmg4Xkv6Hmga8KICAgIHNhdmVQYXRyb2xEYXRhKCkgewogICAgICB0aGlzLiRzdG9yYWdlLnNldCgnUGF0cm9sRGF0YScsIEpTT04uc3RyaW5naWZ5KHRoaXMuUGF0cm9sRGF0YSkpOwogICAgfSwKICAgIC8v5by55Ye65Yi35Y2h55WM6Z2iCiAgICBoYW5kTW92ZW1lbnRORkMoKSB7CiAgICAgIHRoaXMuJHJlZnMuaW5zcGVjdGlvbkxpc3QuaGFuZE1vdmVtZW50TkZDKCk7CiAgICB9LAogICAgLy/mo4Dmn6XmmK/lkKbmnInmnKrmj5DkuqTpobkKICAgIGlzVW5zdWJtaXR0ZWQoKSB7CiAgICAgIHZhciBfdGhpcyRwYXRyb2xQb2ludFJlc3U7CiAgICAgIGxldCBzdG9yYWdlSXRlbURhdGFMaXN0ID0gSlNPTi5wYXJzZSh0aGlzLiRzdG9yYWdlLmdldCgncHVtcC1zdG9yYWdlSXRlbURhdGFMaXN0JykpOwogICAgICAoX3RoaXMkcGF0cm9sUG9pbnRSZXN1ID0gdGhpcy5wYXRyb2xQb2ludFJlc3VsdExpc3QpID09PSBudWxsIHx8IF90aGlzJHBhdHJvbFBvaW50UmVzdSA9PT0gdm9pZCAwIHx8IF90aGlzJHBhdHJvbFBvaW50UmVzdS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgIHN0b3JhZ2VJdGVtRGF0YUxpc3QgPT09IG51bGwgfHwgc3RvcmFnZUl0ZW1EYXRhTGlzdCA9PT0gdm9pZCAwIHx8IHN0b3JhZ2VJdGVtRGF0YUxpc3QuZm9yRWFjaChkYXRhID0+IHsKICAgICAgICAgIGl0ZW0uaWQgPT09IGRhdGEuaWQgPyB0aGlzLnBhdHJvbFBvaW50UmVzdWx0TGlzdFtpbmRleF0uaXNVbnN1Ym1pdHRlZCA9IHRydWUgOiBudWxsOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvL+W8gOWni+W3oeajgAogICAgc3RhcnRHZXRMb2NhdGlvbigpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICBpZiAodHlwZW9mIHl1YW5jaHUgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB5dWFuY2h1LmxvY2F0aW9uQU1hcC5yZXF1ZXN0TG9jYXRpb25zKFsnNScsICcxJywgJzEwJywgJzMwJywgJzAnLCB0cnVlXSwgcmVzID0+IHsKICAgICAgICAgIHRoYXQuY3VycmVudFBvc2l0aW9uID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXMpKTsKICAgICAgICAgIHRoYXQuY3VycmVudFBvc2l0aW9uID0gT2JqZWN0LmFzc2lnbih0aGF0LmN1cnJlbnRQb3NpdGlvbiwgewogICAgICAgICAgICBkaXJlY3Rpb246IDAKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKCF0aGF0LmN1cnJlbnRQb3NpdGlvbikgewogICAgICAgICAgICBUb2FzdCh7CiAgICAgICAgICAgICAgbWVzc2FnZTogJ+W9k+WJjUdQU+S/oeWPt+W8sScsCiAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuc2V0TWFpblVzZXJQb3NpdGlvbih0aGF0LmN1cnJlbnRQb3NpdGlvbik7CiAgICAgICAgfSwgZXJyID0+IHsKICAgICAgICAgIFRvYXN0KHsKICAgICAgICAgICAgbWVzc2FnZTogJ2VycicgKyBlcnIsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8v6K6+572u6Lev5b6ECiAgICBzZXRNYWluVXNlclBvc2l0aW9uKHBvaW50KSB7CiAgICAgIGxldCB7CiAgICAgICAgbGF0aXR1ZGUsCiAgICAgICAgbG9uZ2l0dWRlCiAgICAgIH0gPSBwb2ludDsKICAgICAgdGhpcy50cmFja0RUT1MgPSBbXTsKICAgICAgdGhpcy50cmFja0RUT1MucHVzaCh7CiAgICAgICAgbGF0OiBsYXRpdHVkZSwKICAgICAgICBsb246IGxvbmdpdHVkZQogICAgICB9KTsKICAgIH0sCiAgICAvL+makOaCo+S4iuaKpeWIl+ihqOaYvuekugogICAgYXN5bmMgaGlkZGVuRGFuZ2VyU2hvdyhpdGVtLCB0eXBlKSB7CiAgICAgIGF3YWl0IHRoaXMuY3JlYXRlV29yayhpdGVtLCB0eXBlKTsKICAgICAgaWYgKHRoaXMuaGlkZGVuRGFuZ2VyTGlzdC5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgdGhpcy4kcmVmcy5pbnNwZWN0aW9uSGlkZGVuUG9wdXAuc2hvdygpOwogICAgfQogIH0KfTs="},{"version":3,"names":["InspectionStatus","StatusContent","InspectionSubmit","InspectionList","InspectionMap","InspectionHiddenPopup","patrol","getToken","ticketList","components","data","title","PatrolData","patrolPointResultList","disabled","statusContentShow","createWorkUrl","hiddenDangerList","modelType","trackDTOS","currentPosition","created","getPatrol","mounted","console","log","beforeDestroy","savePatrolData","methods","goToInspectionManage","$router","push","createWork","type","workOrderIdList","_data$patrolItemsResu","patrolItemsResultList","forEach","item","workOrderId","_data$patrolPointResu","_item$patrolItemsResu","accessToken","$storage","get","resultData","isDisabled","config","taskId","$route","query","error","JSON","parse","patrolRouteName","isUnsubmitted","startGetLocation","set","stringify","handMovementNFC","$refs","inspectionList","_this$patrolPointResu","storageItemDataList","index","id","that","yuanchu","locationAMap","requestLocations","res","Object","assign","direction","Toast","message","duration","setMainUserPosition","err","point","latitude","longitude","lat","lon","hiddenDangerShow","length","inspectionHiddenPopup","show"],"sources":["src/views/PumpStationInspection/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"inspection\">\r\n    <fm-nav-bar :title=\"title\" left-arrow @click-left=\"goToInspectionManage()\">\r\n      <template #right>\r\n        <i class=\"fm-icon fm-icon-search\" style=\"font-size: 18px\" @click=\"handMovementNFC()\"></i>\r\n      </template>\r\n    </fm-nav-bar>\r\n\r\n    <!-- 状态栏 -->\r\n    <inspection-status\r\n      :PatrolData=\"PatrolData\"\r\n      @hiddenDangerClick=\"hiddenDangerShow\"\r\n      @setShowType=\"\r\n        (showType) => {\r\n          this.statusContentShow = showType\r\n        }\r\n      \"\r\n    />\r\n    <!-- 巡检状态详情信息 -->\r\n    <status-content :PatrolData=\"PatrolData\" :show=\"statusContentShow\" />\r\n    <div class=\"inspection-model\">\r\n      <!-- 地图模块 -->\r\n      <InspectionMap v-if=\"modelType === 'map'\" />\r\n\r\n      <!-- 巡检点列表 -->\r\n      <InspectionList\r\n        ref=\"inspectionList\"\r\n        v-if=\"modelType === 'list'\"\r\n        :disabled=\"disabled\"\r\n        :patrolStatus=\"PatrolData && PatrolData.patrolStatus\"\r\n        :patrolPointResultList=\"patrolPointResultList\"\r\n        @hiddenDangerClick=\"hiddenDangerShow\"\r\n      />\r\n    </div>\r\n\r\n    <!-- 底部按钮栏 -->\r\n    <inspection-submit\r\n      :PatrolData=\"PatrolData\"\r\n      :modelType=\"modelType\"\r\n      @isDisabled=\"isDisabled\"\r\n      @modelTypeChange=\"\r\n        (newModelType) => {\r\n          modelType = newModelType\r\n        }\r\n      \"\r\n    />\r\n\r\n    <!-- 异常隐患列表弹框 -->\r\n    <inspection-hidden-popup ref=\"inspectionHiddenPopup\" :hiddenDangerList=\"hiddenDangerList\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport InspectionStatus from './components/InspectionStatus.vue'\r\nimport StatusContent from './components/StatusContent'\r\nimport InspectionSubmit from './components/InspectionSubmit.vue'\r\nimport InspectionList from './components/InspectionList.vue'\r\nimport InspectionMap from './components/InspectionMap.vue'\r\nimport InspectionHiddenPopup from './components/InspectionHiddenPopup.vue'\r\n\r\nimport { patrol, getToken, ticketList } from './api'\r\nexport default {\r\n  components: {\r\n    InspectionStatus,\r\n    StatusContent,\r\n    InspectionSubmit,\r\n    InspectionList,\r\n    InspectionMap,\r\n    InspectionHiddenPopup,\r\n  },\r\n  data() {\r\n    return {\r\n      title: '',\r\n      PatrolData: {},\r\n      patrolPointResultList: [],\r\n      disabled: true,\r\n\r\n      statusContentShow: false,\r\n\r\n      createWorkUrl: '',\r\n\r\n      hiddenDangerList: [],\r\n      modelType: 'list', //list列表，map地图\r\n\r\n      trackDTOS: [], //巡检图标\r\n\r\n      // 当前巡检员所处位置\r\n      currentPosition: null,\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.getPatrol()\r\n  },\r\n  mounted() {\r\n    console.log(this.PatrolData)\r\n  },\r\n  beforeDestroy() {\r\n    this.savePatrolData()\r\n  },\r\n\r\n  methods: {\r\n    //返回巡检管理页面\r\n    goToInspectionManage() {\r\n      this.$router.push('/pump/inspectionManage')\r\n    },\r\n\r\n    //获取工单详情\r\n    async createWork(data, type) {\r\n      console.log(data, type)\r\n      let workOrderIdList = []\r\n      //单个巡检点工单\r\n      if (type === 'item') {\r\n        data?.patrolItemsResultList?.forEach((item) => {\r\n          item.workOrderId && workOrderIdList.push(item.workOrderId)\r\n        })\r\n      } else {\r\n        //所有巡检点工单\r\n        data?.patrolPointResultList?.forEach((item) => {\r\n          item?.patrolItemsResultList?.forEach((data) => {\r\n            data.workOrderId && workOrderIdList.push(data.workOrderId)\r\n          })\r\n        })\r\n      }\r\n\r\n      const { accessToken } = await getToken(this.$storage.get('access_token'))\r\n\r\n      const { resultData } = await ticketList(accessToken, workOrderIdList)\r\n      this.hiddenDangerList = resultData\r\n    },\r\n\r\n    //是否禁止进入巡检项\r\n    isDisabled(config) {\r\n      this.disabled = config\r\n    },\r\n\r\n    //获取用户巡检点\r\n    async getPatrol() {\r\n      let { taskId } = this.$route.query\r\n\r\n      let PatrolData\r\n      try {\r\n        const { data } = await patrol(taskId)\r\n        PatrolData = data\r\n      } catch (error) {\r\n        PatrolData = JSON.parse(this.$storage.get('PatrolData'))\r\n      }\r\n\r\n      let { patrolRouteName, patrolPointResultList } = PatrolData\r\n\r\n      this.PatrolData = PatrolData\r\n      this.patrolPointResultList = patrolPointResultList\r\n      this.title = patrolRouteName\r\n\r\n      this.isUnsubmitted()\r\n\r\n      this.startGetLocation()\r\n    },\r\n\r\n    //保存巡检详情信息\r\n    savePatrolData() {\r\n      this.$storage.set('PatrolData', JSON.stringify(this.PatrolData))\r\n    },\r\n\r\n    //弹出刷卡界面\r\n    handMovementNFC() {\r\n      this.$refs.inspectionList.handMovementNFC()\r\n    },\r\n\r\n    //检查是否有未提交项\r\n    isUnsubmitted() {\r\n      let storageItemDataList = JSON.parse(this.$storage.get('pump-storageItemDataList'))\r\n      this.patrolPointResultList?.forEach((item, index) => {\r\n        storageItemDataList?.forEach((data) => {\r\n          item.id === data.id ? (this.patrolPointResultList[index].isUnsubmitted = true) : null\r\n        })\r\n      })\r\n    },\r\n    //开始巡检\r\n    startGetLocation() {\r\n      let that = this\r\n      if (typeof yuanchu != 'undefined') {\r\n        yuanchu.locationAMap.requestLocations(\r\n          ['5', '1', '10', '30', '0', true],\r\n          (res) => {\r\n            that.currentPosition = JSON.parse(JSON.stringify(res))\r\n            that.currentPosition = Object.assign(that.currentPosition, {\r\n              direction: 0,\r\n            })\r\n            if (!that.currentPosition) {\r\n              Toast({\r\n                message: '当前GPS信号弱',\r\n                duration: 1500,\r\n              })\r\n              return\r\n            }\r\n            this.setMainUserPosition(that.currentPosition)\r\n          },\r\n          (err) => {\r\n            Toast({\r\n              message: 'err' + err,\r\n              duration: 2000,\r\n            })\r\n          }\r\n        )\r\n      }\r\n    },\r\n\r\n    //设置路径\r\n    setMainUserPosition(point) {\r\n      let { latitude, longitude } = point\r\n      this.trackDTOS = []\r\n      this.trackDTOS.push({\r\n        lat: latitude,\r\n        lon: longitude,\r\n      })\r\n    },\r\n\r\n    //隐患上报列表显示\r\n    async hiddenDangerShow(item, type) {\r\n      await this.createWork(item, type)\r\n\r\n      if (this.hiddenDangerList.length === 0) return\r\n      this.$refs.inspectionHiddenPopup.show()\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.inspection {\r\n  position: relative;\r\n  height: 100%;\r\n  background: #f5f7f9;\r\n\r\n  .box-time-img-time {\r\n    width: 32px;\r\n    height: 32px;\r\n  }\r\n\r\n  .inspection-model {\r\n    overflow: scroll;\r\n    height: calc(100% - 380px);\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"}]}