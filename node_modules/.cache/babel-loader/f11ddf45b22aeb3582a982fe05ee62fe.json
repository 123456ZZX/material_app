{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\FormCenter\\components\\FlowTimeline\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\FormCenter\\components\\FlowTimeline\\index.vue","mtime":1705912800022},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgVGltZWxpbmUsIFRpbWVsaW5lSXRlbSB9IGZyb20gJ3Z1ZS1jdXRlLXRpbWVsaW5lJzsKaW1wb3J0IHsgZ2V0QXBwcm92YWxMaXN0IH0gZnJvbSAnLi9hcGknOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVGltZWxpbmUsCiAgICBUaW1lbGluZUl0ZW0KICB9LAogIHByb3BzOiB7CiAgICB0YXNrSWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGJpeklkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmbG93TGlzdDogW10gLy8g5rWB56iL5YiX6KGoCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7fSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRBcHByb3ZhbExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPlua1geeoi+iusOW9lQogICAgZ2V0QXBwcm92YWxMaXN0KCkgewogICAgICBjb25zdCBwYXJhbXMgPSB7fTsKICAgICAgaWYgKHRoaXMudGFza0lkKSB7CiAgICAgICAgcGFyYW1zLnRhc2tJZCA9IHRoaXMudGFza0lkOwogICAgICB9CiAgICAgIGlmICh0aGlzLmJpeklkKSB7CiAgICAgICAgcGFyYW1zLmJpeklkID0gdGhpcy5iaXpJZDsKICAgICAgfQogICAgICBpZiAoT2JqZWN0LmtleXMocGFyYW1zKS5sZW5ndGggPiAwKSB7CiAgICAgICAgZ2V0QXBwcm92YWxMaXN0KHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5mbG93TGlzdCA9IHJlcy5kYXRhOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc3R5bGVDaGFuZ2Uob2JqKSB7CiAgICAgIHN3aXRjaCAob2JqKSB7CiAgICAgICAgY2FzZSAn5o+Q5LqkJzoKICAgICAgICAgIHJldHVybiAncHJvZ3Jlc3Mtc3VibWl0JzsKICAgICAgICAvLyBicmVhawogICAgICAgIGNhc2UgJ+WQjOaEjyc6CiAgICAgICAgICByZXR1cm4gJ3Byb2dyZXNzLWFncmVlJzsKICAgICAgICAvLyBicmVhawogICAgICAgIGNhc2UgJ+mAgOWbnic6CiAgICAgICAgICByZXR1cm4gJ3Byb2dyZXNzLWJhY2snOwogICAgICAgIC8vIGJyZWFrCiAgICAgICAgY2FzZSAn57uT5p2fJzoKICAgICAgICAgIHJldHVybiAncHJvZ3Jlc3MtZmluaXNoJzsKICAgICAgICAvLyBicmVhawogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gJ3Byb2dyZXNzLXdhaXQnOwogICAgICAgIC8vIGJyZWFrCiAgICAgIH0KICAgIH0sCiAgICBjaXJjbGVDb2xvckNoYW5nZShvYmopIHsKICAgICAgc3dpdGNoIChvYmopIHsKICAgICAgICBjYXNlICfmj5DkuqQnOgogICAgICAgICAgcmV0dXJuICcjRkZDQzAwJzsKICAgICAgICAvLyBicmVhawogICAgICAgIGNhc2UgJ+WQjOaEjyc6CiAgICAgICAgICByZXR1cm4gJyM0Q0Q5NjQnOwogICAgICAgIC8vIGJyZWFrCiAgICAgICAgY2FzZSAn6YCA5ZueJzoKICAgICAgICAgIHJldHVybiAnI0ZGM0IzMCc7CiAgICAgICAgLy8gYnJlYWsKICAgICAgICBjYXNlICfnu5PmnZ8nOgogICAgICAgICAgcmV0dXJuICcjRDFEMUQ2JzsKICAgICAgICAvLyBicmVhawogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gJyM1QUM4RkEnOwogICAgICAgIC8vIGJyZWFrCiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["Timeline","TimelineItem","getApprovalList","components","props","taskId","type","String","default","bizId","data","flowList","computed","watch","mounted","methods","params","Object","keys","length","then","res","styleChange","obj","circleColorChange"],"sources":["src/views/FormCenter/components/FlowTimeline/index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div v-if=\"flowList == null\" class=\"noMore\">暂无数据</div>\r\n    <timeline v-else timeline-theme=\"#E8EAEB\">\r\n      <template v-for=\"(item, index2) in flowList\">\r\n        <timeline-item\r\n          :hollow=\"true\"\r\n          :key=\"index2\"\r\n          :lineColor=\"circleColorChange(item.approveStateName)\"\r\n        >\r\n          <div class=\"flow-box\">\r\n            <div class=\"flow-box-time\">\r\n              <div>{{ item.approveDate }}</div>\r\n              <!-- <div>{{item.endTime.split(\" \")[1]}}</div> -->\r\n            </div>\r\n            <div class=\"flow-box-title\">{{ item.taskName }}</div>\r\n            <div class=\"flow-box-state\" :class=\"styleChange(item.approveStateName)\">\r\n              {{ item.approveStateName ? item.approveStateName : '待办' }}\r\n            </div>\r\n            <div class=\"flow-box-line\"></div>\r\n            <div class=\"flow-box-content\">\r\n              <div class=\"flow-box-point\"></div>\r\n              <span>处理人</span>\r\n              <div class=\"name handle\">{{ item.asigneeName }}</div>\r\n            </div>\r\n            <div class=\"flow-box-content\">\r\n              <div class=\"flow-box-point\"></div>\r\n              <span>审批意见</span>\r\n              <!-- v-html=\"item.taskComment\" -->\r\n              <!-- <span v-html=\"item.taskComment\"\r\n                    class=\"handle\"></span>-->\r\n            </div>\r\n            <div class=\"flow-box-task-comment\">{{ item.comment }}</div>\r\n          </div>\r\n        </timeline-item>\r\n      </template>\r\n    </timeline>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Timeline, TimelineItem } from 'vue-cute-timeline'\r\nimport { getApprovalList } from './api'\r\nexport default {\r\n  components: {\r\n    Timeline,\r\n    TimelineItem,\r\n  },\r\n  props: {\r\n    taskId: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    bizId: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      flowList: [], // 流程列表\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  mounted() {\r\n    this.getApprovalList()\r\n  },\r\n  methods: {\r\n    // 获取流程记录\r\n    getApprovalList() {\r\n      const params = {}\r\n      if (this.taskId) {\r\n        params.taskId = this.taskId\r\n      }\r\n      if (this.bizId) {\r\n        params.bizId = this.bizId\r\n      }\r\n      if (Object.keys(params).length > 0) {\r\n        getApprovalList(params).then((res) => {\r\n          this.flowList = res.data\r\n        })\r\n      }\r\n    },\r\n\r\n    styleChange(obj) {\r\n      switch (obj) {\r\n        case '提交':\r\n          return 'progress-submit'\r\n        // break\r\n        case '同意':\r\n          return 'progress-agree'\r\n        // break\r\n        case '退回':\r\n          return 'progress-back'\r\n        // break\r\n        case '结束':\r\n          return 'progress-finish'\r\n        // break\r\n        default:\r\n          return 'progress-wait'\r\n        // break\r\n      }\r\n    },\r\n    circleColorChange(obj) {\r\n      switch (obj) {\r\n        case '提交':\r\n          return '#FFCC00'\r\n        // break\r\n        case '同意':\r\n          return '#4CD964'\r\n        // break\r\n        case '退回':\r\n          return '#FF3B30'\r\n        // break\r\n        case '结束':\r\n          return '#D1D1D6'\r\n        // break\r\n        default:\r\n          return '#5AC8FA'\r\n        // break\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n.noMore {\r\n  color: #999;\r\n  font-size: 32px;\r\n  line-height: 100px;\r\n  text-align: center;\r\n}\r\n.progress-wait {\r\n  color: #5ac8fa !important;\r\n  background: #cdeefd;\r\n}\r\n.progress-submit {\r\n  color: #ff9500 !important;\r\n  background: #ffefb2;\r\n}\r\n.progress-agree {\r\n  color: #4cd964 !important;\r\n  background: #c9f3d0;\r\n}\r\n.progress-back {\r\n  color: #ff3b30 !important;\r\n  background: #ffc4c0;\r\n}\r\n.progress-finish {\r\n  color: #d1d1d6 !important;\r\n  background: #f1f1f2;\r\n}\r\n.timeline-item {\r\n  padding-bottom: 0px;\r\n  margin: 76px 0 0 36px;\r\n}\r\n/deep/ .timeline-circle {\r\n  left: -48px;\r\n}\r\n.flow-box-state {\r\n  line-height: 44px;\r\n}\r\n.flow-box-title {\r\n  margin-bottom: 0;\r\n  position: relative;\r\n  bottom: 22px;\r\n}\r\n.flow-box-content {\r\n  line-height: 33px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.flow-box-content span {\r\n  flex: 1;\r\n}\r\n.flow-box-content .name {\r\n  margin-right: 20px;\r\n}\r\n.flow-box {\r\n  margin-right: 0;\r\n  padding-right: 18px;\r\n  /* border-radius: 2px; */\r\n  box-sizing: border-box;\r\n  background: rgba(255, 255, 255, 1);\r\n  box-shadow: 0px 1px 9px 0px rgba(140, 158, 177, 0.18);\r\n  border-radius: 3px;\r\n  border: 1px solid rgba(238, 238, 238, 1);\r\n}\r\n.flow-box-task-comment {\r\n  width: 92%;\r\n  height: 140px;\r\n  /*background: rgba(245, 246, 250, 1);*/\r\n  border: solid 1px #f2f2f3;\r\n  border-radius: 3px;\r\n  opacity: 0.7;\r\n  font-size: 28px;\r\n  font-family: PingFangSC-Regular, PingFang SC;\r\n  font-weight: 400;\r\n  color: rgba(75, 75, 75, 1);\r\n  line-height: 30px;\r\n  padding: 30px;\r\n  word-break: break-all;\r\n  overflow-y: auto;\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n"],"mappings":"AAwCA,SAAAA,QAAA,EAAAC,YAAA;AACA,SAAAC,eAAA;AACA;EACAC,UAAA;IACAH,QAAA;IACAC;EACA;EACAG,KAAA;IACAC,MAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,KAAA;MACAH,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EACAE,KAAA;IACA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;EACAC,KAAA;EACAC,QAAA;IACA,KAAAZ,eAAA;EACA;EACAa,OAAA;IACA;IACAb,gBAAA;MACA,MAAAc,MAAA;MACA,SAAAX,MAAA;QACAW,MAAA,CAAAX,MAAA,QAAAA,MAAA;MACA;MACA,SAAAI,KAAA;QACAO,MAAA,CAAAP,KAAA,QAAAA,KAAA;MACA;MACA,IAAAQ,MAAA,CAAAC,IAAA,CAAAF,MAAA,EAAAG,MAAA;QACAjB,eAAA,CAAAc,MAAA,EAAAI,IAAA,CAAAC,GAAA;UACA,KAAAV,QAAA,GAAAU,GAAA,CAAAX,IAAA;QACA;MACA;IACA;IAEAY,YAAAC,GAAA;MACA,QAAAA,GAAA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;MACA;IACA;IACAC,kBAAAD,GAAA;MACA,QAAAA,GAAA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;MACA;IACA;EACA;AACA"}]}