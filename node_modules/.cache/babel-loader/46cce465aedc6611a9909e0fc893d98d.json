{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\Code\\Project\\WL\\xasw-mobile\\src\\utils\\locale.js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\utils\\locale.js","mtime":1705912799987},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0TGFuZyB9IGZyb20gJ0AvYXBpL2xhbmcnOwoKLyoqDQogKg0KICogQHBhcmFtIHsqfSBsYW5nIOivreiogOexu+Wei++8jOWmguS4reaWh3poLOiLseaWh2VuDQogKiBAcGFyYW0geyp9IGxvY2FsZSDor63ns7vvvIzlpoJ6aC1DTuKAlOKAlOeugOS9k++8jGVuLVVT4oCU4oCU576O5byP6Iux6K+tDQogKiBAcGFyYW0geyp9IHRoYXQg5b2T5YmN5omn6KGM5LiK5LiL5paHDQogKiBAcmV0dXJucw0KICovCmV4cG9ydCBmdW5jdGlvbiBsb2FkTGFuZ3VhZ2VBc3luYyhsYW5nLCBsb2NhbGUsIHRoYXQpIHsKICBpZiAodGhhdC4kc3RvcmFnZS5nZXQoJ2xhbmdMaXN0JykpIHsKICAgIGxldCBuZXdPYmogPSBKU09OLnBhcnNlKHRoYXQuJHN0b3JhZ2UuZ2V0KCdsYW5nTGlzdCcpKTsKICAgIHRoYXQuJGkxOG4uc2V0TG9jYWxlTWVzc2FnZShsYW5nLCBuZXdPYmopOwogIH0gZWxzZSB7CiAgICByZXR1cm4gaW1wb3J0KCAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAibGFuZy1bcmVxdWVzdF0iICovYEAvYXNzZXRzL2xhbmcvJHtsYW5nfWApLnRoZW4obXNncyA9PiB7CiAgICAgIC8vIOivt+axguWQjuWPsOmFjee9rgogICAgICBnZXRMYW5nKGxvY2FsZSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3RhdHVzICYmIHJlcy5kYXRhKSB7CiAgICAgICAgICAvLyDmnKzlnLDlkozor7fmsYLmlbDmja7lkIjlubblubbljrvph40KICAgICAgICAgIHZhciBuZXdPYmogPSBPYmplY3QuYXNzaWduKHt9LCByZXMuZGF0YSk7CiAgICAgICAgICBmb3IgKHZhciBpIGluIG1zZ3MpIHsKICAgICAgICAgICAgaWYgKGkgPT0gJ2RlZmF1bHQnKSB7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXMuZGF0YSwgaSkpIHsKICAgICAgICAgICAgICBuZXdPYmpbaV0gPSBPYmplY3QuYXNzaWduKHt9LCByZXMuZGF0YVtpXSwgbXNnc1tpXSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbmV3T2JqW2ldID0gbXNnc1tpXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgLy8g6K6+572u6K+t6KiA5YyFCiAgICAgICAgICB0aGF0LiRpMThuLnNldExvY2FsZU1lc3NhZ2UobGFuZywgbmV3T2JqKTsKICAgICAgICAgIHRoYXQuJHN0b3JhZ2Uuc2V0KCdsYW5nTGlzdCcsIEpTT04uc3RyaW5naWZ5KG5ld09iaikpOwogICAgICAgICAgdGhhdC4kc3RvcmFnZS5zZXQoJ2kxOG5Mb2NhbGUnLCBsYW5nKTsKICAgICAgICAgIHRoYXQuJHN0b3JhZ2Uuc2V0KCdpMThuTG9jYWxlS2V5JywgbG9jYWxlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfQp9CgovKioNCiAqIEBkZXNjcmlwdGlvbjog6I635Y+W5pys5Zyw6K+t6KiA6K6+572uIOW9k+acqumFjee9ruaXtu+8jOmAieaLqea1j+iniOWZqOm7mOiupOivreiogA0KICogQHJldHVybjog57O757uf6K+t6KiA57G75Z6LDQogKi8KZXhwb3J0IGZ1bmN0aW9uIGdldExhbmdDb25maWcoKSB7CiAgbGV0IGxhbmd1YWdlOwogIGlmIChuYXZpZ2F0b3IuYXBwTmFtZSA9PSAnTmV0c2NhcGUnKSB7CiAgICBsYW5ndWFnZSA9IG5hdmlnYXRvci5sYW5ndWFnZSB8fCBuYXZpZ2F0b3IudXNlckxhbmd1YWdlOwogIH0gZWxzZSB7CiAgICBsYW5ndWFnZSA9IG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZTsKICB9CiAgaWYgKGxhbmd1YWdlLmluZGV4T2YoJ2VuJykgPiAtMSkgewogICAgbGFuZ3VhZ2UgPSAnZW4nOwogIH0gZWxzZSBpZiAobGFuZ3VhZ2UuaW5kZXhPZignemgnKSA+IC0xKSB7CiAgICBsYW5ndWFnZSA9ICd6aCc7CiAgfSBlbHNlIHsKICAgIGxhbmd1YWdlID0gJ2VuJzsKICB9CiAgcmV0dXJuIGxhbmd1YWdlOwp9"},{"version":3,"names":["getLang","loadLanguageAsync","lang","locale","that","$storage","get","newObj","JSON","parse","$i18n","setLocaleMessage","then","msgs","res","status","data","Object","assign","i","prototype","hasOwnProperty","call","set","stringify","getLangConfig","language","navigator","appName","userLanguage","browserLanguage","indexOf"],"sources":["D:/Code/Project/WL/xasw-mobile/src/utils/locale.js"],"sourcesContent":["import { getLang } from '@/api/lang'\r\n\r\n/**\r\n *\r\n * @param {*} lang 语言类型，如中文zh,英文en\r\n * @param {*} locale 语系，如zh-CN——简体，en-US——美式英语\r\n * @param {*} that 当前执行上下文\r\n * @returns\r\n */\r\nexport function loadLanguageAsync(lang, locale, that) {\r\n  if (that.$storage.get('langList')) {\r\n    let newObj = JSON.parse(that.$storage.get('langList'))\r\n    that.$i18n.setLocaleMessage(lang, newObj)\r\n  } else {\r\n    return import(/* webpackChunkName: \"lang-[request]\" */ `@/assets/lang/${lang}`).then((msgs) => {\r\n      // 请求后台配置\r\n      getLang(locale).then((res) => {\r\n        if (res.status && res.data) {\r\n          // 本地和请求数据合并并去重\r\n          var newObj = Object.assign({}, res.data)\r\n          for (var i in msgs) {\r\n            if (i == 'default') {\r\n              continue\r\n            }\r\n            if (Object.prototype.hasOwnProperty.call(res.data, i)) {\r\n              newObj[i] = Object.assign({}, res.data[i], msgs[i])\r\n            } else {\r\n              newObj[i] = msgs[i]\r\n            }\r\n          }\r\n          // 设置语言包\r\n          that.$i18n.setLocaleMessage(lang, newObj)\r\n          that.$storage.set('langList', JSON.stringify(newObj))\r\n          that.$storage.set('i18nLocale', lang)\r\n          that.$storage.set('i18nLocaleKey', locale)\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * @description: 获取本地语言设置 当未配置时，选择浏览器默认语言\r\n * @return: 系统语言类型\r\n */\r\nexport function getLangConfig() {\r\n  let language\r\n  if (navigator.appName == 'Netscape') {\r\n    language = navigator.language || navigator.userLanguage\r\n  } else {\r\n    language = navigator.browserLanguage || navigator.userLanguage\r\n  }\r\n  if (language.indexOf('en') > -1) {\r\n    language = 'en'\r\n  } else if (language.indexOf('zh') > -1) {\r\n    language = 'zh'\r\n  } else {\r\n    language = 'en'\r\n  }\r\n  return language\r\n}\r\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,YAAY;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,iBAAiBA,CAACC,IAAI,EAAEC,MAAM,EAAEC,IAAI,EAAE;EACpD,IAAIA,IAAI,CAACC,QAAQ,CAACC,GAAG,CAAC,UAAU,CAAC,EAAE;IACjC,IAAIC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACL,IAAI,CAACC,QAAQ,CAACC,GAAG,CAAC,UAAU,CAAC,CAAC;IACtDF,IAAI,CAACM,KAAK,CAACC,gBAAgB,CAACT,IAAI,EAAEK,MAAM,CAAC;EAC3C,CAAC,MAAM;IACL,OAAO,MAAM,EAAC,wCAA0C,iBAAgBL,IAAK,EAAC,CAAC,CAACU,IAAI,CAAEC,IAAI,IAAK;MAC7F;MACAb,OAAO,CAACG,MAAM,CAAC,CAACS,IAAI,CAAEE,GAAG,IAAK;QAC5B,IAAIA,GAAG,CAACC,MAAM,IAAID,GAAG,CAACE,IAAI,EAAE;UAC1B;UACA,IAAIT,MAAM,GAAGU,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEJ,GAAG,CAACE,IAAI,CAAC;UACxC,KAAK,IAAIG,CAAC,IAAIN,IAAI,EAAE;YAClB,IAAIM,CAAC,IAAI,SAAS,EAAE;cAClB;YACF;YACA,IAAIF,MAAM,CAACG,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,GAAG,CAACE,IAAI,EAAEG,CAAC,CAAC,EAAE;cACrDZ,MAAM,CAACY,CAAC,CAAC,GAAGF,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEJ,GAAG,CAACE,IAAI,CAACG,CAAC,CAAC,EAAEN,IAAI,CAACM,CAAC,CAAC,CAAC;YACrD,CAAC,MAAM;cACLZ,MAAM,CAACY,CAAC,CAAC,GAAGN,IAAI,CAACM,CAAC,CAAC;YACrB;UACF;UACA;UACAf,IAAI,CAACM,KAAK,CAACC,gBAAgB,CAACT,IAAI,EAAEK,MAAM,CAAC;UACzCH,IAAI,CAACC,QAAQ,CAACkB,GAAG,CAAC,UAAU,EAAEf,IAAI,CAACgB,SAAS,CAACjB,MAAM,CAAC,CAAC;UACrDH,IAAI,CAACC,QAAQ,CAACkB,GAAG,CAAC,YAAY,EAAErB,IAAI,CAAC;UACrCE,IAAI,CAACC,QAAQ,CAACkB,GAAG,CAAC,eAAe,EAAEpB,MAAM,CAAC;QAC5C;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;AACF;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASsB,aAAaA,CAAA,EAAG;EAC9B,IAAIC,QAAQ;EACZ,IAAIC,SAAS,CAACC,OAAO,IAAI,UAAU,EAAE;IACnCF,QAAQ,GAAGC,SAAS,CAACD,QAAQ,IAAIC,SAAS,CAACE,YAAY;EACzD,CAAC,MAAM;IACLH,QAAQ,GAAGC,SAAS,CAACG,eAAe,IAAIH,SAAS,CAACE,YAAY;EAChE;EACA,IAAIH,QAAQ,CAACK,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;IAC/BL,QAAQ,GAAG,IAAI;EACjB,CAAC,MAAM,IAAIA,QAAQ,CAACK,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;IACtCL,QAAQ,GAAG,IAAI;EACjB,CAAC,MAAM;IACLA,QAAQ,GAAG,IAAI;EACjB;EACA,OAAOA,QAAQ;AACjB"}]}