{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\MeterReading\\BookIndex.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\MeterReading\\BookIndex.vue","mtime":1713146878929},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IE5hdkJhciwgTGlzdCwgUHVsbFJlZnJlc2gsIFRvYXN0IH0gZnJvbSAnZmF3a2VzLW1vYmlsZS1saWInOwppbXBvcnQgeyBnZXRSZWFkaW5nQm9vayB9IGZyb20gJy4vYXBpJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFtOYXZCYXIubmFtZV06IE5hdkJhciwKICAgIFtMaXN0Lm5hbWVdOiBMaXN0LAogICAgW1B1bGxSZWZyZXNoLm5hbWVdOiBQdWxsUmVmcmVzaCwKICAgIFtUb2FzdC5uYW1lXTogVG9hc3QKICB9LAogIHByb3BzOiB7CiAgICB0eXBlOiBudWxsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVmcmVzaGluZzogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBpbkV4ZWN1dGlvblBhZ2U6IDEsCiAgICAgIHRvZG9QYWdlOiAxLAogICAgICBmaW5pc2hlZFBhZ2U6IDEsCiAgICAgIHBsYW5MaXN0OiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHBhZ2VSZXNldCgpIHsKICAgICAgdGhpcy5pbkV4ZWN1dGlvblBhZ2UgPSAxOwogICAgICB0aGlzLnRvZG9QYWdlID0gMTsKICAgICAgdGhpcy5maW5pc2hlZFBhZ2UgPSAxOwogICAgfSwKICAgIC8vIOmhtemdouWKoOi9vS/kuIvmi4nliLfmlrAKICAgIG9uUmVmcmVzaCgpIHsKICAgICAgdGhpcy5wYWdlUmVzZXQoKTsKICAgICAgdGhpcy5maXJzdFJlcXVlc3RGaW5pc2hlZCA9IGZhbHNlOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDliJfooajliqDovb3mm7TlpJoKICAgIG9uTG9hZCgpIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIGxldCB1aWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3NfdXNlcklkJyk7CiAgICAgIGxldCBwYXJhbXMgPSB7fTsKICAgICAgcGFyYW1zLmNoYXJnZVBlcnNvbiA9IHVpZDsKICAgICAgcGFyYW1zLnR5cGUgPSB0aGlzLnR5cGUgPT0gJ3N1cnZleScgPyAnWkNCUycgOiAnU0RDQic7CiAgICAgIGdldFJlYWRpbmdCb29rKHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YSkgewogICAgICAgICAgdGhpcy5wbGFuTGlzdCA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5yZWZyZXNoaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5maXJzdFJlcXVlc3RGaW5pc2hlZCA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIHRvVGFzayhjb2RlKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdib29rQ29kZScsIGNvZGUpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGFza1R5cGUnLCB0aGlzLnR5cGUpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ1Rhc2tJbmRleCcKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgVG9hc3QubG9hZGluZyh7CiAgICAgIG1lc3NhZ2U6ICfliqDovb3kuK0uLi4nLAogICAgICBmb3JiaWRDbGljazogdHJ1ZQogICAgfSk7CiAgICB0aGlzLm9uUmVmcmVzaCgpOwogIH0KfTs="},{"version":3,"names":["NavBar","List","PullRefresh","Toast","getReadingBook","components","name","props","type","data","refreshing","loading","inExecutionPage","todoPage","finishedPage","planList","methods","pageReset","onRefresh","firstRequestFinished","getList","onLoad","uid","localStorage","getItem","params","chargePerson","then","res","finally","toTask","code","setItem","$router","push","mounted","message","forbidClick"],"sources":["src/views/MeterReading/BookIndex.vue"],"sourcesContent":["<template>\r\n  <div id='BookIndex'>\r\n    <fm-pull-refresh id='BookIndex' v-model='refreshing' success-text='刷新成功' @refresh='onRefresh'>\r\n      <fm-nav-bar title='我的表册' left-arrow @click-left=\"$router.replace('/index')\">\r\n      </fm-nav-bar>\r\n      <div class='plan-container'>\r\n        <fm-list v-model='loading' @load='onLoad' :immediate-check='false'>\r\n          <div v-for='(item, index) in planList' :key='index' class='list-item' @click='toTask(item.bookCode)'>\r\n            <img src='@/assets/svg/doc_books.svg'>\r\n            <span class='ptitle'>{{ item.bookName }}</span>\r\n          </div>\r\n        </fm-list>\r\n        <template v-if='planList && planList.length == 0'>\r\n          <div class='no-data-img'>\r\n            <fm-image fit='cover' :src=\"require('@/assets/img/no-data-img.png')\" />\r\n          </div>\r\n          <div class='no-data-text'>\r\n            <div class='no-data-text-descripe'>暂无表册数据</div>\r\n          </div>\r\n        </template>\r\n      </div>\r\n    </fm-pull-refresh>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { NavBar, List, PullRefresh, Toast } from 'fawkes-mobile-lib'\r\nimport { getReadingBook } from './api'\r\n\r\nexport default {\r\n  components: {\r\n    [NavBar.name]: NavBar,\r\n    [List.name]: List,\r\n    [PullRefresh.name]: PullRefresh,\r\n    [Toast.name]: Toast\r\n  },\r\n  props: {\r\n    type: null\r\n  },\r\n  data() {\r\n    return {\r\n      refreshing: false,\r\n      loading: false,\r\n      inExecutionPage: 1,\r\n      todoPage: 1,\r\n      finishedPage: 1,\r\n      planList: []\r\n    }\r\n  },\r\n  methods: {\r\n    pageReset() {\r\n      this.inExecutionPage = 1\r\n      this.todoPage = 1\r\n      this.finishedPage = 1\r\n    },\r\n    // 页面加载/下拉刷新\r\n    onRefresh() {\r\n      this.pageReset()\r\n      this.firstRequestFinished = false\r\n      this.loading = true\r\n      this.getList()\r\n    },\r\n    // 列表加载更多\r\n    onLoad() {\r\n      this.getList()\r\n    },\r\n    getList() {\r\n      this.loading = false\r\n      let uid = localStorage.getItem('cs_userId')\r\n      let params = {}\r\n      params.chargePerson = uid\r\n      params.type = this.type == 'survey' ? 'ZCBS' : 'SDCB'\r\n      getReadingBook(params)\r\n        .then((res) => {\r\n          if (res.data) {\r\n            this.planList = res.data\r\n          }\r\n        })\r\n        .finally(() => {\r\n          this.loading = false\r\n          this.refreshing = false\r\n          this.firstRequestFinished = true\r\n        })\r\n    },\r\n    toTask(code) {\r\n      localStorage.setItem('bookCode', code)\r\n      localStorage.setItem('taskType', this.type)\r\n      this.$router.push({\r\n        name: 'TaskIndex'\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    Toast.loading({\r\n      message: '加载中...',\r\n      forbidClick: true\r\n    })\r\n    this.onRefresh()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n#BookIndex {\r\n  height: 100%;\r\n  overflow: auto;\r\n  background-color: #ecf4ff !important;\r\n\r\n  /deep/ .fm-nav-bar__content {\r\n    background-color: #0676fd !important;\r\n    height: 1.8rem;\r\n  }\r\n\r\n  /deep/ .fm-nav-bar__title {\r\n    color: #ffffff !important;\r\n  }\r\n\r\n  /deep/ .fm-nav-bar .fm-icon {\r\n    color: #ffffff !important;\r\n  }\r\n\r\n  /deep/ .fm-pull-refresh {\r\n    overflow: visible;\r\n  }\r\n\r\n  /* 暂无数据begin */\r\n\r\n  .no-data-img {\r\n    margin: 200px 95px 0 95px;\r\n  }\r\n\r\n  .no-data-text {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .no-data-text-descripe {\r\n    font-size: 32px;\r\n    font-weight: 400;\r\n    color: #999999;\r\n  }\r\n\r\n  .list-item {\r\n    width: 100%;\r\n    height: 80px;\r\n    // padding: 0 10px;\r\n    line-height: 80px;\r\n    border-bottom: 1px solid #fff;\r\n    background-color: #ecf4ff;\r\n    display: flex;\r\n    justify-content: left;\r\n\r\n    .ptitle {\r\n      width: 80%;\r\n      padding-left: 6px;\r\n      font-size: 24px;\r\n      font-weight: 500;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      text-align: left;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";AAyBA,SAAAA,MAAA,EAAAC,IAAA,EAAAC,WAAA,EAAAC,KAAA;AACA,SAAAC,cAAA;AAEA;EACAC,UAAA;IACA,CAAAL,MAAA,CAAAM,IAAA,GAAAN,MAAA;IACA,CAAAC,IAAA,CAAAK,IAAA,GAAAL,IAAA;IACA,CAAAC,WAAA,CAAAI,IAAA,GAAAJ,WAAA;IACA,CAAAC,KAAA,CAAAG,IAAA,GAAAH;EACA;EACAI,KAAA;IACAC,IAAA;EACA;EACAC,KAAA;IACA;MACAC,UAAA;MACAC,OAAA;MACAC,eAAA;MACAC,QAAA;MACAC,YAAA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACAC,UAAA;MACA,KAAAL,eAAA;MACA,KAAAC,QAAA;MACA,KAAAC,YAAA;IACA;IACA;IACAI,UAAA;MACA,KAAAD,SAAA;MACA,KAAAE,oBAAA;MACA,KAAAR,OAAA;MACA,KAAAS,OAAA;IACA;IACA;IACAC,OAAA;MACA,KAAAD,OAAA;IACA;IACAA,QAAA;MACA,KAAAT,OAAA;MACA,IAAAW,GAAA,GAAAC,YAAA,CAAAC,OAAA;MACA,IAAAC,MAAA;MACAA,MAAA,CAAAC,YAAA,GAAAJ,GAAA;MACAG,MAAA,CAAAjB,IAAA,QAAAA,IAAA;MACAJ,cAAA,CAAAqB,MAAA,EACAE,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAnB,IAAA;UACA,KAAAM,QAAA,GAAAa,GAAA,CAAAnB,IAAA;QACA;MACA,GACAoB,OAAA;QACA,KAAAlB,OAAA;QACA,KAAAD,UAAA;QACA,KAAAS,oBAAA;MACA;IACA;IACAW,OAAAC,IAAA;MACAR,YAAA,CAAAS,OAAA,aAAAD,IAAA;MACAR,YAAA,CAAAS,OAAA,kBAAAxB,IAAA;MACA,KAAAyB,OAAA,CAAAC,IAAA;QACA5B,IAAA;MACA;IACA;EACA;EACA6B,QAAA;IACAhC,KAAA,CAAAQ,OAAA;MACAyB,OAAA;MACAC,WAAA;IACA;IACA,KAAAnB,SAAA;EACA;AACA"}]}