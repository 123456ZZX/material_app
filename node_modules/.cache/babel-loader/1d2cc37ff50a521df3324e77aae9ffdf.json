{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\eslint-loader\\index.js??ref--14-0!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\store\\Action\\actions.js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\store\\Action\\actions.js","mtime":1705912915776},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi9hY3Rpb25UeXBlcyc7CmltcG9ydCAqIGFzIG11dGF0aW9uVHlwZXMgZnJvbSAnLi4vTXV0YXRpb24vbXV0YXRpb25UeXBlcyc7CmltcG9ydCB7IGdldENsaWVudENvbmZpZyB9IGZyb20gJ0AvYXBpL2FwcCc7CmltcG9ydCB7IGdldEVudW0gfSBmcm9tICdAL2FwaS9lbnVtJzsKaW1wb3J0IHsgbG9naW4gfSBmcm9tICdAL2FwaS9sb2dpbic7CmltcG9ydCBzdG9yYWdlIGZyb20gJ0AvdXRpbHMvc3RvcmFnZSc7CmNvbnN0IGFjdGlvbnMgPSB7CiAgLy/nlKjmiLfnmbvlvZUKICBbdHlwZXMuVVNFUl9MT0dJTl0oewogICAgY29tbWl0CiAgfSwgZGF0YSkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgbG9naW4oZGF0YSkudGhlbihhc3luYyByZXMgPT4gewogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIC8v5Yqg6L2955So5oi35L+h5oGvCiAgICAgICAgICBzdG9yYWdlLnNldCgndXNlcm5hbWUnLCByZXMudXNlck5hbWUpOwogICAgICAgICAgc3RvcmFnZS5zZXQoJ3VzZXJGdWxsbmFtZScsIHJlcy51c2VyRnVsbG5hbWUpOwogICAgICAgICAgc3RvcmFnZS5zZXQoJ2FjY2Vzc190b2tlbicsIHJlcy5hY2Nlc3NfdG9rZW4pOwogICAgICAgICAgc3RvcmFnZS5zZXQxNignRmF3a2VzLUF1dGgnLCByZXMuYWNjZXNzX3Rva2VuKTsKICAgICAgICAgIHN0b3JhZ2Uuc2V0KCd1c2VySWQnLCByZXMuaWQpOwogICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuU0VUX1VTRVJfSU5GTywgcmVzKTsKICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVzKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmVqZWN0KCcnKTsKICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgcmVqZWN0KGUpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy/ojrflj5bmnprkuL4KICBbdHlwZXMuR0VUX0VOVU1dKHsKICAgIGNvbW1pdAogIH0sIGNvZGUpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgIGdldEVudW0oY29kZSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3RhdHVzICYmIHJlcy5kYXRhKSB7CiAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5TRVRfRU5VTSwgcmVzLmRhdGEpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOwogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBhY3Rpb25zOw=="},{"version":3,"names":["types","mutationTypes","getClientConfig","getEnum","login","storage","actions","USER_LOGIN","commit","data","Promise","resolve","reject","then","res","set","userName","userFullname","access_token","set16","id","SET_USER_INFO","catch","e","GET_ENUM","code","status","SET_ENUM"],"sources":["E:/ty_project/xasw-yy/revenue/xasw-mobile/src/store/Action/actions.js"],"sourcesContent":["import * as types from './actionTypes'\r\nimport * as mutationTypes from '../Mutation/mutationTypes'\r\nimport { getClientConfig } from '@/api/app'\r\nimport { getEnum } from '@/api/enum'\r\nimport { login } from '@/api/login'\r\nimport storage from '@/utils/storage'\r\nconst actions = {\r\n  //用户登录\r\n  [types.USER_LOGIN]({ commit }, data) {\r\n    return new Promise((resolve, reject) => {\r\n      login(data)\r\n        .then(async (res) => {\r\n          if (res) {\r\n            //加载用户信息\r\n            storage.set('username', res.userName)\r\n            storage.set('userFullname', res.userFullname)\r\n            storage.set('access_token', res.access_token)\r\n            storage.set16('Fawkes-Auth', res.access_token)\r\n            storage.set('userId', res.id)\r\n            commit(mutationTypes.SET_USER_INFO, res)\r\n            if (res) {\r\n              return resolve(res)\r\n            }\r\n          }\r\n          reject('')\r\n        })\r\n        .catch((e) => {\r\n          reject(e)\r\n        })\r\n    })\r\n  },\r\n  //获取枚举\r\n  [types.GET_ENUM]({ commit }, code) {\r\n    return new Promise((resolve, reject) => {\r\n      getEnum(code)\r\n        .then((res) => {\r\n          if (res.status && res.data) {\r\n            commit(mutationTypes.SET_ENUM, res.data)\r\n          }\r\n        })\r\n        .catch(() => {})\r\n    })\r\n  },\r\n}\r\n\r\nexport default actions\r\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,eAAe;AACtC,OAAO,KAAKC,aAAa,MAAM,2BAA2B;AAC1D,SAASC,eAAe,QAAQ,WAAW;AAC3C,SAASC,OAAO,QAAQ,YAAY;AACpC,SAASC,KAAK,QAAQ,aAAa;AACnC,OAAOC,OAAO,MAAM,iBAAiB;AACrC,MAAMC,OAAO,GAAG;EACd;EACA,CAACN,KAAK,CAACO,UAAU,EAAE;IAAEC;EAAO,CAAC,EAAEC,IAAI,EAAE;IACnC,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtCR,KAAK,CAACK,IAAI,CAAC,CACRI,IAAI,CAAC,MAAOC,GAAG,IAAK;QACnB,IAAIA,GAAG,EAAE;UACP;UACAT,OAAO,CAACU,GAAG,CAAC,UAAU,EAAED,GAAG,CAACE,QAAQ,CAAC;UACrCX,OAAO,CAACU,GAAG,CAAC,cAAc,EAAED,GAAG,CAACG,YAAY,CAAC;UAC7CZ,OAAO,CAACU,GAAG,CAAC,cAAc,EAAED,GAAG,CAACI,YAAY,CAAC;UAC7Cb,OAAO,CAACc,KAAK,CAAC,aAAa,EAAEL,GAAG,CAACI,YAAY,CAAC;UAC9Cb,OAAO,CAACU,GAAG,CAAC,QAAQ,EAAED,GAAG,CAACM,EAAE,CAAC;UAC7BZ,MAAM,CAACP,aAAa,CAACoB,aAAa,EAAEP,GAAG,CAAC;UACxC,IAAIA,GAAG,EAAE;YACP,OAAOH,OAAO,CAACG,GAAG,CAAC;UACrB;QACF;QACAF,MAAM,CAAC,EAAE,CAAC;MACZ,CAAC,CAAC,CACDU,KAAK,CAAEC,CAAC,IAAK;QACZX,MAAM,CAACW,CAAC,CAAC;MACX,CAAC,CAAC;IACN,CAAC,CAAC;EACJ,CAAC;EACD;EACA,CAACvB,KAAK,CAACwB,QAAQ,EAAE;IAAEhB;EAAO,CAAC,EAAEiB,IAAI,EAAE;IACjC,OAAO,IAAIf,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtCT,OAAO,CAACsB,IAAI,CAAC,CACVZ,IAAI,CAAEC,GAAG,IAAK;QACb,IAAIA,GAAG,CAACY,MAAM,IAAIZ,GAAG,CAACL,IAAI,EAAE;UAC1BD,MAAM,CAACP,aAAa,CAAC0B,QAAQ,EAAEb,GAAG,CAACL,IAAI,CAAC;QAC1C;MACF,CAAC,CAAC,CACDa,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;IACpB,CAAC,CAAC;EACJ;AACF,CAAC;AAED,eAAehB,OAAO"}]}