{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\eslint-loader\\index.js??ref--14-0!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\utils\\request.js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\utils\\request.js","mtime":1708928163354},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7Ci8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IFRvYXN0IH0gZnJvbSAnZmF3a2VzLW1vYmlsZS1saWInOwppbXBvcnQgeyByZXF1ZXN0RW5jcnlwdCwgcmVzcG9uc2VFbmNyeXB0IH0gZnJvbSAnQC9zZXR0aW5ncyc7CmltcG9ydCB7IHNpZ24sIGNNc2cgfSBmcm9tICdAL2FwaS9pZ25vcmUnOwppbXBvcnQgeyBmdWxsRW5jcnlwdCwgZnVsbERlY3J5cHQsIHZlcmlmeVJlcXVlc3QsIHZlcmlmeVJlc3BvbnNlIH0gZnJvbSAnQC91dGlscy9lbmNyeXB0aW9uL2FwaSc7CmltcG9ydCB7IGdldFNpZ24gfSBmcm9tICcuL3NpZ24nOwppbXBvcnQgc3RvcmFnZSBmcm9tICcuL3N0b3JhZ2UnOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgeyB2ZXJpZnlNb25pdG9yVXJsIH0gZnJvbSAnLi9tb25pdG9yJzsKaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnQC9zdG9yZS9HZXR0ZXIvZ2V0dGVyVHlwZXMuanMnOwppbXBvcnQgeyBQT1JUQUwgfSBmcm9tICdAL3N0b3JlL1N0YXRlL3N0YXRlVHlwZXMuanMnOwppbXBvcnQgeyBnZXRVVENTdHIsIG1hdGNoVGltZVRvVVRDIH0gZnJvbSAnLi90aW1lem9uZSc7CmltcG9ydCB7IFNNNEVuY3J5cHQgfSBmcm9tICdAL3V0aWxzL2VuY3J5cHRpb24vc200JzsKCi8v5qOA5p+l6YWN572u5YiX6KGo5Lit5piv5ZCm5YyF5ZCr5b2T5YmNdXJsCmNvbnN0IHZlcmlmeSA9IGZ1bmN0aW9uIChjb25maWcsIGFycikgewogIHJldHVybiBhcnIuZmluZChpdGVtID0+IHsKICAgIHJldHVybiBpdGVtID09IGNvbmZpZy51cmw7CiAgfSk7Cn07CgovLyDliJvlu7ogYXhpb3Mg5a6e5L6LCmNvbnN0IGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfVVJMLAogIC8vIGFwaSBiYXNlX3VybAogIHRpbWVvdXQ6IDMwMDAwLAogIC8vIOivt+axgui2heaXtuaXtumXtAogIHdpdGhDcmVkZW50aWFsczogdHJ1ZQp9KTsKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGNvbmZpZyA9PiB7CiAgbGV0IEZhd2tlc0JpeiA9IHt9OwogIC8vIOmAmui/h+ivt+axguWktOS8oOmAkuaXtuWMugogIGlmIChzdG9yZS5nZXR0ZXJzW3R5cGVzLlRJTUVaT05FXSkgewogICAgbGV0IFVUQyA9IGdldFVUQ1N0cihzdG9yZS5nZXR0ZXJzW3R5cGVzLlRJTUVaT05FXSk7CiAgICBGYXdrZXNCaXoudGltZVpvbmUgPSBVVEM7CiAgICBGYXdrZXNCaXoudGltZUZvcm1hdCA9ICd5eXl5LU1NLWRkIEhIOm1tOnNzJzsKICAgIC8vIOWwhuaVsOaNruS4rUhIOm1t6L+Z57G75pe25Yy66L2s5Li6VVRD5a2Y5YKoCiAgICBpZiAoVVRDICE9PSAnVVRDKzA4OjAwJykgewogICAgICBpZiAoY29uZmlnLmRhdGEgJiYgIShjb25maWcuZGF0YSBpbnN0YW5jZW9mIEZvcm1EYXRhKSkgewogICAgICAgIGNvbmZpZy5kYXRhID0gSlNPTi5wYXJzZShtYXRjaFRpbWVUb1VUQyhKU09OLnN0cmluZ2lmeShjb25maWcuZGF0YSkpKTsKICAgICAgfQogICAgICBpZiAoY29uZmlnLnBhcmFtcykgewogICAgICAgIGNvbmZpZy5wYXJhbXMgPSBKU09OLnBhcnNlKG1hdGNoVGltZVRvVVRDKEpTT04uc3RyaW5naWZ5KGNvbmZpZy5wYXJhbXMpKSk7CiAgICAgIH0KICAgIH0KICB9CiAgaWYgKHN0b3JlLmdldHRlcnNbdHlwZXMuTVVMVElfUE9SVEFMXSAmJiBzdG9yZS5zdGF0ZVtQT1JUQUxdKSB7CiAgICBGYXdrZXNCaXoucG9ydGFsSWQgPSBzdG9yZS5zdGF0ZVtQT1JUQUxdLmlkOwogIH0KICBpZiAoc3RvcmUuc3RhdGVbUE9SVEFMXS50eXBlID09IDEpIHsKICAgIGNvbmZpZy5oZWFkZXJzWydQb3J0YWxMZXZlbCddID0gIjEiOwogIH0KICBjb25maWcuaGVhZGVyc1snRmF3a2VzLUJpeiddID0gU000RW5jcnlwdChKU09OLnN0cmluZ2lmeShGYXdrZXNCaXopKTsKICB2ZXJpZnkoY29uZmlnLCBzaWduKQogIC8vID8gY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICdCYXNpYyBZM2xpWlhKbGJtZGZZWEJ3T21ONVltVnlaVzVuWDJGd2NGOXpaV055WlhRPScKICA/IGNvbmZpZy5wYXJhbXMgPSBnZXRTaWduKGNvbmZpZy5wYXJhbXMpIDogY29uZmlnLmhlYWRlcnNbJ0Zhd2tlcy1BdXRoJ10gPSBgJHtzdG9yYWdlLmdldCgnYWNjZXNzX3Rva2VuJyl9YDsKICAhIXJlcXVlc3RFbmNyeXB0ICYmIHZlcmlmeVJlcXVlc3QoY29uZmlnKSAmJiAoY29uZmlnID0gZnVsbEVuY3J5cHQoY29uZmlnKSk7CiAgY29uZmlnID0gdmVyaWZ5TW9uaXRvclVybChjb25maWcpOwogIHJldHVybiBjb25maWc7Cn0sIGVycm9yID0+IFByb21pc2UucmVqZWN0KGVycm9yKSk7Cmluc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoCi8qKg0KICogSWYgeW91IHdhbnQgdG8gZ2V0IGh0dHAgaW5mb3JtYXRpb24gc3VjaCBhcyBoZWFkZXJzIG9yIHN0YXR1cw0KICogUGxlYXNlIHJldHVybiAgcmVzcG9uc2UgPT4gcmVzcG9uc2UNCiAqLwoKLyoqDQogKiBEZXRlcm1pbmUgdGhlIHJlcXVlc3Qgc3RhdHVzIGJ5IGN1c3RvbSBjb2RlDQogKiBIZXJlIGlzIGp1c3QgYW4gZXhhbXBsZQ0KICogWW91IGNhbiBhbHNvIGp1ZGdlIHRoZSBzdGF0dXMgYnkgSFRUUCBTdGF0dXMgQ29kZQ0KICovCnJlc3BvbnNlID0+IHsKICAhIXJlc3BvbnNlRW5jcnlwdCAmJiB2ZXJpZnlSZXNwb25zZShyZXNwb25zZSkgJiYgKHJlc3BvbnNlID0gZnVsbERlY3J5cHQocmVzcG9uc2UpKTsKICBpZiAocmVzcG9uc2UuY29uZmlnLnJlc3BvbnNlVHlwZSA9PSAnYmxvYicpIHsKICAgIHJldHVybiByZXNwb25zZTsKICB9CiAgbGV0IHJlcyA9IHJlc3BvbnNlLmRhdGE7CiAgaWYgKHZlcmlmeShyZXNwb25zZS5jb25maWcsIGNNc2cpKSB7CiAgICByZXR1cm4gcmVzOwogIH0KICBpZiAocmVzLmNvZGUgJiYgODAwMDAwMCAhPT0gcmVzLmNvZGUgJiYgcmVzLnN0YXR1cyAmJiAyMDAgIT09IHJlcy5zdGF0dXMpIHsKICAgIFRvYXN0KHsKICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UgfHwgJ0Vycm9yJywKICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgZHVyYXRpb246IDUgKiAxMDAwCiAgICB9KTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZSk7CiAgfQogIC8vIGlmIHRoZSBjdXN0b20gY29kZSBpcyBub3QgMjAwMDAsIGl0IGlzIGp1ZGdlZCBhcyBhbiBlcnJvci4KICByZXR1cm4gcmVzOwp9LCBlcnJvciA9PiB7CiAgLy8gbGV0IG1lc3NhZ2UgPSAnJwogIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgc3dpdGNoIChlcnJvci5yZXNwb25zZS5zdGF0dXMpIHsKICAgICAgY2FzZSA0MDA6CiAgICAgICAgVG9hc3QoewogICAgICAgICAgbWVzc2FnZTogZXJyb3IucmVzcG9uc2UuZGF0YSwKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBkdXJhdGlvbjogNSAqIDEwMDAKICAgICAgICB9KTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSA0MDE6CiAgICAgICAgc3dpdGNoIChlcnJvci5yZXNwb25zZS5kYXRhLmNvZGUpIHsKICAgICAgICAgIGNhc2UgLTgwMDAxNDA6CiAgICAgICAgICBjYXNlIC04MDAwMTcwOgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgVG9hc3QoewogICAgICAgICAgICAgICAgbWVzc2FnZTogJzQwMScgKyBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDUgKiAxMDAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDogJy9sb2dpbicKICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gZXJyKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgLTgwMDAxNjA6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBUb2FzdCh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5peg6K+B5Lmm5o+Q56S6JywKICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogNSAqIDEwMDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAvLyBjb25mb3JtSGFuZGxlcign5peg6K+B5Lmm5o+Q56S6JywgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlLCBhY3Rpb24gPT4gewogICAgICAgICAgICAgIC8vICAgcm91dGVyLnB1c2goeyBwYXRoOiAnL3VwbG9hZFBlcm1pc3Npb24nIH0pCiAgICAgICAgICAgICAgLy8gfSkKICAgICAgICAgICAgfQogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIFRvYXN0KHsKICAgICAgICAgICAgICBtZXNzYWdlOiAnZGVmYXVsdCcgKyBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgICBkdXJhdGlvbjogNSAqIDEwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGJyZWFrOwogICAgICBjYXNlIDQwMzoKICAgICAgICBUb2FzdCh7CiAgICAgICAgICBtZXNzYWdlOiAn5ouS57ud6K6/6ZeuJywKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBkdXJhdGlvbjogNSAqIDEwMDAKICAgICAgICB9KTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSA0MDQ6CiAgICAgICAgVG9hc3QoewogICAgICAgICAgbWVzc2FnZTogJ+ivt+axgumUmeivryzmnKrmib7liLDor6XotYTmupAnLAogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgICAgIH0pOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlIDQwNToKICAgICAgICBUb2FzdCh7CiAgICAgICAgICBtZXNzYWdlOiAn6K+35rGC5pa55rOV5pyq5YWB6K64JywKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBkdXJhdGlvbjogNSAqIDEwMDAKICAgICAgICB9KTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSA0MDg6CiAgICAgICAgVG9hc3QoewogICAgICAgICAgbWVzc2FnZTogJ+ivt+axgui2heaXticsCiAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgZHVyYXRpb246IDUgKiAxMDAwCiAgICAgICAgfSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgNTAwOgogICAgICAgIFRvYXN0KHsKICAgICAgICAgIG1lc3NhZ2U6ICfmnI3liqHlmajnq6/lh7rplJknLAogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgICAgIH0pOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlIDUwMToKICAgICAgICBUb2FzdCh7CiAgICAgICAgICBtZXNzYWdlOiAn572R57uc5pyq5a6e546wJywKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBkdXJhdGlvbjogNSAqIDEwMDAKICAgICAgICB9KTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSA1MDI6CiAgICAgICAgVG9hc3QoewogICAgICAgICAgbWVzc2FnZTogJ+e9kee7nOmUmeivrycsCiAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgZHVyYXRpb246IDUgKiAxMDAwCiAgICAgICAgfSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgNTAzOgogICAgICAgIFRvYXN0KHsKICAgICAgICAgIG1lc3NhZ2U6ICfmnI3liqHkuI3lj6/nlKgnLAogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgICAgIH0pOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlIDUwNDoKICAgICAgICBUb2FzdCh7CiAgICAgICAgICBtZXNzYWdlOiAn572R57uc6LaF5pe2JywKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBkdXJhdGlvbjogNSAqIDEwMDAKICAgICAgICB9KTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSA1MDU6CiAgICAgICAgVG9hc3QoewogICAgICAgICAgbWVzc2FnZTogJ2h0dHDniYjmnKzkuI3mlK/mjIHor6Xor7fmsYInLAogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgICAgIH0pOwogICAgICAgIGJyZWFrOwogICAgICBkZWZhdWx0OgogICAgICAgIFRvYXN0KHsKICAgICAgICAgIG1lc3NhZ2U6IGDov57mjqXplJnor68ke2Vycm9yLnJlc3BvbnNlLnN0YXR1c31gLAogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgICAgIH0pOwogICAgfQogICAgaWYgKGVycm9yLnJlc3BvbnNlLmNvbmZpZyAmJiB2ZXJpZnkoZXJyb3IucmVzcG9uc2UuY29uZmlnLCBjTXNnKSkgewogICAgICAvLyBtZXNzYWdlID0gbnVsbAogICAgfQogIH0gZWxzZSB7CiAgICBUb2FzdCh7CiAgICAgIG1lc3NhZ2U6ICfnvZHnu5zlvILluLjvvIzor7fmo4Dmn6XnvZHnu5zvvIEnLAogICAgICB0eXBlOiAnZXJyb3InLAogICAgICBkdXJhdGlvbjogMyAqIDEwMDAKICAgIH0pOwogIH0KICAvLyBtZXNzYWdlICYmIHJlc2V0TWVzc2FnZS5lcnJvcihtZXNzYWdlKQogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCBpbnN0YW5jZTs="},{"version":3,"names":["axios","Toast","requestEncrypt","responseEncrypt","sign","cMsg","fullEncrypt","fullDecrypt","verifyRequest","verifyResponse","getSign","storage","router","store","verifyMonitorUrl","types","PORTAL","getUTCStr","matchTimeToUTC","SM4Encrypt","verify","config","arr","find","item","url","instance","create","baseURL","process","env","VUE_APP_BASE_URL","timeout","withCredentials","interceptors","request","use","FawkesBiz","getters","TIMEZONE","UTC","timeZone","timeFormat","data","FormData","JSON","parse","stringify","params","MULTI_PORTAL","state","portalId","id","type","headers","get","error","Promise","reject","response","responseType","res","code","status","message","duration","push","path","catch","err"],"sources":["E:/ty_project/xasw-yy/revenue/xasw-mobile/src/utils/request.js"],"sourcesContent":["/* eslint-disable no-param-reassign */\r\nimport axios from 'axios'\r\nimport { Toast } from 'fawkes-mobile-lib'\r\nimport { requestEncrypt, responseEncrypt } from '@/settings'\r\nimport { sign, cMsg } from '@/api/ignore'\r\nimport { fullEncrypt, fullDecrypt, verifyRequest, verifyResponse } from '@/utils/encryption/api'\r\nimport { getSign } from './sign'\r\nimport storage from './storage'\r\nimport router from '@/router'\r\nimport store from '@/store'\r\nimport { verifyMonitorUrl } from './monitor'\r\nimport * as types from '@/store/Getter/getterTypes.js'\r\nimport { PORTAL } from '@/store/State/stateTypes.js'\r\nimport { getUTCStr, matchTimeToUTC } from './timezone'\r\nimport {\r\n  SM4Encrypt,\r\n} from '@/utils/encryption/sm4'\r\n\r\n//检查配置列表中是否包含当前url\r\nconst verify = function (config, arr) {\r\n  return arr.find((item) => {\r\n    return item == config.url\r\n  })\r\n}\r\n\r\n// 创建 axios 实例\r\nconst instance = axios.create({\r\n  baseURL: process.env.VUE_APP_BASE_URL, // api base_url\r\n  timeout: 30000, // 请求超时时间\r\n  withCredentials: true,\r\n})\r\n\r\ninstance.interceptors.request.use(\r\n  (config) => {\r\n    let FawkesBiz = {}\r\n    // 通过请求头传递时区\r\n    if (store.getters[types.TIMEZONE]) {\r\n      let UTC = getUTCStr(store.getters[types.TIMEZONE])\r\n      FawkesBiz.timeZone = UTC\r\n      FawkesBiz.timeFormat = 'yyyy-MM-dd HH:mm:ss'\r\n      // 将数据中HH:mm这类时区转为UTC存储\r\n      if (UTC !== 'UTC+08:00') {\r\n        if (config.data && !(config.data instanceof FormData)) {\r\n          config.data = JSON.parse(matchTimeToUTC(JSON.stringify(config.data)))\r\n        }\r\n        if (config.params) {\r\n          config.params = JSON.parse(matchTimeToUTC(JSON.stringify(config.params)))\r\n        }\r\n      }\r\n    }\r\n    if (store.getters[types.MULTI_PORTAL] && store.state[PORTAL]) {\r\n      FawkesBiz.portalId = store.state[PORTAL].id\r\n    }\r\n    if(store.state[PORTAL].type == 1) {\r\n      config.headers['PortalLevel'] = \"1\"\r\n    }\r\n    config.headers['Fawkes-Biz'] = SM4Encrypt(JSON.stringify(FawkesBiz))\r\n    verify(config, sign)\r\n      // ? config.headers['Authorization'] = 'Basic Y3liZXJlbmdfYXBwOmN5YmVyZW5nX2FwcF9zZWNyZXQ='\r\n      ? (config.params = getSign(config.params))\r\n      : (config.headers['Fawkes-Auth'] = `${storage.get('access_token')}`)\r\n\r\n    !!requestEncrypt && verifyRequest(config) && (config = fullEncrypt(config))\r\n\r\n    config = verifyMonitorUrl(config)\r\n\r\n    return config\r\n  },\r\n  (error) => Promise.reject(error)\r\n)\r\n\r\ninstance.interceptors.response.use(\r\n  /**\r\n   * If you want to get http information such as headers or status\r\n   * Please return  response => response\r\n   */\r\n\r\n  /**\r\n   * Determine the request status by custom code\r\n   * Here is just an example\r\n   * You can also judge the status by HTTP Status Code\r\n   */\r\n  (response) => {\r\n    !!responseEncrypt && verifyResponse(response) && (response = fullDecrypt(response))\r\n\r\n    if (response.config.responseType == 'blob') {\r\n      return response\r\n    }\r\n\r\n    let res = response.data\r\n\r\n    if (verify(response.config, cMsg)) {\r\n      return res\r\n    }\r\n    if (res.code && 8000000 !== res.code && res.status && 200 !== res.status) {\r\n      Toast({\r\n        message: res.message || 'Error',\r\n        type: 'error',\r\n        duration: 5 * 1000,\r\n      })\r\n      return Promise.reject(response)\r\n    }\r\n    // if the custom code is not 20000, it is judged as an error.\r\n    return res\r\n  },\r\n  (error) => {\r\n    // let message = ''\r\n    if (error.response) {\r\n      switch (error.response.status) {\r\n        case 400:\r\n          Toast({\r\n            message: error.response.data,\r\n            type: 'error',\r\n            duration: 5 * 1000,\r\n          })\r\n          break\r\n        case 401:\r\n          switch (error.response.data.code) {\r\n            case -8000140:\r\n            case -8000170:\r\n              {\r\n                Toast({\r\n                  message: '401' + error.response.data.message,\r\n                  type: 'error',\r\n                  duration: 5 * 1000,\r\n                })\r\n\r\n                router.push({ path: '/login' }).catch((err) => err)\r\n              }\r\n              break\r\n            case -8000160:\r\n              {\r\n                Toast({\r\n                  message: '无证书提示',\r\n                  type: 'error',\r\n                  duration: 5 * 1000,\r\n                })\r\n                // conformHandler('无证书提示', error.response.data.message, action => {\r\n                //   router.push({ path: '/uploadPermission' })\r\n                // })\r\n              }\r\n              break\r\n            default:\r\n              Toast({\r\n                message: 'default' + error.response.data.message,\r\n                type: 'error',\r\n                duration: 5 * 1000,\r\n              })\r\n          }\r\n          break\r\n        case 403:\r\n          Toast({\r\n            message: '拒绝访问',\r\n            type: 'error',\r\n            duration: 5 * 1000,\r\n          })\r\n          break\r\n        case 404:\r\n          Toast({\r\n            message: '请求错误,未找到该资源',\r\n            type: 'error',\r\n            duration: 5 * 1000,\r\n          })\r\n          break\r\n        case 405:\r\n          Toast({\r\n            message: '请求方法未允许',\r\n            type: 'error',\r\n            duration: 5 * 1000,\r\n          })\r\n          break\r\n        case 408:\r\n          Toast({\r\n            message: '请求超时',\r\n            type: 'error',\r\n            duration: 5 * 1000,\r\n          })\r\n          break\r\n        case 500:\r\n          Toast({\r\n            message: '服务器端出错',\r\n            type: 'error',\r\n            duration: 5 * 1000,\r\n          })\r\n          break\r\n        case 501:\r\n          Toast({\r\n            message: '网络未实现',\r\n            type: 'error',\r\n            duration: 5 * 1000,\r\n          })\r\n          break\r\n        case 502:\r\n          Toast({\r\n            message: '网络错误',\r\n            type: 'error',\r\n            duration: 5 * 1000,\r\n          })\r\n          break\r\n        case 503:\r\n          Toast({\r\n            message: '服务不可用',\r\n            type: 'error',\r\n            duration: 5 * 1000,\r\n          })\r\n          break\r\n        case 504:\r\n          Toast({\r\n            message: '网络超时',\r\n            type: 'error',\r\n            duration: 5 * 1000,\r\n          })\r\n          break\r\n        case 505:\r\n          Toast({\r\n            message: 'http版本不支持该请求',\r\n            type: 'error',\r\n            duration: 5 * 1000,\r\n          })\r\n          break\r\n        default:\r\n          Toast({\r\n            message: `连接错误${error.response.status}`,\r\n            type: 'error',\r\n            duration: 5 * 1000,\r\n          })\r\n      }\r\n      if (error.response.config && verify(error.response.config, cMsg)) {\r\n        // message = null\r\n      }\r\n    } else {\r\n      Toast({\r\n        message: '网络异常，请检查网络！',\r\n        type: 'error',\r\n        duration: 3 * 1000,\r\n      })\r\n    }\r\n    // message && resetMessage.error(message)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default instance\r\n"],"mappings":"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"}]}