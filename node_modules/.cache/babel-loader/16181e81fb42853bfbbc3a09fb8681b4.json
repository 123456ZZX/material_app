{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\Code\\Project\\WL\\xasw-mobile\\src\\utils\\encryption\\api.js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\utils\\encryption\\api.js","mtime":1705912799986},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoNCiAqIEBBdXRob3I6IHlvdXIgbmFtZQ0KICogQERhdGU6IDIwMjEtMDgtMjQgMTA6MzY6MjUNCiAqIEBMYXN0RWRpdFRpbWU6IDIwMjEtMDktMTAgMDk6NTI6NDYNCiAqIEBMYXN0RWRpdG9yczogd2VpX2p0QGVjaWRpLmNvbQ0KICogQERlc2NyaXB0aW9uOiBJbiBVc2VyIFNldHRpbmdzIEVkaXQNCiAqIEBGaWxlUGF0aDogXGNlbnRyYWwtc3lzdGVtXHNyY1x1dGlsc1xmdWxsRW5jcnlwdC5qcw0KICovCmltcG9ydCB7IGludGVyZmFjZUVuY3J5cHRUeXBlIH0gZnJvbSAiQC9zZXR0aW5ncyI7CmltcG9ydCB7IGVuY3J5cHRfU000LCBlbmNyeXB0X1NNMiwgZGVjcnlwdF9TTTQsIGRlY3J5cHRfU00yIH0gZnJvbSAiLi9zbTQiOwppbXBvcnQgeyBpZ25vcmUgfSBmcm9tICIuLi8uLi9hcGkvaWdub3JlLmpzIjsKaW1wb3J0IHsgRW5jcnlwdCwgRGVjcnlwdCB9IGZyb20gIi4vYWVzIjsKaW1wb3J0IHsgcnNhRW5jcnlwdCwgcnNhRGVjcnlwdCB9IGZyb20gIi4vcnNhIjsKaW1wb3J0IHsgZW5jcnlwdERlcywgZGVjcnlwdERlcyB9IGZyb20gIi4vZGVzIjsKZXhwb3J0IGZ1bmN0aW9uIHZlcmlmeVJlcXVlc3QoY29uZmlnKSB7CiAgbGV0IGZsYWcgPSB0cnVlOwogIGlnbm9yZS5mb3JFYWNoKGl0ZW0gPT4gewogICAgaWYgKGl0ZW0udXJsID09IGNvbmZpZy51cmwpIHsKICAgICAgaWYgKGl0ZW0uaHR0cE1ldGhvZCA9PSAiYWxsIiB8fCBpdGVtLmh0dHBNZXRob2QgPT09IGNvbmZpZy5tZXRob2QpIHsKICAgICAgICBzd2l0Y2ggKGl0ZW0ucmVxT3JSZXMpIHsKICAgICAgICAgIGNhc2UgInJlcyI6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgY2FzZSAicmVxIjoKICAgICAgICAgICAgewogICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgY2FzZSAiYWxsIjoKICAgICAgICAgICAgewogICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0pOwogIHJldHVybiBmbGFnOwp9CmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlSZXNwb25zZShyZXNwb25zZSkgewogIGxldCBmbGFnID0gdHJ1ZTsKICBpZ25vcmUuZm9yRWFjaChpdGVtID0+IHsKICAgIGlmIChpdGVtLnVybCA9PSByZXNwb25zZS5jb25maWcudXJsKSB7CiAgICAgIGlmIChpdGVtLmh0dHBNZXRob2QgPT0gImFsbCIgfHwgaXRlbS5odHRwTWV0aG9kID09PSByZXNwb25zZS5jb25maWcubWV0aG9kKSB7CiAgICAgICAgc3dpdGNoIChpdGVtLnJlcU9yUmVzKSB7CiAgICAgICAgICBjYXNlICJyZXMiOgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICBjYXNlICJyZXEiOgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIGNhc2UgImFsbCI6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9KTsKICByZXR1cm4gZmxhZzsKfQpleHBvcnQgZnVuY3Rpb24gZnVsbEVuY3J5cHQoY29uZmlnKSB7CiAgaWYgKGNvbmZpZy5kYXRhKSB7CiAgICBzd2l0Y2ggKGludGVyZmFjZUVuY3J5cHRUeXBlKSB7CiAgICAgIGNhc2UgIlNNNCI6CiAgICAgICAgewogICAgICAgICAgY29uZmlnLmRhdGEgPSBlbmNyeXB0X1NNNChjb25maWcuZGF0YSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGNhc2UgIlNNMiI6CiAgICAgICAgewogICAgICAgICAgY29uZmlnLmRhdGEgPSBlbmNyeXB0X1NNMihjb25maWcuZGF0YSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGNhc2UgIlJTQSI6CiAgICAgICAgewogICAgICAgICAgY29uZmlnLmRhdGEgPSByc2FFbmNyeXB0KGNvbmZpZy5kYXRhKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgY2FzZSAiQUVTIjoKICAgICAgICB7CiAgICAgICAgICBjb25maWcuZGF0YSA9IEVuY3J5cHQoY29uZmlnLmRhdGEpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICBjYXNlICJERVMiOgogICAgICAgIHsKICAgICAgICAgIGNvbmZpZy5kYXRhID0gZW5jcnlwdERlcyhjb25maWcuZGF0YSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQogIGlmIChjb25maWcucGFyYW1zKSB7CiAgICBzd2l0Y2ggKGludGVyZmFjZUVuY3J5cHRUeXBlKSB7CiAgICAgIGNhc2UgIlNNNCI6CiAgICAgICAgewogICAgICAgICAgbGV0IHBhcmFtcyA9IGVuY3J5cHRfU000KGNvbmZpZy5wYXJhbXMpOwogICAgICAgICAgY29uZmlnLnBhcmFtcyA9IHsKICAgICAgICAgICAgZGF0YTogcGFyYW1zCiAgICAgICAgICB9OwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICBjYXNlICJTTTIiOgogICAgICAgIHsKICAgICAgICAgIGxldCBwYXJhbXMgPSBlbmNyeXB0X1NNMihKU09OLnN0cmluZ2lmeShjb25maWcucGFyYW1zKSk7CiAgICAgICAgICBjb25maWcucGFyYW1zID0gewogICAgICAgICAgICBkYXRhOiBwYXJhbXMKICAgICAgICAgIH07CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGNhc2UgIlJTQSI6CiAgICAgICAgewogICAgICAgICAgY29uZmlnLmRhdGEgPSByc2FFbmNyeXB0KGNvbmZpZy5kYXRhKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgY2FzZSAiQUVTIjoKICAgICAgICB7CiAgICAgICAgICBjb25maWcuZGF0YSA9IEVuY3J5cHQoY29uZmlnLmRhdGEpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICBjYXNlICJERVMiOgogICAgICAgIHsKICAgICAgICAgIGNvbmZpZy5kYXRhID0gZW5jcnlwdERlcyhjb25maWcuZGF0YSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQogIGlmIChjb25maWcubWV0aG9kICE9ICJnZXQiICYmIGNvbmZpZy5tZXRob2QgIT0gIkdFVCIpIHsKICAgIGNvbmZpZy5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSA9ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgiOwogIH0KICByZXR1cm4gY29uZmlnOwp9CmV4cG9ydCBmdW5jdGlvbiBmdWxsRGVjcnlwdChyZXNwb25zZSkgewogIGlmIChyZXNwb25zZS5kYXRhKSB7CiAgICBzd2l0Y2ggKGludGVyZmFjZUVuY3J5cHRUeXBlKSB7CiAgICAgIGNhc2UgIlNNNCI6CiAgICAgICAgewogICAgICAgICAgcmVzcG9uc2UuZGF0YSA9IGRlY3J5cHRfU000KHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICBjYXNlICJTTTIiOgogICAgICAgIHsKICAgICAgICAgIHJlc3BvbnNlLmRhdGEgPSBkZWNyeXB0X1NNMihyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgY2FzZSAiUlNBIjoKICAgICAgICB7CiAgICAgICAgICByZXNwb25zZS5kYXRhID0gcnNhRGVjcnlwdChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgY2FzZSAiQUVTIjoKICAgICAgICB7CiAgICAgICAgICByZXNwb25zZS5kYXRhID0gRGVjcnlwdChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgY2FzZSAiREVTIjoKICAgICAgICB7CiAgICAgICAgICByZXNwb25zZS5kYXRhID0gZGVjcnlwdERlcyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIHJlc3BvbnNlOwp9"},{"version":3,"names":["interfaceEncryptType","encrypt_SM4","encrypt_SM2","decrypt_SM4","decrypt_SM2","ignore","Encrypt","Decrypt","rsaEncrypt","rsaDecrypt","encryptDes","decryptDes","verifyRequest","config","flag","forEach","item","url","httpMethod","method","reqOrRes","verifyResponse","response","fullEncrypt","data","params","JSON","stringify","headers","fullDecrypt"],"sources":["D:/Code/Project/WL/xasw-mobile/src/utils/encryption/api.js"],"sourcesContent":["/*\r\n * @Author: your name\r\n * @Date: 2021-08-24 10:36:25\r\n * @LastEditTime: 2021-09-10 09:52:46\r\n * @LastEditors: wei_jt@ecidi.com\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\central-system\\src\\utils\\fullEncrypt.js\r\n */\r\nimport { interfaceEncryptType } from \"@/settings\";\r\nimport { encrypt_SM4, encrypt_SM2, decrypt_SM4, decrypt_SM2 } from \"./sm4\";\r\nimport { ignore } from \"../../api/ignore.js\";\r\nimport { Encrypt, Decrypt } from \"./aes\";\r\nimport { rsaEncrypt, rsaDecrypt } from \"./rsa\";\r\nimport { encryptDes, decryptDes } from \"./des\";\r\n\r\nexport function verifyRequest(config) {\r\n  let flag = true;\r\n  ignore.forEach((item) => {\r\n    if (item.url == config.url) {\r\n      if (item.httpMethod == \"all\" || item.httpMethod === config.method) {\r\n        switch (item.reqOrRes) {\r\n          case \"res\": {\r\n            break;\r\n          }\r\n          case \"req\": {\r\n            flag = false;\r\n            break;\r\n          }\r\n          case \"all\": {\r\n            flag = false;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n  return flag;\r\n}\r\n\r\nexport function verifyResponse(response) {\r\n  let flag = true;\r\n  ignore.forEach((item) => {\r\n    if (item.url == response.config.url) {\r\n      if (item.httpMethod == \"all\" || item.httpMethod === response.config.method) {\r\n        switch (item.reqOrRes) {\r\n          case \"res\": {\r\n            flag = false;\r\n            break;\r\n          }\r\n          case \"req\": {\r\n            break;\r\n          }\r\n          case \"all\": {\r\n            flag = false;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n  return flag;\r\n}\r\n\r\nexport function fullEncrypt(config) {\r\n  if (config.data) {\r\n    switch (interfaceEncryptType) {\r\n      case \"SM4\": {\r\n        config.data = encrypt_SM4(config.data);\r\n        break;\r\n      }\r\n      case \"SM2\": {\r\n        config.data = encrypt_SM2(config.data);\r\n        break;\r\n      }\r\n      case \"RSA\": {\r\n        config.data = rsaEncrypt(config.data);\r\n        break;\r\n      }\r\n      case \"AES\": {\r\n        config.data = Encrypt(config.data);\r\n        break;\r\n      }\r\n      case \"DES\": {\r\n        config.data = encryptDes(config.data);\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  if (config.params) {\r\n    switch (interfaceEncryptType) {\r\n      case \"SM4\": {\r\n        let params = encrypt_SM4(config.params);\r\n        config.params = { data: params };\r\n        break;\r\n      }\r\n      case \"SM2\": {\r\n        let params = encrypt_SM2(JSON.stringify(config.params));\r\n        config.params = { data: params };\r\n        break;\r\n      }\r\n      case \"RSA\": {\r\n        config.data = rsaEncrypt(config.data);\r\n        break;\r\n      }\r\n      case \"AES\": {\r\n        config.data = Encrypt(config.data);\r\n        break;\r\n      }\r\n      case \"DES\": {\r\n        config.data = encryptDes(config.data);\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  if (config.method != \"get\" && config.method != \"GET\") {\r\n    config.headers[\"Content-Type\"] = \"application/json;charset=UTF-8\";\r\n  }\r\n  return config;\r\n}\r\nexport function fullDecrypt(response) {\r\n  if (response.data) {\r\n    switch (interfaceEncryptType) {\r\n      case \"SM4\": {\r\n        response.data = decrypt_SM4(response.data);\r\n        break;\r\n      }\r\n      case \"SM2\": {\r\n        response.data = decrypt_SM2(response.data);\r\n        break;\r\n      }\r\n      case \"RSA\": {\r\n        response.data = rsaDecrypt(response.data);\r\n        break;\r\n      }\r\n      case \"AES\": {\r\n        response.data = Decrypt(response.data);\r\n        break;\r\n      }\r\n      case \"DES\": {\r\n        response.data = decryptDes(response.data);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return response;\r\n}\r\n"],"mappings":"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"}]}