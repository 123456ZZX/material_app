{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\Code\\Project\\WL\\xasw-mobile\\src\\utils\\request\\sign.js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\utils\\request\\sign.js","mtime":1708928163356},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBIbWFjU0hBMSBmcm9tICdjcnlwdG8tanMvaG1hYy1zaGExJzsKaW1wb3J0IEJhc2U2NCBmcm9tICdjcnlwdG8tanMvZW5jLWJhc2U2NCc7CmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICcuLi91dGlsJzsKaW1wb3J0IHsgQ0xJRU5ULCBDTElFTlRfU0VDUkVULCBUVEwgfSBmcm9tICdAL2NvbmZpZyc7CmltcG9ydCBkYXlqcyBmcm9tICdkYXlqcyc7CmltcG9ydCBzdG9yYWdlIGZyb20gJy4uL3N0b3JhZ2UnOwppbXBvcnQgeyBnZXRUcyB9IGZyb20gJ0AvYXBpL2FwcCc7CmNvbnN0IER2YWx1ZSA9ICgpID0+IHsKICByZXR1cm4gYCR7c3RvcmFnZS5nZXQoJ3RzLUQtdmFsdWUnKX1gID09ICdudWxsJyA/IDAgOiBuZXcgTnVtYmVyKGAke3N0b3JhZ2UuZ2V0KCd0cy1ELXZhbHVlJyl9YCk7Cn07CmNvbnN0IHNldFRzID0gKCkgPT4gewogIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgIGdldFRzKCkudGhlbihyZXMgPT4gewogICAgICBpZiAocmVzICYmICFpc05hTihyZXMpKSB7CiAgICAgICAgc3RvcmFnZS5zZXQoJ3RzLUQtdmFsdWUnLCByZXMgLSBkYXlqcygpLnVuaXgoKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RvcmFnZS5zZXQoJ3RzLUQtdmFsdWUnLCAwKTsKICAgICAgfQogICAgICByZXNvbHZlKHRydWUpOwogICAgfSkuY2F0Y2goKCkgPT4gewogICAgICBzdG9yYWdlLnNldCgndHMtRC12YWx1ZScsIDApOwogICAgICByZXNvbHZlKHRydWUpOwogICAgfSk7CiAgfSk7Cn07CgovL+iOt+WPluWKoOWvhuWQjueahHVybOWPguaVsOWtl+espuS4sgovKioNCiAqIEBwYXJhbSB7b2JqZWN0fSDlr7nosaHkuK3nmoTlsZ7mgKfkuLrpnIDopoHliqDlr4bnmoTlsZ7mgKcNCiAqIEBleGFtcGxlICdodHRwczovL2FwaWdhdGV3YXkuZWNpZGkuY29tL2Zhd2tlcy1uZXcvc3RhZ2luZy9hcGkvc3lzLXN0b3JhZ2UvZG93bmxvYWRfaW1hZ2U/JyArICBnZXRVcmwoeyBmOHM6IGZpbGVUb2tlbiB9KQ0KICogQHJldHVybiBodHRwczovL2FwaWdhdGV3YXkuZWNpZGkuY29tL2Zhd2tlcy1uZXcvc3RhZ2luZy9hcGkvc3lzLXN0b3JhZ2UvZG93bmxvYWRfaW1hZ2U/ZjhzPTRjMWM5MTJmMDM3ODZjZmEyNDczYmI4ODBkNzVlMmMwJnRzPTE2MDIzMjM2NjcwNzcmdHRsPTMwJnVpZD1mYXdrZXMmc2lnbj14bVN3dHBsQnhScDVuU2lJakNEanU4a2l6RWslM0QNCiAqLwpjb25zdCBnZXRVcmwgPSByZXN0ID0+IHsKICBsZXQgUGFyYW1zID0gJyc7CiAgbGV0IHRzID0gZGF5anMoKS51bml4KCkgKyBEdmFsdWUoKTsKICBsZXQgdHRsID0gVFRMOwogIGxldCBvYmogPSByZXN0OwogIFBhcmFtcyArPSAndHM9JyArIHRzICsgJyZ0dGw9JyArIHR0bCArICcmdWlkPScgKyBDTElFTlQgKyAoaXNFbXB0eShvYmopID8gJycgOiAnJicgKyBvYmpUcmFuc1VybFBhcmFtcyhvYmopKTsKICBsZXQgUGFyYW1BcnIgPSBzb3J0VXJsUGFyYW1zKFBhcmFtcyk7CiAgUGFyYW1BcnIgPSBvYmpLZXlTb3J0KFBhcmFtQXJyKTsKICBsZXQgcGFyYW1zdHIgPSBbXTsKICBmb3IgKGxldCBpIGluIFBhcmFtQXJyKSB7CiAgICBwYXJhbXN0ci5wdXNoKGkgKyAnPScgKyBQYXJhbUFycltpXSk7CiAgfQogIHBhcmFtc3RyID0gcGFyYW1zdHIuam9pbignJicpOwogIGxldCBzaWduV29yZEFycmF5ID0gSG1hY1NIQTEocGFyYW1zdHIsIENMSUVOVF9TRUNSRVQpOwogIGxldCBzaWduID0gQmFzZTY0LnN0cmluZ2lmeShzaWduV29yZEFycmF5KTsKICBsZXQgZW5jb2RlU2lnbiA9IGVuY29kZVVSSUNvbXBvbmVudChzaWduKTsKICByZXR1cm4gcGFyYW1zdHIgKyAnJnNpZ249JyArIGVuY29kZVNpZ247Cn07CgovL+iOt+WPluWKoOWvhuWQjueahOWPguaVsOWvueixoQovKioNCiAqIEBwYXJhbSB7b2JqZWN0fSDlr7nosaHkuK3nmoTlsZ7mgKfkuLrpnIDopoHliqDlr4bnmoTlsZ7mgKcNCiAqIEBleGFtcGxlIGdldFNpZ24oeyBmOHM6IGZpbGVUb2tlbiB9KQ0KICogQHJldHVybiANCiAqIHsNCiAgICBmOHM6ICJjMTVjZjJlOTljOWI0NmNmYzRjZWQ0ZDIzMDFiNmFlZiINCiAgICBzaWduOiAiQXVCUlVEejZxekJYVzRCK3NnMUdpcHR1SXlzPSINCiAgICB0czogIjE2MDI0OTk0NDE2MjIiDQogICAgdHRsOiAiMzAiDQogICAgdWlkOiAiZmF3a2VzIn0NCiAqLwpjb25zdCBnZXRTaWduID0gcmVzdCA9PiB7CiAgbGV0IFBhcmFtcyA9ICcnOwogIGxldCB0cyA9IGRheWpzKCkudW5peCgpICsgRHZhbHVlKCk7CiAgbGV0IHR0bCA9IFRUTDsKICBsZXQgb2JqID0gcmVzdDsKICBQYXJhbXMgKz0gJ3RzPScgKyB0cyArICcmdHRsPScgKyB0dGwgKyAnJnVpZD0nICsgQ0xJRU5UICsgKGlzRW1wdHkob2JqKSA/ICcnIDogJyYnICsgb2JqVHJhbnNVcmxQYXJhbXMob2JqKSk7CiAgbGV0IFBhcmFtQXJyID0gc29ydFVybFBhcmFtcyhQYXJhbXMpOwogIFBhcmFtQXJyID0gb2JqS2V5U29ydChQYXJhbUFycik7CiAgbGV0IHBhcmFtc3RyID0gW107CiAgZm9yIChsZXQgaSBpbiBQYXJhbUFycikgewogICAgcGFyYW1zdHIucHVzaChpICsgJz0nICsgUGFyYW1BcnJbaV0pOwogIH0KICBwYXJhbXN0ciA9IHBhcmFtc3RyLmpvaW4oJyYnKTsKICBsZXQgc2lnbldvcmRBcnJheSA9IEhtYWNTSEExKHBhcmFtc3RyLCBDTElFTlRfU0VDUkVUKTsKICBsZXQgc2lnbiA9IEJhc2U2NC5zdHJpbmdpZnkoc2lnbldvcmRBcnJheSk7CiAgcmV0dXJuIHsKICAgIHNpZ24sCiAgICB0cywKICAgIHR0bCwKICAgIHVpZDogQ0xJRU5ULAogICAgLi4uUGFyYW1BcnIKICB9Owp9Owpjb25zdCBvYmpLZXlTb3J0ID0gb2JqID0+IHsKICBsZXQgbmV3a2V5ID0gT2JqZWN0LmtleXMob2JqKS5zb3J0KCk7CiAgbGV0IG5ld09iaiA9IHt9OwogIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3a2V5Lmxlbmd0aDsgaSsrKSB7CiAgICBuZXdPYmpbbmV3a2V5W2ldXSA9IG9ialtuZXdrZXlbaV1dOwogIH0KICByZXR1cm4gbmV3T2JqOwp9Owpjb25zdCBzb3J0VXJsUGFyYW1zID0gc3RyID0+IHsKICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHsKICAgIHJldHVybiB7fTsKICB9CiAgbGV0IHBhcmFtT2JqID0ge307CiAgbGV0IHBhcmFtQXJyID0gZGVjb2RlVVJJKHN0cikuc3BsaXQoJyYnKTsKICAvLyBsZXQgcGFyYW1BcnIgPSBzdHIuc3BsaXQoJyYnKTsKICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtQXJyLmxlbmd0aDsgaSsrKSB7CiAgICBsZXQgdG1wID0gcGFyYW1BcnJbaV0uc3BsaXQoJz0nKTsKICAgIGxldCBrZXkgPSB0bXBbMF07CiAgICBsZXQgdmFsdWUgPSB0bXBbMV0gfHwgJyc7CiAgICAvL2lmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIGlzTmFOKE51bWJlcih2YWx1ZSkpID09PSBmYWxzZSAmJiB2YWx1ZSAhPT0gIiIpIHsKICAgIC8vICB2YWx1ZSA9IE51bWJlcih2YWx1ZSk7CiAgICAvL30KICAgIGlmICh0eXBlb2YgcGFyYW1PYmpba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgcGFyYW1PYmpba2V5XSA9IHZhbHVlOwogICAgfSBlbHNlIHsKICAgICAgbGV0IG5ld1ZhbHVlID0gQXJyYXkuaXNBcnJheShwYXJhbU9ialtrZXldKSA/IHBhcmFtT2JqW2tleV0gOiBbcGFyYW1PYmpba2V5XV07CiAgICAgIG5ld1ZhbHVlLnB1c2godmFsdWUpOwogICAgICBwYXJhbU9ialtrZXldID0gbmV3VmFsdWU7CiAgICB9CiAgfQogIHJldHVybiBwYXJhbU9iajsKfTsKY29uc3Qgb2JqVHJhbnNVcmxQYXJhbXMgPSBvYmogPT4gewogIGNvbnN0IHBhcmFtcyA9IFtdOwogIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChrZXkgPT4gewogICAgbGV0IHZhbHVlID0gb2JqW2tleV07CiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykgewogICAgICB2YWx1ZSA9ICcnOwogICAgfQogICAgcGFyYW1zLnB1c2goW2tleSwgdmFsdWVdLmpvaW4oJz0nKSk7CiAgfSk7CiAgcmV0dXJuIHBhcmFtcy5qb2luKCcmJyk7Cn07CgovL+iOt+WPlmNiZeWKoOWvhuWQjueahHVybOWPguaVsOWtl+espuS4sgpjb25zdCBnZXRDdHdpblVybCA9IHJlc3QgPT4gewogIGxldCBQYXJhbXMgPSAnJzsKICBsZXQgdHMgPSBkYXlqcygpLnVuaXgoKSArIER2YWx1ZSgpOwogIGxldCB0dGwgPSBUVEw7CiAgbGV0IG9iaiA9IHJlc3Q7CiAgUGFyYW1zICs9ICd0cz0nICsgdHMgKyAnJnR0bD0nICsgdHRsICsgJyZ1aWQ9ZWNmNzE5OWZhMWIxNGIzNDQ1Nzg4MDc5ZmRiODUyYjUnICsgKGlzRW1wdHkob2JqKSA/ICcnIDogJyYnICsgb2JqVHJhbnNVcmxQYXJhbXMob2JqKSk7CiAgbGV0IFBhcmFtQXJyID0gc29ydFVybFBhcmFtcyhQYXJhbXMpOwogIFBhcmFtQXJyID0gb2JqS2V5U29ydChQYXJhbUFycik7CiAgbGV0IHBhcmFtc3RyID0gW107CiAgZm9yIChsZXQgaSBpbiBQYXJhbUFycikgewogICAgcGFyYW1zdHIucHVzaChpICsgJz0nICsgUGFyYW1BcnJbaV0pOwogIH0KICBwYXJhbXN0ciA9IHBhcmFtc3RyLmpvaW4oJyYnKTsKICBsZXQgc2lnbldvcmRBcnJheSA9IEhtYWNTSEExKHBhcmFtc3RyLCAiMWRlMjM5MDcyNmY0MDI5NjYxMzM0YjFmOTRiMTU5Yjk2MWZiZmQ3YzIyNDE4NTUzOTNjN2Q1OThhNjAxY2Q3NCIpOwogIGxldCBzaWduID0gQmFzZTY0LnN0cmluZ2lmeShzaWduV29yZEFycmF5KTsKICBsZXQgZW5jb2RlU2lnbiA9IGVuY29kZVVSSUNvbXBvbmVudChzaWduKTsKICByZXR1cm4gcGFyYW1zdHIgKyAnJnNpZ249JyArIGVuY29kZVNpZ247Cn07CmV4cG9ydCB7IHNldFRzLCBnZXRVcmwsIGdldFNpZ24sIGdldEN0d2luVXJsIH07"},{"version":3,"names":["HmacSHA1","Base64","isEmpty","CLIENT","CLIENT_SECRET","TTL","dayjs","storage","getTs","Dvalue","get","Number","setTs","Promise","resolve","then","res","isNaN","set","unix","catch","getUrl","rest","Params","ts","ttl","obj","objTransUrlParams","ParamArr","sortUrlParams","objKeySort","paramstr","i","push","join","signWordArray","sign","stringify","encodeSign","encodeURIComponent","getSign","uid","newkey","Object","keys","sort","newObj","length","str","paramObj","paramArr","decodeURI","split","tmp","key","value","newValue","Array","isArray","params","forEach","getCtwinUrl"],"sources":["D:/Code/Project/WL/xasw-mobile/src/utils/request/sign.js"],"sourcesContent":["import HmacSHA1 from 'crypto-js/hmac-sha1'\r\nimport Base64 from 'crypto-js/enc-base64'\r\nimport { isEmpty } from '../util'\r\nimport { CLIENT, CLIENT_SECRET, TTL } from '@/config'\r\nimport dayjs from 'dayjs'\r\nimport storage from '../storage'\r\nimport { getTs } from '@/api/app'\r\n\r\nconst Dvalue = () => {\r\n  return `${storage.get('ts-D-value')}` == 'null' ? 0 : new Number(`${storage.get('ts-D-value')}`)\r\n\r\n}\r\n\r\nconst setTs = () => {\r\n  return new Promise((resolve) => {\r\n    getTs().then((res) => {\r\n      if (res && !isNaN(res)) {\r\n        storage.set('ts-D-value', res - dayjs().unix())\r\n      } else {\r\n        storage.set('ts-D-value', 0)\r\n      }\r\n      resolve(true)\r\n    }).catch(() => {\r\n      storage.set('ts-D-value', 0)\r\n      resolve(true)\r\n    })\r\n  })\r\n}\r\n\r\n\r\n//获取加密后的url参数字符串\r\n/**\r\n * @param {object} 对象中的属性为需要加密的属性\r\n * @example 'https://apigateway.ecidi.com/fawkes-new/staging/api/sys-storage/download_image?' +  getUrl({ f8s: fileToken })\r\n * @return https://apigateway.ecidi.com/fawkes-new/staging/api/sys-storage/download_image?f8s=4c1c912f03786cfa2473bb880d75e2c0&ts=1602323667077&ttl=30&uid=fawkes&sign=xmSwtplBxRp5nSiIjCDju8kizEk%3D\r\n */\r\nconst getUrl = (rest) => {\r\n  let Params = ''\r\n  let ts = dayjs().unix() + Dvalue()\r\n  let ttl = TTL\r\n  let obj = rest\r\n  Params += 'ts=' + ts + '&ttl=' + ttl + '&uid=' + CLIENT + (isEmpty(obj) ? '' : '&' + objTransUrlParams(obj))\r\n  let ParamArr = sortUrlParams(Params)\r\n  ParamArr = objKeySort(ParamArr)\r\n  let paramstr = []\r\n  for (let i in ParamArr) {\r\n    paramstr.push(i + '=' + ParamArr[i])\r\n  }\r\n  paramstr = paramstr.join('&')\r\n  let signWordArray = HmacSHA1(paramstr, CLIENT_SECRET)\r\n  let sign = Base64.stringify(signWordArray)\r\n  let encodeSign = encodeURIComponent(sign)\r\n  return paramstr + '&sign=' + encodeSign\r\n}\r\n\r\n//获取加密后的参数对象\r\n/**\r\n * @param {object} 对象中的属性为需要加密的属性\r\n * @example getSign({ f8s: fileToken })\r\n * @return \r\n * {\r\n    f8s: \"c15cf2e99c9b46cfc4ced4d2301b6aef\"\r\n    sign: \"AuBRUDz6qzBXW4B+sg1GiptuIys=\"\r\n    ts: \"1602499441622\"\r\n    ttl: \"30\"\r\n    uid: \"fawkes\"}\r\n */\r\nconst getSign = (rest) => {\r\n  let Params = ''\r\n  let ts = dayjs().unix() + Dvalue()\r\n  let ttl = TTL\r\n  let obj = rest\r\n  Params += 'ts=' + ts + '&ttl=' + ttl + '&uid=' + CLIENT + (isEmpty(obj) ? '' : '&' + objTransUrlParams(obj))\r\n  let ParamArr = sortUrlParams(Params)\r\n  ParamArr = objKeySort(ParamArr)\r\n  let paramstr = []\r\n  for (let i in ParamArr) {\r\n    paramstr.push(i + '=' + ParamArr[i])\r\n  }\r\n  paramstr = paramstr.join('&')\r\n  let signWordArray = HmacSHA1(paramstr, CLIENT_SECRET)\r\n  let sign = Base64.stringify(signWordArray)\r\n  return { sign, ts, ttl, uid: CLIENT, ...ParamArr }\r\n}\r\n\r\nconst objKeySort = (obj) => {\r\n  let newkey = Object.keys(obj).sort()\r\n  let newObj = {}\r\n  for (let i = 0; i < newkey.length; i++) {\r\n    newObj[newkey[i]] = obj[newkey[i]]\r\n  }\r\n  return newObj\r\n}\r\n\r\nconst sortUrlParams = (str) => {\r\n  if (typeof str !== 'string') {\r\n    return {}\r\n  }\r\n  let paramObj = {}\r\n  let paramArr = decodeURI(str).split('&')\r\n  // let paramArr = str.split('&');\r\n  for (let i = 0; i < paramArr.length; i++) {\r\n    let tmp = paramArr[i].split('=')\r\n    let key = tmp[0]\r\n    let value = tmp[1] || ''\r\n    //if (typeof value === 'string' && isNaN(Number(value)) === false && value !== \"\") {\r\n    //  value = Number(value);\r\n    //}\r\n    if (typeof paramObj[key] === 'undefined') {\r\n      paramObj[key] = value\r\n    } else {\r\n      let newValue = Array.isArray(paramObj[key]) ? paramObj[key] : [\r\n        paramObj[key]\r\n      ]\r\n      newValue.push(value)\r\n      paramObj[key] = newValue\r\n    }\r\n  }\r\n  return paramObj\r\n}\r\n\r\nconst objTransUrlParams = (obj) => {\r\n  const params = []\r\n  Object.keys(obj).forEach((key) => {\r\n    let value = obj[key]\r\n    if (typeof value === 'undefined') {\r\n      value = ''\r\n    }\r\n    params.push([key, value].join('='))\r\n  })\r\n  return params.join('&')\r\n}\r\n\r\n//获取cbe加密后的url参数字符串\r\nconst getCtwinUrl = (rest) => {\r\n  let Params = ''\r\n  let ts = dayjs().unix() + Dvalue()\r\n  let ttl = TTL\r\n  let obj = rest\r\n  Params += 'ts=' + ts + '&ttl=' + ttl + '&uid=ecf7199fa1b14b3445788079fdb852b5' + (isEmpty(obj) ? '' : '&' + objTransUrlParams(obj))\r\n  let ParamArr = sortUrlParams(Params)\r\n  ParamArr = objKeySort(ParamArr)\r\n  let paramstr = []\r\n  for (let i in ParamArr) {\r\n    paramstr.push(i + '=' + ParamArr[i])\r\n  }\r\n  paramstr = paramstr.join('&')\r\n  let signWordArray = HmacSHA1(paramstr, \"1de2390726f4029661334b1f94b159b961fbfd7c2241855393c7d598a601cd74\")\r\n  let sign = Base64.stringify(signWordArray)\r\n  let encodeSign = encodeURIComponent(sign)\r\n  return paramstr + '&sign=' + encodeSign\r\n}\r\n\r\nexport {\r\n  setTs,\r\n  getUrl,\r\n  getSign,\r\n  getCtwinUrl\r\n}\r\n"],"mappings":"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"}]}