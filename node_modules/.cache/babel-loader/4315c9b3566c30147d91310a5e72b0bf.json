{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\FormCenter\\ReimburseDetail\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\FormCenter\\ReimburseDetail\\index.vue","mtime":1705912800018},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQ1VSUkVOVF9ST1csIEVOVU0gfSBmcm9tICdAL3N0b3JlL1N0YXRlL3N0YXRlVHlwZXMnOwppbXBvcnQgVXBsb2FkZXIgZnJvbSAnQC9jb21wb25lbnRzL3VwbG9hZC9VcGxvYWRlci52dWUnOwppbXBvcnQgU2VsZWN0VXNlciBmcm9tICdAL2NvbXBvbmVudHMvc2VsZWN0LXVzZXInOwppbXBvcnQgU2VsZWN0T3JnIGZyb20gJ0AvY29tcG9uZW50cy9zZWxlY3Qtb3JnJzsKaW1wb3J0IERldGFpbFRhYmxlIGZyb20gJ0Avdmlld3MvRm9ybUNlbnRlci9jb21wb25lbnRzL0RldGFpbFRhYmxlL2luZGV4JzsKaW1wb3J0IHsgVGFiLCBUYWJzLCBOYXZCYXIsIEZpZWxkLCBDYWxlbmRhciwgQ2VsbCwgQ2VsbEdyb3VwLCBCdXR0b24sIFN0ZXBwZXIsIFBvcHVwLCBQaWNrZXIsIENoZWNrYm94LCBDaGVja2JveEdyb3VwLCBGb3JtIH0gZnJvbSAnZmF3a2VzLW1vYmlsZS1saWInOwppbXBvcnQgZm9ybU1peGluIGZyb20gJy4uL2Zvcm1NaXhpbic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVpbUJ1cnNlRGV0YWlsJywKICBjb21wb25lbnRzOiB7CiAgICBVcGxvYWRlciwKICAgIFNlbGVjdFVzZXIsCiAgICBTZWxlY3RPcmcsCiAgICBEZXRhaWxUYWJsZSwKICAgIFtUYWIubmFtZV06IFRhYiwKICAgIFtUYWJzLm5hbWVdOiBUYWJzLAogICAgW05hdkJhci5uYW1lXTogTmF2QmFyLAogICAgW0ZpZWxkLm5hbWVdOiBGaWVsZCwKICAgIFtDYWxlbmRhci5uYW1lXTogQ2FsZW5kYXIsCiAgICBbQ2VsbC5uYW1lXTogQ2VsbCwKICAgIFtDZWxsR3JvdXAubmFtZV06IENlbGxHcm91cCwKICAgIFtCdXR0b24ubmFtZV06IEJ1dHRvbiwKICAgIFtTdGVwcGVyLm5hbWVdOiBTdGVwcGVyLAogICAgW1BvcHVwLm5hbWVdOiBQb3B1cCwKICAgIFtQaWNrZXIubmFtZV06IFBpY2tlciwKICAgIFtDaGVja2JveC5uYW1lXTogQ2hlY2tib3gsCiAgICBbQ2hlY2tib3hHcm91cC5uYW1lXTogQ2hlY2tib3hHcm91cCwKICAgIFtGb3JtLm5hbWVdOiBGb3JtCiAgfSwKICBtaXhpbnM6IFtmb3JtTWl4aW5dLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0Rpc2FibGVkOiBmYWxzZSwKICAgICAgc2VydmljZTogewogICAgICAgIGluaXRpYWw6ICcvbW9iaWxlLWJ1aWxkL2Zvcm0vcXVlcnknLAogICAgICAgIC8v5Yid5aeL5YyW5o6l5Y+jCiAgICAgICAgc3VibWl0OiAnL21vYmlsZS1idWlsZC9mb3JtL2NvbW1pdCcgLy/mj5DkuqTmjqXlj6MKICAgICAgfSwKICAgICAgZW50aXR5TmFtZTogJ1JlaW1idXJzZScsCiAgICAgIC8v6L6T5YWl5q2k6KGo5Y2V55qE5aS06YOo5ZCN56ewCiAgICAgIGZvcm1OYW1lOiAn5bim5piO57uG5oql6ZSAJywKICAgICAgbW9kZWxLZXk6ICdyZWltYnVyc2UnLAogICAgICB0YWI6IDAsCiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgYXR0YWNobWVudDogJycsCiAgICAgICAgLy/pmYTku7YKICAgICAgICBidWRnZXQ6ICcgJywKICAgICAgICAvL+mHh+i0remihOeulwogICAgICAgIGRlcGFydG1lbnRJZDogJycsCiAgICAgICAgLy/pg6jpl6hJRAogICAgICAgIGRlcGFydG1lbnROYW1lOiAnJywKICAgICAgICAvL+mDqOmXqAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICAvL+aKpemUgOaPj+i/sAogICAgICAgIGZpbmFuY2VBc3NpZ25lZTogJycsCiAgICAgICAgLy/otKLliqHlrqHmibnkuroKICAgICAgICBmaW5hbmNlQXNzaWduZWVGdWxsbmFtZTogJycsCiAgICAgICAgLy/otKLliqHlrqHmibnkuroKICAgICAgICBtYW5hZ2VBc3NpZ25lZTogJycsCiAgICAgICAgLy/nu4/nkIblrqHmibnkuroKICAgICAgICBtYW5hZ2VBc3NpZ25lZUZ1bGxuYW1lOiAnJywKICAgICAgICAvL+e7j+eQhuWuoeaJueS6ugogICAgICAgIG1hbmFnZXI6ICcnLAogICAgICAgIC8v6YeH6LSt6LSf6LSj5Lq6CiAgICAgICAgbWFuYWdlckZ1bGxuYW1lOiAnJywKICAgICAgICAvL+mHh+i0rei0n+i0o+S6ugogICAgICAgIG5vdGlmaWNhdGlvbjogJ+efreS/oScsCiAgICAgICAgLy/pgJrnn6XmlrnlvI8KICAgICAgICBwbGFuRGF0ZTogJycsCiAgICAgICAgLy/ph4fotK3orqHliJLml6XmnJ8KICAgICAgICByZWltYnVyc2VOYW1lOiAnJywKICAgICAgICAvL+aKpemUgOWQjeensAogICAgICAgIHJlaW1idXJzZVR5cGU6ICcnLAogICAgICAgIC8v5beu5peF57G75Z6LCiAgICAgICAgY3JlYXRlQnk6ICcnLAogICAgICAgIC8v5aGr5YaZ5Lq65pi156ewCiAgICAgICAgY3JlYXRlRGF0ZTogJycgLy/loavlhpnml6XmnJ8KICAgICAgfSwKICAgICAgLy8g5piO57uG6KGo5YiX5a+56LGhCiAgICAgIHRhYmxlQ29sdW1uOiB7CiAgICAgICAgcmVpbWJ1cnNlQXR0YWNoZW1lbnRMaXN0OiBbewogICAgICAgICAgaW5kZXg6IDAsCiAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICBwcm9wOiAnZmlsZVR5cGUnLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgbGFiZWw6ICfmlofku7bnsbvlnosnLAogICAgICAgICAgZWRpdDogdHJ1ZSwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWlJywKICAgICAgICAgIGVkaXRUeXBlOiAnaW5wdXQnLAogICAgICAgICAgcmVhZG9ubHk6IGZhbHNlLAogICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBpbmRleDogMSwKICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICAgIHByb3A6ICdmaWxlTmFtZScsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICBsYWJlbDogJ+aWh+S7tuWQjeensCcsCiAgICAgICAgICBlZGl0OiB0cnVlLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaUnLAogICAgICAgICAgZWRpdFR5cGU6ICdpbnB1dCcsCiAgICAgICAgICByZWFkb25seTogZmFsc2UsCiAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGluZGV4OiAyLAogICAgICAgICAgdmFsdWU6ICcnLAogICAgICAgICAgcHJvcDogJ2F0dGFjaG1lbnQnLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgbGFiZWw6ICfpmYTku7YnLAogICAgICAgICAgZWRpdDogdHJ1ZSwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAnJywKICAgICAgICAgIGVkaXRUeXBlOiAnZmlsZScsCiAgICAgICAgICByZWFkb25seTogZmFsc2UsCiAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICByZXF1aXJlZDogZmFsc2UKICAgICAgICB9LCB7CiAgICAgICAgICBpbmRleDogMywKICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICAgIHByb3A6ICdkZXNjcmlwdGlvbicsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICBsYWJlbDogJ+aPj+i/sCcsCiAgICAgICAgICBlZGl0OiB0cnVlLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaUnLAogICAgICAgICAgZWRpdFR5cGU6ICd0ZXh0YXJlYScsCiAgICAgICAgICByZWFkb25seTogZmFsc2UsCiAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIH1dLAogICAgICAgIHJlaW1idXJzZURldGFpbExpc3Q6IFt7CiAgICAgICAgICBpbmRleDogMCwKICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICAgIHByb3A6ICdyZWltYnVyc2VUeXBlJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIGxhYmVsOiAn5oql6ZSA57G75Z6LJywKICAgICAgICAgIGVkaXQ6IHRydWUsCiAgICAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpScsCiAgICAgICAgICBlZGl0VHlwZTogJ3NlbGVjdCcsCiAgICAgICAgICBkaWN0Q29kZTogJ3JlaW1idXJzZV90eXBlJywKICAgICAgICAgIHJlYWRvbmx5OiBmYWxzZSwKICAgICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAgaW5kZXg6IDEsCiAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICBwcm9wOiAncmVpbWJ1cnNlTmFtZScsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICBsYWJlbDogJ+aKpemUgOWQjeensCcsCiAgICAgICAgICBlZGl0OiB0cnVlLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaUnLAogICAgICAgICAgZWRpdFR5cGU6ICdpbnB1dCcsCiAgICAgICAgICByZWFkb25seTogZmFsc2UsCiAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGluZGV4OiAyLAogICAgICAgICAgdmFsdWU6ICcnLAogICAgICAgICAgcHJvcDogJ3JlaW1idXJzZUZ1bGxuYW1lJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIGxhYmVsOiAn5oql6ZSA5Lq65aeT5ZCNJywKICAgICAgICAgIGVkaXQ6IHRydWUsCiAgICAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpScsCiAgICAgICAgICBlZGl0VHlwZTogJ2lucHV0JywKICAgICAgICAgIHJlYWRvbmx5OiBmYWxzZSwKICAgICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAgaW5kZXg6IDMsCiAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICBwcm9wOiAncmVpbWJ1cnNlRmVlJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIGxhYmVsOiAn5oql6ZSA6LS555SoJywKICAgICAgICAgIGVkaXQ6IHRydWUsCiAgICAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpScsCiAgICAgICAgICBlZGl0VHlwZTogJ251bWJlcicsCiAgICAgICAgICByZWFkb25seTogZmFsc2UsCiAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGluZGV4OiA0LAogICAgICAgICAgdmFsdWU6ICcnLAogICAgICAgICAgcHJvcDogJ3JlaW1idXJzZURhdGUnLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgbGFiZWw6ICfmiqXplIDml6XmnJ8nLAogICAgICAgICAgZWRpdDogdHJ1ZSwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWlJywKICAgICAgICAgIGVkaXRUeXBlOiAnZGF0ZVBpY2tlcicsCiAgICAgICAgICByZWFkb25seTogZmFsc2UsCiAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIGZvcm1hdDogJ1lZWVktTU0tREQnCiAgICAgICAgfSwgewogICAgICAgICAgaW5kZXg6IDUsCiAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICBwcm9wOiAnZGVzY3JpcHRpb24nLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgbGFiZWw6ICfmiqXplIDmj4/ov7AnLAogICAgICAgICAgZWRpdDogdHJ1ZSwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWlJywKICAgICAgICAgIGVkaXRUeXBlOiAndGV4dGFyZWEnLAogICAgICAgICAgcmVhZG9ubHk6IGZhbHNlLAogICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB9XQogICAgICB9LAogICAgICAvLyDmmI7nu4booajlr7nosaEKICAgICAgZGV0YWlsVGFibGU6IHsKICAgICAgICByZWltYnVyc2VEZXRhaWxMaXN0OiBbXSwKICAgICAgICByZWltYnVyc2VBdHRhY2hlbWVudExpc3Q6IFtdCiAgICAgIH0sCiAgICAgIC8vIOaYjue7huihqOWvueixoQogICAgICBkZXRhaWxQYXJhbUxpc3Q6IFt7CiAgICAgICAgZGV0YWlsRW50aXR5TmFtZTogJ1JlaW1idXJzZURldGFpbCcsCiAgICAgICAgZGV0YWlsRW50aXR5QXJyYXk6IFtdCiAgICAgIH0sIHsKICAgICAgICBkZXRhaWxFbnRpdHlOYW1lOiAnUmVpbWJ1cnNlQXR0YWNoZW1lbnQnLAogICAgICAgIGRldGFpbEVudGl0eUFycmF5OiBbXQogICAgICB9XSwKICAgICAgLy8g5piO57uG6KGo5a6e5L2T5ZCN5pWw57uECiAgICAgIGRldGFpbEVudGl0eU5hbWVMaXN0OiBbJ1JlaW1idXJzZURldGFpbCcsICdSZWltYnVyc2VBdHRhY2hlbWVudCddLAogICAgICBzaG93UGxhbkRhdGU6ICcnLAogICAgICBmbGFnOiB0cnVlLAogICAgICBzaG93RGF0ZTogZmFsc2UsCiAgICAgIHNob3dQaWNrZXI6IGZhbHNlLAogICAgICBzaG93Q2FsZW5kYXI6IGZhbHNlLAogICAgICBmaWxlTGlzdDogW10sCiAgICAgIGRldGFpbFNjaGVkdWxlUGFyYW1MaXN0OiBbXSwKICAgICAgYXR0YWNoZW1lbnRTY2hlZHVsZVBhcmFtTGlzdDogW10sCiAgICAgIGNoZWNrYm94R3JvdXA6IFsn55+t5L+hJ10sCiAgICAgIGxvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHt9LAogIGNvbXB1dGVkOiB7CiAgICByb3coKSB7CiAgICAgIC8vIOmhtemdouS4reS9v+eUqHJvd+adpeaMh+S7o+W9k+WJjeiusOW9lQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGVbQ1VSUkVOVF9ST1ddOwogICAgfSwKICAgIHJlaW1idXJzZVR5cGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZVtFTlVNXVt0aGlzLnRvTGluZSgncmVpbWJ1cnNlX3R5cGUnKV0gfHwgW107CiAgICB9LAogICAgbGFuZygpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JhZ2UuZ2V0KCdpMThuTG9jYWxlJykgPT0gJ3poJykgewogICAgICAgIHJldHVybiAnemgtQ04nOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnZW4nOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgLy8g6Z2e5pqC5a2Y546v6IqC5LiN5Y+v57yW6L6RCiAgICBpZiAodGhpcy50eXBlID09ICdleGVjdXRlJyAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMudGFza0tleSAhPSAnVXNlclRhc2tfMCcpIHsKICAgICAgdGhpcy5pc0Rpc2FibGVkID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09ICd2aWV3JykgewogICAgICB0aGlzLmlzRGlzYWJsZWQgPSB0cnVlOwogICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT0gJ2FkZCcpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5jcmVhdGVCeSA9IHRoaXMuJHN0b3JhZ2UuZ2V0KCd1c2VybmFtZScpOwogICAgICB0aGlzLmZvcm1EYXRhLmNyZWF0ZURhdGUgPSB0aGlzLiRkYXlqcygpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYmVmb3JlSW5pdChyZXMpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIGlmIChyZXMuc3RhdHVzKSB7CiAgICAgICAgICByZXMuZGF0YS5lbnRpdHlPYmplY3QucGxhbkRhdGUgPSByZXMuZGF0YS5lbnRpdHlPYmplY3QucGxhbkRhdGUgPT0gbnVsbCA/IG51bGwgOiByZXMuZGF0YS5lbnRpdHlPYmplY3QucGxhbkRhdGUuc3BsaXQoJyAnKVswXTsKICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcy5kYXRhLmVudGl0eU9iamVjdDsKICAgICAgICAgIHRoaXMuZGV0YWlsUGFyYW1MaXN0ID0gcmVzLmRhdGEuZGV0YWlsUGFyYW1MaXN0OwogICAgICAgICAgdGhpcy5kZXRhaWxUYWJsZS5yZWltYnVyc2VBdHRhY2hlbWVudExpc3QgPSByZXMuZGF0YS5kZXRhaWxQYXJhbUxpc3RbMV0uZGV0YWlsRW50aXR5QXJyYXk7CiAgICAgICAgICB0aGlzLmRldGFpbFRhYmxlLnJlaW1idXJzZURldGFpbExpc3QgPSByZXMuZGF0YS5kZXRhaWxQYXJhbUxpc3RbMF0uZGV0YWlsRW50aXR5QXJyYXk7CiAgICAgICAgICByZXN1bHQuY3JlYXRlQnkgPSB0aGlzLiRzdG9yYWdlLmdldCgndXNlcm5hbWUnKTsKICAgICAgICAgIHJlc3VsdC5jcmVhdGVEYXRlID0gdGhpcy4kZGF5anMocmVzdWx0LmNyZWF0ZURhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpOwogICAgICAgICAgLy8g5Yik5pat6YKu566x55+t5L+h55qE6YCJ5Lit54q25oCBCiAgICAgICAgICBpZiAocmVzLmRhdGEuZW50aXR5T2JqZWN0Lm5vdGlmaWNhdGlvbiAhPSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMuY2hlY2tib3hHcm91cCA9IHJlcy5kYXRhLmVudGl0eU9iamVjdC5ub3RpZmljYXRpb24uc3BsaXQoJywnKTsKICAgICAgICAgIH0KICAgICAgICAgIHJlc29sdmUoewogICAgICAgICAgICBmb3JtRGF0YTogcmVzdWx0LAogICAgICAgICAgICBkZXRhaWxQYXJhbUxpc3Q6IHRoaXMuZGV0YWlsUGFyYW1MaXN0CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5omn6KGM5pON5L2c5YmN55qE5qCh6aqMCiAgICB2YWxpZGF0b3IoKSB7CiAgICAgIGlmICghdGhpcy5mb3JtRGF0YS5tYW5hZ2VyRnVsbG5hbWUpIHsKICAgICAgICB0aGlzLiR0b2FzdCgn6K+36YCJ5oup6YeH6LSt6LSf6LSj5Lq6Jyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmICghdGhpcy5mb3JtRGF0YS5maW5hbmNlQXNzaWduZWVGdWxsbmFtZSkgewogICAgICAgIHRoaXMuJHRvYXN0KCfor7fpgInmi6notKLliqHlrqHmibnkuronKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmZvcm1EYXRhLm1hbmFnZUFzc2lnbmVlRnVsbG5hbWUpIHsKICAgICAgICB0aGlzLiR0b2FzdCgn6K+36YCJ5oup57uP55CG5a6h5om55Lq6Jyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmICghdGhpcy5mb3JtRGF0YS5kZXBhcnRtZW50TmFtZSkgewogICAgICAgIHRoaXMuJHRvYXN0KCfor7fpgInmi6nmtYvor5Xpg6jpl6gnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZGV0YWlsVGFibGUucmVpbWJ1cnNlQXR0YWNoZW1lbnRMaXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoJ+eUs+ivt+aKpemUgOWtkOihqOmZhOS7tuihqOS4jeiDveS4uuepuicpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAodGhpcy5kZXRhaWxUYWJsZS5yZWltYnVyc2VEZXRhaWxMaXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoJ+eUs+ivt+aKpemUgOWtkOihqOS4jeiDveS4uuepuicpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICAvLyDooajljZXmj5DkuqQo5a6h5om5KeWJjQogICAgYmVmb3JlU3VibWl0KCkgewogICAgICAvLyDnpLrkvovooajljZXorqHliJLml6XmnJ/lrZfmrrXlnKjmlbDmja7lupPnsbvlnovpn6ZkYXRldGltZe+8jOmcgOimgeWkhOeQhuS4iwogICAgICB0aGlzLmZvcm1EYXRhLnBsYW5EYXRlID0gdGhpcy5mb3JtRGF0YS5wbGFuRGF0ZSA/IHRoaXMuJGRheWpzKHRoaXMuZm9ybURhdGEucGxhbkRhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCAwMDowMDowMCcpIDogbnVsbDsKICAgICAgLy8g5aaC5p6c5pyJ5LiK5Lyg5paH5Lu277yM5YiZ5ZCI5bm25paH5Lu2ZmlsZXRva2Vu5Li6Z3JvdXBUb2tlbgogICAgICBpZiAodGhpcy5maWxlTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8g5bGP6JS9d2F0Y2jnm5HlkKzpmYTku7blgLzlj5jmm7Tph43mlrDojrflj5bmlofku7YKICAgICAgICB0aGlzLiRyZWZzLmF0dGFjaG1lbnQubmVlZFRvR2V0RmlsZSA9IGZhbHNlOwogICAgICAgIHRoaXMuJHJlZnMuYXR0YWNobWVudC5zZXRHOXMoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZvcm1EYXRhLmF0dGFjaG1lbnQgPSAnJzsKICAgICAgfQogICAgICB0aGlzLiRlbWl0KCdzZXRGb3JtRGF0YScsIHRoaXMuZm9ybURhdGEpOwogICAgICB0aGlzLmRldGFpbFBhcmFtTGlzdFswXS5kZXRhaWxFbnRpdHlBcnJheSA9IHRoaXMuZGV0YWlsVGFibGUucmVpbWJ1cnNlRGV0YWlsTGlzdDsKICAgICAgdGhpcy5kZXRhaWxQYXJhbUxpc3RbMF0uZGV0YWlsRW50aXR5QXJyYXkuZm9yRWFjaChlbnRyeSA9PiB7CiAgICAgICAgZW50cnkucmVpbWJ1cnNlRGF0ZSA9IHRoaXMuJGRheWpzKGVudHJ5LnJlaW1idXJzZURhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCAwMDowMDowMCcpOwogICAgICB9KTsKICAgICAgdGhpcy5kZXRhaWxQYXJhbUxpc3RbMV0uZGV0YWlsRW50aXR5QXJyYXkgPSB0aGlzLmRldGFpbFRhYmxlLnJlaW1idXJzZUF0dGFjaGVtZW50TGlzdDsKICAgICAgdGhpcy4kZW1pdCgnc2V0RGV0YWlsUGFyYW1MaXN0JywgdGhpcy5kZXRhaWxQYXJhbUxpc3QpOwogICAgfSwKICAgIC8vIOmZkOWItuatpei/m+WZqOacgOWkmuWPquiDveS4ieS9jeWwj+aVsAogICAgc3RlcHBlckNoYW5nZSh2YWwpIHsKICAgICAgLy8g5b2T5pyJ5YC85oiW5Li65pWw5a2X5pe25Yik5patCiAgICAgIGlmICh2YWwgPT09ICcnIHx8IHZhbCA9PSBudWxsIHx8IGlzTmFOKHZhbCkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IHJlZyA9IC9eXGQrXC4/XGR7MCwzfSQvOwogICAgICBsZXQgbmV3VmFsID0gbnVsbDsKICAgICAgaWYgKCFyZWcudGVzdCh2YWwpKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoJ+mZkOWItuato+aVsOaIljPkvY3lsI/mlbAnKTsKICAgICAgICB2YWwgPSB2YWwudG9TdHJpbmcoKTsKICAgICAgICBuZXdWYWwgPSB2YWwuaW5kZXhPZignLicpID4gLTEgPyB2YWwuc2xpY2UoMCwgdmFsLmluZGV4T2YoJy4nKSArIDQpIDogdmFsOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybURhdGEsICdidWRnZXQnLCBuZXdWYWwpOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnoa7orqTpgInmi6nml6XmnJ/nu4Tku7YKICAgIG9uQ2FsZW5kYXJDb25maXJtKGRhdGUpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5wbGFuRGF0ZSA9IHRoaXMuJGRheWpzKGRhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpOwogICAgICB0aGlzLnNob3dDYWxlbmRhciA9IGZhbHNlOwogICAgfSwKICAgIC8vIOehruiupOmAieaLqeW3ruaXheexu+Wei+e7hOS7tgogICAgb25SZWltYnVyc2VUeXBlQ29uZmlybSh2YWx1ZSkgewogICAgICB0aGlzLmZvcm1EYXRhLnJlaW1idXJzZVR5cGUgPSB2YWx1ZS5jb2RlOwogICAgICB0aGlzLnNob3dQaWNrZXIgPSBmYWxzZTsKICAgIH0sCiAgICBjaGVja2JveCh2YWx1ZSkgewogICAgICB0aGlzLmZvcm1EYXRhLm5vdGlmaWNhdGlvbiA9IHZhbHVlLnRvU3RyaW5nKCk7CiAgICB9LAogICAgZmlsZUNoYW5nZShpdGVtKSB7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBpdGVtLmZpbGVMaXN0OwogICAgfQogIH0KfTs="},{"version":3,"names":["CURRENT_ROW","ENUM","Uploader","SelectUser","SelectOrg","DetailTable","Tab","Tabs","NavBar","Field","Calendar","Cell","CellGroup","Button","Stepper","Popup","Picker","Checkbox","CheckboxGroup","Form","formMixin","name","components","mixins","data","isDisabled","service","initial","submit","entityName","formName","modelKey","tab","formData","attachment","budget","departmentId","departmentName","description","financeAssignee","financeAssigneeFullname","manageAssignee","manageAssigneeFullname","manager","managerFullname","notification","planDate","reimburseName","reimburseType","createBy","createDate","tableColumn","reimburseAttachementList","index","value","prop","align","label","edit","placeholder","editType","readonly","disabled","required","reimburseDetailList","dictCode","format","detailTable","detailParamList","detailEntityName","detailEntityArray","detailEntityNameList","showPlanDate","flag","showDate","showPicker","showCalendar","fileList","detailScheduleParamList","attachementScheduleParamList","checkboxGroup","loading","watch","computed","row","$store","state","toLine","lang","$storage","get","mounted","type","$route","params","taskKey","$dayjs","methods","beforeInit","res","Promise","resolve","status","entityObject","split","result","validator","$toast","length","beforeSubmit","$refs","needToGetFile","setG9s","$emit","forEach","entry","reimburseDate","stepperChange","val","isNaN","reg","newVal","test","toString","indexOf","slice","setTimeout","$set","onCalendarConfirm","date","onReimburseTypeConfirm","code","checkbox","fileChange","item"],"sources":["src/views/FormCenter/ReimburseDetail/index.vue"],"sourcesContent":["<template>\r\n  <fm-form ref=\"form\" validate-first>\r\n    <fm-field\r\n      input-align=\"right\"\r\n      v-model=\"formData.reimburseName\"\r\n      name=\"采购计划名称\"\r\n      label=\"采购计划名称\"\r\n      :maxlength=\"255\"\r\n      :placeholder=\"flowConfig.reimburseName == 'readonly' ? '' : '请输入采购计划名称'\"\r\n      :readonly=\"flowConfig.reimburseName == 'readonly'\"\r\n    />\r\n    <div>\r\n      <fm-field\r\n        :is-link=\"flowConfig.planDate != 'readonly'\"\r\n        input-align=\"right\"\r\n        readonly\r\n        clickable\r\n        name=\"calendar\"\r\n        :value=\"formData.planDate\"\r\n        label=\"采购计划日期\"\r\n        :placeholder=\"flowConfig.planDate == 'readonly' ? '' : '请选择'\"\r\n        @click.stop.native=\"flowConfig.planDate == 'readonly' ? '' : (showCalendar = true)\"\r\n      />\r\n      <fm-calendar\r\n        v-model=\"showCalendar\"\r\n        @confirm=\"onCalendarConfirm\"\r\n        :confirm-button-style=\"{ height: '44p;', marginBottom: '10px' }\"\r\n      />\r\n    </div>\r\n    <div>\r\n      <fm-field name=\"stepper\" label=\"采购预算\" input-align=\"right\">\r\n        <template #input>\r\n          <fm-stepper\r\n            @change=\"stepperChange\"\r\n            input-width=\"50\"\r\n            :disabled=\"flowConfig.budget == 'readonly'\"\r\n            min=\"0\"\r\n            v-model=\"formData.budget\"\r\n          />\r\n        </template>\r\n      </fm-field>\r\n    </div>\r\n    <div>\r\n      <fm-field\r\n        :is-link=\"flowConfig.reimburseType != 'readonly'\"\r\n        readonly\r\n        clickable\r\n        input-align=\"right\"\r\n        name=\"picker\"\r\n        :value=\"formData.reimburseType | transferEnum('reimburse_type')\"\r\n        label=\"采购类型\"\r\n        :placeholder=\"flowConfig.reimburseType == 'readonly' ? '' : '请选择'\"\r\n        @click.stop.native=\"flowConfig.reimburseType == 'readonly' ? '' : (showPicker = true)\"\r\n      />\r\n      <fm-popup :visible.sync=\"showPicker\" position=\"bottom\">\r\n        <fm-picker\r\n          confirm-button-text=\"完成\"\r\n          title=\"采购类型\"\r\n          show-toolbar\r\n          :columns=\"reimburseType\"\r\n          :value-key=\"lang\"\r\n          @confirm=\"onReimburseTypeConfirm\"\r\n          @cancel=\"showPicker = false\"\r\n        />\r\n      </fm-popup>\r\n    </div>\r\n    <div class=\"textarea-type\">\r\n      <fm-cell-group title=\"采购说明\">\r\n        <fm-field\r\n          v-model=\"formData.description\"\r\n          type=\"textarea\"\r\n          maxlength=\"50\"\r\n          :readonly=\"flowConfig.description == 'readonly'\"\r\n          :placeholder=\"flowConfig.description == 'readonly' ? '' : '请输入采购说明'\"\r\n          show-word-limit\r\n        />\r\n      </fm-cell-group>\r\n    </div>\r\n    <fm-field name=\"checkboxGroup\" label=\"通知方式\" input-align=\"right\">\r\n      <template #input>\r\n        <fm-checkbox-group v-model=\"checkboxGroup\" direction=\"horizontal\" @change=\"checkbox\">\r\n          <fm-checkbox :disabled=\"true\" name=\"短信\" shape=\"square\">短信</fm-checkbox>\r\n          <fm-checkbox :disabled=\"flowConfig.notification == 'readonly'\" name=\"邮箱\" shape=\"square\"\r\n            >邮箱</fm-checkbox\r\n          >\r\n        </fm-checkbox-group>\r\n      </template>\r\n    </fm-field>\r\n    <uploader\r\n      v-model=\"formData.attachment\"\r\n      :deletable=\"flowConfig.attachment != 'readonly'\"\r\n      :disabled=\"flowConfig.attachment == 'readonly'\"\r\n      @fileChange=\"fileChange\"\r\n      :showUpload=\"flowConfig.attachment != 'readonly'\"\r\n      ref=\"attachment\"\r\n      type=\"image\"\r\n      class=\"uploder-attachment\"\r\n    />\r\n    <fm-field\r\n      input-align=\"right\"\r\n      v-model=\"formData.createBy\"\r\n      name=\"填写人\"\r\n      label=\"填写人\"\r\n      :readonly=\"true\"\r\n    />\r\n    <fm-field\r\n      input-align=\"right\"\r\n      v-model=\"formData.createDate\"\r\n      name=\"填写日期\"\r\n      label=\"填写日期\"\r\n      :readonly=\"true\"\r\n    />\r\n    <select-user\r\n      title=\"采购负责人\"\r\n      :userFullname.sync=\"formData.managerFullname\"\r\n      :userName.sync=\"formData.manager\"\r\n      :disabled=\"flowConfig.manager == 'readonly'\"\r\n      :multiple=\"false\"\r\n      :required=\"true\"\r\n    >\r\n    </select-user>\r\n    <select-user\r\n      title=\"财务审批人\"\r\n      :userFullname.sync=\"formData.financeAssigneeFullname\"\r\n      :userName.sync=\"formData.financeAssignee\"\r\n      :disabled=\"flowConfig.manager == 'readonly'\"\r\n      :multiple=\"false\"\r\n      :required=\"true\"\r\n    ></select-user>\r\n    <select-user\r\n      title=\"经理审批人\"\r\n      :userFullname.sync=\"formData.manageAssigneeFullname\"\r\n      :userName.sync=\"formData.manageAssignee\"\r\n      :disabled=\"flowConfig.manager == 'readonly'\"\r\n      :required=\"true\"\r\n    ></select-user>\r\n    <select-org\r\n      title=\"测试部门\"\r\n      :deptId.sync=\"formData.departmentId\"\r\n      :deptName.sync=\"formData.departmentName\"\r\n      :disabled=\"flowConfig.manager == 'readonly'\"\r\n      :required=\"true\"\r\n    ></select-org>\r\n\r\n    <!--明细表-->\r\n    <detail-table\r\n      :tableColumn=\"tableColumn.reimburseAttachementList\"\r\n      :formDetail.sync=\"detailTable.reimburseAttachementList\"\r\n      tableName=\"申请报销子表附件表\"\r\n      ref=\"detailForm0\"\r\n      :tableType=\"type\"\r\n      :required=\"true\"\r\n      :readonly=\"isDisabled ? 'readonly' : ''\"\r\n    ></detail-table>\r\n    <detail-table\r\n      :tableColumn=\"tableColumn.reimburseDetailList\"\r\n      :formDetail.sync=\"detailTable.reimburseDetailList\"\r\n      tableName=\"申请报销子表\"\r\n      ref=\"detailForm0\"\r\n      :tableType=\"type\"\r\n      :required=\"true\"\r\n      :readonly=\"isDisabled ? 'readonly' : ''\"\r\n    ></detail-table>\r\n  </fm-form>\r\n</template>\r\n<script>\r\nimport { CURRENT_ROW, ENUM } from '@/store/State/stateTypes'\r\nimport Uploader from '@/components/upload/Uploader.vue'\r\nimport SelectUser from '@/components/select-user'\r\nimport SelectOrg from '@/components/select-org'\r\nimport DetailTable from '@/views/FormCenter/components/DetailTable/index'\r\n\r\nimport {\r\n  Tab,\r\n  Tabs,\r\n  NavBar,\r\n  Field,\r\n  Calendar,\r\n  Cell,\r\n  CellGroup,\r\n  Button,\r\n  Stepper,\r\n  Popup,\r\n  Picker,\r\n  Checkbox,\r\n  CheckboxGroup,\r\n  Form,\r\n} from 'fawkes-mobile-lib'\r\n\r\nimport formMixin from '../formMixin'\r\n\r\nexport default {\r\n  name: 'ReimBurseDetail',\r\n  components: {\r\n    Uploader,\r\n    SelectUser,\r\n    SelectOrg,\r\n    DetailTable,\r\n    [Tab.name]: Tab,\r\n    [Tabs.name]: Tabs,\r\n    [NavBar.name]: NavBar,\r\n    [Field.name]: Field,\r\n    [Calendar.name]: Calendar,\r\n    [Cell.name]: Cell,\r\n    [CellGroup.name]: CellGroup,\r\n    [Button.name]: Button,\r\n    [Stepper.name]: Stepper,\r\n    [Popup.name]: Popup,\r\n    [Picker.name]: Picker,\r\n    [Checkbox.name]: Checkbox,\r\n    [CheckboxGroup.name]: CheckboxGroup,\r\n    [Form.name]: Form,\r\n  },\r\n  mixins: [formMixin],\r\n  data() {\r\n    return {\r\n      isDisabled: false,\r\n      service: {\r\n        initial: '/mobile-build/form/query', //初始化接口\r\n        submit: '/mobile-build/form/commit', //提交接口\r\n      },\r\n      entityName: 'Reimburse',\r\n      //输入此表单的头部名称\r\n      formName: '带明细报销',\r\n      modelKey: 'reimburse',\r\n      tab: 0,\r\n      formData: {\r\n        attachment: '', //附件\r\n        budget: ' ', //采购预算\r\n        departmentId: '', //部门ID\r\n        departmentName: '', //部门\r\n        description: '', //报销描述\r\n        financeAssignee: '', //财务审批人\r\n        financeAssigneeFullname: '', //财务审批人\r\n        manageAssignee: '', //经理审批人\r\n        manageAssigneeFullname: '', //经理审批人\r\n        manager: '', //采购负责人\r\n        managerFullname: '', //采购负责人\r\n        notification: '短信', //通知方式\r\n        planDate: '', //采购计划日期\r\n        reimburseName: '', //报销名称\r\n        reimburseType: '', //差旅类型\r\n        createBy: '', //填写人昵称\r\n        createDate: '', //填写日期\r\n      },\r\n      // 明细表列对象\r\n      tableColumn: {\r\n        reimburseAttachementList: [\r\n          {\r\n            index: 0,\r\n            value: '',\r\n            prop: 'fileType',\r\n            align: 'center',\r\n            label: '文件类型',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'input',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 1,\r\n            value: '',\r\n            prop: 'fileName',\r\n            align: 'center',\r\n            label: '文件名称',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'input',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 2,\r\n            value: '',\r\n            prop: 'attachment',\r\n            align: 'center',\r\n            label: '附件',\r\n            edit: true,\r\n            placeholder: '',\r\n            editType: 'file',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: false,\r\n          },\r\n          {\r\n            index: 3,\r\n            value: '',\r\n            prop: 'description',\r\n            align: 'center',\r\n            label: '描述',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'textarea',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n        ],\r\n        reimburseDetailList: [\r\n          {\r\n            index: 0,\r\n            value: '',\r\n            prop: 'reimburseType',\r\n            align: 'center',\r\n            label: '报销类型',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'select',\r\n            dictCode: 'reimburse_type',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 1,\r\n            value: '',\r\n            prop: 'reimburseName',\r\n            align: 'center',\r\n            label: '报销名称',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'input',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 2,\r\n            value: '',\r\n            prop: 'reimburseFullname',\r\n            align: 'center',\r\n            label: '报销人姓名',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'input',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 3,\r\n            value: '',\r\n            prop: 'reimburseFee',\r\n            align: 'center',\r\n            label: '报销费用',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'number',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 4,\r\n            value: '',\r\n            prop: 'reimburseDate',\r\n            align: 'center',\r\n            label: '报销日期',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'datePicker',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n            format: 'YYYY-MM-DD',\r\n          },\r\n          {\r\n            index: 5,\r\n            value: '',\r\n            prop: 'description',\r\n            align: 'center',\r\n            label: '报销描述',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'textarea',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n        ],\r\n      },\r\n      // 明细表对象\r\n      detailTable: {\r\n        reimburseDetailList: [],\r\n        reimburseAttachementList: [],\r\n      },\r\n      // 明细表对象\r\n      detailParamList: [\r\n        {\r\n          detailEntityName: 'ReimburseDetail',\r\n          detailEntityArray: [],\r\n        },\r\n        {\r\n          detailEntityName: 'ReimburseAttachement',\r\n          detailEntityArray: [],\r\n        },\r\n      ],\r\n\r\n      // 明细表实体名数组\r\n      detailEntityNameList: ['ReimburseDetail', 'ReimburseAttachement'],\r\n      showPlanDate: '',\r\n      flag: true,\r\n      showDate: false,\r\n      showPicker: false,\r\n      showCalendar: false,\r\n      fileList: [],\r\n      detailScheduleParamList: [],\r\n      attachementScheduleParamList: [],\r\n      checkboxGroup: ['短信'],\r\n      loading: false,\r\n    }\r\n  },\r\n  watch: {},\r\n  computed: {\r\n    row() {\r\n      // 页面中使用row来指代当前记录\r\n      return this.$store.state[CURRENT_ROW]\r\n    },\r\n    reimburseType() {\r\n      return this.$store.state[ENUM][this.toLine('reimburse_type')] || []\r\n    },\r\n    lang() {\r\n      if (this.$storage.get('i18nLocale') == 'zh') {\r\n        return 'zh-CN'\r\n      } else {\r\n        return 'en'\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    // 非暂存环节不可编辑\r\n    if (this.type == 'execute' && this.$route.params.taskKey != 'UserTask_0') {\r\n      this.isDisabled = true\r\n    } else if (this.type == 'view') {\r\n      this.isDisabled = true\r\n    } else if (this.type == 'add') {\r\n      this.formData.createBy = this.$storage.get('username')\r\n      this.formData.createDate = this.$dayjs().format('YYYY-MM-DD HH:mm:ss')\r\n    }\r\n  },\r\n  methods: {\r\n    beforeInit(res) {\r\n      return new Promise((resolve) => {\r\n        if (res.status) {\r\n          res.data.entityObject.planDate =\r\n            res.data.entityObject.planDate == null\r\n              ? null\r\n              : res.data.entityObject.planDate.split(' ')[0]\r\n          const result = res.data.entityObject\r\n          this.detailParamList = res.data.detailParamList\r\n          this.detailTable.reimburseAttachementList = res.data.detailParamList[1].detailEntityArray\r\n          this.detailTable.reimburseDetailList = res.data.detailParamList[0].detailEntityArray\r\n          result.createBy = this.$storage.get('username')\r\n          result.createDate = this.$dayjs(result.createDate).format('YYYY-MM-DD HH:mm:ss')\r\n          // 判断邮箱短信的选中状态\r\n          if (res.data.entityObject.notification != null) {\r\n            this.checkboxGroup = res.data.entityObject.notification.split(',')\r\n          }\r\n          resolve({ formData: result, detailParamList: this.detailParamList })\r\n        } else {\r\n          resolve()\r\n        }\r\n      })\r\n    },\r\n    // 执行操作前的校验\r\n    validator() {\r\n      if (!this.formData.managerFullname) {\r\n        this.$toast('请选择采购负责人')\r\n        return false\r\n      }\r\n      if (!this.formData.financeAssigneeFullname) {\r\n        this.$toast('请选择财务审批人')\r\n        return false\r\n      }\r\n      if (!this.formData.manageAssigneeFullname) {\r\n        this.$toast('请选择经理审批人')\r\n        return false\r\n      }\r\n      if (!this.formData.departmentName) {\r\n        this.$toast('请选择测试部门')\r\n        return false\r\n      }\r\n      if (this.detailTable.reimburseAttachementList.length == 0) {\r\n        this.$toast('申请报销子表附件表不能为空')\r\n        return false\r\n      }\r\n      if (this.detailTable.reimburseDetailList.length == 0) {\r\n        this.$toast('申请报销子表不能为空')\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    // 表单提交(审批)前\r\n    beforeSubmit() {\r\n      // 示例表单计划日期字段在数据库类型韦datetime，需要处理下\r\n      this.formData.planDate = this.formData.planDate\r\n        ? this.$dayjs(this.formData.planDate).format('YYYY-MM-DD 00:00:00')\r\n        : null\r\n      // 如果有上传文件，则合并文件filetoken为groupToken\r\n      if (this.fileList.length > 0) {\r\n        // 屏蔽watch监听附件值变更重新获取文件\r\n        this.$refs.attachment.needToGetFile = false\r\n        this.$refs.attachment.setG9s()\r\n      } else {\r\n        this.formData.attachment = ''\r\n      }\r\n      this.$emit('setFormData', this.formData)\r\n      this.detailParamList[0].detailEntityArray = this.detailTable.reimburseDetailList\r\n      this.detailParamList[0].detailEntityArray.forEach((entry) => {\r\n        entry.reimburseDate = this.$dayjs(entry.reimburseDate).format('YYYY-MM-DD 00:00:00')\r\n      })\r\n      this.detailParamList[1].detailEntityArray = this.detailTable.reimburseAttachementList\r\n      this.$emit('setDetailParamList', this.detailParamList)\r\n    },\r\n    // 限制步进器最多只能三位小数\r\n    stepperChange(val) {\r\n      // 当有值或为数字时判断\r\n      if (val === '' || val == null || isNaN(val)) {\r\n        return false\r\n      }\r\n      let reg = /^\\d+\\.?\\d{0,3}$/\r\n      let newVal = null\r\n      if (!reg.test(val)) {\r\n        this.$toast('限制正数或3位小数')\r\n        val = val.toString()\r\n        newVal = val.indexOf('.') > -1 ? val.slice(0, val.indexOf('.') + 4) : val\r\n        setTimeout(() => {\r\n          this.$set(this.formData, 'budget', newVal)\r\n        }, 500)\r\n      }\r\n    },\r\n    // 确认选择日期组件\r\n    onCalendarConfirm(date) {\r\n      this.formData.planDate = this.$dayjs(date).format('YYYY-MM-DD')\r\n      this.showCalendar = false\r\n    },\r\n    // 确认选择差旅类型组件\r\n    onReimburseTypeConfirm(value) {\r\n      this.formData.reimburseType = value.code\r\n      this.showPicker = false\r\n    },\r\n    checkbox(value) {\r\n      this.formData.notification = value.toString()\r\n    },\r\n    fileChange(item) {\r\n      this.fileList = item.fileList\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.main {\r\n  height: 84%;\r\n  overflow: auto;\r\n}\r\n.add-main {\r\n  height: 76%;\r\n  overflow: auto;\r\n}\r\n/deep/.fm-field--disabled .fm-field__label {\r\n  color: #000;\r\n}\r\n/deep/ .fm-sidebar-item {\r\n  padding: 24px 24px;\r\n}\r\n/deep/ .fm-sidebar-item__text {\r\n  width: 200px;\r\n}\r\n/deep/ .fm-cell-group__title {\r\n  color: #000;\r\n}\r\n.delete-button {\r\n  color: #347df6;\r\n  font-size: 32px;\r\n}\r\n.buttons {\r\n  display: flex;\r\n  margin: 0px 32px;\r\n  position: fixed;\r\n  bottom: 16px;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n.button {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.field-attachment {\r\n  flex-direction: column;\r\n  /deep/ .fm-field__control--right {\r\n    justify-content: flex-start;\r\n  }\r\n}\r\n.form-button {\r\n  position: fixed;\r\n  left: 10%;\r\n  width: 80%;\r\n  bottom: 16px;\r\n}\r\n.textarea-type /deep/ .fm-field__value {\r\n  border: 1px solid #bbbbbb;\r\n  opacity: 0.5;\r\n}\r\n.textarea-type /deep/ .fm-field--min-height .fm-field__control {\r\n  padding-left: 20px;\r\n  padding-top: 20px;\r\n}\r\n.textarea-type /deep/ .fm-field__word-limit {\r\n  margin-right: 20px;\r\n  margin-bottom: 12px;\r\n}\r\n</style>\r\n"],"mappings":"AAsKA,SAAAA,WAAA,EAAAC,IAAA;AACA,OAAAC,QAAA;AACA,OAAAC,UAAA;AACA,OAAAC,SAAA;AACA,OAAAC,WAAA;AAEA,SACAC,GAAA,EACAC,IAAA,EACAC,MAAA,EACAC,KAAA,EACAC,QAAA,EACAC,IAAA,EACAC,SAAA,EACAC,MAAA,EACAC,OAAA,EACAC,KAAA,EACAC,MAAA,EACAC,QAAA,EACAC,aAAA,EACAC,IAAA,QACA;AAEA,OAAAC,SAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACApB,QAAA;IACAC,UAAA;IACAC,SAAA;IACAC,WAAA;IACA,CAAAC,GAAA,CAAAe,IAAA,GAAAf,GAAA;IACA,CAAAC,IAAA,CAAAc,IAAA,GAAAd,IAAA;IACA,CAAAC,MAAA,CAAAa,IAAA,GAAAb,MAAA;IACA,CAAAC,KAAA,CAAAY,IAAA,GAAAZ,KAAA;IACA,CAAAC,QAAA,CAAAW,IAAA,GAAAX,QAAA;IACA,CAAAC,IAAA,CAAAU,IAAA,GAAAV,IAAA;IACA,CAAAC,SAAA,CAAAS,IAAA,GAAAT,SAAA;IACA,CAAAC,MAAA,CAAAQ,IAAA,GAAAR,MAAA;IACA,CAAAC,OAAA,CAAAO,IAAA,GAAAP,OAAA;IACA,CAAAC,KAAA,CAAAM,IAAA,GAAAN,KAAA;IACA,CAAAC,MAAA,CAAAK,IAAA,GAAAL,MAAA;IACA,CAAAC,QAAA,CAAAI,IAAA,GAAAJ,QAAA;IACA,CAAAC,aAAA,CAAAG,IAAA,GAAAH,aAAA;IACA,CAAAC,IAAA,CAAAE,IAAA,GAAAF;EACA;EACAI,MAAA,GAAAH,SAAA;EACAI,KAAA;IACA;MACAC,UAAA;MACAC,OAAA;QACAC,OAAA;QAAA;QACAC,MAAA;MACA;MACAC,UAAA;MACA;MACAC,QAAA;MACAC,QAAA;MACAC,GAAA;MACAC,QAAA;QACAC,UAAA;QAAA;QACAC,MAAA;QAAA;QACAC,YAAA;QAAA;QACAC,cAAA;QAAA;QACAC,WAAA;QAAA;QACAC,eAAA;QAAA;QACAC,uBAAA;QAAA;QACAC,cAAA;QAAA;QACAC,sBAAA;QAAA;QACAC,OAAA;QAAA;QACAC,eAAA;QAAA;QACAC,YAAA;QAAA;QACAC,QAAA;QAAA;QACAC,aAAA;QAAA;QACAC,aAAA;QAAA;QACAC,QAAA;QAAA;QACAC,UAAA;MACA;MACA;MACAC,WAAA;QACAC,wBAAA,GACA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,GACA;UACAV,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,GACA;UACAV,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,GACA;UACAV,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,EACA;QACAC,mBAAA,GACA;UACAX,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAK,QAAA;UACAJ,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,GACA;UACAV,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,GACA;UACAV,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,GACA;UACAV,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA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"}]}