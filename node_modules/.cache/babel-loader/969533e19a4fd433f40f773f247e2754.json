{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\inspectMap\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\inspectMap\\index.vue","mtime":1708928163423},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBtYXBJbml0IGZyb20gIi4vaW5kZXguanMiOwppbXBvcnQgYWRkSW1nVG9NYXAgZnJvbSAiLi91dGlscy9zZXRJY29uLmpzIjsKaW1wb3J0IG1peGlucyBmcm9tICIuL21peGlucy9taXhpbnMiOwppbXBvcnQgbGF5ZXJDb250cm9sIGZyb20gIi4vdXRpbHMvbGF5ZXJDb250cm9sLmpzIjsKaW1wb3J0IEFQSSBmcm9tICdAL2NvbW1vbi9jb25maWcuanMnOwppbXBvcnQgKiBhcyB0dXJmIGZyb20gJ0B0dXJmL3R1cmYnOwppbXBvcnQgeyBsZWdlbmRMaXN0SW1wb3J0IH0gZnJvbSAiQC9jb21wb25lbnRzL3hhLW1hcC9sZWdlbmRMaXN0LmpzIjsKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICdmYXdrZXMtbW9iaWxlLWxpYic7CmNvbnN0IG1hcE9iaiA9IHsKICBtYXA6IG51bGwsCiAgbWFwSW5zdGFuY2U6IG51bGwKfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJteU1hcCIsCiAgbWl4aW5zOiBbbWl4aW5zXSwKICBwcm9wczogewogICAgaWZJbnNwZWN0aW9uOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgaWZEZXRhaWw6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpbnNwQnVzaW5lc3NUeXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0sCiAgICBjdXJyZW50UG9zaXRpb246IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7fQogICAgfSwKICAgIHRhc2tJbnNwVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9LAogICAgdHJpcGxlVmlzaWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHRvZ2dsZU5hdmlnYXRvcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGxpbmVOYXZpZ2F0b3I6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBhcmVhTmF2aWdhdG9yOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbGVnZW5kQ29uZmlnOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGxlZ2VuZExpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIGxlZ2VuZExpc3RJbXBvcnQ7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBsZWdlbmRDb25maWc6IHsKICAgICAgaGFuZGxlcihuZXdWYWwpIHsKICAgICAgICB0aGlzLmNoYW5nZUxlZ2VuZCgpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdE1hcCgpIHsKICAgICAgbGV0IG9wdGlvbnMgPSB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHZlcnNpb246IDgsCiAgICAgICAgICBwaXRjaDogMCwKICAgICAgICAgIHpvb206IDEzLjU3MDUzMjM2MDU3NzY1NSwKICAgICAgICAgIGNlbnRlcjogWzExNS45MjQ4NjEwMTM2OTQyOCwgMzkuMDYwNzU1NDk1ODkwNzNdLAogICAgICAgICAgZ2x5cGhzOiBBUEkuVlVFX0FQUF9NQVBfVVJMICsgIi9tYXBib3hTb3VyY2UvZm9udHMve2ZvbnRzdGFja30ve3JhbmdlfS5wYmYiLAogICAgICAgICAgc3ByaXRlOiBBUEkuVlVFX0FQUF9NQVBfVVJMICsgIi9tYXBib3hTb3VyY2Uvc3ByaXRlcy9zcHJpdGUiLAogICAgICAgICAgc291cmNlczogbGF5ZXJDb250cm9sLmRlZmF1bHRTb3VyY2UsCiAgICAgICAgICBsYXllcnM6IGxheWVyQ29udHJvbC5kZWZhdWx0TGF5ZXJzCiAgICAgICAgfQogICAgICB9OwogICAgICBuZXcgbWFwSW5pdCh7CiAgICAgICAgY29udGFpbmVyOiAibXltYXAiLAogICAgICAgIG9wdGlvbnM6IHRoaXMuaWZJbnNwZWN0aW9uID8gb3B0aW9ucyA6IHt9LAogICAgICAgIGNlbnRlcjogWzExNS45MjQ4NjEwMTM2OTQyOCwgMzkuMDYwNzU1NDk1ODkwNzNdLAogICAgICAgIGJ1czogdGhpcwogICAgICB9LCBhc3luYyBtYXBJbnN0YW5jZSA9PiB7CiAgICAgICAgbWFwT2JqLm1hcEluc3RhbmNlID0gbWFwSW5zdGFuY2U7CiAgICAgICAgbWFwT2JqLm1hcCA9IG1hcEluc3RhbmNlLm1hcDsKICAgICAgICB3aW5kb3cubWFwID0gbWFwSW5zdGFuY2UubWFwOwogICAgICAgIHdpbmRvdy5tYXBJbnN0YW5jZSA9IG1hcEluc3RhbmNlOwogICAgICAgIHRoaXMubWFwTG9hZChtYXBJbnN0YW5jZSk7CiAgICAgICAgYWRkSW1nVG9NYXAobWFwT2JqLm1hcCk7CiAgICAgICAgYXdhaXQgdGhpcy5hZGRQaXBlTGF5ZXIoKTsKICAgICAgICB0aGlzLmFkZEJ1ZmZlckxheWVyKCk7CiAgICAgICAgdGhpcy5hZGRJbnNwVXNlckxheWVyKCk7CiAgICAgICAgdGhpcy5hZGRVc2VyKCk7CiAgICAgICAgdGhpcy5pc09uTG9hZCA9IHRydWU7CiAgICAgICAgdGhpcy4kZW1pdCgnbWFwTG9hZGVkJywgbWFwSW5zdGFuY2UpOwogICAgICAgIC8vIGlmICghdGhpcy5pZkluc3BlY3Rpb24pIHsKICAgICAgICAvLyAgIG1hcE9iai5tYXAub24oJ2NsaWNrJywgKGUpPT4gewogICAgICAgIC8vICAgICBpZih0aGlzLnRvZ2dsZU5hdmlnYXRvcil7CiAgICAgICAgLy8gICAgICAgdGhpcy5hZGROYXZpZ2F0b3JQb2ludChbZS5sbmdMYXQubG5nLGUubG5nTGF0LmxhdF0pOwogICAgICAgIC8vICAgICB9IGVsc2UgaWYodGhpcy5saW5lTmF2aWdhdG9yKXsKICAgICAgICAvLyAgICAgICB0aGlzLmFkZE5hdmlnYXRvclBvaW50c0xpbmUoW2UubG5nTGF0LmxuZyxlLmxuZ0xhdC5sYXRdKTsKICAgICAgICAvLyAgICAgfWVsc2UgaWYodGhpcy5hcmVhTmF2aWdhdG9yKXsKICAgICAgICAvLyAgICAgICB0aGlzLmFkZE5hdmlnYXRvclBvaW50c0FyZWEoW2UubG5nTGF0LmxuZyxlLmxuZ0xhdC5sYXRdKTsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgfSkKICAgICAgICAvLyBtYXBPYmoubWFwLm9uKCdkYmxjbGljaycsIChlKT0+IHsKICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCdlMiA6Pj4gJywgZSk7CiAgICAgICAgLy8gfSkKICAgICAgICAvL+WumuS9jQogICAgICAgIC8vIGxldCBwb3NpdGlvbiA9IGF3YWl0IHRoaXMuZ2V0VXNlclBvc2l0aW9uKCk7CiAgICAgICAgLy8gdGhpcy5zZXRVc2VyUG9zaXRpb24ocG9zaXRpb24gfHwgWzExOS45LDMwLjNdKTsKICAgICAgICAvLyB3aW5kb3cubWFwSW5pdC5mbHlUbyhwb3NpdGlvbiB8fCBbMTE5LjksMzAuM10sMTYpOwogICAgICAgIC8vIH0KCiAgICAgICAgLy8gdGhpcy5hZGREZXZpY2VMYXllcnNDbGlja0V2ZW50KCk7CiAgICAgICAgLy8gdGhpcy5hZGRPcmdhbml6ZXJNYXJrZXIoe3Bvc2l0aW9uOlsxMjAsMzBdLGRpc3RhbmNlOiIxMTEifSk7CgogICAgICAgIC8vIOa3u+WKoOWcsOWbvueCueWHu+S6i+S7tuebkeWQrAoKICAgICAgICAvLyAvLyBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgLy8gbWFwSW5zdGFuY2UubWFwLm9uKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAvLyAgIGNvbnNvbGUubG9nKGUpCiAgICAgICAgLy8gICBjb25zdCBmZWF0dXJlcyA9IG1hcEluc3RhbmNlLm1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCk7CiAgICAgICAgLy8gICBjb25zb2xlLmxvZygiZmVhdHVyZXM9PT4iLCBmZWF0dXJlcyk7CiAgICAgICAgLy8gLy8gLy8g5bCG5Yid5aeL5Zu+5bGC55qEZmVhdHVyZeWKoOWFpeWIsOW9k+WJjeeuoee6v+WbvuWxguS4rQogICAgICAgIC8vIC8vIGlmIChmZWF0dXJlcy5sZW5ndGggPiAwICYmIGZlYXR1cmVzWzBdLnNvdXJjZSA9PSAiaW5pdEluc3BMaW5lU291cmNlIikgewogICAgICAgIC8vIC8vICAgLy8gY29uc29sZS5sb2coImZlYXR1cmVzWzBdPT0+IiwgZmVhdHVyZXNbMF0pOwogICAgICAgIC8vIC8vICAgdGhhdC5zZXRMaW5lR2VvU291cmNlKFtmZWF0dXJlc1swXV0sICJjdXJJbnNwTGluZVNvdXJjZSIpOwogICAgICAgIC8vIC8vICAgLy8g6ZyA6KaB5a+55YW25re75Yqg5LiK5oql5LqL5Lu255qE5Yqf6IO9CiAgICAgICAgLy8gLy8gfSBlbHNlIGlmIChmZWF0dXJlcy5sZW5ndGggPiAxICYmIGZlYXR1cmVzWzFdLnNvdXJjZSA9PSAiaW5pdEluc3BMaW5lU291cmNlIikgewogICAgICAgIC8vIC8vICAgdGhhdC5zZXRMaW5lR2VvU291cmNlKFtmZWF0dXJlc1sxXV0sICJjdXJJbnNwTGluZVNvdXJjZSIpOwogICAgICAgIC8vIC8vIH0gZWxzZSBpZiAoZmVhdHVyZXMubGVuZ3RoID4gMCkgewogICAgICAgIC8vIC8vICAgdGhhdC5zZXRMaW5lR2VvU291cmNlKFtdLCAiY3VySW5zcExpbmVTb3VyY2UiKTsKICAgICAgICAvLyAvLyB9CiAgICAgICAgLy8gLy8g5a+55Y+v6YCJ5Lit5Zu+5qCH55qE5aKe5YqgbWFya2VyICB8fCBmZWF0dXJlc1sxXS5nZW9tZXRyeS50eXBlID09PSAiTGluZVN0cmluZyIKICAgICAgICAvLyBpZiAoZmVhdHVyZXMubGVuZ3RoID4gMCAKICAgICAgICAvLyAgICYmIGZlYXR1cmVzWzBdLnNvdXJjZSAhPSJldmVudFBvaW50cyIgCiAgICAgICAgLy8gICAmJiBmZWF0dXJlc1swXS5zb3VyY2UgIT0gImluc3BVc2VyIiAKICAgICAgICAvLyAgICYmIGZlYXR1cmVzWzBdLnNvdXJjZSAhPSAiaW5pdEluc3BMaW5lU291cmNlIiAKICAgICAgICAvLyAgICYmIGZlYXR1cmVzWzBdLnNvdXJjZSAhPSAia2V5cG9pbnRzIiAKICAgICAgICAvLyAgICYmKGZlYXR1cmVzWzBdLmdlb21ldHJ5LnR5cGUgPT09ICJQb2ludCIpCiAgICAgICAgLy8gICApIHsKICAgICAgICAvLyAgIHRoYXQuYWRkRXZlbnRPYmpNYXJrZXIoZmVhdHVyZXNbMF0pOwogICAgICAgIC8vIH0gZWxzZSBpZiAoZmVhdHVyZXMubGVuZ3RoID4gMSAKICAgICAgICAvLyAgICYmIGZlYXR1cmVzWzFdLnNvdXJjZSAhPSJldmVudFBvaW50cyIgCiAgICAgICAgLy8gICAmJiBmZWF0dXJlc1sxXS5zb3VyY2UgIT0gImluc3BVc2VyIiAKICAgICAgICAvLyAgICYmIGZlYXR1cmVzWzFdLnNvdXJjZSAhPSAia2V5cG9pbnRzIiAKICAgICAgICAvLyAgICYmIChmZWF0dXJlc1sxXS5nZW9tZXRyeS50eXBlID09PSAiUG9pbnQiKQogICAgICAgIC8vICAgKSB7CiAgICAgICAgLy8gICB0aGF0LmFkZEV2ZW50T2JqTWFya2VyKGZlYXR1cmVzWzFdKTsKICAgICAgICAvLyB9IGVsc2UgewogICAgICAgIC8vICAgLy8g56e76Zmk5YWo5bGA5LqL5Lu254K5CiAgICAgICAgLy8gICB0aGF0LnJlbW92ZUV2ZW50T2JqTWFya2VyKCk7CiAgICAgICAgLy8gfQogICAgICAgIC8vIH0pCiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZUxlZ2VuZCgpIHsKICAgICAgaWYgKHRoaXMubGVnZW5kQ29uZmlnICYmIHRoaXMubGVnZW5kQ29uZmlnLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmxlZ2VuZENvbmZpZy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgdGhpcy5sZWdlbmRMaXN0LmZvckVhY2gobGVnZW5kID0+IHsKICAgICAgICAgICAgLy/mjqfliLbkuIDnuqflm77lsYIKICAgICAgICAgICAgaWYgKGl0ZW0ubGFiZWwgPT0gbGVnZW5kLmxhYmVsKSB7CiAgICAgICAgICAgICAgbGVnZW5kLnRpdGxlU3RhdHVzID0gaXRlbS5jbGlja0ZsYWc7CiAgICAgICAgICAgICAgLy8gCiAgICAgICAgICAgICAgbGVnZW5kLm9wdGlvbnMuZm9yRWFjaChzbWFsbEl0ZW0gPT4gewogICAgICAgICAgICAgICAgLy8g5b2T6K+l5qCH6aKY5LiL5Zu+5bGC5YaF5a655Li65pi+56S654q25oCB5pe25omN6L+b5YWl5Yik5patCiAgICAgICAgICAgICAgICBpZiAobGVnZW5kLnRpdGxlU3RhdHVzID09PSB0cnVlICYmIHR5cGVvZiBzbWFsbEl0ZW0uaWQgPT0gIm51bWJlciIpIHsKICAgICAgICAgICAgICAgICAgVG9hc3QuYWxsb3dNdWx0aXBsZSgpOwogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBUb2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBzbWFsbEl0ZW0ubGFiZWwgKyAi5Zu+5bGC5pqC5peg5pWw5o2u77yBIiwKICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wJwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGxlZ2VuZC50aXRsZVN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAvLyDmoIfpopjnirbmgIHngrnkuq7ml7YKICAgICAgICAgICAgICAgICAgc21hbGxJdGVtLmNsaWNrRmxhZyA9IGZhbHNlOyAvLyDlm77lsYLlnYfmmL7npLoKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHNtYWxsSXRlbS5jbGlja0ZsYWcgPSB0cnVlOyAvLyDlm77lsYLlnYfpmpDol48KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMubGVnZW5kQ29udHJvbExheWVyKHNtYWxsSXRlbSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbGVnZW5kLm9wdGlvbnMuZm9yRWFjaChzbWFsbEl0ZW0gPT4gewogICAgICAgICAgICAgICAgaWYgKGl0ZW0ubGFiZWwgPT0gc21hbGxJdGVtLmxhYmVsKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHNldChzbWFsbEl0ZW0sICdjbGlja0ZsYWcnLCBpdGVtLmNsaWNrRmxhZyk7CiAgICAgICAgICAgICAgICAgIHRoaXMubGVnZW5kQ29udHJvbExheWVyKHNtYWxsSXRlbSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgbGVnZW5kQ29udHJvbExheWVyKGl0ZW0pIHsKICAgICAgbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmICh0aGlzLmlzT25Mb2FkZWQgJiYgd2luZG93Lm1hcCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICBsZXQgbWFwID0gd2luZG93Lm1hcDsKICAgICAgICAgIGlmIChtYXAuZ2V0TGF5ZXIoaXRlbS5pZCkpIHsKICAgICAgICAgICAgaWYgKGl0ZW0uY2xpY2tGbGFnKSB7CiAgICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KGl0ZW0uaWQsICJ2aXNpYmlsaXR5IiwgIm5vbmUiKTsKICAgICAgICAgICAgICBpZiAoaXRlbS5pZCA9PSAicmRfbWFwX2RyYWlucGlwZV95c19iaWciKSB7CiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyID0gbWFwLmdldEZpbHRlcigicmRfbWFwX21hbmhvbGUiKTsKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIudG9TdHJpbmcoKSA9PSBbJ2FsbCddLnRvU3RyaW5nKCkgfHwgZmlsdGVyLnRvU3RyaW5nKCkgPT0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAn6Zuo5rC0J10udG9TdHJpbmcoKSkgewogICAgICAgICAgICAgICAgICBpZiAobWFwLmdldExheW91dFByb3BlcnR5KCdyZF9tYXBfZHJhaW5waXBlX3dzX2JpZycsICd2aXNpYmlsaXR5JykgPT0gJ25vbmUnKSB7CiAgICAgICAgICAgICAgICAgICAgZmlsdGVyID0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAnJ107CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZmlsdGVyID0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAn5rGh5rC0J107CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8v6Zuo5rC0566h57q/5Zu+5bGC5o6n5Yi26Zuo5rC05LqV44CB6Zuo5rC0566t5aS044CB6Zuo5rC06L6D5bCP5bGC57qn5Zu+5bGC5pi+56S6CiAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoInJkX21hcF9jb21iIiwgInZpc2liaWxpdHkiLCAibm9uZSIpOwogICAgICAgICAgICAgICAgbWFwLnNldEZpbHRlcigicmRfbWFwX21hbmhvbGUiLCBmaWx0ZXIpOwogICAgICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCJyZF9tYXBfZHJhaW5waXBlX3lzX2JpZ19kaXJlY3Rpb24iLCAidmlzaWJpbGl0eSIsICJub25lIik7CiAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoInJkX21hcF9kcmFpbnBpcGVfeXNfc21hbGwiLCAidmlzaWJpbGl0eSIsICJub25lIik7CiAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoInJkX21hcF9kcmFpbnBpcGVfeXNfc21hbGxfZGlyZWN0aW9uIiwgInZpc2liaWxpdHkiLCAibm9uZSIpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAibWFwX3N1cHBseV9waXBlX2NpcmN1bGF0aW5nIikgewogICAgICAgICAgICAgICAgLy/lvqrnjq/msLTvvIjlm57msLTvvInnrqHnur/mjqfliLblvqrnjq/msLTvvIjlm57msLTvvInoioLngrnmmL7npLoKICAgICAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgibWFwX3N1cHBseV9ub2RlX2NpcmN1bGF0aW5nIiwgInZpc2liaWxpdHkiLCAibm9uZSIpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAibWFwX3N1cHBseV9waXBlX2Rpc3RyaWJ1dGUiKSB7CiAgICAgICAgICAgICAgICAvL+mFjeawtOeuoee6v+aOp+WItumFjeawtOiKgueCueaYvuekugogICAgICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCJtYXBfc3VwcGx5X25vZGVfZGlzdHJpYnV0ZSIsICJ2aXNpYmlsaXR5IiwgIm5vbmUiKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gIm1hcF9zdXBwbHlfcGlwZV9kZWxpdmVyeSIpIHsKICAgICAgICAgICAgICAgIC8v6L6T5rC0566h57q/5o6n5Yi26L6T5rC06IqC54K55pi+56S6CiAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoIm1hcF9zdXBwbHlfbm9kZV9kZWxpdmVyeSIsICJ2aXNpYmlsaXR5IiwgIm5vbmUiKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gIm1hcF9yZWN5Y2xlX3BpcGUiKSB7CiAgICAgICAgICAgICAgICAvL+WGjeeUn+awtOeuoee6v+aOp+WItuWGjeeUn+awtOiKgueCueaYvuekugogICAgICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCJtYXBfcmVjeWNsZV9ub2RlIiwgInZpc2liaWxpdHkiLCAibm9uZSIpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAicmRfbWFwX2RyYWlucGlwZV93c19iaWciKSB7CiAgICAgICAgICAgICAgICAvL+axoeawtOeuoee6v+WbvuWxguaOp+WItuaxoeawtOS6leOAgeaxoeawtOeureWktOOAgeaxoeawtOi+g+Wwj+Wxgue6p+WbvuWxguaYvuekugogICAgICAgICAgICAgICAgbGV0IGZpbHRlciA9IG1hcC5nZXRGaWx0ZXIoInJkX21hcF9tYW5ob2xlIik7CiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLnRvU3RyaW5nKCkgPT0gWydhbGwnXS50b1N0cmluZygpIHx8IGZpbHRlci50b1N0cmluZygpID09IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJ+axoeawtCddLnRvU3RyaW5nKCkpIHsKICAgICAgICAgICAgICAgICAgaWYgKG1hcC5nZXRMYXlvdXRQcm9wZXJ0eSgncmRfbWFwX2RyYWlucGlwZV95c19iaWcnLCAndmlzaWJpbGl0eScpID09ICdub25lJykgewogICAgICAgICAgICAgICAgICAgIGZpbHRlciA9IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJyddOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGZpbHRlciA9IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJ+mbqOawtCddOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBtYXAuc2V0RmlsdGVyKCJyZF9tYXBfbWFuaG9sZSIsIGZpbHRlcik7CiAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoInJkX21hcF9kcmFpbnBpcGVfd3NfYmlnX2RpcmVjdGlvbiIsICJ2aXNpYmlsaXR5IiwgIm5vbmUiKTsKICAgICAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgicmRfbWFwX2RyYWlucGlwZV93c19zbWFsbCIsICJ2aXNpYmlsaXR5IiwgIm5vbmUiKTsKICAgICAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgicmRfbWFwX2RyYWlucGlwZV93c19zbWFsbF9kaXJlY3Rpb24iLCAidmlzaWJpbGl0eSIsICJub25lIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eShpdGVtLmlkLCAidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CiAgICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT0gInJkX21hcF9kcmFpbnBpcGVfeXNfYmlnIikgewogICAgICAgICAgICAgICAgbGV0IGZpbHRlciA9IG1hcC5nZXRGaWx0ZXIoInJkX21hcF9tYW5ob2xlIik7CiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLnRvU3RyaW5nKCkgPT0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAnJ10udG9TdHJpbmcoKSB8fCBmaWx0ZXIudG9TdHJpbmcoKSA9PSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICfmsaHmsLQnXS50b1N0cmluZygpKSB7CiAgICAgICAgICAgICAgICAgIGlmIChtYXAuZ2V0TGF5b3V0UHJvcGVydHkoJ3JkX21hcF9kcmFpbnBpcGVfd3NfYmlnJywgJ3Zpc2liaWxpdHknKSAhPSAnbm9uZScpIHsKICAgICAgICAgICAgICAgICAgICBmaWx0ZXIgPSBbJ2FsbCddOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGZpbHRlciA9IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJ+mbqOawtCddOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBtYXAuc2V0RmlsdGVyKCJyZF9tYXBfbWFuaG9sZSIsIGZpbHRlcik7CiAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoInJkX21hcF9jb21iIiwgInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOwogICAgICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCJyZF9tYXBfZHJhaW5waXBlX3lzX2JpZ19kaXJlY3Rpb24iLCAidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CiAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoInJkX21hcF9kcmFpbnBpcGVfeXNfc21hbGwiLCAidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CiAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoInJkX21hcF9kcmFpbnBpcGVfeXNfc21hbGxfZGlyZWN0aW9uIiwgInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pZCA9PSAibWFwX3N1cHBseV9waXBlX2NpcmN1bGF0aW5nIikgewogICAgICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCJtYXBfc3VwcGx5X25vZGVfY2lyY3VsYXRpbmciLCAidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlkID09ICJtYXBfc3VwcGx5X3BpcGVfZGlzdHJpYnV0ZSIpIHsKICAgICAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgibWFwX3N1cHBseV9ub2RlX2Rpc3RyaWJ1dGUiLCAidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlkID09ICJtYXBfc3VwcGx5X3BpcGVfZGVsaXZlcnkiKSB7CiAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoIm1hcF9zdXBwbHlfbm9kZV9kZWxpdmVyeSIsICJ2aXNpYmlsaXR5IiwgInZpc2libGUiKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgPT0gIm1hcF9yZWN5Y2xlX3BpcGUiKSB7CiAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoIm1hcF9yZWN5Y2xlX25vZGUiLCAidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlkID09ICJyZF9tYXBfZHJhaW5waXBlX3dzX2JpZyIpIHsKICAgICAgICAgICAgICAgIGxldCBmaWx0ZXIgPSBtYXAuZ2V0RmlsdGVyKCJyZF9tYXBfbWFuaG9sZSIpOwogICAgICAgICAgICAgICAgaWYgKGZpbHRlci50b1N0cmluZygpID09IFsnaW4nLCAnbWFuaG9sZV90eXBlJywgJyddLnRvU3RyaW5nKCkgfHwgZmlsdGVyLnRvU3RyaW5nKCkgPT0gWydpbicsICdtYW5ob2xlX3R5cGUnLCAn6Zuo5rC0J10udG9TdHJpbmcoKSkgewogICAgICAgICAgICAgICAgICBpZiAobWFwLmdldExheW91dFByb3BlcnR5KCdyZF9tYXBfZHJhaW5waXBlX3lzX2JpZycsICd2aXNpYmlsaXR5JykgIT0gJ25vbmUnKSB7CiAgICAgICAgICAgICAgICAgICAgZmlsdGVyID0gWydhbGwnXTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBmaWx0ZXIgPSBbJ2luJywgJ21hbmhvbGVfdHlwZScsICfmsaHmsLQnXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCJyZF9tYXBfZHJhaW5waXBlX3dzX2JpZ19kaXJlY3Rpb24iLCAidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CiAgICAgICAgICAgICAgICBtYXAuc2V0RmlsdGVyKCJyZF9tYXBfbWFuaG9sZSIsIGZpbHRlcik7CiAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoInJkX21hcF9tYW5ob2xlIiwgInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOwogICAgICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KCJyZF9tYXBfZHJhaW5waXBlX3dzX3NtYWxsX2RpcmVjdGlvbiIsICJ2aXNpYmlsaXR5IiwgInZpc2libGUiKTsKICAgICAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgicmRfbWFwX2RyYWlucGlwZV93c19zbWFsbCIsICJ2aXNpYmlsaXR5IiwgInZpc2libGUiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIDUwMCk7CiAgICB9LAogICAgLy8g5Yqg6L295a6e5pe25Zu+5bGC5YiH54mHCiAgICBsb2FkTWFwTGF5ZXIodHlwZSkgewogICAgICBjb25zb2xlLmxvZygndHlwZSA6Pj4gJywgdHlwZSk7CiAgICAgIHRoaXMuaXNPbkxvYWQgPSB0cnVlOwogICAgICBsZXQgaW5zcFR5cGUgPSAn5rGh5rC0JzsKICAgICAgLy8gbGV0IGluc3BUeXBlID0gdHlwZSA9PT0gIlBPTExVVEVEX1dBVEVSIiA/ICfmsaHmsLQnIDogdHlwZSA9PT0gIlJBSV9XQVRFUiIgPyAn6Zuo5rC0JyA6ICfkvpvmsLQnOwogICAgICBtYXBPYmoubWFwSW5zdGFuY2UuYWRkVGltZXJTb3VyY2UoKTsKICAgICAgdGhpcy5zd0xheWVyW2luc3BUeXBlXSA9IG1hcE9iai5tYXBJbnN0YW5jZS5hZGRUaW1lckxheWVyKGluc3BUeXBlKTsKICAgICAgLy8gdGhpcy5zd0xheWVyWyfmsaHmsLQnXSA9IG1hcE9iai5tYXBJbnN0YW5jZS5hZGRUaW1lckxheWVyKGluc3BUeXBlKTsKICAgIH0sCiAgICAvLyDliqDovb3lrp7ml7blm77lsYLliIfniYcKICAgIGxvYWRNYXBMYXllckluc3AodHlwZSkgewogICAgICBsZXQgaW5zcFR5cGUgPSB0eXBlID09PSAiUE9MTFVURURfV0FURVIiID8gJ+axoeawtCcgOiB0eXBlID09PSAiUkFJX1dBVEVSIiA/ICfpm6jmsLQnIDogJ+S+m+awtCc7CiAgICAgIG1hcE9iai5tYXBJbnN0YW5jZS5hZGRUaW1lclNvdXJjZSgpOwogICAgICB0aGlzLnN3TGF5ZXJbaW5zcFR5cGVdID0gbWFwT2JqLm1hcEluc3RhbmNlLmFkZFRpbWVyTGF5ZXIoaW5zcFR5cGUpOwogICAgfSwKICAgIC8vIOa3u+WKoOW3oeajgOiMg+WbtAogICAgYWRkUmFuZ2VMaXN0KHJhbmdlTGlzdCkgewogICAgICAvLyByYW5nZXPkuLpQb2x5Z29u57G75Z6L55qE6IyD5Zu077yMZW1lTWFya2Vyc+S4uuW6lOaApeS7u+WKoeeahG1hcmtlcgogICAgICBsZXQgcmFuZ2VzID0gW107CiAgICAgIHJhbmdlTGlzdC5mb3JFYWNoKChyYW5nZSwgaWR4KSA9PiB7CiAgICAgICAgaWYgKHJhbmdlLmdyaWRHZW9tKSB7CiAgICAgICAgICBsZXQgZ2VvbSA9IEpTT04ucGFyc2UocmFuZ2UuZ3JpZEdlb20pOwogICAgICAgICAgaWYgKGdlb20udHlwZSA9PT0gIlBvbHlnb24iKSB7CiAgICAgICAgICAgIHJhbmdlcy5wdXNoKGdlb20pOwogICAgICAgICAgICAvLyB0aGlzLmFkZFJhbmdlTGF5ZXIoZ2VvbSwgaWR4KQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBsZXQgZmVhdHVyZSA9IHJhbmdlc1swXTsKICAgICAgICAgIGxldCBwb2x5Z29uID0gdHVyZi5wb2x5Z29uKGZlYXR1cmUuY29vcmRpbmF0ZXMpOwogICAgICAgICAgbGV0IGJib3ggPSB0dXJmLmJib3goewogICAgICAgICAgICB0eXBlOiAiRmVhdHVyZUNvbGxlY3Rpb24iLAogICAgICAgICAgICBmZWF0dXJlczogW3BvbHlnb25dCiAgICAgICAgICB9KTsKICAgICAgICAgIG1hcE9iai5tYXAuZml0Qm91bmRzKGJib3gsIHsKICAgICAgICAgICAgcGFkZGluZzogewogICAgICAgICAgICAgIHRvcDogMTAsCiAgICAgICAgICAgICAgYm90dG9tOiAyNSwKICAgICAgICAgICAgICBsZWZ0OiAxNSwKICAgICAgICAgICAgICByaWdodDogNQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vIGNvbnN0IHRoYXQgPSB0aGlzOwogICAgICAgIC8vIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgIC8vICAgaWYgKHRoYXQuaXNPbkxvYWRlZCgpICYmIHRoYXQubWFwLmdldFNvdXJjZSgicmFuZ2VTb3VyY2UiKSkgewogICAgICAgIC8vICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAvLyAgICAgdGhhdC5zZXRSYW5nZUxheWVyKHJhbmdlcywgaWZFbWVyZ2VuY3kpOwogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0sIDUwMCk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfQoKICAgICAgLy8gaWYgKGlmRW1lcmdlbmN5KSB7CiAgICAgIC8vICAgZW1lTWFya2Vycy5mb3JFYWNoKGVtZSA9PiB7CiAgICAgIC8vICAgICB0aGlzLmFkZEluc3BFbWVNYXJrZXIoZW1lLCBpZkRldGFpbCk7CiAgICAgIC8vICAgICAvLyB0aGlzLmFkZEluc3BFdmVudE1hcmtlcihlbWUpOwogICAgICAvLyAgIH0pCiAgICAgIC8vIH0KICAgIH0sCiAgICAvLyDmt7vliqDlhbPplK7ngrltYXJrZXIKICAgIGFkZEtleVBvaW50cyhrZXlQb2ludExpc3QpIHsKICAgICAgLy8g5riF56m65LiK5qyh55qE5pWw5o2uCiAgICAgIHRoaXMuc2V0S2V5UG9pbnRMYXllcihbXSk7CiAgICAgIGNvbnN0IGZlYXR1cmVzID0ga2V5UG9pbnRMaXN0Lm1hcChrZXlQb2ludCA9PiB7CiAgICAgICAgLy8gaWYgKGtleVBvaW50LmRldmljZVR5cGUgIT0gJ+euoee6vycpIHsKICAgICAgICBsZXQgcG9pbnQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGtleVBvaW50KSk7CiAgICAgICAgcG9pbnQuZ2VvbSA9IEpTT04ucGFyc2UocG9pbnQuZ2VvbSk7CiAgICAgICAgLyoNCiAgICAgICAgICDliqDovb3lhbPplK7ngrnnmoTml7blgJnvvIzlpoLmnpzlt7Lnu4/kuIrmiqXlhbPplK7ngrnnmoTlt6Hmo4Dnu5Pmnpzlubbnrb7liLDvvIzkuJTmraPluLjvvIzmmL7npLrkuLrnu7/oibLvvIzlvILluLjmmL7npLrkuLrnuqLoibLvvIzmnKrlt6Hmo4DmmL7npLrkuLrmraPluLhpY29u77yM5bey6YCA5Zue5pi+56S65Li65qmZ6ImyDQogICAgICAgICovCiAgICAgICAgbGV0IGlzR3JlZW4gPSBmYWxzZTsKICAgICAgICBsZXQgaXNSZWQgPSBmYWxzZTsKICAgICAgICBsZXQgaXNCbHVlID0gZmFsc2U7CiAgICAgICAgbGV0IGlzT3JhbmdlID0gZmFsc2U7IC8vIOW3sumAgOWbngogICAgICAgIGlmIChwb2ludC5leHQyID09ICIzIikgewogICAgICAgICAgLy8g5beh5qOA6K6w5b2V55qEZXh0MuWtl+aute+8jOm7mOiupOS4ujHvvIjlvoXlpI3moLjvvInvvIzlt7LpgJrov4fkuLoy77yM5bey6YCA5Zue5Li6MwogICAgICAgICAgaXNPcmFuZ2UgPSB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAocG9pbnQuZGV2aWNlU3RhdHVzID09ICcwJykgewogICAgICAgICAgLy8g5YWz6ZSu54K55beh5qOA5q2j5bi4CiAgICAgICAgICBpc0dyZWVuID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHBvaW50LmRldmljZVN0YXR1cyA9PSAnMScpIHsKICAgICAgICAgIGlzUmVkID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaXNCbHVlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHR5cGU6ICdGZWF0dXJlJywKICAgICAgICAgIGlkOiBwb2ludC5pZCwKICAgICAgICAgIGdlb21ldHJ5OiBwb2ludC5nZW9tLAogICAgICAgICAgcHJvcGVydGllczogewogICAgICAgICAgICBpZDogcG9pbnQuaWQsCiAgICAgICAgICAgIGZlYXR1cmU6IHBvaW50LAogICAgICAgICAgICBpc09yYW5nZTogaXNPcmFuZ2UsCiAgICAgICAgICAgIC8vIOW3sumAgOWbngogICAgICAgICAgICBpc0dyZWVuOiBpc0dyZWVuLAogICAgICAgICAgICBpc1JlZDogaXNSZWQsCiAgICAgICAgICAgIGlzQmx1ZTogaXNCbHVlCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAvLyB9CiAgICAgIH0pOwogICAgICAvLyDorr7nva7lhbPplK7ngrnmlbDmja4KICAgICAgdGhpcy5zZXRLZXlQb2ludExheWVyKGZlYXR1cmVzKTsKICAgIH0sCiAgICAvLyDlpJrku7vliqHmt7vliqDlhbPplK7ngrltYXJrZXIKICAgIGFkZEtleVBvaW50c0luTXVsVGFzayhrZXlQb2ludExpc3QpIHsKICAgICAgLy8g5a+56YeN5aSN5YWz6ZSu54K56L+b6KGM6L+H5rukCiAgICAgIGxldCBrZXlQb2ludERhdGEgPSBbXTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlQb2ludExpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICBsZXQgZWxlbWVudCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoa2V5UG9pbnRMaXN0W2ldKSk7CiAgICAgICAgbGV0IGZpbHRlckRhdGEgPSBrZXlQb2ludExpc3QuZmlsdGVyKHggPT4geC5lbmdJbmZvRFRPLmVuZ0lkID09PSBlbGVtZW50LmVuZ0luZm9EVE8uZW5nSWQpOwogICAgICAgIGtleVBvaW50TGlzdCA9IGtleVBvaW50TGlzdC5maWx0ZXIoeCA9PiBmaWx0ZXJEYXRhLmV2ZXJ5KHkgPT4geC5lbmdJbmZvRFRPLmVuZ0lkICE9PSB5LmVuZ0luZm9EVE8uZW5nSWQpKTsKICAgICAgICAvLyBlbGVtZW50LmV2ZW50VHlwZSA9ICcnOwogICAgICAgIC8vIGZpbHRlckRhdGEuZm9yRWFjaChpdCA9PiB7CiAgICAgICAgLy8gICBlbGVtZW50LmV2ZW50VHlwZSArPSBpdC5ldmVudFR5cGUgKyAnICcKICAgICAgICAvLyB9KQogICAgICAgIGtleVBvaW50RGF0YS5wdXNoKGVsZW1lbnQpOwogICAgICB9CiAgICAgIGtleVBvaW50RGF0YS5mb3JFYWNoKGtleVBvaW50ID0+IHsKICAgICAgICBpZiAoa2V5UG9pbnQuZW5nSW5mb0RUTyAmJiBrZXlQb2ludC5lbmdJbmZvRFRPLmVuZ0dlb20pIHsKICAgICAgICAgIGxldCBwb2ludCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoa2V5UG9pbnQuZW5nSW5mb0RUTykpOwogICAgICAgICAgcG9pbnQuZW5nR2VvbSA9IEpTT04ucGFyc2UocG9pbnQuZW5nR2VvbSk7CiAgICAgICAgICB0aGlzLmFkZEtleVBvaW50TWFya2VyKHBvaW50LCBpZkRldGFpbCk7CiAgICAgICAgICBsZXQgdGFza0RldGFpbCA9IGtleVBvaW50Lmluc3BlY3Rpb25UYXNrRGV0YWlsRFRPLmluc3BlY3Rpb25UYXNrRGV0YWlsOwogICAgICAgICAgLyoNCiAgICAgICAgICAgIOWKoOi9veWFs+mUrueCueeahOaXtuWAme+8jOWmguaenOW3sue7j+S4iuaKpeWFs+mUrueCueeahOW3oeajgOe7k+aenOW5tuetvuWIsO+8jOS4lOacquiiq+mAgOWbnu+8iOW+heWkjeaguO+8ie+8jOaYvuekuuS4uue7v+iJsg0KICAgICAgICAgICovCiAgICAgICAgICBpZiAodGFza0RldGFpbC5pbnNwSXRlbVJlc3VsdCAmJiB0YXNrRGV0YWlsLmlzQ29tcGxldGUgPT0gMSAmJiB0YXNrRGV0YWlsLmluc3BJdGVtUmV2aWV3ICE9IDMpIHsKICAgICAgICAgICAgdGhpcy5jaGFuZ2VLZXlQb2ludE1hcmtlcihwb2ludC5lbmdJZCwgdHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDnp7vpmaTlupTmgKXlt6Hmo4BtYXJrZXIKICAgIHJlbW92ZUluc3BFbWVNYXJrZXJzKHJhbmdlTGlzdCkgewogICAgICBsZXQgZW1lTWFya2VycyA9IFtdOwogICAgICByYW5nZUxpc3QuZm9yRWFjaChyYW5nZSA9PiB7CiAgICAgICAgaWYgKHJhbmdlLnRhc2tSYW5nZXJHZW9tKSB7CiAgICAgICAgICBsZXQgZ2VvbSA9IEpTT04ucGFyc2UocmFuZ2UudGFza1Jhbmdlckdlb20pOwogICAgICAgICAgLy8g5aaC5p6c5piv5bqU5oCl5Lu75Yqh77yM5YiZ6ZyA6KaB5re75YqgbWFya2VyCiAgICAgICAgICBlbWVNYXJrZXJzLnB1c2goZ2VvbS5pZCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaWYgKGVtZU1hcmtlcnMubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMucmVtb3ZlSW5zcEVtZU1hcmtlcihlbWVNYXJrZXJzKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdE1hcCgpOwogIH0sCiAgLy8gYWN0aXZhdGVkKCkgewogIC8vICAgICB0aGlzLmluaXRNYXAoKTsKICAvLyB9LAogIC8vIGRlYWN0aXZhdGVkKCkgewogIC8vICAgICBtYXBPYmoubWFwSW5zdGFuY2UuZGVzdG9yeU1hcCgpOwogIC8vICAgICBtYXBPYmoubWFwSW5zdGFuY2UgPSBudWxsOwogIC8vIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIG1hcE9iai5tYXBJbnN0YW5jZSAmJiBtYXBPYmoubWFwSW5zdGFuY2UuZGVzdG9yeU1hcCgpOwogICAgbWFwT2JqLm1hcEluc3RhbmNlID0gbnVsbDsKICAgIHRoaXMuaGFzTGlzdGVuID0gZmFsc2U7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZScsIHRoaXMuc2V0Um90YXRlKTsKICB9Cn07"},{"version":3,"names":["mapInit","addImgToMap","mixins","layerControl","API","turf","legendListImport","Toast","mapObj","map","mapInstance","name","props","ifInspection","type","Boolean","default","ifDetail","inspBusinessType","String","currentPosition","Object","taskInspType","tripleVisible","toggleNavigator","lineNavigator","areaNavigator","legendConfig","Array","legendList","watch","handler","newVal","changeLegend","deep","data","methods","initMap","options","style","version","pitch","zoom","center","glyphs","VUE_APP_MAP_URL","sprite","sources","defaultSource","layers","defaultLayers","container","bus","window","mapLoad","addPipeLayer","addBufferLayer","addInspUserLayer","addUser","isOnLoad","$emit","length","forEach","item","legend","label","titleStatus","clickFlag","smallItem","id","allowMultiple","setTimeout","message","position","legendControlLayer","$set","timer","setInterval","isOnLoaded","clearInterval","getLayer","setLayoutProperty","filter","getFilter","toString","getLayoutProperty","setFilter","loadMapLayer","console","log","inspType","addTimerSource","swLayer","addTimerLayer","loadMapLayerInsp","addRangeList","rangeList","ranges","range","idx","gridGeom","geom","JSON","parse","push","feature","polygon","coordinates","bbox","features","fitBounds","padding","top","bottom","left","right","e","addKeyPoints","keyPointList","setKeyPointLayer","keyPoint","point","stringify","isGreen","isRed","isBlue","isOrange","ext2","deviceStatus","geometry","properties","addKeyPointsInMulTask","keyPointData","i","element","filterData","x","engInfoDTO","engId","every","y","engGeom","addKeyPointMarker","taskDetail","inspectionTaskDetailDTO","inspectionTaskDetail","inspItemResult","isComplete","inspItemReview","changeKeyPointMarker","removeInspEmeMarkers","emeMarkers","taskRangerGeom","removeInspEmeMarker","mounted","beforeDestroy","destoryMap","hasListen","removeEventListener","setRotate"],"sources":["src/views/inspectMap/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"mymap\" id=\"mymap\" ref=\"mymap\"></div>\r\n</template>\r\n<script>\r\nimport mapInit from \"./index.js\";\r\nimport addImgToMap from \"./utils/setIcon.js\";\r\nimport mixins from \"./mixins/mixins\";\r\nimport layerControl from \"./utils/layerControl.js\";\r\nimport API from '@/common/config.js';\r\nimport * as turf from '@turf/turf';\r\nimport { legendListImport } from \"@/components/xa-map/legendList.js\";\r\nimport { Toast } from 'fawkes-mobile-lib'\r\nconst mapObj = {\r\n  map: null,\r\n  mapInstance: null\r\n}\r\nexport default {\r\n  name:\"myMap\",\r\n  mixins:[mixins],\r\n  props: {\r\n    ifInspection: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    ifDetail: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    inspBusinessType: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    currentPosition: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    taskInspType: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    tripleVisible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    toggleNavigator: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    lineNavigator: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    areaNavigator: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    legendConfig: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    legendList: {\r\n      type: Array,\r\n      default() {\r\n        return legendListImport\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    legendConfig: {\r\n      handler(newVal) {\r\n        this.changeLegend()\r\n      },\r\n      deep: true\r\n    }\r\n  },  \r\n  data(){\r\n    return {\r\n    }\r\n  },\r\n  methods:{\r\n    initMap(){\r\n      let options = {\r\n        style: {\r\n          version: 8,\r\n          pitch: 0,\r\n          zoom: 13.570532360577655,\r\n          center: [115.92486101369428, 39.06075549589073],\r\n          glyphs:\r\n            API.VUE_APP_MAP_URL + \"/mapboxSource/fonts/{fontstack}/{range}.pbf\",\r\n          sprite: API.VUE_APP_MAP_URL + \"/mapboxSource/sprites/sprite\",\r\n          sources: layerControl.defaultSource,\r\n          layers: layerControl.defaultLayers,\r\n        }\r\n      };\r\n      new mapInit({\r\n        container: \"mymap\",\r\n        options: this.ifInspection ? options : {},\r\n        center: [115.92486101369428, 39.06075549589073],\r\n        bus: this\r\n      },\r\n      async (mapInstance) => {\r\n        mapObj.mapInstance = mapInstance;\r\n        mapObj.map = mapInstance.map;\r\n        window.map = mapInstance.map;\r\n        window.mapInstance = mapInstance\r\n        this.mapLoad(mapInstance)\r\n        addImgToMap(mapObj.map);\r\n        await this.addPipeLayer();\r\n        this.addBufferLayer();\r\n        this.addInspUserLayer();\r\n        this.addUser();\r\n        this.isOnLoad = true;\r\n        this.$emit('mapLoaded', mapInstance)\r\n        // if (!this.ifInspection) {\r\n        //   mapObj.map.on('click', (e)=> {\r\n        //     if(this.toggleNavigator){\r\n        //       this.addNavigatorPoint([e.lngLat.lng,e.lngLat.lat]);\r\n        //     } else if(this.lineNavigator){\r\n        //       this.addNavigatorPointsLine([e.lngLat.lng,e.lngLat.lat]);\r\n        //     }else if(this.areaNavigator){\r\n        //       this.addNavigatorPointsArea([e.lngLat.lng,e.lngLat.lat]);\r\n        //     }\r\n        //   })\r\n          // mapObj.map.on('dblclick', (e)=> {\r\n          //   console.log('e2 :>> ', e);\r\n          // })\r\n          //定位\r\n          // let position = await this.getUserPosition();\r\n          // this.setUserPosition(position || [119.9,30.3]);\r\n          // window.mapInit.flyTo(position || [119.9,30.3],16);\r\n        // }\r\n\r\n\r\n        // this.addDeviceLayersClickEvent();\r\n        // this.addOrganizerMarker({position:[120,30],distance:\"111\"});\r\n        \r\n        // 添加地图点击事件监听\r\n        \r\n          // // let that = this;\r\n          // mapInstance.map.on(\"click\", function(e) {\r\n          //   console.log(e)\r\n          //   const features = mapInstance.map.queryRenderedFeatures(e.point);\r\n          //   console.log(\"features==>\", features);\r\n            // // // 将初始图层的feature加入到当前管线图层中\r\n            // // if (features.length > 0 && features[0].source == \"initInspLineSource\") {\r\n            // //   // console.log(\"features[0]==>\", features[0]);\r\n            // //   that.setLineGeoSource([features[0]], \"curInspLineSource\");\r\n            // //   // 需要对其添加上报事件的功能\r\n            // // } else if (features.length > 1 && features[1].source == \"initInspLineSource\") {\r\n            // //   that.setLineGeoSource([features[1]], \"curInspLineSource\");\r\n            // // } else if (features.length > 0) {\r\n            // //   that.setLineGeoSource([], \"curInspLineSource\");\r\n            // // }\r\n            // // 对可选中图标的增加marker  || features[1].geometry.type === \"LineString\"\r\n            // if (features.length > 0 \r\n            //   && features[0].source !=\"eventPoints\" \r\n            //   && features[0].source != \"inspUser\" \r\n            //   && features[0].source != \"initInspLineSource\" \r\n            //   && features[0].source != \"keypoints\" \r\n            //   &&(features[0].geometry.type === \"Point\")\r\n            //   ) {\r\n            //   that.addEventObjMarker(features[0]);\r\n            // } else if (features.length > 1 \r\n            //   && features[1].source !=\"eventPoints\" \r\n            //   && features[1].source != \"inspUser\" \r\n            //   && features[1].source != \"keypoints\" \r\n            //   && (features[1].geometry.type === \"Point\")\r\n            //   ) {\r\n            //   that.addEventObjMarker(features[1]);\r\n            // } else {\r\n            //   // 移除全局事件点\r\n            //   that.removeEventObjMarker();\r\n            // }\r\n          // })\r\n      })\r\n    },\r\n    changeLegend() {\r\n      if(this.legendConfig && this.legendConfig.length > 0) {\r\n        this.legendConfig.forEach((item) => {\r\n          this.legendList.forEach((legend) => {\r\n            //控制一级图层\r\n            if (item.label == legend.label) {\r\n              legend.titleStatus = item.clickFlag;\r\n              // \r\n              legend.options.forEach((smallItem) => {\r\n                // 当该标题下图层内容为显示状态时才进入判断\r\n                if (\r\n                  legend.titleStatus === true &&\r\n                  typeof smallItem.id == \"number\"\r\n                ) {\r\n                  Toast.allowMultiple();\r\n                  setTimeout(() => {\r\n                    Toast({\r\n                      message: smallItem.label + \"图层暂无数据！\",\r\n                      position: 'top'\r\n                    });\r\n                  }, 0);\r\n                  return;\r\n                }\r\n                if (legend.titleStatus === true) {\r\n                  // 标题状态点亮时\r\n                  smallItem.clickFlag = false; // 图层均显示\r\n                } else {\r\n                  smallItem.clickFlag = true; // 图层均隐藏\r\n                }\r\n                this.legendControlLayer(smallItem);\r\n              });\r\n            }else {\r\n              legend.options.forEach(smallItem => {\r\n                if(item.label == smallItem.label) {\r\n                  this.$set(smallItem, 'clickFlag', item.clickFlag)\r\n                  this.legendControlLayer(smallItem)\r\n                }\r\n              })\r\n            }\r\n            \r\n          });\r\n        });\r\n      }\r\n    },\r\n    legendControlLayer(item) {\r\n      let timer = setInterval(() => {\r\n        if (this.isOnLoaded && window.map) {\r\n          clearInterval(timer)\r\n          let map = window.map\r\n          if (map.getLayer(item.id)) {\r\n            if (item.clickFlag) {\r\n              map.setLayoutProperty(item.id, \"visibility\", \"none\");\r\n              if (item.id == \"rd_map_drainpipe_ys_big\") {\r\n                let filter = map.getFilter(\"rd_map_manhole\")\r\n                if(filter.toString() == ['all'].toString() || filter.toString() == ['in', 'manhole_type', '雨水'].toString()){\r\n                  if(map.getLayoutProperty('rd_map_drainpipe_ws_big', 'visibility') == 'none'){\r\n                    filter = ['in', 'manhole_type', '']\r\n                  }else {\r\n                    filter = ['in', 'manhole_type', '污水']\r\n                  }\r\n                }\r\n                //雨水管线图层控制雨水井、雨水箭头、雨水较小层级图层显示\r\n                map.setLayoutProperty(\"rd_map_comb\", \"visibility\", \"none\");\r\n                \r\n                map.setFilter(\"rd_map_manhole\", filter);\r\n                map.setLayoutProperty(\r\n                  \"rd_map_drainpipe_ys_big_direction\",\r\n                  \"visibility\",\r\n                  \"none\"\r\n                );\r\n                map.setLayoutProperty(\r\n                  \"rd_map_drainpipe_ys_small\",\r\n                  \"visibility\",\r\n                  \"none\"\r\n                );\r\n                map.setLayoutProperty(\r\n                  \"rd_map_drainpipe_ys_small_direction\",\r\n                  \"visibility\",\r\n                  \"none\"\r\n                );\r\n              } else if (item.id == \"map_supply_pipe_circulating\") {\r\n                //循环水（回水）管线控制循环水（回水）节点显示\r\n                map.setLayoutProperty(\r\n                  \"map_supply_node_circulating\",\r\n                  \"visibility\",\r\n                  \"none\"\r\n                );\r\n              } else if (item.id == \"map_supply_pipe_distribute\") {\r\n                //配水管线控制配水节点显示\r\n                map.setLayoutProperty(\r\n                  \"map_supply_node_distribute\",\r\n                  \"visibility\",\r\n                  \"none\"\r\n                );\r\n              } else if (item.id == \"map_supply_pipe_delivery\") {\r\n                //输水管线控制输水节点显示\r\n                map.setLayoutProperty(\r\n                  \"map_supply_node_delivery\",\r\n                  \"visibility\",\r\n                  \"none\"\r\n                );\r\n              } else if (item.id == \"map_recycle_pipe\") {\r\n                //再生水管线控制再生水节点显示\r\n                map.setLayoutProperty(\r\n                  \"map_recycle_node\",\r\n                  \"visibility\",\r\n                  \"none\"\r\n                );\r\n              } else if (item.id == \"rd_map_drainpipe_ws_big\") {\r\n                //污水管线图层控制污水井、污水箭头、污水较小层级图层显示\r\n                let filter = map.getFilter(\"rd_map_manhole\")\r\n                if(filter.toString() == ['all'].toString() || filter.toString() == ['in', 'manhole_type', '污水'].toString()){\r\n                  if(map.getLayoutProperty('rd_map_drainpipe_ys_big', 'visibility') == 'none'){\r\n                    filter = ['in', 'manhole_type', '']\r\n                  }else {\r\n                    filter = ['in', 'manhole_type', '雨水']\r\n                  }\r\n                }            \r\n                map.setFilter(\"rd_map_manhole\", filter);\r\n                map.setLayoutProperty(\r\n                  \"rd_map_drainpipe_ws_big_direction\",\r\n                  \"visibility\",\r\n                  \"none\"\r\n                );\r\n                map.setLayoutProperty(\r\n                  \"rd_map_drainpipe_ws_small\",\r\n                  \"visibility\",\r\n                  \"none\"\r\n                );\r\n                map.setLayoutProperty(\r\n                  \"rd_map_drainpipe_ws_small_direction\",\r\n                  \"visibility\",\r\n                  \"none\"\r\n                );\r\n              }\r\n            } else {          \r\n              map.setLayoutProperty(item.id, \"visibility\", \"visible\");\r\n              if (item.id == \"rd_map_drainpipe_ys_big\") {\r\n                let filter = map.getFilter(\"rd_map_manhole\")\r\n                if(filter.toString() == ['in', 'manhole_type', ''].toString() || filter.toString() == ['in', 'manhole_type', '污水'].toString()){\r\n                  if(map.getLayoutProperty('rd_map_drainpipe_ws_big', 'visibility') != 'none'){\r\n                    filter = ['all']\r\n                  }else {\r\n                    filter = ['in', 'manhole_type', '雨水']\r\n                  }\r\n                }\r\n                map.setFilter(\"rd_map_manhole\", filter);\r\n                map.setLayoutProperty(\r\n                  \"rd_map_comb\",\r\n                  \"visibility\",\r\n                  \"visible\"\r\n                );\r\n                map.setLayoutProperty(\r\n                  \"rd_map_drainpipe_ys_big_direction\",\r\n                  \"visibility\",\r\n                  \"visible\"\r\n                );\r\n                map.setLayoutProperty(\r\n                  \"rd_map_drainpipe_ys_small\",\r\n                  \"visibility\",\r\n                  \"visible\"\r\n                );\r\n                map.setLayoutProperty(\r\n                  \"rd_map_drainpipe_ys_small_direction\",\r\n                  \"visibility\",\r\n                  \"visible\"\r\n                );\r\n              } else if (item.id == \"map_supply_pipe_circulating\") {\r\n                map.setLayoutProperty(\r\n                  \"map_supply_node_circulating\",\r\n                  \"visibility\",\r\n                  \"visible\"\r\n                );\r\n              } else if (item.id == \"map_supply_pipe_distribute\") {\r\n                map.setLayoutProperty(\r\n                  \"map_supply_node_distribute\",\r\n                  \"visibility\",\r\n                  \"visible\"\r\n                );\r\n              } else if (item.id == \"map_supply_pipe_delivery\") {\r\n                map.setLayoutProperty(\r\n                  \"map_supply_node_delivery\",\r\n                  \"visibility\",\r\n                  \"visible\"\r\n                );\r\n              } else if (item.id == \"map_recycle_pipe\") {\r\n                map.setLayoutProperty(\r\n                  \"map_recycle_node\",\r\n                  \"visibility\",\r\n                  \"visible\"\r\n                );\r\n              } else if (item.id == \"rd_map_drainpipe_ws_big\") {\r\n                let filter = map.getFilter(\"rd_map_manhole\")\r\n                if(filter.toString() == ['in', 'manhole_type', ''].toString() || filter.toString() == ['in', 'manhole_type', '雨水'].toString()){\r\n                  if(map.getLayoutProperty('rd_map_drainpipe_ys_big', 'visibility') != 'none'){\r\n                    filter = ['all']\r\n                  }else {\r\n                    filter = ['in', 'manhole_type', '污水']\r\n                  }\r\n                }            \r\n                map.setLayoutProperty(\r\n                  \"rd_map_drainpipe_ws_big_direction\",\r\n                  \"visibility\",\r\n                  \"visible\"\r\n                );\r\n                map.setFilter(\"rd_map_manhole\", filter);\r\n                map.setLayoutProperty(\r\n                  \"rd_map_manhole\",\r\n                  \"visibility\",\r\n                  \"visible\"\r\n                );\r\n                map.setLayoutProperty(\r\n                  \"rd_map_drainpipe_ws_small_direction\",\r\n                  \"visibility\",\r\n                  \"visible\"\r\n                );\r\n                map.setLayoutProperty(\r\n                  \"rd_map_drainpipe_ws_small\",\r\n                  \"visibility\",\r\n                  \"visible\"\r\n                );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }, 500)\r\n    },\r\n      // 加载实时图层切片\r\n    loadMapLayer(type) {\r\n      console.log('type :>> ', type);\r\n        this.isOnLoad = true;\r\n        let inspType = '污水';\r\n      // let inspType = type === \"POLLUTED_WATER\" ? '污水' : type === \"RAI_WATER\" ? '雨水' : '供水';\r\n      mapObj.mapInstance.addTimerSource();\r\n      this.swLayer[inspType] = mapObj.mapInstance.addTimerLayer(inspType);\r\n        // this.swLayer['污水'] = mapObj.mapInstance.addTimerLayer(inspType);\r\n    },\r\n      // 加载实时图层切片\r\n    loadMapLayerInsp(type) {\r\n      let inspType = type === \"POLLUTED_WATER\" ? '污水' : type === \"RAI_WATER\" ? '雨水' : '供水';\r\n      mapObj.mapInstance.addTimerSource();\r\n      this.swLayer[inspType] = mapObj.mapInstance.addTimerLayer(inspType);\r\n    },\r\n    // 添加巡检范围\r\n    addRangeList(rangeList) {\r\n      // ranges为Polygon类型的范围，emeMarkers为应急任务的marker\r\n      let ranges = [];\r\n      rangeList.forEach((range, idx) => {\r\n        if (range.gridGeom) {\r\n          let geom = JSON.parse(range.gridGeom);\r\n          if (geom.type === \"Polygon\") {\r\n            ranges.push(geom);\r\n            // this.addRangeLayer(geom, idx)\r\n          }\r\n        }\r\n      });\r\n      try {\r\n        if (ranges.length > 0) {\r\n          let feature = ranges[0];\r\n          let polygon = turf.polygon(feature.coordinates)\r\n          let bbox = turf.bbox({\r\n            type:\"FeatureCollection\",\r\n            features: [polygon]\r\n          });\r\n          mapObj.map.fitBounds(bbox, {\r\n            padding: {top: 10, bottom:25, left: 15, right: 5}\r\n          });\r\n        }\r\n\r\n        // const that = this;\r\n        // var timer = setInterval(function() {\r\n        //   if (that.isOnLoaded() && that.map.getSource(\"rangeSource\")) {\r\n        //     clearInterval(timer);\r\n        //     that.setRangeLayer(ranges, ifEmergency);\r\n        //   }\r\n        // }, 500);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n\r\n      // if (ifEmergency) {\r\n      //   emeMarkers.forEach(eme => {\r\n      //     this.addInspEmeMarker(eme, ifDetail);\r\n      //     // this.addInspEventMarker(eme);\r\n      //   })\r\n      // }\r\n    },\r\n    // 添加关键点marker\r\n    addKeyPoints(keyPointList) {\r\n      // 清空上次的数据\r\n      this.setKeyPointLayer([]);\r\n      const features = keyPointList.map(keyPoint => {\r\n        // if (keyPoint.deviceType != '管线') {\r\n          let point = JSON.parse(JSON.stringify(keyPoint));\r\n          point.geom = JSON.parse(point.geom);\r\n          /*\r\n            加载关键点的时候，如果已经上报关键点的巡检结果并签到，且正常，显示为绿色，异常显示为红色，未巡检显示为正常icon，已退回显示为橙色\r\n          */\r\n          let isGreen = false;\r\n          let isRed = false\r\n          let isBlue = false\r\n          let isOrange = false // 已退回\r\n          if (point.ext2 == \"3\") { // 巡检记录的ext2字段，默认为1（待复核），已通过为2，已退回为3\r\n            isOrange = true\r\n          } else if (point.deviceStatus == '0') { // 关键点巡检正常\r\n            isGreen = true;\r\n          } else if (point.deviceStatus == '1') {\r\n            isRed = true\r\n          } else {\r\n            isBlue = true\r\n          }\r\n          return {\r\n            type: 'Feature',\r\n            id: point.id,\r\n            geometry: point.geom,\r\n            properties: {\r\n              id: point.id,\r\n              feature: point,\r\n              isOrange: isOrange,// 已退回\r\n              isGreen: isGreen,\r\n              isRed: isRed,\r\n              isBlue: isBlue\r\n            }\r\n          }\r\n        // }\r\n      });\r\n      // 设置关键点数据\r\n      this.setKeyPointLayer(features);\r\n    },\r\n    // 多任务添加关键点marker\r\n    addKeyPointsInMulTask(keyPointList) {\r\n      // 对重复关键点进行过滤\r\n      let keyPointData = [];\r\n      for (let i = 0; i < keyPointList.length; i++) {\r\n        let element =JSON.parse(JSON.stringify(keyPointList[i]));\r\n        let filterData = keyPointList.filter(x => x.engInfoDTO.engId === element.engInfoDTO.engId);\r\n        keyPointList = keyPointList.filter(x => filterData.every( y=> x.engInfoDTO.engId !== y.engInfoDTO.engId));\r\n        // element.eventType = '';\r\n        // filterData.forEach(it => {\r\n        //   element.eventType += it.eventType + ' '\r\n        // })\r\n        keyPointData.push(element);\r\n      }\r\n      keyPointData.forEach(keyPoint => {\r\n        if (keyPoint.engInfoDTO && keyPoint.engInfoDTO.engGeom) {\r\n          let point = JSON.parse(JSON.stringify(keyPoint.engInfoDTO));\r\n          point.engGeom = JSON.parse(point.engGeom);\r\n          this.addKeyPointMarker(point, ifDetail);\r\n          let taskDetail = keyPoint.inspectionTaskDetailDTO.inspectionTaskDetail;\r\n          /*\r\n            加载关键点的时候，如果已经上报关键点的巡检结果并签到，且未被退回（待复核），显示为绿色\r\n          */\r\n          if (taskDetail.inspItemResult && taskDetail.isComplete == 1 && taskDetail.inspItemReview != 3) {\r\n            this.changeKeyPointMarker(point.engId, true);\r\n          }\r\n        }\r\n      })\r\n    },\r\n    // 移除应急巡检marker\r\n    removeInspEmeMarkers(rangeList) {\r\n      let emeMarkers = [];\r\n      rangeList.forEach(range => {\r\n        if (range.taskRangerGeom) {\r\n          let geom = JSON.parse(range.taskRangerGeom);\r\n          // 如果是应急任务，则需要添加marker\r\n          emeMarkers.push(geom.id);\r\n        }\r\n      });\r\n      if (emeMarkers.length > 0) {\r\n        this.removeInspEmeMarker(emeMarkers)\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initMap();\r\n  },\r\n  // activated() {\r\n  //     this.initMap();\r\n  // },\r\n  // deactivated() {\r\n  //     mapObj.mapInstance.destoryMap();\r\n  //     mapObj.mapInstance = null;\r\n  // },\r\n  beforeDestroy() {\r\n    mapObj.mapInstance && mapObj.mapInstance.destoryMap();\r\n    mapObj.mapInstance = null;\r\n    this.hasListen = false\r\n    window.removeEventListener('deviceorientationabsolute', this.setRotate)\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import url('~@/components/map/css/mapbox-gl-enhance.css');\r\n#mymap {\r\n  width: 100%;\r\n  min-height: 100%;\r\n}\r\n</style>"],"mappings":"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"}]}