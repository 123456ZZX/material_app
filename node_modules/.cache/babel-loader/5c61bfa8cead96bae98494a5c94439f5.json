{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\OneMap\\mapTools.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\OneMap\\mapTools.vue","mtime":1705912915807},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IFRvYXN0IH0gZnJvbSAnZmF3a2VzLW1vYmlsZS1saWInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ09uZU1hcCcsCiAgcHJvcHM6IHt9LAogIGNvbXB1dGVkOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoVmFsdWU6ICcnLAogICAgICBzaG93OiBmYWxzZSwKICAgICAgdG9vbE9wZW46IGZhbHNlLAogICAgICBtYXBTaG93OiAi6buY6K6k5bqV5Zu+IiwKICAgICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5YC8CiAgICAgIGNoZWNrZWRPd25lcjogWyflsI/ljLonLCAn6YGT6LevJywgJ+ays+a1gScsICflu7rnrZEnXSwKICAgICAgLy8g5Y2V6YCJ5qGG6YCJ5Lit5YC8CiAgICAgIHJhZGlvT3duZXI6ICLooZfpgZPliIbljLoiLAogICAgICBkZWZhdWx0QmFzZUxheWVyczogW10sCiAgICAgIGJhc2VMYXllck9iamVjdDoge30sCiAgICAgIGFjdGl2ZVRvb2w6ICIiLAogICAgICBncm91cDogewogICAgICAgIOW9seWDj+WbvjogWyJsYXllcnRkdF9pbWciXQogICAgICB9LAogICAgICBwYW5lbENvbmZpZzogewogICAgICAgIHNlbGVjdDogW3sKICAgICAgICAgIG5hbWU6ICflsI/ljLonLAogICAgICAgICAgdHlwZTogJ+Wwj+WMuicKICAgICAgICB9LCB7CiAgICAgICAgICBuYW1lOiAn6YGT6LevJywKICAgICAgICAgIHR5cGU6ICfpgZPot68nCiAgICAgICAgfSwgewogICAgICAgICAgbmFtZTogJ+ays+a1gScsCiAgICAgICAgICB0eXBlOiAn5rKz5rWBJwogICAgICAgIH0sIHsKICAgICAgICAgIG5hbWU6ICfnrqHlu4onLAogICAgICAgICAgdHlwZTogJ+euoeW7iicKICAgICAgICB9LCB7CiAgICAgICAgICBuYW1lOiAn5bu6562RJywKICAgICAgICAgIHR5cGU6ICflu7rnrZEnCiAgICAgICAgfV0sCiAgICAgICAgcmFkaW86IFt7CiAgICAgICAgICBuYW1lOiAn6Zuo5rC05YiG5Yy6JywKICAgICAgICAgIHR5cGU6ICfpm6jmsLTliIbljLonCiAgICAgICAgfSwgewogICAgICAgICAgbmFtZTogJ+axoeawtOWIhuWMuicsCiAgICAgICAgICB0eXBlOiAn5rGh5rC05YiG5Yy6JwogICAgICAgIH0sIHsKICAgICAgICAgIG5hbWU6ICfkvpvmsLTliIbljLonLAogICAgICAgICAgdHlwZTogJ+S+m+awtOWIhuWMuicKICAgICAgICB9LCB7CiAgICAgICAgICBuYW1lOiAn6KGX6YGT5YiG5Yy6JywKICAgICAgICAgIHR5cGU6ICfooZfpgZPliIbljLonCiAgICAgICAgfSwgewogICAgICAgICAgbmFtZTogJ+ekvuWMuuWIhuWMuicsCiAgICAgICAgICB0eXBlOiAn56S+5Yy65YiG5Yy6JwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgZ2V0RGVmYXVsdEJhc2VMYXllcnMobGF5ZXJzKSB7CiAgICAgIHRoaXMuZGVmYXVsdEJhc2VMYXllcnMgPSBsYXllcnM7CiAgICB9LAogICAgZ2V0QmFzZUxheWVyT2JqZWN0KGxheWVycykgewogICAgICBsZXQgYXJyID0gW107CiAgICAgIGxheWVycy5mb3JFYWNoKGxheWVyID0+IHsKICAgICAgICBhcnIucHVzaChsYXllci5pZCk7CiAgICAgIH0pOwogICAgICBhcnIucG9wKCk7CiAgICAgIHRoaXMuZ3JvdXBbIum7mOiupOW6leWbviJdID0gYXJyOwogICAgICB0aGlzLmJhc2VMYXllck9iamVjdCA9IHRoaXMuZ3JvdXA7CiAgICB9LAogICAgb25TZWFyY2goKSB7fSwKICAgIG9uQ2xlYXIoKSB7fSwKICAgIC8vIOWcsOWbvueCueWHu+WIh+aNogogICAgbWFwQ2hhbmdlKHZhbHVlKSB7CiAgICAgIC8vIOWmguaenOeCueWHu+eahOWbvueJh+W3sue7j+aYr+mAieS4reeKtuaAgeWwsemAgOWHugogICAgICBpZiAodmFsdWUgPT09IHRoaXMubWFwU2hvdykgcmV0dXJuOwogICAgICAvLyB0aGlzLiRlbWl0KCJjaGFuZ2VCYXNlTGF5ZXIiLCB0aGlzLm1hcFNob3cpOwogICAgICBsZXQgbWFwID0gd2luZG93LnhhTWFwOwogICAgICBpZiAodmFsdWUgIT0gIum7mOiupOW6leWbviIpIHsKICAgICAgICB0aGlzLmRlZmF1bHRCYXNlTGF5ZXJzLmZvckVhY2gobGF5ZXIgPT4gewogICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KGxheWVyLmlkLCAidmlzaWJpbGl0eSIsICJub25lIik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kZWZhdWx0QmFzZUxheWVycy5mb3JFYWNoKGxheWVyID0+IHsKICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eShsYXllci5pZCwgInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmICh0aGlzLm1hcFNob3cpIHsKICAgICAgICB0aGlzLmJhc2VMYXllck9iamVjdFt0aGlzLm1hcFNob3ddLmZvckVhY2gobGF5ZXJJRCA9PiB7CiAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkobGF5ZXJJRCwgInZpc2liaWxpdHkiLCAibm9uZSIpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMuYmFzZUxheWVyT2JqZWN0W3ZhbHVlXS5mb3JFYWNoKGxheWVySUQgPT4gewogICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eShsYXllcklELCAidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CiAgICAgIH0pOwogICAgICB0aGlzLm1hcFNob3cgPSB2YWx1ZTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3lm57osIMKICAgIGNoZWNrYm94Q2hhbmdlKGNoZWNrZWRPd25lcikgewogICAgICBsZXQgbWFwSW5zdGFuY2UgPSB3aW5kb3cueGFNYXA7CiAgICAgIGNvbnNvbGUubG9nKCLlrZjlnKjnmoTlm77lsYIiLCBtYXBJbnN0YW5jZS5nZXRTdHlsZSgpKTsKICAgICAgY29uc29sZS5sb2coIuWkmumAiSIsIGNoZWNrZWRPd25lcik7CiAgICAgIGNoZWNrZWRPd25lci5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIG1hcEluc3RhbmNlLmdldExheWVyKGl0ZW0pICYmIG1hcEluc3RhbmNlLnNldExheW91dFByb3BlcnR5KGl0ZW0sICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTsKICAgICAgfSk7CiAgICAgIGxldCB1bkNoZWNrZWRMaXN0ID0gdGhpcy5nZXRVbkNoZWNrZWRMaXN0KGNoZWNrZWRPd25lcik7CiAgICAgIGNvbnNvbGUubG9nKCLmnKrpgIkiLCB1bkNoZWNrZWRMaXN0KTsKICAgICAgdW5DaGVja2VkTGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIG1hcEluc3RhbmNlLmdldExheWVyKGl0ZW0pICYmIG1hcEluc3RhbmNlLnNldExheW91dFByb3BlcnR5KGl0ZW0sICd2aXNpYmlsaXR5JywgJ25vbmUnKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0VW5DaGVja2VkTGlzdChjaGVja2VkT3duZXIpIHsKICAgICAgbGV0IGFyciA9IFtdOwogICAgICBsZXQgYWxsU2VsZWN0ID0gdGhpcy5wYW5lbENvbmZpZy5zZWxlY3Q7CiAgICAgIGFsbFNlbGVjdC5mb3JFYWNoKGkgPT4gewogICAgICAgIGxldCBqID0gY2hlY2tlZE93bmVyICYmIGNoZWNrZWRPd25lci5maWx0ZXIoaXRlbSA9PiBpdGVtID09IGkubmFtZSkgfHwgW107CiAgICAgICAgai5sZW5ndGggPT0gMCAmJiBhcnIucHVzaChpLm5hbWUpOwogICAgICB9KTsKICAgICAgcmV0dXJuIGFycjsKICAgIH0sCiAgICAvLyDljZXpgInmoYbpgInkuK3lm57osIMKICAgIHJhZGlvQ2hhbmdlKHJhZGlvT3duZXIpIHsKICAgICAgbGV0IG1hcEluc3RhbmNlID0gd2luZG93LnhhTWFwOwogICAgICBjb25zb2xlLmxvZygi5a2Y5Zyo55qE5Zu+5bGCIiwgbWFwSW5zdGFuY2UuZ2V0U3R5bGUoKSk7CiAgICAgIGNvbnNvbGUubG9nKCLljZXpgIkiLCByYWRpb093bmVyKTsKICAgICAgaWYgKHJhZGlvT3duZXIgPT0gJ+mbqOawtOWIhuWMuicpIHsKICAgICAgICBtYXBJbnN0YW5jZS5zZXRMYXlvdXRQcm9wZXJ0eSgnbWFwX3JhaW5fYXJlYScsICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTsKICAgICAgICBtYXBJbnN0YW5jZS5zZXRMYXlvdXRQcm9wZXJ0eSgnbWFwX3N1cHBseV9hcmVhJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICAgIG1hcEluc3RhbmNlLnNldExheW91dFByb3BlcnR5KCdtYXBfc29jaWV0eV9hcmVhJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICB9IGVsc2UgaWYgKHJhZGlvT3duZXIgPT0gJ+S+m+awtOWIhuWMuicpIHsKICAgICAgICBtYXBJbnN0YW5jZS5zZXRMYXlvdXRQcm9wZXJ0eSgnbWFwX3JhaW5fYXJlYScsICd2aXNpYmlsaXR5JywgJ25vbmUnKTsKICAgICAgICBtYXBJbnN0YW5jZS5zZXRMYXlvdXRQcm9wZXJ0eSgnbWFwX3N1cHBseV9hcmVhJywgJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpOwogICAgICAgIG1hcEluc3RhbmNlLnNldExheW91dFByb3BlcnR5KCdtYXBfc29jaWV0eV9hcmVhJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICB9IGVsc2UgaWYgKHJhZGlvT3duZXIgPT0gJ+ekvuWMuuWIhuWMuicpIHsKICAgICAgICBtYXBJbnN0YW5jZS5zZXRMYXlvdXRQcm9wZXJ0eSgnbWFwX3JhaW5fYXJlYScsICd2aXNpYmlsaXR5JywgJ25vbmUnKTsKICAgICAgICBtYXBJbnN0YW5jZS5zZXRMYXlvdXRQcm9wZXJ0eSgnbWFwX3N1cHBseV9hcmVhJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICAgIG1hcEluc3RhbmNlLnNldExheW91dFByb3BlcnR5KCdtYXBfc29jaWV0eV9hcmVhJywgJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpOwogICAgICB9IGVsc2UgewogICAgICAgIG1hcEluc3RhbmNlLnNldExheW91dFByb3BlcnR5KCdtYXBfcmFpbl9hcmVhJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICAgIG1hcEluc3RhbmNlLnNldExheW91dFByb3BlcnR5KCdtYXBfc3VwcGx5X2FyZWEnLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgICAgbWFwSW5zdGFuY2Uuc2V0TGF5b3V0UHJvcGVydHkoJ21hcF9zb2NpZXR5X2FyZWEnLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgIH0KICAgIH0sCiAgICBtYXBUb29sRW1pdCh0eXBlKSB7CiAgICAgIC8vIGNvbnN0IGJvb2wgPSB0aGlzLmFjdGl2ZVRvb2wgIT09IHR5cGU7CiAgICAgIC8vIGlmICh0aGlzLmFjdGl2ZVRvb2wgPT0gdHlwZSkgewogICAgICAvLyAgIHRoaXMuYWN0aXZlVG9vbCA9ICIiOwogICAgICAvLyAgIC8vIOS/ruaUuee7mOWItuaooeW8jyAgCiAgICAgIC8vICAgdGhpcy5tZWFzdXJlSW5zdGFuY2UucmVtb3ZlTWFyaygpOwogICAgICAvLyAgIHRoaXMubWVhc3VyZUluc3RhbmNlLl9kcmF3LmNoYW5nZU1vZGUoInN0YXRpYyIpOwogICAgICAvLyB9IGVsc2UgewogICAgICAvLyAgIHRoaXMuYWN0aXZlVG9vbCA9IHR5cGU7CiAgICAgIC8vIH0KICAgICAgLy8gc3dpdGNoICh0cnVlKSB7CiAgICAgIC8vICAgY2FzZSB0aGlzLmFjdGl2ZVRvb2wgPT0gIm1lYXN1cmVEaXN0YW5jZSI6CiAgICAgIC8vICAgICB0aGlzLmRyYXdTaGFwZSgiZGlzdGFuY2UiKTsKICAgICAgLy8gICAgIGJyZWFrOwogICAgICAvLyAgIGNhc2UgdGhpcy5hY3RpdmVUb29sID09ICJtZWFzdXJlU3F1YXJlIjoKICAgICAgLy8gICAgIHRoaXMuZHJhd1NoYXBlKCJhcmVhIik7CiAgICAgIC8vICAgICBicmVhazsKICAgICAgLy8gfQogICAgfSwKICAgIGRyYXdTaGFwZSh0eXBlKSB7CiAgICAgIGxldCBtYXBJbnN0YW5jZSA9IHdpbmRvdy54YU1hcDsKICAgICAgbWFwSW5zdGFuY2UuZG91YmxlQ2xpY2tab29tLmRpc2FibGUoKTsKICAgICAgd2luZG93Ll9pZk9wZW5TdGF0aXN0aWNQYW5lbCA9IGZhbHNlOwogICAgICB0aGlzLm1lYXN1cmVJbnN0YW5jZS5tZWFzdXJlKHR5cGUpOwogICAgfQogIH0KfTs="},{"version":3,"names":["Toast","name","props","computed","data","searchValue","show","toolOpen","mapShow","checkedOwner","radioOwner","defaultBaseLayers","baseLayerObject","activeTool","group","影像图","panelConfig","select","type","radio","mounted","methods","getDefaultBaseLayers","layers","getBaseLayerObject","arr","forEach","layer","push","id","pop","onSearch","onClear","mapChange","value","map","window","xaMap","setLayoutProperty","layerID","checkboxChange","mapInstance","console","log","getStyle","item","getLayer","unCheckedList","getUnCheckedList","allSelect","i","j","filter","length","radioChange","mapToolEmit","drawShape","doubleClickZoom","disable","_ifOpenStatisticPanel","measureInstance","measure"],"sources":["src/views/OneMap/mapTools.vue"],"sourcesContent":["<template>\r\n  <div class=\"map\">\r\n    <fm-search\r\n      v-model=\"searchValue\"\r\n      placeholder=\"搜索\"\r\n      @clear=\"onClear\"\r\n      @search=\"onSearch\"\r\n    />\r\n    <div class=\"contorl\">\r\n      <div class=\"item\" @click=\"show = true\">\r\n        <img\r\n          src=\"@/assets/img/map/layer.png\"\r\n          alt=\"\"\r\n        />\r\n        <div>图层</div>\r\n      </div>\r\n      <div class=\"item\" v-if=\"!toolOpen\"  @click=\"toolOpen = true\">\r\n        <img\r\n          src=\"@/assets/img/map/工具.png\"\r\n          alt=\"\"\r\n        />\r\n        <div>工具</div>\r\n      </div>\r\n      <div class=\"itemOpen\" v-if=\"toolOpen\">\r\n        <div @click=\"toolOpen = false\">\r\n          <img\r\n            src=\"@/assets/img/map/工具-点击.png\"\r\n            alt=\"\"\r\n          />\r\n          <div style=\"color: #1B67D8;\" class=\"font-m\">工具</div>\r\n        </div>\r\n        <div @click=\"mapToolEmit('measureDistance')\">\r\n          <img\r\n            src=\"@/assets/img/map/measure.png\"\r\n            alt=\"\"\r\n          />\r\n          <div class=\"font-m\">测量</div>\r\n        </div>\r\n        <div @click=\"mapToolEmit('measureSquare')\">\r\n          <img\r\n            src=\"@/assets/img/map/area.png\"\r\n            alt=\"\"\r\n          />\r\n          <div class=\"font-m\">面积</div>\r\n        </div>\r\n        <div>\r\n          <img\r\n            src=\"@/assets/img/map/location.png\"\r\n            alt=\"\"\r\n          />\r\n          <div>定位</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <fm-popup :visible.sync=\"show\" position=\"bottom\" :style=\"{ height: '45%' }\" class=\"popup\">\r\n      <div class=\"head\">\r\n        <div>图层</div> \r\n        <i class=\"fm-icon fm-icon-cross\" @click=\"show = false\"></i>\r\n      </div>\r\n      <!-- 底图切换部分 -->\r\n      <div class=\"item-box\">\r\n        <div v-if=\"mapShow === '默认底图'\" style=\"margin-left: 15px;display: flex;flex-direction: row;\">\r\n          <div class=\"pic\">\r\n            <img\r\n              @click=\"mapChange('默认底图')\"\r\n              src=\"@/assets/img/map/标准地图选中.png\"\r\n              alt=\"\"\r\n            />\r\n            <div class=\"pic-f m\">标准地图</div>\r\n          </div>\r\n          <div class=\"pic\">\r\n            <img\r\n              @click=\"mapChange('影像图')\"\r\n              src=\"@/assets/img/map/卫星地图未选中.png\"\r\n              alt=\"\"\r\n            />\r\n            <div class=\"pic-f\">卫星地图</div>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"mapShow === '影像图'\" style=\"margin-left: 15px;display: flex;flex-direction: row;\">\r\n          <div class=\"pic\">\r\n            <img\r\n              @click=\"mapChange('默认底图')\"\r\n              src=\"@/assets/img/map/标准地图未选中.png\"\r\n              alt=\"\"\r\n            />\r\n            <div class=\"pic-f\">标准地图</div>\r\n          </div>\r\n          <div class=\"pic\">\r\n            <img\r\n              @click=\"mapChange('影像图')\"\r\n              src=\"@/assets/img/map/卫星地图选中.png\"\r\n              alt=\"\"\r\n            />\r\n            <div class=\"pic-f m\">卫星地图</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 多选按钮，基础图层 -->\r\n      <fm-checkbox-group v-model=\"checkedOwner\" @change=\"checkboxChange\" direction=\"horizontal\">\r\n        <fm-checkbox\r\n          shape=\"square\"\r\n          v-for=\"(item,index) in panelConfig.select\"\r\n          :key=\"index\"\r\n          :name=\"item.name\"\r\n          >{{ item.name }}</fm-checkbox\r\n        >\r\n      </fm-checkbox-group>\r\n      <!-- 单选按钮，区域划分 -->\r\n      <fm-radio-group v-model=\"radioOwner\" @change=\"radioChange\" direction=\"horizontal\">\r\n        <fm-radio\r\n          v-for=\"(item,index) in panelConfig.radio\"\r\n          :key=\"index\"\r\n          :name=\"item.name\"\r\n          >{{ item.name }}</fm-radio\r\n        >\r\n      </fm-radio-group>\r\n    </fm-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from 'fawkes-mobile-lib'\r\nexport default {\r\n  name: 'OneMap',\r\n  props: {\r\n  },\r\n  computed: {\r\n  },\r\n  data() {\r\n    return {\r\n      searchValue: '',\r\n      show: false,\r\n      toolOpen: false,\r\n      mapShow: \"默认底图\",\r\n      // 多选框选中值\r\n      checkedOwner: ['小区', '道路', '河流', '建筑',],\r\n      // 单选框选中值\r\n      radioOwner: \"街道分区\",\r\n      defaultBaseLayers: [],\r\n      baseLayerObject: {},\r\n      activeTool: \"\",\r\n      group: {\r\n        影像图: [\"layertdt_img\"],\r\n      },\r\n      panelConfig: {\r\n        select: [\r\n          { name: '小区', type: '小区',},\r\n          { name: '道路', type: '道路',},\r\n          { name: '河流', type: '河流',},\r\n          { name: '管廊', type: '管廊',},\r\n          { name: '建筑', type: '建筑',  },\r\n        ],\r\n        radio: [\r\n          { name: '雨水分区', type: '雨水分区', },\r\n          { name: '污水分区', type: '污水分区', },\r\n          { name: '供水分区', type: '供水分区', },\r\n          { name: '街道分区', type: '街道分区', },\r\n          { name: '社区分区', type: '社区分区', },\r\n        ]\r\n      },\r\n    }\r\n  },\r\n  mounted() {\r\n  },\r\n  methods: {\r\n    getDefaultBaseLayers(layers) {\r\n      this.defaultBaseLayers = layers\r\n    },\r\n    getBaseLayerObject(layers) {\r\n      let arr = [];\r\n      layers.forEach((layer) => {\r\n        arr.push(layer.id);\r\n      });\r\n      arr.pop();\r\n      this.group[\"默认底图\"] = arr;\r\n      this.baseLayerObject = this.group\r\n    },\r\n    onSearch() {\r\n    },\r\n    onClear() {\r\n    },\r\n    // 地图点击切换\r\n    mapChange(value) {\r\n      // 如果点击的图片已经是选中状态就退出\r\n      if (value === this.mapShow) return;\r\n      // this.$emit(\"changeBaseLayer\", this.mapShow);\r\n      let map = window.xaMap;\r\n      if (value != \"默认底图\") {\r\n        this.defaultBaseLayers.forEach((layer) => {\r\n          map.setLayoutProperty(layer.id, \"visibility\", \"none\");\r\n        });\r\n      } else {\r\n        this.defaultBaseLayers.forEach((layer) => {\r\n          map.setLayoutProperty(layer.id, \"visibility\", \"visible\");\r\n        });\r\n      }\r\n      if (this.mapShow) {\r\n        this.baseLayerObject[this.mapShow].forEach((layerID) => {\r\n          map.setLayoutProperty(layerID, \"visibility\", \"none\");\r\n        });\r\n      }\r\n      this.baseLayerObject[value].forEach((layerID) => {\r\n        map.setLayoutProperty(layerID, \"visibility\", \"visible\");\r\n      });\r\n      this.mapShow = value;\r\n    },\r\n    // 多选框选中回调\r\n    checkboxChange(checkedOwner) {\r\n      let mapInstance = window.xaMap;\r\n      console.log(\"存在的图层\", mapInstance.getStyle());\r\n      console.log(\"多选\", checkedOwner);\r\n      checkedOwner.forEach(item => {\r\n        mapInstance.getLayer(item) && mapInstance.setLayoutProperty(item, 'visibility', 'visible')\r\n      })\r\n      let unCheckedList = this.getUnCheckedList(checkedOwner)\r\n      console.log(\"未选\", unCheckedList);\r\n      unCheckedList.forEach(item => {\r\n        mapInstance.getLayer(item) && mapInstance.setLayoutProperty(item, 'visibility', 'none')\r\n      })\r\n    },\r\n    getUnCheckedList(checkedOwner) {\r\n      let arr = []\r\n      let allSelect = this.panelConfig.select\r\n      allSelect.forEach(i => {\r\n        let j = checkedOwner && checkedOwner.filter(item => item == i.name) || []\r\n        j.length == 0 && arr.push(i.name)\r\n      })\r\n      return arr\r\n    },\r\n    // 单选框选中回调\r\n    radioChange(radioOwner) {\r\n      let mapInstance = window.xaMap;\r\n      console.log(\"存在的图层\", mapInstance.getStyle());\r\n      console.log(\"单选\", radioOwner);\r\n      if(radioOwner == '雨水分区') {\r\n        mapInstance.setLayoutProperty('map_rain_area', 'visibility', 'visible')\r\n        mapInstance.setLayoutProperty('map_supply_area', 'visibility', 'none')\r\n        mapInstance.setLayoutProperty('map_society_area', 'visibility', 'none')\r\n      }else if(radioOwner == '供水分区') {\r\n        mapInstance.setLayoutProperty('map_rain_area', 'visibility', 'none')\r\n        mapInstance.setLayoutProperty('map_supply_area', 'visibility', 'visible')\r\n        mapInstance.setLayoutProperty('map_society_area', 'visibility', 'none')\r\n      }else if (radioOwner == '社区分区') {\r\n        mapInstance.setLayoutProperty('map_rain_area', 'visibility', 'none')\r\n        mapInstance.setLayoutProperty('map_supply_area', 'visibility', 'none')\r\n        mapInstance.setLayoutProperty('map_society_area', 'visibility', 'visible')\r\n      }else {\r\n        mapInstance.setLayoutProperty('map_rain_area', 'visibility', 'none')\r\n        mapInstance.setLayoutProperty('map_supply_area', 'visibility', 'none')\r\n        mapInstance.setLayoutProperty('map_society_area', 'visibility', 'none')\r\n      }\r\n    },\r\n    mapToolEmit(type) {\r\n      // const bool = this.activeTool !== type;\r\n      // if (this.activeTool == type) {\r\n      //   this.activeTool = \"\";\r\n      //   // 修改绘制模式  \r\n      //   this.measureInstance.removeMark();\r\n      //   this.measureInstance._draw.changeMode(\"static\");\r\n      // } else {\r\n      //   this.activeTool = type;\r\n      // }\r\n      // switch (true) {\r\n      //   case this.activeTool == \"measureDistance\":\r\n      //     this.drawShape(\"distance\");\r\n      //     break;\r\n      //   case this.activeTool == \"measureSquare\":\r\n      //     this.drawShape(\"area\");\r\n      //     break;\r\n      // }\r\n    },\r\n    drawShape(type) {\r\n      let mapInstance = window.xaMap;\r\n      mapInstance.doubleClickZoom.disable();\r\n      window._ifOpenStatisticPanel = false;\r\n      this.measureInstance.measure(type)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.map {\r\n}\r\n.contorl {\r\n  position: absolute;\r\n  right: 36px;\r\n  top: 250px;\r\n  width: 84px;\r\n  .item {\r\n    width: 84px;\r\n    height: 84px;\r\n    background: #FFFFFF;\r\n    box-shadow: 0px 4px 12px 0px rgba(25,25,25,0.15);\r\n    border-radius: 16px;\r\n    margin-bottom: 16px;\r\n    font-size: 16px;\r\n    font-family: PingFangSC-Medium, PingFang SC;\r\n    font-weight: 500;\r\n    color: #333333;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    img {\r\n      height: 48px;\r\n      display: inline-block;\r\n    }\r\n  }\r\n  .itemOpen {\r\n    width: 84px;\r\n    background: #FFFFFF;\r\n    box-shadow: 0px 4px 12px 0px rgba(25,25,25,0.15);\r\n    border-radius: 16px;\r\n    padding: 5px 0;\r\n    font-size: 16px;\r\n    font-family: PingFangSC-Medium, PingFang SC;\r\n    font-weight: 500;\r\n    color: #333333;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    .font-m {\r\n      margin-bottom: 17px;\r\n    }\r\n    img {\r\n      height: 48px;\r\n      display: inline-block;\r\n    }\r\n  }\r\n}\r\n.popup {\r\n  font-size: 32px;\r\n  font-family: PingFangSC-Regular, PingFang SC;\r\n  font-weight: 400;\r\n  color: #333333;\r\n  background: #F5F7F9;\r\n  padding: 30px;\r\n  box-shadow: 0px -6px 12px 0px rgba(104,115,127,0.1);\r\n  .head{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    width: calc(100% - 60px);\r\n    height: 50px;\r\n    margin-bottom: 25px;\r\n    font-size: 36px;\r\n    font-family: PingFangSC-Semibold, PingFang SC;\r\n    font-weight: 600;\r\n    color: #191919;\r\n\r\n  }\r\n}\r\n.item-box {\r\n  display: flex;\r\n  align-items: center;\r\n  width: calc(100% - 60px);\r\n  margin-bottom: 14px;\r\n  height: 163px;\r\n  background: #FFFFFF;\r\n  box-shadow: 0px 4px 16px 0px rgba(104,115,127,0.06);\r\n  border-radius: 16px;\r\n  .pic {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    font-size: 24px;\r\n    font-family: PingFangSC-Regular, PingFang SC;\r\n    font-weight: 400;\r\n    color: #333333;\r\n    .pic-f {\r\n      margin-top: 8px;\r\n    }\r\n    .m {\r\n      color: #1B67D8;\r\n    }\r\n  }\r\n  img {\r\n    width: 168px;\r\n    user-select: none;\r\n    margin-right: 20px;\r\n    cursor: pointer;\r\n  }\r\n}\r\n/deep/.fm-checkbox-group {\r\n  width: calc(100% - 60px);\r\n  margin-bottom: 14px;\r\n  height: 173px;\r\n  background: #FFFFFF;\r\n  box-shadow: 0px 4px 16px 0px rgba(104,115,127,0.06);\r\n  border-radius: 16px;\r\n}\r\n/deep/.fm-checkbox--horizontal {\r\n  margin-left: 30px;\r\n  width: 25%;\r\n}\r\n/deep/.fm-radio-group {\r\n  width: calc(100% - 60px);\r\n  margin-bottom: 14px;\r\n  height: 173px;\r\n  background: #FFFFFF;\r\n  box-shadow: 0px 4px 16px 0px rgba(104,115,127,0.06);\r\n  border-radius: 16px;\r\n}\r\n/deep/.fm-radio--horizontal {\r\n  margin-left: 20px;\r\n}\r\n/deep/.fm-search {\r\n  position: fixed;\r\n  width: 100%;\r\n  top: 160px;\r\n  padding: 0 36px;\r\n  background-color: transparent;\r\n}\r\n/deep/.fm-search__content {\r\n  background-color: #ffffff;\r\n  box-shadow: 0px 8px 20px 0px rgba(104,115,127,0.2);\r\n  border-radius: 16px;\r\n  height: 80px;\r\n}\r\n</style>"],"mappings":"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"}]}