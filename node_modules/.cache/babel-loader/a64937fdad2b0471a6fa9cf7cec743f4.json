{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\CommonDetail\\Form\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\CommonDetail\\Form\\index.vue","mtime":1705912800000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRU5VTSB9IGZyb20gJ0Avc3RvcmUvU3RhdGUvc3RhdGVUeXBlcyc7CmltcG9ydCB7IGdldENvbW1vbkZvcm1EZXRhaWwsIGVkaXRDb21tb25Gb3JtRGV0YWlsLCBhZGRDb21tb25Gb3JtRGV0YWlsIH0gZnJvbSAnLi4vYXBpJzsKaW1wb3J0IHNlbGVjdE9yZyBmcm9tICdAL2NvbXBvbmVudHMvc2VsZWN0LW9yZyc7CmltcG9ydCBVcGxvYWRlciBmcm9tICdAL2NvbXBvbmVudHMvdXBsb2FkL1VwbG9hZGVyLnZ1ZSc7CmltcG9ydCBEZXRhaWxUYWJsZSBmcm9tICdAL3ZpZXdzL0Zvcm1DZW50ZXIvY29tcG9uZW50cy9EZXRhaWxUYWJsZSc7CmltcG9ydCBzZWxlY3RVc2VyIGZyb20gJ0AvY29tcG9uZW50cy9zZWxlY3QtdXNlcic7CmltcG9ydCBzZWxlY3RQZXJzb25uZWwgZnJvbSAnQC9jb21wb25lbnRzL3NlbGVjdC1wZXJzb25uZWwnOwppbXBvcnQgeyBOYXZCYXIsIEZvcm0sIEZpZWxkLCBDYWxlbmRhciwgQnV0dG9uLCBTdGVwcGVyLCBQb3B1cCwgUGlja2VyLCBDaGVja2JveCwgQ2hlY2tib3hHcm91cCwgVG9hc3QsIENlbGwsIENlbGxHcm91cCwgU2lkZWJhciwgU2lkZWJhckl0ZW0sIERpYWxvZyB9IGZyb20gJ2Zhd2tlcy1tb2JpbGUtbGliJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdpbmRleCcsCiAgY29tcG9uZW50czogewogICAgW05hdkJhci5uYW1lXTogTmF2QmFyLAogICAgW0Zvcm0ubmFtZV06IEZvcm0sCiAgICBbRmllbGQubmFtZV06IEZpZWxkLAogICAgW0NhbGVuZGFyLm5hbWVdOiBDYWxlbmRhciwKICAgIFtCdXR0b24ubmFtZV06IEJ1dHRvbiwKICAgIFtTdGVwcGVyLm5hbWVdOiBTdGVwcGVyLAogICAgW1BvcHVwLm5hbWVdOiBQb3B1cCwKICAgIFtQaWNrZXIubmFtZV06IFBpY2tlciwKICAgIFtDaGVja2JveC5uYW1lXTogQ2hlY2tib3gsCiAgICBbQ2hlY2tib3hHcm91cC5uYW1lXTogQ2hlY2tib3hHcm91cCwKICAgIFtDZWxsLm5hbWVdOiBDZWxsLAogICAgW0NlbGxHcm91cC5uYW1lXTogQ2VsbEdyb3VwLAogICAgW1NpZGViYXIubmFtZV06IFNpZGViYXIsCiAgICBbU2lkZWJhckl0ZW0ubmFtZV06IFNpZGViYXJJdGVtLAogICAgW0RpYWxvZy5uYW1lXTogRGlhbG9nLAogICAgc2VsZWN0T3JnLAogICAgVXBsb2FkZXIsCiAgICBzZWxlY3RVc2VyLAogICAgRGV0YWlsVGFibGUsCiAgICBzZWxlY3RQZXJzb25uZWwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBpc0Rpc2FibGVkOiAodGhpcy4kcm91dGUucGFyYW1zLnR5cGUgPT0gJ2FkZCcgfHwgdGhpcy4kcm91dGUucGFyYW1zLnR5cGUgPT0gJ2VkaXQnKSA/IGZhbHNlIDogdHJ1ZSwKICAgICAgaXNEaXNhYmxlZDogZmFsc2UsCiAgICAgIHNob3dDYWxlbmRhcjogZmFsc2UsCiAgICAgIC8v5piv5ZCm5bGV56S66YCJ5oup5pel5pyf57uE5Lu2CiAgICAgIHNob3dQaWNrZXI6IGZhbHNlLAogICAgICAvL+aYr+WQpuWxleekuumAieaLqeaKpemUgOexu+Wei+e7hOS7tgogICAgICBjaGVja2JveEdyb3VwOiBbJ+efreS/oSddLAogICAgICBzbXNpbElzQ2hlY2s6IHRydWUsCiAgICAgIGVtYWlsSXNDaGVjazogdHJ1ZSwKICAgICAgZm9ybURhdGE6IHsKICAgICAgICBhdHRhY2htZW50OiAnJywKICAgICAgICAvL+mZhOS7tgogICAgICAgIGJ1ZGdldDogJyAnLAogICAgICAgIC8v6YeH6LSt6aKE566XCiAgICAgICAgZGVwYXJ0bWVudElkOiAnJywKICAgICAgICAvL+mDqOmXqElECiAgICAgICAgZGVwYXJ0bWVudE5hbWU6ICcnLAogICAgICAgIC8v6YOo6ZeoCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIC8v5oql6ZSA5o+P6L+wCiAgICAgICAgZmluYW5jZUFzc2lnbmVlOiAnJywKICAgICAgICAvL+i0ouWKoeWuoeaJueS6ugogICAgICAgIGZpbmFuY2VBc3NpZ25lZUZ1bGxuYW1lOiAnJywKICAgICAgICAvL+i0ouWKoeWuoeaJueS6ugogICAgICAgIG1hbmFnZUFzc2lnbmVlOiAnJywKICAgICAgICAvL+e7j+eQhuWuoeaJueS6ugogICAgICAgIG1hbmFnZUFzc2lnbmVlRnVsbG5hbWU6ICcnLAogICAgICAgIC8v57uP55CG5a6h5om55Lq6CiAgICAgICAgbWFuYWdlcjogJycsCiAgICAgICAgLy/ph4fotK3otJ/otKPkuroKICAgICAgICBtYW5hZ2VyRnVsbG5hbWU6ICcnLAogICAgICAgIC8v6YeH6LSt6LSf6LSj5Lq6CiAgICAgICAgbm90aWZpY2F0aW9uOiAnJywKICAgICAgICAvL+mAmuefpeaWueW8jwogICAgICAgIHBsYW5EYXRlOiAnJywKICAgICAgICAvL+mHh+i0reiuoeWIkuaXpeacnwogICAgICAgIHJlaW1idXJzZU5hbWU6ICcnLAogICAgICAgIC8v5oql6ZSA5ZCN56ewCiAgICAgICAgcmVpbWJ1cnNlVHlwZTogJycsCiAgICAgICAgLy/lt67ml4XnsbvlnosKICAgICAgICByZWltYnVyc2VfYXR0YWNoZW1lbnQ6IFtdLAogICAgICAgIHJlaW1idXJzZV9kZXRhaWw6IFtdCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBhY3RpdmVLZXk6IDAsCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgdGFibGVUeXBlOiAnYWRkJywKICAgICAgLy8g5piO57uG6KGo5YiX5a+56LGhCiAgICAgIHRhYmxlQ29sdW1uOiB7CiAgICAgICAgcmVpbWJ1cnNlQXR0YWNoZW1lbnRMaXN0OiBbewogICAgICAgICAgaW5kZXg6IDAsCiAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICBwcm9wOiAnZmlsZVR5cGUnLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgbGFiZWw6ICfmlofku7bnsbvlnosnLAogICAgICAgICAgZWRpdDogdHJ1ZSwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWlJywKICAgICAgICAgIGVkaXRUeXBlOiAnaW5wdXQnLAogICAgICAgICAgcmVhZG9ubHk6IGZhbHNlLAogICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBpbmRleDogMSwKICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICAgIHByb3A6ICdmaWxlTmFtZScsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICBsYWJlbDogJ+aWh+S7tuWQjeensCcsCiAgICAgICAgICBlZGl0OiB0cnVlLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaUnLAogICAgICAgICAgZWRpdFR5cGU6ICdpbnB1dCcsCiAgICAgICAgICByZWFkb25seTogZmFsc2UsCiAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGluZGV4OiAyLAogICAgICAgICAgdmFsdWU6ICcnLAogICAgICAgICAgcHJvcDogJ2F0dGFjaG1lbnQnLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgbGFiZWw6ICfpmYTku7YnLAogICAgICAgICAgZWRpdDogdHJ1ZSwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAnJywKICAgICAgICAgIGVkaXRUeXBlOiAnZmlsZScsCiAgICAgICAgICByZWFkb25seTogZmFsc2UsCiAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICByZXF1aXJlZDogZmFsc2UKICAgICAgICB9LCB7CiAgICAgICAgICBpbmRleDogMywKICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICAgIHByb3A6ICdkZXNjcmlwdGlvbicsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICBsYWJlbDogJ+aPj+i/sCcsCiAgICAgICAgICBlZGl0OiB0cnVlLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaUnLAogICAgICAgICAgZWRpdFR5cGU6ICd0ZXh0YXJlYScsCiAgICAgICAgICByZWFkb25seTogZmFsc2UsCiAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIH1dLAogICAgICAgIHJlaW1idXJzZURldGFpbExpc3Q6IFt7CiAgICAgICAgICBpbmRleDogMCwKICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICAgIHByb3A6ICdyZWltYnVyc2VUeXBlJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIGxhYmVsOiAn5oql6ZSA57G75Z6LJywKICAgICAgICAgIGVkaXQ6IHRydWUsCiAgICAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+mAieaLqScsCiAgICAgICAgICBlZGl0VHlwZTogJ3NlbGVjdCcsCiAgICAgICAgICBkaWN0Q29kZTogJ3JlaW1idXJzZV90eXBlJywKICAgICAgICAgIHJlYWRvbmx5OiBmYWxzZSwKICAgICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAgaW5kZXg6IDEsCiAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICBwcm9wOiAncmVpbWJ1cnNlTmFtZScsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICBsYWJlbDogJ+aKpemUgOWQjeensCcsCiAgICAgICAgICBlZGl0OiB0cnVlLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaUnLAogICAgICAgICAgZWRpdFR5cGU6ICdpbnB1dCcsCiAgICAgICAgICByZWFkb25seTogZmFsc2UsCiAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGluZGV4OiAyLAogICAgICAgICAgdmFsdWU6ICcnLAogICAgICAgICAgcHJvcDogJ3JlaW1idXJzZUZlZScsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICBsYWJlbDogJ+aKpemUgOi0ueeUqCcsCiAgICAgICAgICBlZGl0OiB0cnVlLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaUnLAogICAgICAgICAgZWRpdFR5cGU6ICdudW1iZXInLAogICAgICAgICAgcmVhZG9ubHk6IGZhbHNlLAogICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBpbmRleDogMywKICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICAgIHByb3A6ICdyZWltYnVyc2VEYXRlJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIGxhYmVsOiAn5oql6ZSA5pel5pyfJywKICAgICAgICAgIGVkaXQ6IHRydWUsCiAgICAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+mAieaLqScsCiAgICAgICAgICBlZGl0VHlwZTogJ2RhdGVQaWNrZXInLAogICAgICAgICAgcmVhZG9ubHk6IGZhbHNlLAogICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBmb3JtYXQ6ICdZWVlZLU1NLUREJwogICAgICAgIH0sIHsKICAgICAgICAgIGluZGV4OiA0LAogICAgICAgICAgdmFsdWU6ICcnLAogICAgICAgICAgcHJvcDogJ2Rlc2NyaXB0aW9uJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIGxhYmVsOiAn5oql6ZSA5o+P6L+wJywKICAgICAgICAgIGVkaXQ6IHRydWUsCiAgICAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpScsCiAgICAgICAgICBlZGl0VHlwZTogJ3RleHRhcmVhJywKICAgICAgICAgIHJlYWRvbmx5OiBmYWxzZSwKICAgICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgLy8g5piO57uG6KGo5a+56LGhCiAgICAgIGRldGFpbFRhYmxlOiB7CiAgICAgICAgcmVpbWJ1cnNlQXR0YWNoZW1lbnRMaXN0OiBbXSwKICAgICAgICByZWltYnVyc2VEZXRhaWxMaXN0OiBbXQogICAgICB9LAogICAgICAvLyDmmI7nu4booajlrp7kvZPlkI3mlbDnu4QKICAgICAgZGV0YWlsRW50aXR5TmFtZUxpc3Q6IFsncmVpbWJ1cnNlQXR0YWNoZW1lbnRMaXN0JywgJ3JlaW1idXJzZURldGFpbExpc3QnXSwKICAgICAgLy9zZWxlY3RQZXJzb25uZWznu4Tku7bmtYvor5UKICAgICAgbmFtZTE6ICcnLAogICAgICBmdWxsbmFtZTE6ICcnLAogICAgICBuYW1lMjogJycsCiAgICAgIGZ1bGxuYW1lMjogJycKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgbmFtZTEoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMubmFtZTEpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmZ1bGxuYW1lMSk7CiAgICB9LAogICAgbmFtZTIoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMubmFtZTIpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmZ1bGxuYW1lMik7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgaWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZXIuY3VycmVudFJvdXRlLnBhcmFtcy5pZDsKICAgIH0sCiAgICB0eXBlKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGVyLmN1cnJlbnRSb3V0ZS5wYXJhbXMudHlwZTsKICAgIH0sCiAgICAvLyDkuLvooajliIbnsbvlrZflhbggLy/pgInmi6nlmajlrZfmrrUKICAgIHJlaW1idXJzZVR5cGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZVtFTlVNXVt0aGlzLnRvTGluZSgncmVpbWJ1cnNlX3R5cGUnKV0gfHwgW107CiAgICB9LAogICAgbGFuZygpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JhZ2UuZ2V0KCdpMThuTG9jYWxlJykgPT0gJ3poJykgewogICAgICAgIHJldHVybiAnemgtQ04nOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnZW4nOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy50YWJsZVR5cGUgPSB0aGlzLnR5cGU7CiAgICBpZiAodGhpcy50eXBlICE9ICdhZGQnKSB7CiAgICAgIFRvYXN0LmxvYWRpbmcoewogICAgICAgIG1lc3NhZ2U6ICfliqDovb3kuK0uLi4nLAogICAgICAgIGZvcmJpZENsaWNrOiB0cnVlCiAgICAgIH0pOwogICAgICB0aGlzLmdldEZyb21EZXRhaWwoKTsKICAgIH0KICAgIGlmICh0aGlzLnR5cGUgPT0gJ3ZpZXcnKSB7CiAgICAgIHRoaXMuaXNEaXNhYmxlZCA9IHRydWU7CiAgICB9CiAgICBpZiAodGhpcy50eXBlID09ICdhZGQnKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuY2hlY2tib3goJ+efreS/oScpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6ZmQ5Yi25q2l6L+b5Zmo5pyA5aSa5Y+q6IO95LiJ5L2N5bCP5pWwCiAgICBzdGVwcGVyQ2hhbmdlKHZhbCkgewogICAgICAvLyDlvZPmnInlgLzmiJbkuLrmlbDlrZfml7bliKTmlq0KICAgICAgaWYgKHZhbCA9PT0gJycgfHwgdmFsID09IG51bGwgfHwgaXNOYU4odmFsKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBsZXQgcmVnID0gL15cZCtcLj9cZHswLDN9JC87CiAgICAgIGxldCBuZXdWYWwgPSBudWxsOwogICAgICBpZiAoIXJlZy50ZXN0KHZhbCkpIHsKICAgICAgICBUb2FzdCgn6ZmQ5Yi25q2j5pWw5oiWM+S9jeWwj+aVsCcpOwogICAgICAgIHZhbCA9IHZhbC50b1N0cmluZygpOwogICAgICAgIG5ld1ZhbCA9IHZhbC5pbmRleE9mKCcuJykgPiAtMSA/IHZhbC5zbGljZSgwLCB2YWwuaW5kZXhPZignLicpICsgNCkgOiB2YWw7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5mb3JtRGF0YSwgJ2J1ZGdldCcsIG5ld1ZhbCk7CiAgICAgICAgfSwgNTAwKTsKICAgICAgfQogICAgfSwKICAgIGdldEZyb21EZXRhaWwoKSB7CiAgICAgIGdldENvbW1vbkZvcm1EZXRhaWwoewogICAgICAgIGlkOiB0aGlzLmlkCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICByZXMuZGF0YS5wbGFuRGF0ZSA9IHJlcy5kYXRhLnBsYW5EYXRlID09IG51bGwgPyBudWxsIDogcmVzLmRhdGEucGxhbkRhdGUuc3BsaXQoJyAnKVswXTsKICAgICAgICB0aGlzLmZvcm1EYXRhID0gcmVzLmRhdGE7CiAgICAgICAgLy8g5Yik5pat6YKu566x55+t5L+h55qE6YCJ5Lit54q25oCBCiAgICAgICAgaWYgKHJlcy5kYXRhLm5vdGlmaWNhdGlvbiAhPSBudWxsKSB7CiAgICAgICAgICB0aGlzLmNoZWNrYm94R3JvdXAgPSByZXMuZGF0YS5ub3RpZmljYXRpb24uc3BsaXQoJywnKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5kZXRhaWxUYWJsZS5yZWltYnVyc2VBdHRhY2hlbWVudExpc3QgPSByZXMuZGF0YS5yZWltYnVyc2VBdHRhY2hlbWVudExpc3Q7CiAgICAgICAgdGhpcy5kZXRhaWxUYWJsZS5yZWltYnVyc2VEZXRhaWxMaXN0ID0gcmVzLmRhdGEucmVpbWJ1cnNlRGV0YWlsTGlzdDsKICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgVG9hc3QuY2xlYXIoKTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBvblN1Ym1pdCgpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ3RoaXMuZGV0YWlsVGFibGUnLCB0aGlzLmRldGFpbFRhYmxlKQogICAgICAvLyBjb25zb2xlLmxvZygndGhpcy50YWJsZUNvbHVtbicsIHRoaXMudGFibGVDb2x1bW4pCiAgICAgIGlmICghdGhpcy5mb3JtRGF0YS5tYW5hZ2VyRnVsbG5hbWUpIHsKICAgICAgICByZXR1cm4gVG9hc3QoJ+ivt+mAieaLqemHh+i0rei0n+i0o+S6uicpOwogICAgICB9CiAgICAgIGlmICghdGhpcy5mb3JtRGF0YS5maW5hbmNlQXNzaWduZWVGdWxsbmFtZSkgewogICAgICAgIHJldHVybiBUb2FzdCgn6K+36YCJ5oup6LSi5Yqh5a6h5om55Lq6Jyk7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmZvcm1EYXRhLm1hbmFnZUFzc2lnbmVlRnVsbG5hbWUpIHsKICAgICAgICByZXR1cm4gVG9hc3QoJ+ivt+mAieaLqee7j+eQhuWuoeaJueS6uicpOwogICAgICB9CiAgICAgIGlmICghdGhpcy5mb3JtRGF0YS5kZXBhcnRtZW50TmFtZSkgewogICAgICAgIHJldHVybiBUb2FzdCgn6K+36YCJ5oup5rWL6K+V6YOo6ZeoJyk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZGV0YWlsVGFibGUucmVpbWJ1cnNlQXR0YWNoZW1lbnRMaXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgcmV0dXJuIFRvYXN0KCfnlLPor7fmiqXplIDlrZDooajpmYTku7booajkuI3og73kuLrnqbonKTsKICAgICAgfQogICAgICBpZiAodGhpcy5kZXRhaWxUYWJsZS5yZWltYnVyc2VEZXRhaWxMaXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgcmV0dXJuIFRvYXN0KCfnlLPor7fmiqXplIDlrZDooajkuI3og73kuLrnqbonKTsKICAgICAgfQogICAgICAvLyDlpoLmnpzmnInkuIrkvKDmlofku7bvvIzliJnlkIjlubbmlofku7ZmaWxldG9rZW7kuLpncm91cFRva2VuCiAgICAgIGlmICh0aGlzLmZpbGVMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAvLyDlsY/olL13YXRjaOebkeWQrOmZhOS7tuWAvOWPmOabtOmHjeaWsOiOt+WPluaWh+S7tgogICAgICAgIHRoaXMuJHJlZnMuYXR0YWNobWVudC5uZWVkVG9HZXRGaWxlID0gZmFsc2U7CiAgICAgICAgdGhpcy4kcmVmcy5hdHRhY2htZW50LnNldEc5cygpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZm9ybURhdGEuYXR0YWNobWVudCA9ICcnOwogICAgICB9CiAgICAgIGxldCBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5mb3JtRGF0YSwgdGhpcy5kZXRhaWxUYWJsZSk7CiAgICAgIC8vIGlmIChkYXRhLnBsYW5EYXRlKSB7CiAgICAgIC8vICAgZGF0YS5wbGFuRGF0ZSA9IHRoaXMuJGRheWpzKGRhdGEucGxhbkRhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCAwMDowMDowMCcpCiAgICAgIC8vIH0KICAgICAgaWYgKHRoaXMudHlwZSA9PSAnYWRkJykgewogICAgICAgIGFkZENvbW1vbkZvcm1EZXRhaWwoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMpIHsKICAgICAgICAgICAgVG9hc3QoJ+S/neWtmOaIkOWKnycpOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFRvYXN0KHJlcy5tZXNzYWdlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlZGl0Q29tbW9uRm9ybURldGFpbChkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cykgewogICAgICAgICAgICBUb2FzdCgn57yW6L6R5oiQ5YqfJyk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgVG9hc3QocmVzLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy8g56Gu6K6k6YCJ5oup5pel5pyf57uE5Lu2CiAgICBvbkNhbGVuZGFyQ29uZmlybShkYXRlKSB7CiAgICAgIHRoaXMuZm9ybURhdGEucGxhbkRhdGUgPSB0aGlzLiRkYXlqcyhkYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgdGhpcy5zaG93Q2FsZW5kYXIgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDnoa7orqTpgInmi6nlt67ml4Xnsbvlnovnu4Tku7YKICAgIG9uUmVpbWJ1cnNlVHlwZUNvbmZpcm0odmFsdWUpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5yZWltYnVyc2VUeXBlID0gdmFsdWUuY29kZTsKICAgICAgdGhpcy5zaG93UGlja2VyID0gZmFsc2U7CiAgICB9LAogICAgY2hlY2tib3godmFsdWUpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5ub3RpZmljYXRpb24gPSB2YWx1ZS50b1N0cmluZygpOwogICAgfSwKICAgIC8vIOmpvOWzsOi9rOaNouS4i+WIkue6vwogICAgdG9MaW5lKG5hbWUpIHsKICAgICAgcmV0dXJuIG5hbWUucmVwbGFjZSgvKFtBLVpdKS9nLCAnXyQxJykudG9Mb3dlckNhc2UoKTsKICAgIH0sCiAgICBmaWxlQ2hhbmdlKGl0ZW0pIHsKICAgICAgdGhpcy5maWxlTGlzdCA9IGl0ZW0uZmlsZUxpc3Q7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["ENUM","getCommonFormDetail","editCommonFormDetail","addCommonFormDetail","selectOrg","Uploader","DetailTable","selectUser","selectPersonnel","NavBar","Form","Field","Calendar","Button","Stepper","Popup","Picker","Checkbox","CheckboxGroup","Toast","Cell","CellGroup","Sidebar","SidebarItem","Dialog","name","components","data","isDisabled","showCalendar","showPicker","checkboxGroup","smsilIsCheck","emailIsCheck","formData","attachment","budget","departmentId","departmentName","description","financeAssignee","financeAssigneeFullname","manageAssignee","manageAssigneeFullname","manager","managerFullname","notification","planDate","reimburseName","reimburseType","reimburse_attachement","reimburse_detail","loading","activeKey","fileList","tableType","tableColumn","reimburseAttachementList","index","value","prop","align","label","edit","placeholder","editType","readonly","disabled","required","reimburseDetailList","dictCode","format","detailTable","detailEntityNameList","name1","fullname1","name2","fullname2","watch","console","log","computed","id","$router","currentRoute","params","type","$store","state","toLine","lang","$storage","get","mounted","message","forbidClick","getFromDetail","checkbox","methods","stepperChange","val","isNaN","reg","newVal","test","toString","indexOf","slice","setTimeout","$set","then","res","split","finally","clear","onSubmit","length","$refs","needToGetFile","setG9s","Object","assign","status","go","onCalendarConfirm","date","$dayjs","onReimburseTypeConfirm","code","replace","toLowerCase","fileChange","item"],"sources":["src/views/CommonDetail/Form/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-container\">\r\n    <fm-nav-bar\r\n      title=\"普通主子表\"\r\n      left-text=\"\"\r\n      right-text=\"\"\r\n      left-arrow\r\n      @click-left=\"$router.go(-1)\"\r\n    />\r\n    <div\r\n      :class=\"['main', type != 'view' ? 'with-button' : 'without-button']\"\r\n      v-if=\"loading\"\r\n    >\r\n      <fm-form :readonly=\"isDisabled\" class=\"cus-form\">\r\n        <fm-field\r\n          input-align=\"right\"\r\n          v-model=\"formData.reimburseName\"\r\n          name=\"采购计划名称\"\r\n          label=\"采购计划名称\"\r\n          :maxlength=\"50\"\r\n          :placeholder=\"isDisabled ? '' : '请输入内容'\"\r\n        />\r\n        <div>\r\n          <fm-field\r\n            :is-link=\"!isDisabled\"\r\n            input-align=\"right\"\r\n            clickable\r\n            name=\"calendar\"\r\n            :value=\"formData.planDate\"\r\n            label=\"采购计划日期\"\r\n            :placeholder=\"isDisabled ? '' : '请选择'\"\r\n            readonly\r\n            @click.stop.native=\"isDisabled ? '' : (showCalendar = true)\"\r\n          />\r\n          <fm-calendar\r\n            :disabled=\"isDisabled\"\r\n            v-model=\"showCalendar\"\r\n            @confirm=\"onCalendarConfirm\"\r\n            :confirm-button-style=\"{ height: '44p;', marginBottom: '10px' }\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <fm-field name=\"stepper\" label=\"采购预算\" input-align=\"right\">\r\n            <template #input>\r\n              <fm-stepper\r\n                @change=\"stepperChange\"\r\n                input-width=\"50\"\r\n                :disabled=\"isDisabled\"\r\n                min=\"0\"\r\n                v-model=\"formData.budget\"\r\n              />\r\n            </template>\r\n          </fm-field>\r\n        </div>\r\n        <div>\r\n          <fm-field\r\n            :is-link=\"!isDisabled\"\r\n            readonly\r\n            clickable\r\n            input-align=\"right\"\r\n            name=\"picker\"\r\n            :value=\"formData.reimburseType | transferEnum('reimburse_type')\"\r\n            label=\"采购类型\"\r\n            :placeholder=\"isDisabled ? '' : '请选择'\"\r\n            @click.stop.native=\"isDisabled ? '' : (showPicker = true)\"\r\n          />\r\n          <fm-popup :visible.sync=\"showPicker\" position=\"bottom\">\r\n            <fm-picker\r\n              title=\"采购类型\"\r\n              confirm-button-text=\"完成\"\r\n              show-toolbar\r\n              :columns=\"reimburseType\"\r\n              :value-key=\"lang\"\r\n              @confirm=\"onReimburseTypeConfirm\"\r\n              @cancel=\"showPicker = false\"\r\n            />\r\n          </fm-popup>\r\n        </div>\r\n        <div class=\"textarea-type\">\r\n          <fm-cell-group title=\"采购说明\">\r\n            <fm-field\r\n              v-model=\"formData.description\"\r\n              type=\"textarea\"\r\n              maxlength=\"50\"\r\n              :readonly=\"isDisabled\"\r\n              :placeholder=\"isDisabled ? '' : '请输入内容'\"\r\n              show-word-limit\r\n            />\r\n          </fm-cell-group>\r\n        </div>\r\n        <fm-field name=\"checkboxGroup\" label=\"通知方式\" input-align=\"right\">\r\n          <template #input>\r\n            <fm-checkbox-group\r\n              v-model=\"checkboxGroup\"\r\n              direction=\"horizontal\"\r\n              @change=\"checkbox\"\r\n            >\r\n              <fm-checkbox :disabled=\"true\" name=\"短信\" shape=\"square\"\r\n                >短信</fm-checkbox\r\n              >\r\n              <fm-checkbox :disabled=\"isDisabled\" name=\"邮箱\" shape=\"square\"\r\n                >邮箱</fm-checkbox\r\n              >\r\n            </fm-checkbox-group>\r\n          </template>\r\n        </fm-field>\r\n        <uploader\r\n          v-model=\"formData.attachment\"\r\n          :deletable=\"!isDisabled\"\r\n          :disabled=\"isDisabled\"\r\n          @fileChange=\"fileChange\"\r\n          :showUpload=\"!isDisabled\"\r\n          ref=\"attachment\"\r\n          type=\"image\"\r\n          class=\"uploder-attachment\"\r\n        />\r\n        <select-user\r\n          title=\"采购负责人\"\r\n          :userFullname.sync=\"formData.managerFullname\"\r\n          :userName.sync=\"formData.manager\"\r\n          :disabled=\"isDisabled\"\r\n          :multiple=\"false\"\r\n          :required=\"true\"\r\n        >\r\n        </select-user>\r\n        <select-personnel\r\n          title=\"selectPersonnel-单选\"\r\n          :userName.sync=\"name1\"\r\n          :userFullname.sync=\"fullname1\"\r\n          :disabled=\"isDisabled\"\r\n          :required=\"true\"\r\n        >\r\n        </select-personnel>\r\n        <select-personnel\r\n          title=\"selectPersonnel-多选\"\r\n          :userName.sync=\"name2\"\r\n          :userFullname.sync=\"fullname2\"\r\n          :disabled=\"isDisabled\"\r\n          :multiple=\"true\"\r\n          :required=\"true\"\r\n        >\r\n        </select-personnel>\r\n        <select-user\r\n          title=\"财务审批人\"\r\n          :userFullname.sync=\"formData.financeAssigneeFullname\"\r\n          :userName.sync=\"formData.financeAssignee\"\r\n          :disabled=\"isDisabled\"\r\n          :multiple=\"false\"\r\n          :required=\"true\"\r\n        ></select-user>\r\n        <select-user\r\n          title=\"经理审批人\"\r\n          :userFullname.sync=\"formData.manageAssigneeFullname\"\r\n          :userName.sync=\"formData.manageAssignee\"\r\n          :disabled=\"isDisabled\"\r\n          :required=\"true\"\r\n        ></select-user>\r\n        <select-org\r\n          title=\"测试部门\"\r\n          :deptId.sync=\"formData.departmentId\"\r\n          :deptName.sync=\"formData.departmentName\"\r\n          :disabled=\"isDisabled\"\r\n          :required=\"true\"\r\n        ></select-org>\r\n\r\n        <!--明细表-->\r\n        <detail-table\r\n          :tableColumn=\"tableColumn.reimburseAttachementList\"\r\n          :formDetail.sync=\"detailTable.reimburseAttachementList\"\r\n          tableName=\"申请报销子表附件表\"\r\n          ref=\"detailForm0\"\r\n          :tableType=\"type\"\r\n          :required=\"true\"\r\n          :readonly=\"isDisabled ? 'readonly' : ''\"\r\n        ></detail-table>\r\n        <detail-table\r\n          :tableColumn=\"tableColumn.reimburseDetailList\"\r\n          :formDetail.sync=\"detailTable.reimburseDetailList\"\r\n          tableName=\"申请报销子表\"\r\n          ref=\"detailForm0\"\r\n          :tableType=\"type\"\r\n          :required=\"true\"\r\n          :readonly=\"isDisabled ? 'readonly' : ''\"\r\n        ></detail-table>\r\n      </fm-form>\r\n      <div class=\"form-button\" v-if=\"type != 'view'\">\r\n        <fm-button\r\n          round\r\n          block\r\n          type=\"primary\"\r\n          native-type=\"submit\"\r\n          @click=\"onSubmit\"\r\n          class=\"save-btn\"\r\n          >保存</fm-button\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ENUM } from '@/store/State/stateTypes'\r\nimport {\r\n  getCommonFormDetail,\r\n  editCommonFormDetail,\r\n  addCommonFormDetail,\r\n} from '../api'\r\nimport selectOrg from '@/components/select-org'\r\nimport Uploader from '@/components/upload/Uploader.vue'\r\nimport DetailTable from '@/views/FormCenter/components/DetailTable'\r\nimport selectUser from '@/components/select-user'\r\nimport selectPersonnel from '@/components/select-personnel'\r\nimport {\r\n  NavBar,\r\n  Form,\r\n  Field,\r\n  Calendar,\r\n  Button,\r\n  Stepper,\r\n  Popup,\r\n  Picker,\r\n  Checkbox,\r\n  CheckboxGroup,\r\n  Toast,\r\n  Cell,\r\n  CellGroup,\r\n  Sidebar,\r\n  SidebarItem,\r\n  Dialog,\r\n} from 'fawkes-mobile-lib'\r\nexport default {\r\n  name: 'index',\r\n  components: {\r\n    [NavBar.name]: NavBar,\r\n    [Form.name]: Form,\r\n    [Field.name]: Field,\r\n    [Calendar.name]: Calendar,\r\n    [Button.name]: Button,\r\n    [Stepper.name]: Stepper,\r\n    [Popup.name]: Popup,\r\n    [Picker.name]: Picker,\r\n    [Checkbox.name]: Checkbox,\r\n    [CheckboxGroup.name]: CheckboxGroup,\r\n    [Cell.name]: Cell,\r\n    [CellGroup.name]: CellGroup,\r\n    [Sidebar.name]: Sidebar,\r\n    [SidebarItem.name]: SidebarItem,\r\n    [Dialog.name]: Dialog,\r\n    selectOrg,\r\n    Uploader,\r\n    selectUser,\r\n    DetailTable,\r\n    selectPersonnel,\r\n  },\r\n  data() {\r\n    return {\r\n      // isDisabled: (this.$route.params.type == 'add' || this.$route.params.type == 'edit') ? false : true,\r\n      isDisabled: false,\r\n      showCalendar: false, //是否展示选择日期组件\r\n      showPicker: false, //是否展示选择报销类型组件\r\n      checkboxGroup: ['短信'],\r\n      smsilIsCheck: true,\r\n      emailIsCheck: true,\r\n      formData: {\r\n        attachment: '', //附件\r\n        budget: ' ', //采购预算\r\n        departmentId: '', //部门ID\r\n        departmentName: '', //部门\r\n        description: '', //报销描述\r\n        financeAssignee: '', //财务审批人\r\n        financeAssigneeFullname: '', //财务审批人\r\n        manageAssignee: '', //经理审批人\r\n        manageAssigneeFullname: '', //经理审批人\r\n        manager: '', //采购负责人\r\n        managerFullname: '', //采购负责人\r\n        notification: '', //通知方式\r\n        planDate: '', //采购计划日期\r\n        reimburseName: '', //报销名称\r\n        reimburseType: '', //差旅类型\r\n        reimburse_attachement: [],\r\n        reimburse_detail: [],\r\n      },\r\n      loading: false,\r\n      activeKey: 0,\r\n      fileList: [],\r\n      tableType: 'add',\r\n      // 明细表列对象\r\n      tableColumn: {\r\n        reimburseAttachementList: [\r\n          {\r\n            index: 0,\r\n            value: '',\r\n            prop: 'fileType',\r\n            align: 'center',\r\n            label: '文件类型',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'input',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 1,\r\n            value: '',\r\n            prop: 'fileName',\r\n            align: 'center',\r\n            label: '文件名称',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'input',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 2,\r\n            value: '',\r\n            prop: 'attachment',\r\n            align: 'center',\r\n            label: '附件',\r\n            edit: true,\r\n            placeholder: '',\r\n            editType: 'file',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: false,\r\n          },\r\n          {\r\n            index: 3,\r\n            value: '',\r\n            prop: 'description',\r\n            align: 'center',\r\n            label: '描述',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'textarea',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n        ],\r\n        reimburseDetailList: [\r\n          {\r\n            index: 0,\r\n            value: '',\r\n            prop: 'reimburseType',\r\n            align: 'center',\r\n            label: '报销类型',\r\n            edit: true,\r\n            placeholder: '请选择',\r\n            editType: 'select',\r\n            dictCode: 'reimburse_type',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 1,\r\n            value: '',\r\n            prop: 'reimburseName',\r\n            align: 'center',\r\n            label: '报销名称',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'input',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 2,\r\n            value: '',\r\n            prop: 'reimburseFee',\r\n            align: 'center',\r\n            label: '报销费用',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'number',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n          {\r\n            index: 3,\r\n            value: '',\r\n            prop: 'reimburseDate',\r\n            align: 'center',\r\n            label: '报销日期',\r\n            edit: true,\r\n            placeholder: '请选择',\r\n            editType: 'datePicker',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n            format: 'YYYY-MM-DD',\r\n          },\r\n          {\r\n            index: 4,\r\n            value: '',\r\n            prop: 'description',\r\n            align: 'center',\r\n            label: '报销描述',\r\n            edit: true,\r\n            placeholder: '请输入',\r\n            editType: 'textarea',\r\n            readonly: false,\r\n            disabled: false,\r\n            required: true,\r\n          },\r\n        ],\r\n      },\r\n      // 明细表对象\r\n      detailTable: {\r\n        reimburseAttachementList: [],\r\n        reimburseDetailList: [],\r\n      },\r\n      // 明细表实体名数组\r\n      detailEntityNameList: ['reimburseAttachementList', 'reimburseDetailList'],\r\n      //selectPersonnel组件测试\r\n      name1: '',\r\n      fullname1: '',\r\n      name2: '',\r\n      fullname2: '',\r\n    }\r\n  },\r\n  watch: {\r\n    name1() {\r\n      console.log(this.name1)\r\n      console.log(this.fullname1)\r\n    },\r\n    name2() {\r\n      console.log(this.name2)\r\n      console.log(this.fullname2)\r\n    },\r\n  },\r\n  computed: {\r\n    id() {\r\n      return this.$router.currentRoute.params.id\r\n    },\r\n    type() {\r\n      return this.$router.currentRoute.params.type\r\n    },\r\n    // 主表分类字典 //选择器字段\r\n    reimburseType() {\r\n      return this.$store.state[ENUM][this.toLine('reimburse_type')] || []\r\n    },\r\n    lang() {\r\n      if (this.$storage.get('i18nLocale') == 'zh') {\r\n        return 'zh-CN'\r\n      } else {\r\n        return 'en'\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.tableType = this.type\r\n    if (this.type != 'add') {\r\n      Toast.loading({\r\n        message: '加载中...',\r\n        forbidClick: true,\r\n      })\r\n      this.getFromDetail()\r\n    }\r\n    if (this.type == 'view') {\r\n      this.isDisabled = true\r\n    }\r\n    if (this.type == 'add') {\r\n      this.loading = true\r\n      this.checkbox('短信')\r\n    }\r\n  },\r\n  methods: {\r\n    // 限制步进器最多只能三位小数\r\n    stepperChange(val) {\r\n      // 当有值或为数字时判断\r\n      if (val === '' || val == null || isNaN(val)) {\r\n        return false\r\n      }\r\n      let reg = /^\\d+\\.?\\d{0,3}$/\r\n      let newVal = null\r\n      if (!reg.test(val)) {\r\n        Toast('限制正数或3位小数')\r\n        val = val.toString()\r\n        newVal =\r\n          val.indexOf('.') > -1 ? val.slice(0, val.indexOf('.') + 4) : val\r\n        setTimeout(() => {\r\n          this.$set(this.formData, 'budget', newVal)\r\n        }, 500)\r\n      }\r\n    },\r\n    getFromDetail() {\r\n      getCommonFormDetail({ id: this.id })\r\n        .then((res) => {\r\n          res.data.planDate =\r\n            res.data.planDate == null ? null : res.data.planDate.split(' ')[0]\r\n          this.formData = res.data\r\n          // 判断邮箱短信的选中状态\r\n          if (res.data.notification != null) {\r\n            this.checkboxGroup = res.data.notification.split(',')\r\n          }\r\n          this.detailTable.reimburseAttachementList =\r\n            res.data.reimburseAttachementList\r\n          this.detailTable.reimburseDetailList = res.data.reimburseDetailList\r\n        })\r\n        .finally(() => {\r\n          Toast.clear()\r\n          this.loading = true\r\n        })\r\n    },\r\n    onSubmit() {\r\n      // console.log('this.detailTable', this.detailTable)\r\n      // console.log('this.tableColumn', this.tableColumn)\r\n      if (!this.formData.managerFullname) {\r\n        return Toast('请选择采购负责人')\r\n      }\r\n      if (!this.formData.financeAssigneeFullname) {\r\n        return Toast('请选择财务审批人')\r\n      }\r\n      if (!this.formData.manageAssigneeFullname) {\r\n        return Toast('请选择经理审批人')\r\n      }\r\n      if (!this.formData.departmentName) {\r\n        return Toast('请选择测试部门')\r\n      }\r\n      if (this.detailTable.reimburseAttachementList.length == 0) {\r\n        return Toast('申请报销子表附件表不能为空')\r\n      }\r\n      if (this.detailTable.reimburseDetailList.length == 0) {\r\n        return Toast('申请报销子表不能为空')\r\n      }\r\n      // 如果有上传文件，则合并文件filetoken为groupToken\r\n      if (this.fileList.length > 0) {\r\n        // 屏蔽watch监听附件值变更重新获取文件\r\n        this.$refs.attachment.needToGetFile = false\r\n        this.$refs.attachment.setG9s()\r\n      } else {\r\n        this.formData.attachment = ''\r\n      }\r\n      let data = Object.assign({}, this.formData, this.detailTable)\r\n      // if (data.planDate) {\r\n      //   data.planDate = this.$dayjs(data.planDate).format('YYYY-MM-DD 00:00:00')\r\n      // }\r\n      if (this.type == 'add') {\r\n        addCommonFormDetail(data).then((res) => {\r\n          if (res.status) {\r\n            Toast('保存成功')\r\n            setTimeout(() => {\r\n              this.$router.go(-1)\r\n            }, 1000)\r\n          } else {\r\n            Toast(res.message)\r\n          }\r\n        })\r\n      } else {\r\n        editCommonFormDetail(data).then((res) => {\r\n          if (res.status) {\r\n            Toast('编辑成功')\r\n            setTimeout(() => {\r\n              this.$router.go(-1)\r\n            }, 1000)\r\n          } else {\r\n            Toast(res.message)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 确认选择日期组件\r\n    onCalendarConfirm(date) {\r\n      this.formData.planDate = this.$dayjs(date).format('YYYY-MM-DD')\r\n      this.showCalendar = false\r\n    },\r\n    // 确认选择差旅类型组件\r\n    onReimburseTypeConfirm(value) {\r\n      this.formData.reimburseType = value.code\r\n      this.showPicker = false\r\n    },\r\n    checkbox(value) {\r\n      this.formData.notification = value.toString()\r\n    },\r\n    // 驼峰转换下划线\r\n    toLine(name) {\r\n      return name.replace(/([A-Z])/g, '_$1').toLowerCase()\r\n    },\r\n    fileChange(item) {\r\n      this.fileList = item.fileList\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n.main-container {\r\n  height: 100%;\r\n  background: #fff;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.main,\r\n.cus-form {\r\n  overflow: auto;\r\n  flex: 1;\r\n}\r\n\r\n.with-button,\r\n.cus-form {\r\n  height: calc(100% - 122px - env(safe-area-inset-bottom));\r\n  height: calc(100% - 122px - constant(safe-area-inset-bottom));\r\n}\r\n\r\n.without-button {\r\n  height: calc(100% - 92px);\r\n  .cus-form {\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n/deep/.fm-field--disabled .fm-field__label {\r\n  color: #000;\r\n}\r\n/deep/ .fm-sidebar-item {\r\n  padding: 24px 24px;\r\n}\r\n/deep/ .fm-sidebar-item__text {\r\n  width: 200px;\r\n}\r\n/deep/ .fm-cell-group__title {\r\n  color: #000;\r\n}\r\n\r\n.field-attachment {\r\n  flex-direction: column;\r\n  /deep/ .fm-field__control--right {\r\n    justify-content: flex-start;\r\n  }\r\n}\r\n\r\n.form-button {\r\n  display: flex;\r\n  padding: 18px 30px;\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: calc(0 + env(safe-area-inset-bottom));\r\n  bottom: calc(0 + constant(safe-area-inset-bottom));\r\n  height: 122px;\r\n\r\n  .save-btn {\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n}\r\n\r\n.textarea-type /deep/ .fm-field__value {\r\n  border: 1px solid #bbbbbb;\r\n  opacity: 0.5;\r\n}\r\n.textarea-type /deep/ .fm-field--min-height .fm-field__control {\r\n  padding-left: 20px;\r\n  padding-top: 20px;\r\n}\r\n.textarea-type /deep/ .fm-field__word-limit {\r\n  margin-right: 20px;\r\n  margin-bottom: 12px;\r\n}\r\n</style>\r\n"],"mappings":"AAwMA,SAAAA,IAAA;AACA,SACAC,mBAAA,EACAC,oBAAA,EACAC,mBAAA,QACA;AACA,OAAAC,SAAA;AACA,OAAAC,QAAA;AACA,OAAAC,WAAA;AACA,OAAAC,UAAA;AACA,OAAAC,eAAA;AACA,SACAC,MAAA,EACAC,IAAA,EACAC,KAAA,EACAC,QAAA,EACAC,MAAA,EACAC,OAAA,EACAC,KAAA,EACAC,MAAA,EACAC,QAAA,EACAC,aAAA,EACAC,KAAA,EACAC,IAAA,EACAC,SAAA,EACAC,OAAA,EACAC,WAAA,EACAC,MAAA,QACA;AACA;EACAC,IAAA;EACAC,UAAA;IACA,CAAAjB,MAAA,CAAAgB,IAAA,GAAAhB,MAAA;IACA,CAAAC,IAAA,CAAAe,IAAA,GAAAf,IAAA;IACA,CAAAC,KAAA,CAAAc,IAAA,GAAAd,KAAA;IACA,CAAAC,QAAA,CAAAa,IAAA,GAAAb,QAAA;IACA,CAAAC,MAAA,CAAAY,IAAA,GAAAZ,MAAA;IACA,CAAAC,OAAA,CAAAW,IAAA,GAAAX,OAAA;IACA,CAAAC,KAAA,CAAAU,IAAA,GAAAV,KAAA;IACA,CAAAC,MAAA,CAAAS,IAAA,GAAAT,MAAA;IACA,CAAAC,QAAA,CAAAQ,IAAA,GAAAR,QAAA;IACA,CAAAC,aAAA,CAAAO,IAAA,GAAAP,aAAA;IACA,CAAAE,IAAA,CAAAK,IAAA,GAAAL,IAAA;IACA,CAAAC,SAAA,CAAAI,IAAA,GAAAJ,SAAA;IACA,CAAAC,OAAA,CAAAG,IAAA,GAAAH,OAAA;IACA,CAAAC,WAAA,CAAAE,IAAA,GAAAF,WAAA;IACA,CAAAC,MAAA,CAAAC,IAAA,GAAAD,MAAA;IACApB,SAAA;IACAC,QAAA;IACAE,UAAA;IACAD,WAAA;IACAE;EACA;EACAmB,KAAA;IACA;MACA;MACAC,UAAA;MACAC,YAAA;MAAA;MACAC,UAAA;MAAA;MACAC,aAAA;MACAC,YAAA;MACAC,YAAA;MACAC,QAAA;QACAC,UAAA;QAAA;QACAC,MAAA;QAAA;QACAC,YAAA;QAAA;QACAC,cAAA;QAAA;QACAC,WAAA;QAAA;QACAC,eAAA;QAAA;QACAC,uBAAA;QAAA;QACAC,cAAA;QAAA;QACAC,sBAAA;QAAA;QACAC,OAAA;QAAA;QACAC,eAAA;QAAA;QACAC,YAAA;QAAA;QACAC,QAAA;QAAA;QACAC,aAAA;QAAA;QACAC,aAAA;QAAA;QACAC,qBAAA;QACAC,gBAAA;MACA;MACAC,OAAA;MACAC,SAAA;MACAC,QAAA;MACAC,SAAA;MACA;MACAC,WAAA;QACAC,wBAAA,GACA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,GACA;UACAV,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,GACA;UACAV,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,GACA;UACAV,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,EACA;QACAC,mBAAA,GACA;UACAX,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAK,QAAA;UACAJ,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,GACA;UACAV,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,GACA;UACAV,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAC,WAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;UACAC,QAAA;QACA,GACA;UACAV,KAAA;UA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"}]}