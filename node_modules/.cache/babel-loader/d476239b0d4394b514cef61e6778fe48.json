{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\OneMap\\mapTools.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\OneMap\\mapTools.vue","mtime":1708928163403},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IFRvYXN0IH0gZnJvbSAnZmF3a2VzLW1vYmlsZS1saWInOwppbXBvcnQgc3dhbkRpc3RhbmNlIGZyb20gJ0AvY29tcG9uZW50cy9tYXAvdXRpbHMvZGlzdGFuY2UvZGlzdGFuY2UnOwppbXBvcnQgc3dhbkFyZWEgZnJvbSAnQC9jb21wb25lbnRzL21hcC91dGlscy9hcmVhL2FyZWEnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ09uZU1hcCcsCiAgcHJvcHM6IFsnZm1TZWFyY2hIZWlnaHQnXSwKICBjb21wdXRlZDoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICB0b29sT3BlbjogZmFsc2UsCiAgICAgIG1hcFNob3c6ICfpu5jorqTlupXlm74nLAogICAgICAvLyDlpJrpgInmoYbpgInkuK3lgLwKICAgICAgY2hlY2tlZE93bmVyOiBbJ+Wwj+WMuicsICfpgZPot68nLCAn5rKz5rWBJywgJ+W7uuetkSddLAogICAgICAvLyDljZXpgInmoYbpgInkuK3lgLwKICAgICAgcmFkaW9Pd25lcjogJ+ihl+mBk+WIhuWMuicsCiAgICAgIGRlZmF1bHRCYXNlTGF5ZXJzOiBbXSwKICAgICAgYmFzZUxheWVyT2JqZWN0OiB7fSwKICAgICAgYWN0aXZlVG9vbDogJycsCiAgICAgIGdyb3VwOiB7CiAgICAgICAg5b2x5YOP5Zu+OiBbJ2xheWVydGR0X2ltZyddCiAgICAgIH0sCiAgICAgIHBhbmVsQ29uZmlnOiB7CiAgICAgICAgc2VsZWN0OiBbewogICAgICAgICAgbmFtZTogJ+Wwj+WMuicsCiAgICAgICAgICB0eXBlOiAn5bCP5Yy6JwogICAgICAgIH0sIHsKICAgICAgICAgIG5hbWU6ICfpgZPot68nLAogICAgICAgICAgdHlwZTogJ+mBk+i3rycKICAgICAgICB9LCB7CiAgICAgICAgICBuYW1lOiAn5rKz5rWBJywKICAgICAgICAgIHR5cGU6ICfmsrPmtYEnCiAgICAgICAgfSwgewogICAgICAgICAgbmFtZTogJ+euoeW7iicsCiAgICAgICAgICB0eXBlOiAn566h5buKJwogICAgICAgIH0sIHsKICAgICAgICAgIG5hbWU6ICflu7rnrZEnLAogICAgICAgICAgdHlwZTogJ+W7uuetkScKICAgICAgICB9XSwKICAgICAgICByYWRpbzogW3sKICAgICAgICAgIG5hbWU6ICfpm6jmsLTliIbljLonLAogICAgICAgICAgdHlwZTogJ+mbqOawtOWIhuWMuicKICAgICAgICB9LCB7CiAgICAgICAgICBuYW1lOiAn5rGh5rC05YiG5Yy6JywKICAgICAgICAgIHR5cGU6ICfmsaHmsLTliIbljLonCiAgICAgICAgfSwgewogICAgICAgICAgbmFtZTogJ+S+m+awtOWIhuWMuicsCiAgICAgICAgICB0eXBlOiAn5L6b5rC05YiG5Yy6JwogICAgICAgIH0sIHsKICAgICAgICAgIG5hbWU6ICfooZfpgZPliIbljLonLAogICAgICAgICAgdHlwZTogJ+ihl+mBk+WIhuWMuicKICAgICAgICB9LCB7CiAgICAgICAgICBuYW1lOiAn56S+5Yy65YiG5Yy6JywKICAgICAgICAgIHR5cGU6ICfnpL7ljLrliIbljLonCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgZGlzdGFuY2VDbGlja0ZsYWc6IGZhbHNlLAogICAgICBhcmVhQ2xpY2tGbGFnOiBmYWxzZSwKICAgICAgbG9jYXRpb25DbGlja0ZsYWc6IGZhbHNlLAogICAgICBzd2FuVG9vbHM6IHt9LAogICAgICBsYXN0VG9vbDogJycsCiAgICAgIGJ0bkZsYWc6IGZhbHNlIC8vIOa1rueql+aMiemSrueCueWHu+agh+W/lwogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyBsZXQgaGVpZ2h0ID0gdGhpcy5mbVNlYXJjaEhlaWdodAogICAgLy8gY29uc29sZS5sb2coaGVpZ2h0LCAn6L+Z5pivaGVpZ2h0JykKICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pdGVtJylbMF0uc3R5bGUudG9wID0gaGVpZ2h0ICsgMTUgKyAncHgnCiAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaXRlbScpWzFdLnN0eWxlLnRvcCA9IGhlaWdodCArIDI1ICsgJ3B4JwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5rWu56qX5oyJ6ZKu54K55Ye7CiAgICBmbGFnQnRuQ2xpY2soKSB7CiAgICAgIHRoaXMuYnRuRmxhZyA9ICF0aGlzLmJ0bkZsYWc7CiAgICAgIHRoaXMuJGVtaXQoJ2ZsYWdCdG5DbGljaycsIHRoaXMuYnRuRmxhZyk7CiAgICB9LAogICAgZ2V0RGVmYXVsdEJhc2VMYXllcnMobGF5ZXJzKSB7CiAgICAgIHRoaXMuZGVmYXVsdEJhc2VMYXllcnMgPSBsYXllcnM7CiAgICB9LAogICAgZ2V0QmFzZUxheWVyT2JqZWN0KGxheWVycykgewogICAgICBsZXQgYXJyID0gW107CiAgICAgIGxheWVycy5mb3JFYWNoKGxheWVyID0+IHsKICAgICAgICBhcnIucHVzaChsYXllci5pZCk7CiAgICAgIH0pOwogICAgICBhcnIucG9wKCk7CiAgICAgIHRoaXMuZ3JvdXBbJ+m7mOiupOW6leWbviddID0gYXJyOwogICAgICB0aGlzLmJhc2VMYXllck9iamVjdCA9IHRoaXMuZ3JvdXA7CiAgICB9LAogICAgLy8g5Zyw5Zu+54K55Ye75YiH5o2iCiAgICBtYXBDaGFuZ2UodmFsdWUpIHsKICAgICAgLy8g5aaC5p6c54K55Ye755qE5Zu+54mH5bey57uP5piv6YCJ5Lit54q25oCB5bCx6YCA5Ye6CiAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5tYXBTaG93KSByZXR1cm47CiAgICAgIC8vIHRoaXMuJGVtaXQoImNoYW5nZUJhc2VMYXllciIsIHRoaXMubWFwU2hvdyk7CiAgICAgIGxldCBtYXAgPSB3aW5kb3cueGFNYXA7CiAgICAgIGlmICh2YWx1ZSAhPSAn6buY6K6k5bqV5Zu+JykgewogICAgICAgIHRoaXMuZGVmYXVsdEJhc2VMYXllcnMuZm9yRWFjaChsYXllciA9PiB7CiAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkobGF5ZXIuaWQsICd2aXNpYmlsaXR5JywgJ25vbmUnKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRlZmF1bHRCYXNlTGF5ZXJzLmZvckVhY2gobGF5ZXIgPT4gewogICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KGxheWVyLmlkLCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMubWFwU2hvdykgewogICAgICAgIHRoaXMuYmFzZUxheWVyT2JqZWN0W3RoaXMubWFwU2hvd10uZm9yRWFjaChsYXllcklEID0+IHsKICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eShsYXllcklELCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhpcy5iYXNlTGF5ZXJPYmplY3RbdmFsdWVdLmZvckVhY2gobGF5ZXJJRCA9PiB7CiAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KGxheWVySUQsICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTsKICAgICAgfSk7CiAgICAgIHRoaXMubWFwU2hvdyA9IHZhbHVlOwogICAgfSwKICAgIC8vIOWkmumAieahhumAieS4reWbnuiwgwogICAgY2hlY2tib3hDaGFuZ2UoY2hlY2tlZE93bmVyKSB7CiAgICAgIGxldCBtYXBJbnN0YW5jZSA9IHdpbmRvdy54YU1hcDsKICAgICAgY29uc29sZS5sb2coJ+WtmOWcqOeahOWbvuWxgicsIG1hcEluc3RhbmNlLmdldFN0eWxlKCkpOwogICAgICBjb25zb2xlLmxvZygn5aSa6YCJJywgY2hlY2tlZE93bmVyKTsKICAgICAgY2hlY2tlZE93bmVyLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgbWFwSW5zdGFuY2UuZ2V0TGF5ZXIoaXRlbSkgJiYgbWFwSW5zdGFuY2Uuc2V0TGF5b3V0UHJvcGVydHkoaXRlbSwgJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpOwogICAgICB9KTsKICAgICAgbGV0IHVuQ2hlY2tlZExpc3QgPSB0aGlzLmdldFVuQ2hlY2tlZExpc3QoY2hlY2tlZE93bmVyKTsKICAgICAgY29uc29sZS5sb2coJ+acqumAiScsIHVuQ2hlY2tlZExpc3QpOwogICAgICB1bkNoZWNrZWRMaXN0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgbWFwSW5zdGFuY2UuZ2V0TGF5ZXIoaXRlbSkgJiYgbWFwSW5zdGFuY2Uuc2V0TGF5b3V0UHJvcGVydHkoaXRlbSwgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRVbkNoZWNrZWRMaXN0KGNoZWNrZWRPd25lcikgewogICAgICBsZXQgYXJyID0gW107CiAgICAgIGxldCBhbGxTZWxlY3QgPSB0aGlzLnBhbmVsQ29uZmlnLnNlbGVjdDsKICAgICAgYWxsU2VsZWN0LmZvckVhY2goaSA9PiB7CiAgICAgICAgbGV0IGogPSBjaGVja2VkT3duZXIgJiYgY2hlY2tlZE93bmVyLmZpbHRlcihpdGVtID0+IGl0ZW0gPT0gaS5uYW1lKSB8fCBbXTsKICAgICAgICBqLmxlbmd0aCA9PSAwICYmIGFyci5wdXNoKGkubmFtZSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gYXJyOwogICAgfSwKICAgIC8vIOWNlemAieahhumAieS4reWbnuiwgwogICAgcmFkaW9DaGFuZ2UocmFkaW9Pd25lcikgewogICAgICBsZXQgbWFwSW5zdGFuY2UgPSB3aW5kb3cueGFNYXA7CiAgICAgIGNvbnNvbGUubG9nKCflrZjlnKjnmoTlm77lsYInLCBtYXBJbnN0YW5jZS5nZXRTdHlsZSgpKTsKICAgICAgY29uc29sZS5sb2coJ+WNlemAiScsIHJhZGlvT3duZXIpOwogICAgICBpZiAocmFkaW9Pd25lciA9PSAn6Zuo5rC05YiG5Yy6JykgewogICAgICAgIG1hcEluc3RhbmNlLnNldExheW91dFByb3BlcnR5KCdtYXBfcmFpbl9hcmVhJywgJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpOwogICAgICAgIG1hcEluc3RhbmNlLnNldExheW91dFByb3BlcnR5KCdtYXBfc3VwcGx5X2FyZWEnLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgICAgbWFwSW5zdGFuY2Uuc2V0TGF5b3V0UHJvcGVydHkoJ21hcF9zb2NpZXR5X2FyZWEnLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgIH0gZWxzZSBpZiAocmFkaW9Pd25lciA9PSAn5L6b5rC05YiG5Yy6JykgewogICAgICAgIG1hcEluc3RhbmNlLnNldExheW91dFByb3BlcnR5KCdtYXBfcmFpbl9hcmVhJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICAgIG1hcEluc3RhbmNlLnNldExheW91dFByb3BlcnR5KCdtYXBfc3VwcGx5X2FyZWEnLCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7CiAgICAgICAgbWFwSW5zdGFuY2Uuc2V0TGF5b3V0UHJvcGVydHkoJ21hcF9zb2NpZXR5X2FyZWEnLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgIH0gZWxzZSBpZiAocmFkaW9Pd25lciA9PSAn56S+5Yy65YiG5Yy6JykgewogICAgICAgIG1hcEluc3RhbmNlLnNldExheW91dFByb3BlcnR5KCdtYXBfcmFpbl9hcmVhJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpOwogICAgICAgIG1hcEluc3RhbmNlLnNldExheW91dFByb3BlcnR5KCdtYXBfc3VwcGx5X2FyZWEnLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgICAgbWFwSW5zdGFuY2Uuc2V0TGF5b3V0UHJvcGVydHkoJ21hcF9zb2NpZXR5X2FyZWEnLCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWFwSW5zdGFuY2Uuc2V0TGF5b3V0UHJvcGVydHkoJ21hcF9yYWluX2FyZWEnLCAndmlzaWJpbGl0eScsICdub25lJyk7CiAgICAgICAgbWFwSW5zdGFuY2Uuc2V0TGF5b3V0UHJvcGVydHkoJ21hcF9zdXBwbHlfYXJlYScsICd2aXNpYmlsaXR5JywgJ25vbmUnKTsKICAgICAgICBtYXBJbnN0YW5jZS5zZXRMYXlvdXRQcm9wZXJ0eSgnbWFwX3NvY2lldHlfYXJlYScsICd2aXNpYmlsaXR5JywgJ25vbmUnKTsKICAgICAgfQogICAgfSwKICAgIG1hcFRvb2xFbWl0KHR5cGUpIHsKICAgICAgbGV0IG1hcCA9IHdpbmRvdy54YU1hcDsKICAgICAgaWYgKHRoaXMubGFzdFRvb2wgIT0gJycgJiYgdGhpcy5zd2FuVG9vbHNbdGhpcy5sYXN0VG9vbF0pIHsKICAgICAgICB0aGlzLnN3YW5Ub29sc1t0aGlzLmxhc3RUb29sXS5vbkNhbmNlbCgpOwogICAgICAgIHRoaXMuc3dhblRvb2xzW3RoaXMubGFzdFRvb2xdID0gbnVsbDsKICAgICAgfQogICAgICB0aGlzLmxhc3RUb29sID0gdHlwZTsKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAnbWVhc3VyZURpc3RhbmNlJzoKICAgICAgICAgIHRoaXMuZGlzdGFuY2VDbGlja0ZsYWcgPSAhdGhpcy5kaXN0YW5jZUNsaWNrRmxhZzsKICAgICAgICAgIHRoaXMuYXJlYUNsaWNrRmxhZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5sb2NhdGlvbkNsaWNrRmxhZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5zd2FuVG9vbHNbdHlwZV0gPSBuZXcgc3dhbkRpc3RhbmNlKG1hcCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdtZWFzdXJlU3F1YXJlJzoKICAgICAgICAgIHRoaXMuZGlzdGFuY2VDbGlja0ZsYWcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuYXJlYUNsaWNrRmxhZyA9ICF0aGlzLmFyZWFDbGlja0ZsYWc7CiAgICAgICAgICB0aGlzLmxvY2F0aW9uQ2xpY2tGbGFnID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnN3YW5Ub29sc1t0eXBlXSA9IG5ldyBzd2FuQXJlYShtYXAsIHRoaXMpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB0aGlzLnN3YW5Ub29sc1t0eXBlXS5vbkFkZCgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["Toast","swanDistance","swanArea","name","props","computed","data","show","toolOpen","mapShow","checkedOwner","radioOwner","defaultBaseLayers","baseLayerObject","activeTool","group","影像图","panelConfig","select","type","radio","distanceClickFlag","areaClickFlag","locationClickFlag","swanTools","lastTool","btnFlag","mounted","methods","flagBtnClick","$emit","getDefaultBaseLayers","layers","getBaseLayerObject","arr","forEach","layer","push","id","pop","mapChange","value","map","window","xaMap","setLayoutProperty","layerID","checkboxChange","mapInstance","console","log","getStyle","item","getLayer","unCheckedList","getUnCheckedList","allSelect","i","j","filter","length","radioChange","mapToolEmit","onCancel","onAdd"],"sources":["src/views/OneMap/mapTools.vue"],"sourcesContent":["<template>\r\n  <div class=\"map\">\r\n    <div class=\"contorl\">\r\n      <div class=\"item\" @click=\"show = true\">\r\n        <img src=\"@/assets/img/map/layer.png\" alt=\"\" />\r\n        <div>图层</div>\r\n      </div>\r\n      <div class=\"item\" v-if=\"!toolOpen\" @click=\"toolOpen = true\">\r\n        <img src=\"@/assets/img/map/工具.png\" alt=\"\" />\r\n        <div>工具</div>\r\n      </div>\r\n      <div class=\"itemOpen\" v-if=\"toolOpen\">\r\n        <div class=\"item-open-div\" @click=\"toolOpen = false\">\r\n          <img src=\"@/assets/img/map/工具-点击.png\" alt=\"\" />\r\n          <div style=\"color: #1b67d8\" class=\"font-m\">工具</div>\r\n        </div>\r\n        <div class=\"item-open-div\" @click=\"mapToolEmit('measureDistance')\">\r\n          <img v-if=\"!distanceClickFlag\" src=\"@/assets/img/map/measure.png\" alt=\"\" />\r\n          <img v-else src=\"@/assets/img/map/measure_click.png\" alt=\"\" />\r\n          <div class=\"font-m\">测量</div>\r\n        </div>\r\n        <div class=\"item-open-div\" @click=\"mapToolEmit('measureSquare')\">\r\n          <img v-if=\"!areaClickFlag\" src=\"@/assets/img/map/area.png\" alt=\"\" />\r\n          <img v-else src=\"@/assets/img/map/area_click.png\" alt=\"\" />\r\n          <div class=\"font-m\">面积</div>\r\n        </div>\r\n        <div class=\"item-open-div\">\r\n          <img v-if=\"!locationClickFlag\" src=\"@/assets/img/map/location.png\" alt=\"\" />\r\n          <img v-else src=\"@/assets/img/map/location_click.png\" alt=\"\" />\r\n          <div>定位</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"item\" @click=\"flagBtnClick\">\r\n        <img v-if=\"!btnFlag\" src=\"@/assets/img/map/浮窗关.png\" alt=\"\" />\r\n        <img v-if=\"btnFlag\" src=\"@/assets/img/map/浮窗开.png\" alt=\"\" />\r\n        <div>浮窗</div>\r\n      </div>\r\n    </div>\r\n    <fm-popup\r\n      :visible.sync=\"show\"\r\n      position=\"bottom\"\r\n      :style=\"{ height: '45%' }\"\r\n      class=\"popup\"\r\n    >\r\n      <div class=\"head\">\r\n        <div>图层</div>\r\n        <i class=\"fm-icon fm-icon-cross\" @click=\"show = false\"></i>\r\n      </div>\r\n      <!-- 底图切换部分 -->\r\n      <div class=\"item-box\">\r\n        <div\r\n          v-if=\"mapShow === '默认底图'\"\r\n          style=\"margin-left: 15px; display: flex; flex-direction: row\"\r\n        >\r\n          <div class=\"pic\">\r\n            <img\r\n              @click=\"mapChange('默认底图')\"\r\n              src=\"@/assets/img/map/标准地图选中.png\"\r\n              alt=\"\"\r\n            />\r\n            <div class=\"pic-f m\">标准地图</div>\r\n          </div>\r\n          <div class=\"pic\">\r\n            <img\r\n              @click=\"mapChange('影像图')\"\r\n              src=\"@/assets/img/map/卫星地图未选中.png\"\r\n              alt=\"\"\r\n            />\r\n            <div class=\"pic-f\">卫星地图</div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          v-if=\"mapShow === '影像图'\"\r\n          style=\"margin-left: 15px; display: flex; flex-direction: row\"\r\n        >\r\n          <div class=\"pic\">\r\n            <img\r\n              @click=\"mapChange('默认底图')\"\r\n              src=\"@/assets/img/map/标准地图未选中.png\"\r\n              alt=\"\"\r\n            />\r\n            <div class=\"pic-f\">标准地图</div>\r\n          </div>\r\n          <div class=\"pic\">\r\n            <img\r\n              @click=\"mapChange('影像图')\"\r\n              src=\"@/assets/img/map/卫星地图选中.png\"\r\n              alt=\"\"\r\n            />\r\n            <div class=\"pic-f m\">卫星地图</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 多选按钮，基础图层 -->\r\n      <fm-checkbox-group\r\n        v-model=\"checkedOwner\"\r\n        @change=\"checkboxChange\"\r\n        direction=\"horizontal\"\r\n      >\r\n        <fm-checkbox\r\n          shape=\"square\"\r\n          v-for=\"(item, index) in panelConfig.select\"\r\n          :key=\"index\"\r\n          :name=\"item.name\"\r\n          >{{ item.name }}</fm-checkbox\r\n        >\r\n      </fm-checkbox-group>\r\n      <!-- 单选按钮，区域划分 -->\r\n      <fm-radio-group\r\n        v-model=\"radioOwner\"\r\n        @change=\"radioChange\"\r\n        direction=\"horizontal\"\r\n      >\r\n        <fm-radio\r\n          v-for=\"(item, index) in panelConfig.radio\"\r\n          :key=\"index\"\r\n          :name=\"item.name\"\r\n          >{{ item.name }}</fm-radio\r\n        >\r\n      </fm-radio-group>\r\n    </fm-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from 'fawkes-mobile-lib'\r\nimport swanDistance from '@/components/map/utils/distance/distance'\r\nimport swanArea from '@/components/map/utils/area/area'\r\nexport default {\r\n  name: 'OneMap',\r\n  props: ['fmSearchHeight'],\r\n  computed: {},\r\n  data() {\r\n    return {\r\n      show: false,\r\n      toolOpen: false,\r\n      mapShow: '默认底图',\r\n      // 多选框选中值\r\n      checkedOwner: ['小区', '道路', '河流', '建筑'],\r\n      // 单选框选中值\r\n      radioOwner: '街道分区',\r\n      defaultBaseLayers: [],\r\n      baseLayerObject: {},\r\n      activeTool: '',\r\n      group: {\r\n        影像图: ['layertdt_img'],\r\n      },\r\n      panelConfig: {\r\n        select: [\r\n          { name: '小区', type: '小区' },\r\n          { name: '道路', type: '道路' },\r\n          { name: '河流', type: '河流' },\r\n          { name: '管廊', type: '管廊' },\r\n          { name: '建筑', type: '建筑' },\r\n        ],\r\n        radio: [\r\n          { name: '雨水分区', type: '雨水分区' },\r\n          { name: '污水分区', type: '污水分区' },\r\n          { name: '供水分区', type: '供水分区' },\r\n          { name: '街道分区', type: '街道分区' },\r\n          { name: '社区分区', type: '社区分区' },\r\n        ],\r\n      },\r\n      distanceClickFlag: false,\r\n      areaClickFlag: false,\r\n      locationClickFlag: false,\r\n      swanTools: {},\r\n      lastTool: '',\r\n      btnFlag: false, // 浮窗按钮点击标志\r\n    }\r\n  },\r\n  mounted() {\r\n    // let height = this.fmSearchHeight\r\n    // console.log(height, '这是height')\r\n    // document.querySelectorAll('.item')[0].style.top = height + 15 + 'px'\r\n    // document.querySelectorAll('.item')[1].style.top = height + 25 + 'px'\r\n  },\r\n  methods: {\r\n    // 浮窗按钮点击\r\n    flagBtnClick() {\r\n      this.btnFlag = !this.btnFlag\r\n      this.$emit('flagBtnClick', this.btnFlag)\r\n    },\r\n    getDefaultBaseLayers(layers) {\r\n      this.defaultBaseLayers = layers\r\n    },\r\n    getBaseLayerObject(layers) {\r\n      let arr = []\r\n      layers.forEach((layer) => {\r\n        arr.push(layer.id)\r\n      })\r\n      arr.pop()\r\n      this.group['默认底图'] = arr\r\n      this.baseLayerObject = this.group\r\n    },\r\n    // 地图点击切换\r\n    mapChange(value) {\r\n      // 如果点击的图片已经是选中状态就退出\r\n      if (value === this.mapShow) return\r\n      // this.$emit(\"changeBaseLayer\", this.mapShow);\r\n      let map = window.xaMap\r\n      if (value != '默认底图') {\r\n        this.defaultBaseLayers.forEach((layer) => {\r\n          map.setLayoutProperty(layer.id, 'visibility', 'none')\r\n        })\r\n      } else {\r\n        this.defaultBaseLayers.forEach((layer) => {\r\n          map.setLayoutProperty(layer.id, 'visibility', 'visible')\r\n        })\r\n      }\r\n      if (this.mapShow) {\r\n        this.baseLayerObject[this.mapShow].forEach((layerID) => {\r\n          map.setLayoutProperty(layerID, 'visibility', 'none')\r\n        })\r\n      }\r\n      this.baseLayerObject[value].forEach((layerID) => {\r\n        map.setLayoutProperty(layerID, 'visibility', 'visible')\r\n      })\r\n      this.mapShow = value\r\n    },\r\n    // 多选框选中回调\r\n    checkboxChange(checkedOwner) {\r\n      let mapInstance = window.xaMap\r\n      console.log('存在的图层', mapInstance.getStyle())\r\n      console.log('多选', checkedOwner)\r\n      checkedOwner.forEach((item) => {\r\n        mapInstance.getLayer(item) &&\r\n          mapInstance.setLayoutProperty(item, 'visibility', 'visible')\r\n      })\r\n      let unCheckedList = this.getUnCheckedList(checkedOwner)\r\n      console.log('未选', unCheckedList)\r\n      unCheckedList.forEach((item) => {\r\n        mapInstance.getLayer(item) &&\r\n          mapInstance.setLayoutProperty(item, 'visibility', 'none')\r\n      })\r\n    },\r\n    getUnCheckedList(checkedOwner) {\r\n      let arr = []\r\n      let allSelect = this.panelConfig.select\r\n      allSelect.forEach((i) => {\r\n        let j =\r\n          (checkedOwner && checkedOwner.filter((item) => item == i.name)) || []\r\n        j.length == 0 && arr.push(i.name)\r\n      })\r\n      return arr\r\n    },\r\n    // 单选框选中回调\r\n    radioChange(radioOwner) {\r\n      let mapInstance = window.xaMap\r\n      console.log('存在的图层', mapInstance.getStyle())\r\n      console.log('单选', radioOwner)\r\n      if (radioOwner == '雨水分区') {\r\n        mapInstance.setLayoutProperty('map_rain_area', 'visibility', 'visible')\r\n        mapInstance.setLayoutProperty('map_supply_area', 'visibility', 'none')\r\n        mapInstance.setLayoutProperty('map_society_area', 'visibility', 'none')\r\n      } else if (radioOwner == '供水分区') {\r\n        mapInstance.setLayoutProperty('map_rain_area', 'visibility', 'none')\r\n        mapInstance.setLayoutProperty(\r\n          'map_supply_area',\r\n          'visibility',\r\n          'visible'\r\n        )\r\n        mapInstance.setLayoutProperty('map_society_area', 'visibility', 'none')\r\n      } else if (radioOwner == '社区分区') {\r\n        mapInstance.setLayoutProperty('map_rain_area', 'visibility', 'none')\r\n        mapInstance.setLayoutProperty('map_supply_area', 'visibility', 'none')\r\n        mapInstance.setLayoutProperty(\r\n          'map_society_area',\r\n          'visibility',\r\n          'visible'\r\n        )\r\n      } else {\r\n        mapInstance.setLayoutProperty('map_rain_area', 'visibility', 'none')\r\n        mapInstance.setLayoutProperty('map_supply_area', 'visibility', 'none')\r\n        mapInstance.setLayoutProperty('map_society_area', 'visibility', 'none')\r\n      }\r\n    },\r\n    mapToolEmit(type) {\r\n      let map = window.xaMap\r\n      if (this.lastTool != '' && this.swanTools[this.lastTool]) {\r\n        this.swanTools[this.lastTool].onCancel()\r\n        this.swanTools[this.lastTool] = null\r\n      }\r\n      this.lastTool = type\r\n      switch (type) {\r\n        case 'measureDistance':\r\n          this.distanceClickFlag = !this.distanceClickFlag\r\n          this.areaClickFlag = false\r\n          this.locationClickFlag = false\r\n          this.swanTools[type] = new swanDistance(map)\r\n          break\r\n        case 'measureSquare':\r\n          this.distanceClickFlag = false\r\n          this.areaClickFlag = !this.areaClickFlag\r\n          this.locationClickFlag = false\r\n          this.swanTools[type] = new swanArea(map, this)\r\n          break\r\n        default:\r\n          return false\r\n      }\r\n      this.swanTools[type].onAdd()\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.map {\r\n}\r\n.contorl {\r\n  position: absolute;\r\n  right: 36px;\r\n  // top: 250px;\r\n  top: 337.5px;\r\n  width: 84px;\r\n  .item {\r\n    width: 84px;\r\n    height: 84px;\r\n    background: #ffffff;\r\n    box-shadow: 0px 4px 12px 0px rgba(25, 25, 25, 0.15);\r\n    border-radius: 16px;\r\n    margin-bottom: 16px;\r\n    font-size: 16px;\r\n    font-family: PingFangSC-Medium, PingFang SC;\r\n    font-weight: 500;\r\n    color: #333333;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    img {\r\n      height: 48px;\r\n      display: inline-block;\r\n    }\r\n  }\r\n  .itemOpen {\r\n    width: 84px;\r\n    background: #ffffff;\r\n    box-shadow: 0px 4px 12px 0px rgba(25, 25, 25, 0.15);\r\n    border-radius: 16px;\r\n    padding: 5px 0;\r\n    font-size: 16px;\r\n    font-family: PingFangSC-Medium, PingFang SC;\r\n    font-weight: 500;\r\n    color: #333333;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    margin-bottom: 16px;\r\n    .item-open-div {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      .font-m {\r\n        margin-bottom: 17px;\r\n      }\r\n      img {\r\n        height: 48px;\r\n        display: inline-block;\r\n      }\r\n    }\r\n  }\r\n}\r\n.popup {\r\n  font-size: 32px;\r\n  font-family: PingFangSC-Regular, PingFang SC;\r\n  font-weight: 400;\r\n  color: #333333;\r\n  background: #f5f7f9;\r\n  padding: 30px;\r\n  box-shadow: 0px -6px 12px 0px rgba(104, 115, 127, 0.1);\r\n  .head {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    width: calc(100% - 60px);\r\n    height: 50px;\r\n    margin-bottom: 25px;\r\n    font-size: 36px;\r\n    font-family: PingFangSC-Semibold, PingFang SC;\r\n    font-weight: 600;\r\n    color: #191919;\r\n  }\r\n}\r\n.item-box {\r\n  display: flex;\r\n  align-items: center;\r\n  width: calc(100% - 60px);\r\n  margin-bottom: 14px;\r\n  height: 163px;\r\n  background: #ffffff;\r\n  box-shadow: 0px 4px 16px 0px rgba(104, 115, 127, 0.06);\r\n  border-radius: 16px;\r\n  .pic {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    font-size: 24px;\r\n    font-family: PingFangSC-Regular, PingFang SC;\r\n    font-weight: 400;\r\n    color: #333333;\r\n    .pic-f {\r\n      margin-top: 8px;\r\n    }\r\n    .m {\r\n      color: #1b67d8;\r\n    }\r\n  }\r\n  img {\r\n    width: 168px;\r\n    user-select: none;\r\n    margin-right: 20px;\r\n    cursor: pointer;\r\n  }\r\n}\r\n/deep/.fm-checkbox-group {\r\n  width: calc(100% - 60px);\r\n  margin-bottom: 14px;\r\n  height: 173px;\r\n  background: #ffffff;\r\n  box-shadow: 0px 4px 16px 0px rgba(104, 115, 127, 0.06);\r\n  border-radius: 16px;\r\n}\r\n/deep/.fm-checkbox--horizontal {\r\n  margin-left: 30px;\r\n  width: 25%;\r\n}\r\n/deep/.fm-radio-group {\r\n  width: calc(100% - 60px);\r\n  margin-bottom: 14px;\r\n  height: 173px;\r\n  background: #ffffff;\r\n  box-shadow: 0px 4px 16px 0px rgba(104, 115, 127, 0.06);\r\n  border-radius: 16px;\r\n}\r\n/deep/.fm-radio--horizontal {\r\n  margin-left: 20px;\r\n}\r\n</style>"],"mappings":"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"}]}