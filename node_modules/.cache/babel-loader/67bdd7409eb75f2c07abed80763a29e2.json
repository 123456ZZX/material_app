{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\FlawsManagement\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\views\\FlawsManagement\\index.vue","mtime":1708928163374},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBsaXN0Rmxhd3MgZnJvbSAnLi9saXN0Rmxhd3MnOwppbXBvcnQgeyBhZGRJY29uVG9NYXAgfSBmcm9tICdAL3V0aWxzL21hcFV0aWxzJzsKaW1wb3J0IHsgRU5VTSB9IGZyb20gJ0Avc3RvcmUvU3RhdGUvc3RhdGVUeXBlcyc7CmltcG9ydCBtYXBib3hnbCBmcm9tICJtYXBib3gtZ2wiOwppbXBvcnQgIm1hcGJveC1nbC9kaXN0L21hcGJveC1nbC5jc3MiOwppbXBvcnQgbWFwU3R5bGUgZnJvbSAnLi9tYXBTdHlsZSc7CmltcG9ydCB7IFRvYXN0IH0gZnJvbSAnZmF3a2VzLW1vYmlsZS1saWInOwppbXBvcnQgVXBsb2FkZXIgZnJvbSAnLi91cGxvYWQvVXBsb2FkZXInOwppbXBvcnQgZmlsZVVwbG9hZCBmcm9tICdAL2NvbXBvbmVudHMvZmlsZVVwbG9hZC9pbmRleC52dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgcG9wdXAgZnJvbSAnLi9wb3B1cCc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKdmFyIG15SW50ZXJ2YWw7CmNvbnN0IHBvcHVwSXRlbSA9IFZ1ZS5leHRlbmQocG9wdXApOwpjb25zdCBNYXBPYmogPSB7CiAgbWFwOiBudWxsCiAgLy8gICB2aWV3ZXI6IG51bGwsCiAgLy8gICBwb3B1cEl0ZW06ICcnLCAvLyBtYXBib3jmsJTms6HmoYYKICAvLyAgIG1hcmtlcjogJycsCiAgLy8gICBtb25pdG9yUG9wdXBzOiBbXSwKICAvLyAgIG1vbml0b3JQb3B1cENvbnRlbnQ6IFtdLAogIC8vICAgZXZlbnRQb3B1cEFycmF5OiBbXSwvLyDkuovku7bngrlwb3B1cOmbhuWQiAp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImZsYXdzTWFuYWdlbWVudCIsCiAgY29tcG9uZW50czogewogICAgVXBsb2FkZXIsCiAgICBmaWxlVXBsb2FkLAogICAgbGlzdEZsYXdzCiAgfSwKICAvLyBjb21wb25lbnRzOiB7VXBsb2FkZXJ9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDliJfooajnm7jlhbMKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgdG90YWw6IDAsCiAgICAgIHRhYmxlTGlzdDogW10sCiAgICAgIG9iakluZm86IHt9LAogICAgICAvLyDlnLDlm77ngrnpgInnmoTkv6Hmga8KICAgICAgY2hvc2VQb2ludDogZmFsc2UsCiAgICAgIC8v54K56YCJ77yM5by5cG9wdXAKICAgICAgLy8gd3Bn5o6l5Y+j5LiO6aG16Z2i5pi+6ZqQCiAgICAgIHdwZ0hlYWRlcjoge30sCiAgICAgIC8v5LiK5Lyg55u45YWzCiAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLiRzdG9yYWdlLmdldCgnYWNjZXNzX3Rva2VuJyksCiAgICAgIGZvcm1Ub2tlbjogJycsCiAgICAgIC8v6K+m5oOF6aG1VVJM5omA6ZyAdG9rZW4KICAgICAgZm9ybVVSTDogJycsCiAgICAgIC8v6K+m5oOF6aG1VVJMCiAgICAgIGljb25zOiBbewogICAgICAgIG5hbWU6ICfkuovku7bngrknLAogICAgICAgIHVybDogcmVxdWlyZSgnQC9hc3NldHMvaW1nL21hcC9kdy5wbmcnKQogICAgICB9XQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBkZWZlY3RGcm9tRGljKCkgewogICAgICBjb25zb2xlLmxvZygndGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZGVmZWN0RnJvbTogJywgdGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZGVmZWN0RnJvbSk7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZVtFTlVNXS5kZWZlY3RGcm9tOwogICAgfSwKICAgIGZhdWx0VHlwZXNEaWMoKSB7CiAgICAgIGNvbnNvbGUubG9nKCd0aGlzLiRzdG9yZS5zdGF0ZVtFTlVNXS5mYXVsdFR5cGVzOiAnLCB0aGlzLiRzdG9yZS5zdGF0ZVtFTlVNXS5mYXVsdFR5cGVzKTsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlW0VOVU1dLmZhdWx0VHlwZXM7CiAgICB9LAogICAgLy8g57O757uf5a2X5YW46Jm95Y+rZGVmZWN0VHlwZe+8jOS9huWunumZheS6jOe6p+S4uiDkuJrliqHnsbvlnosv6K6+5pa957G75Z6LCiAgICAvLyDkuJrliqHnsbvlnosv6K6+5pa957G75Z6LCiAgICBidXNEZXZpY2VUeXBlRGljKCkgewogICAgICBjb25zb2xlLmxvZygndGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZGVmZWN0VHlwZTogJywgdGhpcy4kc3RvcmUuc3RhdGVbRU5VTV0uZGVmZWN0VHlwZSk7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZVtFTlVNXS5kZWZlY3RUeXBlOwogICAgfQogICAgLy8gZ2V0WkhDTigpIHsKICAgIC8vICAgICByZXR1cm4gKHZhbCkgPT4gewogICAgLy8gICAgICAgICB0cnkgewogICAgLy8gICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHZhbAogICAgLy8gICAgICAgICAgICAgLy8g57+76K+R5LqM57qn5a2X5YW4IOS4muWKoeexu+Weiy/orr7mlr3nsbvlnovkuK0gIOS6jOe6p+Wtl+autS0tLeiuvuaWveexu+WeiwogICAgLy8gICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVzRGV2aWNlVHlwZURpYy5sZW5ndGggPiAwKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVzRGV2aWNlVHlwZURpYy5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbFswXSA9PSBlbGVtZW50LmNvZGUgfHwgdmFsWzBdID09IGVsZW1lbnRbJ3poLUNOJ10pIHsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNoaWxkLmZvckVhY2goc2Vjb25kID0+IHsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsWzFdCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxbMV0gPT0gc2Vjb25kLmNvZGUgfHwgdmFsWzFdID09IHNlY29uZFsnemgtQ04nXSkgewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gc2Vjb25kWyd6aC1DTiddCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICAgICAgICAgIGlmICh0aGlzLmZhdWx0VHlwZXNEaWMubGVuZ3RoID4gMCkgewogICAgLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmZhdWx0VHlwZXNEaWMuZm9yRWFjaCgoZGljKSA9PiB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09IGRpYy5jb2RlIHx8IHZhbCA9PSBkaWNbJ3poLUNOJ10pIHsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkaWNbJ3poLUNOJ10KICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgfSkKICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVmZWN0RnJvbURpYy5sZW5ndGggPiAwKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmZWN0RnJvbURpYy5mb3JFYWNoKChkaWMpID0+IHsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT0gZGljLmNvZGUgfHwgdmFsID09IGRpY1snemgtQ04nXSkgewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRpY1snemgtQ04nXQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgICAgICAgICB9KQogICAgLy8gICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICBpZiAodGhpcy5idXNEZXZpY2VUeXBlRGljLmxlbmd0aCA+IDApIHsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5idXNEZXZpY2VUeXBlRGljLmZvckVhY2goKGRpYykgPT4gewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PSBkaWMuY29kZSB8fCB2YWwgPT0gZGljWydjaC1DTiddKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGljWyd6aC1DTiddCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgcmV0dXJuIHJlc3VsdAogICAgLy8gICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yOiAnLCBlcnJvcik7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICB9CiAgICAvLyB9CiAgfSwKICBtb3VudGVkKCkgewogICAgLy8gdGhpcy5pbml0TWFwKCkKICAgIHRoaXMuZ2V0d3BnSGVhZGVyKCk7IC8vICDojrflj5ZoZWFkZXLvvIzmj5DkuqTlt6XljZXnlKg7IOWQjOaXtuiOt+WPliB0YWJsZURhdGEKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7fSwKICBtZXRob2RzOiB7CiAgICAvLyDooajljZXmjqXlj6Pnm7jlhbMtLS3ojrflj5YgdGFibGVEYXRh44CB5o+Q5Lqk5bel5Y2VCiAgICAvLyDojrflj5ZoZWFkZXLvvIzmj5DkuqTlt6XljZXnlKg7IOWQjOaXtuiOt+WPliB0YWJsZURhdGEKICAgIGFzeW5jIGdldHdwZ0hlYWRlcigpIHsKICAgICAgYXhpb3MoewogICAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9USElSRF9SRVFVRVNUX1VSTCArICcvbWFpbi91c2VyQ2VudGVyQXBpL3Nzby90b2tlbkJ5VG9rZW4nLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgdG9rZW46IHRoaXMuYWNjZXNzVG9rZW4KICAgICAgICB9LAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0Jhc2ljIGIzVjBkMjl5YXpwM2NHY3lNREl3JwogICAgICAgIH0KICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCd3cGdIZWFkZXI2NjY2LXJlczogJywgcmVzKTsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIHRoaXMuZm9ybVRva2VuID0gcmVzLmRhdGEucmVzdWx0RGF0YS50b2tlbjsKICAgICAgICAgIHRoaXMud3BnSGVhZGVyID0gewogICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgIiArIHRoaXMuZm9ybVRva2VuCiAgICAgICAgICB9OwogICAgICAgICAgY29uc29sZS5sb2coJyB0aGlzLndwZ0hlYWRlciA6ICcsIHRoaXMud3BnSGVhZGVyKTsKICAgICAgICAgIHRoaXMuZ2V0VGFibGVEYXRhKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDliJfooajnm7jlhbMKICAgIGFzeW5jIGdldFRhYmxlRGF0YSgpIHsKICAgICAgLy8g6I635Y+WIHRhYmxlRGF0YQogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgICJzeXNDb2RlIjogIm91dHdvcmsiLAogICAgICAgICJzbWFsbFR5cGUiOiAiZGVmZWN0IiwKICAgICAgICAicGFnZSI6IHsKICAgICAgICAgICJjdXJyZW50IjogMSwKICAgICAgICAgICJzaXplIjogNTAgLy8tMeafpeWFqOmDqAogICAgICAgIH0KICAgICAgfTsKICAgICAgYXhpb3MoewogICAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9USElSRF9SRVFVRVNUX1VSTCArICcvbWFpbi9vdXR3b3JrYXBpL3RpY2tldFN0YXRpc3RpY0NsaWVudC9nZXRUaWNrZXRMaXN0JywKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICBkYXRhOiBwYXJhbXMsCiAgICAgICAgaGVhZGVyczogdGhpcy53cGdIZWFkZXIKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdnZXRUYWJsZURhdGEtcmVzOiAnLCByZXMpOwogICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5yZXN1bHREYXRhLnJlY29yZHM7CiAgICAgICAgICB0aGlzLmdldEdlb0pzb24oKTsKICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5yZXN1bHREYXRhLnRvdGFsOwogICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMudGFibGVEYXRhOiAnLCB0aGlzLnRhYmxlRGF0YSk7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5mb3JFYWNoKHRkID0+IHsKICAgICAgICAgICAgdmFyIF90ZCRmb3JtVmFsdWUkZGV0YWlsLCBfdGQkZm9ybVZhbHVlJGRldmljZUQsIF90ZCRmb3JtVmFsdWUkZGV2aWNlRDI7CiAgICAgICAgICAgIGxldCBpdGVtID0gewogICAgICAgICAgICAgIGlkOiB0ZC5pZCwKICAgICAgICAgICAgICBkZXZpY2VOYW1lOiB0ZC5mb3JtVmFsdWUuZGV2aWNlVHlwZSB8fCB0ZC5mb3JtVmFsdWUuZGV2aWNlX3R5cGUgfHwgW10sCiAgICAgICAgICAgICAgLy8gZmxhd3NOYW1lOiB0ZC5mb3JtVmFsdWUuZmF1bHRUeXBlcywKICAgICAgICAgICAgICBmbGF3c05hbWU6ICgoX3RkJGZvcm1WYWx1ZSRkZXRhaWwgPSB0ZC5mb3JtVmFsdWUuZGV0YWlsKSA9PT0gbnVsbCB8fCBfdGQkZm9ybVZhbHVlJGRldGFpbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RkJGZvcm1WYWx1ZSRkZXRhaWwuZGVmZWN0VHlwZSkgfHwgdGQuZm9ybVZhbHVlLmZhdWx0VHlwZXMgfHwgJycsCiAgICAgICAgICAgICAgc3RhdGU6IHRkLnRpY2tldFN0YXR1c05hbWUsCiAgICAgICAgICAgICAgY29udGVudDogdGQuZm9ybVZhbHVlLnF1ZXN0aW9uRGVzY3JpYmUsCiAgICAgICAgICAgICAgcGVvcGxlOiB0ZC5jcmVhdGVCeU5hbWUsCiAgICAgICAgICAgICAgdGltZTogdGQuY3JlYXRlVGltZS5zbGljZSgwLCAxMCksCiAgICAgICAgICAgICAgZmxhd3NGcm9tOiB0ZC5mb3JtVmFsdWUuZGVmZWN0RnJvbSwKICAgICAgICAgICAgICBsbmdsYXQ6IFsoX3RkJGZvcm1WYWx1ZSRkZXZpY2VEID0gdGQuZm9ybVZhbHVlLmRldmljZURldGFpbCkgPT09IG51bGwgfHwgX3RkJGZvcm1WYWx1ZSRkZXZpY2VEID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGQkZm9ybVZhbHVlJGRldmljZUQubG9uZ2l0dWRlLCAoX3RkJGZvcm1WYWx1ZSRkZXZpY2VEMiA9IHRkLmZvcm1WYWx1ZS5kZXZpY2VEZXRhaWwpID09PSBudWxsIHx8IF90ZCRmb3JtVmFsdWUkZGV2aWNlRDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90ZCRmb3JtVmFsdWUkZGV2aWNlRDIubGF0aXR1ZGVdIHx8IFt0ZC5hcHBlYWxMbmcsIHRkLmFwcGVhbExhdF0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy50YWJsZUxpc3QucHVzaChpdGVtKTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy4kZW1pdCgndGFibGVMaXN0JywgdGhpcy50YWJsZUxpc3QpOwogICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMudGFibGVMaXN0OiAnLCB0aGlzLnRhYmxlTGlzdCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDlsIbkuovku7bliJfooajmt7vliqDoh7PlnLDlm74KICAgIGdldEdlb0pzb24oKSB7CiAgICAgIGxldCBmZWF0dXJlcyA9IFtdOwogICAgICBsZXQgd2l0aG91dFBvc2l0aW9uQ291bnQgPSAwOwogICAgICBjb25zb2xlLmxvZygn6KaB6IGa5ZCI5bGV56S655qEdGFibGVEYXRhJywgdGhpcy50YWJsZURhdGEpOwogICAgICBpZiAodGhpcy50YWJsZURhdGEubGVuZ3RoID09IDApIHsKICAgICAgICB0aGlzLnJlbW92ZVNvbWVMYXllcigpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLnRhYmxlRGF0YS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIHZhciBfaXRlbSRmb3JtVmFsdWUkZGV2aWMsIF9pdGVtJGZvcm1WYWx1ZSRkZXZpYzIsIF9pdGVtJGZvcm1WYWx1ZSR0aWNrZSwgX2l0ZW0kZm9ybVZhbHVlJHRpY2tlMjsKICAgICAgICBsZXQgZmVhdHVyZSA9IHt9OwogICAgICAgIGxldCBwcm9wZXJ0aWVzID0ge307CiAgICAgICAgbGV0IGdlb21ldHJ5ID0ge307CiAgICAgICAgcHJvcGVydGllcyA9IGl0ZW07CiAgICAgICAgcHJvcGVydGllcy5kZWZlY3RGcm9tID0gaXRlbS5mb3JtVmFsdWUuZGVmZWN0RnJvbTsKICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzOwogICAgICAgIGZlYXR1cmUudHlwZSA9ICdGZWF0dXJlJzsKICAgICAgICBnZW9tZXRyeS50eXBlID0gJ1BvaW50JzsKICAgICAgICBpZiAoaXRlbS5hcHBlYWxMYXQgJiYgaXRlbS5hcHBlYWxMbmcpIHsKICAgICAgICAgIC8vIGdlb21ldHJ5LmNvb3JkaW5hdGVzID0gW2l0ZW0uYXBwZWFsTGF0LCBpdGVtLmFwcGVhbExvbl0KICAgICAgICAgIGdlb21ldHJ5LmNvb3JkaW5hdGVzID0gW2l0ZW0uYXBwZWFsTG5nLCBpdGVtLmFwcGVhbExhdF07IC8vIHdnczg0CiAgICAgICAgICBmZWF0dXJlLmdlb21ldHJ5ID0gZ2VvbWV0cnk7CiAgICAgICAgICBmZWF0dXJlcy5wdXNoKGZlYXR1cmUpOwogICAgICAgIH0gZWxzZSBpZiAoKF9pdGVtJGZvcm1WYWx1ZSRkZXZpYyA9IGl0ZW0uZm9ybVZhbHVlLmRldmljZURldGFpbCkgIT09IG51bGwgJiYgX2l0ZW0kZm9ybVZhbHVlJGRldmljICE9PSB2b2lkIDAgJiYgX2l0ZW0kZm9ybVZhbHVlJGRldmljLmxhdGl0dWRlICYmIChfaXRlbSRmb3JtVmFsdWUkZGV2aWMyID0gaXRlbS5mb3JtVmFsdWUuZGV2aWNlRGV0YWlsKSAhPT0gbnVsbCAmJiBfaXRlbSRmb3JtVmFsdWUkZGV2aWMyICE9PSB2b2lkIDAgJiYgX2l0ZW0kZm9ybVZhbHVlJGRldmljMi5sb25naXR1ZGUpIHsKICAgICAgICAgIGdlb21ldHJ5LmNvb3JkaW5hdGVzID0gW2l0ZW0uZm9ybVZhbHVlLmRldmljZURldGFpbC5sb25naXR1ZGUsIGl0ZW0uZm9ybVZhbHVlLmRldmljZURldGFpbC5sYXRpdHVkZV07CiAgICAgICAgICBmZWF0dXJlLmdlb21ldHJ5ID0gZ2VvbWV0cnk7CiAgICAgICAgICBmZWF0dXJlcy5wdXNoKGZlYXR1cmUpOwogICAgICAgIH0gZWxzZSBpZiAoKF9pdGVtJGZvcm1WYWx1ZSR0aWNrZSA9IGl0ZW0uZm9ybVZhbHVlLnRpY2tldEFkZHJlc3MpICE9PSBudWxsICYmIF9pdGVtJGZvcm1WYWx1ZSR0aWNrZSAhPT0gdm9pZCAwICYmIF9pdGVtJGZvcm1WYWx1ZSR0aWNrZS5sb25naXR1ZGUgJiYgKF9pdGVtJGZvcm1WYWx1ZSR0aWNrZTIgPSBpdGVtLmZvcm1WYWx1ZS50aWNrZXRBZGRyZXNzKSAhPT0gbnVsbCAmJiBfaXRlbSRmb3JtVmFsdWUkdGlja2UyICE9PSB2b2lkIDAgJiYgX2l0ZW0kZm9ybVZhbHVlJHRpY2tlMi5sYXRpdHVkZSkgewogICAgICAgICAgZ2VvbWV0cnkuY29vcmRpbmF0ZXMgPSBbaXRlbS5mb3JtVmFsdWUudGlja2V0QWRkcmVzcy5sb25naXR1ZGUsIGl0ZW0uZm9ybVZhbHVlLnRpY2tldEFkZHJlc3MubGF0aXR1ZGVdOwogICAgICAgICAgZmVhdHVyZS5nZW9tZXRyeSA9IGdlb21ldHJ5OwogICAgICAgICAgZmVhdHVyZXMucHVzaChmZWF0dXJlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gZ2VvbWV0cnkuY29vcmRpbmF0ZXMgPSBbMzkuMDY2ODMwNjQ0MzUyNDUsIDExNS45NDUzOTQ3MDk3MDYzXQogICAgICAgICAgd2l0aG91dFBvc2l0aW9uQ291bnQgKz0gMTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygn5peg5Z2Q5qCH5Liq5pWwJywgd2l0aG91dFBvc2l0aW9uQ291bnQpOwogICAgICAvLyDogZrlkIjmlbDmja4g5p6E6YCg5aS06YOoCiAgICAgIGxldCBnZW9Kc29uID0gewogICAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsCiAgICAgICAgY3JzOiB7CiAgICAgICAgICB0eXBlOiAnbmFtZScsCiAgICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICAgIG5hbWU6ICd1cm46b2djOmRlZjpjcnM6T0dDOjEuMzpDUlM4NCcKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGZlYXR1cmVzOiBbXQogICAgICB9OwogICAgICBnZW9Kc29uLmZlYXR1cmVzID0gZmVhdHVyZXM7CiAgICAgIGNvbnNvbGUubG9nKCfogZrlkIjnmoRnZW9Kc29uJywgZ2VvSnNvbik7CiAgICAgIHRoaXMucmVuZGVyQ2x1c3RlcihnZW9Kc29uKTsKICAgIH0sCiAgICByZW1vdmVTb21lTGF5ZXIoKSB7CiAgICAgIHZhciBfTWFwT2JqJG1hcDI7CiAgICAgIFsnY2x1c3RlcnMnLCAnY2x1c3Rlci1jb3VudCcsICd1bmNsdXN0ZXJlZC1wb2ludCddLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgdmFyIF9NYXBPYmokbWFwOwogICAgICAgIGlmICgoX01hcE9iaiRtYXAgPSBNYXBPYmoubWFwKSAhPT0gbnVsbCAmJiBfTWFwT2JqJG1hcCAhPT0gdm9pZCAwICYmIF9NYXBPYmokbWFwLmdldExheWVyKGl0ZW0pKSB7CiAgICAgICAgICBNYXBPYmoubWFwLnJlbW92ZUxheWVyKGl0ZW0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmICgoX01hcE9iaiRtYXAyID0gTWFwT2JqLm1hcCkgIT09IG51bGwgJiYgX01hcE9iaiRtYXAyICE9PSB2b2lkIDAgJiYgX01hcE9iaiRtYXAyLmdldFNvdXJjZSgnZWFydGhxdWFrZXMnKSkgewogICAgICAgIE1hcE9iai5tYXAucmVtb3ZlU291cmNlKCdlYXJ0aHF1YWtlcycpOwogICAgICB9CiAgICB9LAogICAgLy8g5riy5p+TCiAgICByZW5kZXJDbHVzdGVyKGdlb0pzb25Tb3VyY2UpIHsKICAgICAgdGhpcy5yZW1vdmVTb21lTGF5ZXIoKTsKICAgICAgTWFwT2JqLm1hcC5hZGRTb3VyY2UoJ2VhcnRocXVha2VzJywgewogICAgICAgIHR5cGU6ICdnZW9qc29uJywKICAgICAgICBkYXRhOiBnZW9Kc29uU291cmNlLAogICAgICAgIGNsdXN0ZXI6IHRydWUsCiAgICAgICAgY2x1c3Rlck1heFpvb206IDE0LAogICAgICAgIC8vIE1heCB6b29tIHRvIGNsdXN0ZXIgcG9pbnRzIG9uCiAgICAgICAgY2x1c3RlclJhZGl1czogNTAgLy8gUmFkaXVzIG9mIGVhY2ggY2x1c3RlciB3aGVuIGNsdXN0ZXJpbmcgcG9pbnRzIChkZWZhdWx0cyB0byA1MCkKICAgICAgfSk7CiAgICAgIE1hcE9iai5tYXAuYWRkTGF5ZXIoewogICAgICAgIGlkOiAnY2x1c3RlcnMnLAogICAgICAgIHR5cGU6ICdjaXJjbGUnLAogICAgICAgIHNvdXJjZTogJ2VhcnRocXVha2VzJywKICAgICAgICBmaWx0ZXI6IFsnaGFzJywgJ3BvaW50X2NvdW50J10sCiAgICAgICAgcGFpbnQ6IHsKICAgICAgICAgICdjaXJjbGUtY29sb3InOiBbJ3N0ZXAnLCBbJ2dldCcsICdwb2ludF9jb3VudCddLCAicmdiYSgwLCAyMDksIDEzNCwgMC44KSIsIDUsICJyZ2JhKDI1NSwgMTQ4LCA0MSwgMC44KSIsIDE1LCAicmdiYSgyNTUsIDc0LCA2NSwgMC44KSJdLAogICAgICAgICAgJ2NpcmNsZS1yYWRpdXMnOiBbJ3N0ZXAnLCBbJ2dldCcsICdwb2ludF9jb3VudCddLCAyMCwgNSwgMjUsIDE1LCAzMF0sCiAgICAgICAgICAvLyDov5nkuKrmmK/lpJbovrnmoYbnmoTpopzoibIgY2lyY2xlLXN0cm9rZS1jb2xvcui/meS4quWvueW6lOS6huS4iumdomNpcmNsZS1jb2xvcgogICAgICAgICAgImNpcmNsZS1zdHJva2UtY29sb3IiOiBbInN0ZXAiLCBbImdldCIsICJwb2ludF9jb3VudCJdLCAicmdiYSgwLCAyMDksIDEzNCwgMC4zKSIsIDUsICJyZ2JhKDI1NSwgMTQ4LCA0MSwgMC4zKSIsIDE1LCAicmdiYSgyNTUsIDc0LCA2NSwgMC4zKSJdLAogICAgICAgICAgLy8g6L+Z5Liq5piv5aSW6L655qGG5pmV5p+T55qE6IyD5Zu0CiAgICAgICAgICAiY2lyY2xlLXN0cm9rZS13aWR0aCI6IFsic3RlcCIsIFsiZ2V0IiwgInBvaW50X2NvdW50Il0sIDgsCiAgICAgICAgICAvL+iTneiJsuaZleafk+mVv+W6pu+8jOW9k+eCueaVsOWwj+S6jjEwMOaXtuS4ujVweOaZleafkwogICAgICAgICAgNSwKICAgICAgICAgIC8v5a+55bqU5LiK6Z2iY2lyY2xlLWNvbG9yIOaVsOWtl++8jOaEj+aAneS4ujEwMOS7peWGhQogICAgICAgICAgMTIsCiAgICAgICAgICAvL+eCueiuoeaVsOWcqDEwMOWIsDc1MOS5i+mXtOaXtuS4uum7hOiJsu+8jDZweOaZleafkwogICAgICAgICAgMTUsCiAgICAgICAgICAvL+WvueW6lOS4iumdomNpcmNsZS1jb2xvciDmlbDlrZfvvIzmhI/mgJ3kuLo3NTDku6XlhoUKICAgICAgICAgIDE1IC8v54K56K6h5pWw5aSn5LqO5oiW562J5LqONzUw5pe25Li6N3B45YOP57Sg55qE57KJ57qi6Imy5pmV5p+TCiAgICAgICAgICBdCiAgICAgICAgfQogICAgICB9KTsKICAgICAgTWFwT2JqLm1hcC5hZGRMYXllcih7CiAgICAgICAgaWQ6ICdjbHVzdGVyLWNvdW50JywKICAgICAgICB0eXBlOiAnc3ltYm9sJywKICAgICAgICBzb3VyY2U6ICdlYXJ0aHF1YWtlcycsCiAgICAgICAgZmlsdGVyOiBbJ2hhcycsICdwb2ludF9jb3VudCddLAogICAgICAgIGxheW91dDogewogICAgICAgICAgJ3RleHQtZmllbGQnOiAne3BvaW50X2NvdW50X2FiYnJldmlhdGVkfScsCiAgICAgICAgICAvLyAndGV4dC1mb250JzogWydESU4gT2ZmYyBQcm8gTWVkaXVtJywgJ0FyaWFsIFVuaWNvZGUgTVMgQm9sZCddLAogICAgICAgICAgJ3RleHQtc2l6ZSc6IDEyCiAgICAgICAgfQogICAgICB9KTsKICAgICAgTWFwT2JqLm1hcC5hZGRMYXllcih7CiAgICAgICAgaWQ6ICd1bmNsdXN0ZXJlZC1wb2ludCcsCiAgICAgICAgc291cmNlOiAnZWFydGhxdWFrZXMnLAogICAgICAgIGZpbHRlcjogWychJywgWydoYXMnLCAncG9pbnRfY291bnQnXV0sCiAgICAgICAgdHlwZTogJ3N5bWJvbCcsCiAgICAgICAgbGF5b3V0OiB7CiAgICAgICAgICAnaWNvbi1pbWFnZSc6ICfkuovku7bngrknLAogICAgICAgICAgLy8g54K555qE5Zu+5qCHCiAgICAgICAgICB2aXNpYmlsaXR5OiAndmlzaWJsZScsCiAgICAgICAgICAnaWNvbi1zaXplJzogMC43CiAgICAgICAgfQogICAgICB9KTsKICAgICAgbGV0IGRlZmVjdEZyb21EaWMgPSB0aGlzLiRzdG9yZS5zdGF0ZVtFTlVNXS5kZWZlY3RGcm9tOwogICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgIE1hcE9iai5tYXAub24oJ2NsaWNrJywgJ3VuY2x1c3RlcmVkLXBvaW50JywgZSA9PiB7CiAgICAgICAgLy8g5aaC5p6c5b2T5YmN5LqL5Lu254K55omA5pyJcG9wdXDkuLrmiZPlvIDnirbmgIHvvIzljbPkuovku7bngrlwb3B1cOaVsOe7hOmVv+W6puS4jeS4ujDvvIzpgIDlh7ror6XmrKHngrnlh7vkuovku7YKICAgICAgICAvLyBpZiAoTWFwT2JqLmV2ZW50UG9wdXBBcnJheS5sZW5ndGggPiAwKSByZXR1cm4KICAgICAgICAvLyDmr4/mrKHngrnlh7vmlrDnmoTkuovku7bngrnlsLHmuIXpmaTpooTmoYjmlbDmja4KICAgICAgICAvLyB0aGlzLmZpbGVMaXN0ID0gW10KICAgICAgICBjb25zb2xlLmxvZygnZS5mZWF0dXJlczogJywgZS5mZWF0dXJlcyk7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ2Zvcm1WYWx1ZTogJywgSlNPTi5wYXJzZShlLmZlYXR1cmVzWzBdLnByb3BlcnRpZXMuZm9ybVZhbHVlKSkKICAgICAgICBNYXBPYmoubWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJzsKICAgICAgICBsZXQgZm9ybVZhbHVlID0gSlNPTi5wYXJzZShlLmZlYXR1cmVzWzBdLnByb3BlcnRpZXMuZm9ybVZhbHVlKTsKICAgICAgICBjb25zb2xlLmxvZygnZm9ybVZhbHVlOiAnLCBmb3JtVmFsdWUpOwogICAgICAgIHZhciBjb29yZGluYXRlcyA9IGUuZmVhdHVyZXNbMF0uZ2VvbWV0cnkuY29vcmRpbmF0ZXMuc2xpY2UoKTsKICAgICAgICB3aGlsZSAoTWF0aC5hYnMoZS5sbmdMYXQubG5nIC0gY29vcmRpbmF0ZXNbMF0pID4gMTgwKSB7CiAgICAgICAgICBjb29yZGluYXRlc1swXSArPSBlLmxuZ0xhdC5sbmcgPiBjb29yZGluYXRlc1swXSA/IDM2MCA6IC0zNjA7CiAgICAgICAgfQogICAgICAgIC8vIENyZWF0ZSBhIHBvcHVwLCBidXQgZG9uJ3QgYWRkIGl0IHRvIHRoZSBtYXAgeWV0LgogICAgICAgIHRoaXMucG9wdXAxID0gbmV3IG1hcGJveGdsLlBvcHVwKHsKICAgICAgICAgIGNsb3NlT25DbGljazogdHJ1ZSwKICAgICAgICAgIGNsb3NlQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIGFuY2hvcjogJ2JvdHRvbScsCiAgICAgICAgICBvZmZzZXQ6IHsKICAgICAgICAgICAgYm90dG9tOiBbMCwgLTE1XQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGxldCB0ZXh0ID0gZm9ybVZhbHVlLmRldGFpbCA/IGZvcm1WYWx1ZS5kZXRhaWwuZGVmZWN0VHlwZSA6ICflhbbku5YnOwogICAgICAgIGNvbnNvbGUubG9nKCd0ZXh0OiAnLCB0ZXh0KTsKICAgICAgICB0aGlzLnBvcHVwMS5zZXRMbmdMYXQoY29vcmRpbmF0ZXMpLnNldEhUTUwoJzxkaXYgaWQ9InZ1ZS1wb3B1cC1jdXN0b20iIGNsYXNzPSJ2dWUtcG9wdXAtY3VzdG9tIj48aDM+JyArIHRleHQgKyAnPC9oMz48L2Rpdj4nKS5hZGRUbyhNYXBPYmoubWFwKTsKICAgICAgfSk7CgogICAgICAvLyBpbnNwZWN0IGEgY2x1c3RlciBvbiBjbGljawogICAgICBNYXBPYmoubWFwLm9uKCdjbGljaycsICdjbHVzdGVycycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIGZlYXR1cmVzID0gTWFwT2JqLm1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCwgewogICAgICAgICAgbGF5ZXJzOiBbJ2NsdXN0ZXJzJ10KICAgICAgICB9KTsKICAgICAgICB2YXIgY2x1c3RlcklkID0gZmVhdHVyZXNbMF0ucHJvcGVydGllcy5jbHVzdGVyX2lkOwogICAgICAgIE1hcE9iai5tYXAuZ2V0U291cmNlKCdlYXJ0aHF1YWtlcycpLmdldENsdXN0ZXJFeHBhbnNpb25ab29tKGNsdXN0ZXJJZCwgZnVuY3Rpb24gKGVyciwgem9vbSkgewogICAgICAgICAgaWYgKGVycikgcmV0dXJuOwogICAgICAgICAgTWFwT2JqLm1hcC5lYXNlVG8oewogICAgICAgICAgICBjZW50ZXI6IGZlYXR1cmVzWzBdLmdlb21ldHJ5LmNvb3JkaW5hdGVzLAogICAgICAgICAgICB6b29tOiB6b29tCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIE1hcE9iai5tYXAuc2V0TWluWm9vbSgwKTsKICAgICAgTWFwT2JqLm1hcC5zZXRNYXhab29tKDMwKTsKICAgIH0sCiAgICAvLyDlnLDlm77nm7jlhbMKICAgIHRvVGFyZ2V0KGxuZ2xhdCkgewogICAgICBpZiAobG5nbGF0Lmxlbmd0aCA9PSAyKSB7CiAgICAgICAgTWFwT2JqLm1hcC5mbHlUbyh7CiAgICAgICAgICBjZW50ZXI6IGxuZ2xhdCwKICAgICAgICAgIHpvb206IDE5CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIuaXoOS9jee9ruS/oeaBryIpOwogICAgICB9CiAgICB9LAogICAgLy8g5byA5aeL54K56YCJCiAgICBjbGlja1BsdXMoKSB7CiAgICAgIHRoaXMub2JqSW5mbyA9IHt9OwogICAgICBUb2FzdCh7CiAgICAgICAgbWVzc2FnZTogJ+WcsOWbvueCuemAiScsCiAgICAgICAgcG9zaXRpb246ICd0b3AnCiAgICAgIH0pOwogICAgICB0aGlzLmNob3NlUG9pbnQgPSB0cnVlOwogICAgfSwKICAgIC8vIOeCuemAieimgee0oOWbnuWhq+S/oeaBrwogICAgZW50ZXJBZGQoKSB7CiAgICAgIC8vIHRoaXMuaXNBZGQgPSB0cnVlLy/ov5vlhaXooajljZXpobUKICAgICAgY29uc29sZS5sb2coIumAieeCueWQjui/m+WFpeihqOWNlemhteaXtueahHRoaXMub2JqSW5mbzoiLCB0aGlzLm9iakluZm8pOwogICAgICAvLyAvLyDlm57loavkv6Hmga8KICAgICAgLy8gdGhpcy5jb21tb25Gb3JtLmJpZ1R5cGUgPSB0aGlzLm9iakluZm8uYmlnVHlwZSB8fCAnJwogICAgICAvLyB0aGlzLmNvbW1vbkZvcm0uc21hbGxUeXBlID0gdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSB8fCAnJwogICAgICAvLyB0aGlzLmNvbW1vbkZvcm0uc21hbGxDb2RlID0gdGhpcy5vYmpJbmZvLmNvZGUgfHwgJycKICAgICAgLy8gdGhpcy5jb21tb25Gb3JtLnBvc2l0aW9uID0gdGhpcy5vYmpJbmZvLnJvYWRfbmFtZSB8fCBbdGhpcy5vYmpJbmZvLmxuZy50b0ZpeGVkKDMpLCB0aGlzLm9iakluZm8ubGF0LnRvRml4ZWQoMyldLnRvU3RyaW5nKCkKICAgICAgLy8gLy8g5o+Q5Lqk6KGo5Y2V55So55qE77yM5LiN5Zue5aGr5pi+56S6CiAgICAgIC8vIHRoaXMuY29tbW9uRm9ybS5sbmcgPSB0aGlzLm9iakluZm8ubG5nCiAgICAgIC8vIHRoaXMuY29tbW9uRm9ybS5sYXQgPSB0aGlzLm9iakluZm8ubGF0CiAgICAgIC8vIHRoaXMuY29tbW9uRm9ybS5wcm9wZXJ0aWVzID0gdGhpcy5vYmpJbmZvLnByb3BlcnRpZXMKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdhZGRGbGF3cycsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIG1zZzogdGhpcy5vYmpJbmZvLAogICAgICAgICAgdG9rZW46IHRoaXMuZm9ybVRva2VuCiAgICAgICAgfSwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHR5cGU6ICdhZGQnCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyBpbml0TWFwKCkgewogICAgLy8gICAgIG1hcGJveGdsLmFjY2Vzc1Rva2VuID0gInBrLmV5SjFJam9pT1RNME1EazBNamcySWl3aVlTSTZJbU5zTW5ObWRtVnJaREJyWkdNelpHNTBjSEp1ZFhKa2JXOGlmUS5DMHdLaEpnclRvRkpnTDhHSDVNOHJnIjsKICAgIC8vICAgICB3aW5kb3cueGFNYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHsKICAgIC8vICAgICAgICAgY29udGFpbmVyOiAnbWFwQ29udGFpbmVyJywvLyDlrrnlmahET00gaWQKICAgIC8vICAgICAgICAgc3R5bGU6IG1hcFN0eWxlLAogICAgLy8gICAgICAgICBjZW50ZXI6IFsxMTUuOTI0ODYxMDEzNjk0MjgsIDM5LjA2MDc1NTQ5NTg5MDczXSwKICAgIC8vICAgICAgICAgem9vbTogMTMsCiAgICAvLyAgICAgICAgIG1pblpvb206IDEwLAogICAgLy8gICAgICAgICBwaXRjaDogMCwKICAgIC8vICAgICB9KTsKICAgIC8vICAgICAvLyBsZXQgbmVlZExheWVycz1bXQogICAgLy8gICAgIC8vIOWKoOWbvuWxgiBodHRwOi8vMTcyLjIwLjc5LjY1L2FwaS9zd2FuL21hcFdvcmtzaG9wU291cmNlL2RldGFpbD9pZD0xNTQ0NjQwMjc4NTU5ODIxODI2CiAgICAvLyAgICAgYXhpb3MuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9VUkwgKyAnL3N3YW4vbWFwV29ya3Nob3BTb3VyY2UvZGV0YWlsP2lkPTE1NDg1NzM0MTI5NjM3NDk4ODknKS50aGVuKHJlcyA9PiB7CiAgICAvLyAgICAgICAgIC8vIGF4aW9zLmdldCgnaHR0cDovL3hhc3cuaGRlYy5jb20vYXBpL3N3YW4vbWFwV29ya3Nob3BTb3VyY2UvZGV0YWlsP2lkPTE1NDg1NzM0MTI5NjM3NDk4ODknKS50aGVuKHJlcyA9PiB7CiAgICAvLyAgICAgICAgIC8vIGF4aW9zLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX01BUF9SRVFVRVNUX1VSTCsnL2FwaS9zd2FuL21hcFdvcmtzaG9wU291cmNlL2RldGFpbD9pZD0xNTQ4NTczNDEyOTYzNzQ5ODg5JykudGhlbihyZXMgPT4gewogICAgLy8gICAgICAgICBjb25zb2xlLmxvZygncmVzOiAnLCByZXMpOwogICAgLy8gICAgICAgICBsZXQgbGF5ZXJzID0gSlNPTi5wYXJzZShyZXMuZGF0YS5kYXRhLmpzb25EYXRhKQogICAgLy8gICAgICAgICBjb25zb2xlLmxvZygnbGF5ZXJzOiAnLCBsYXllcnMpOwogICAgLy8gICAgICAgICBPYmplY3Qua2V5cyhsYXllcnMuc291cmNlcykuZm9yRWFjaChrZXkgPT4gewogICAgLy8gICAgICAgICAgICAgd2luZG93LnhhTWFwLmFkZFNvdXJjZShrZXksIGxheWVycy5zb3VyY2VzW2tleV0pCiAgICAvLyAgICAgICAgIH0pCiAgICAvLyAgICAgICAgIC8vIG5lZWRMYXllcnM9bGF5ZXJzLmxheWVycwogICAgLy8gICAgICAgICBsYXllcnMubGF5ZXJzLmZvckVhY2gobGF5ZXIgPT4gewogICAgLy8gICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3JywgbGF5ZXIpOwogICAgLy8gICAgICAgICAgICAgd2luZG93LnhhTWFwLmFkZExheWVyKGxheWVyKTsKICAgIC8vICAgICAgICAgICAgIHdpbmRvdy54YU1hcC5zZXRMYXlvdXRQcm9wZXJ0eShsYXllci5pZCwgJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpCiAgICAvLyAgICAgICAgICAgICAvLyB3aW5kb3cueGFNYXAub24oImNsaWNrIiwgbGF5ZXIuaWQsIHRoaXMuaGFuZGxlTW9uaXRvckNsaWNrKTsKICAgIC8vICAgICAgICAgICAgIC8vIHdpbmRvdy54YU1hcC5vbigibW91c2VlbnRlciIsIGxheWVyLmlkLCB0aGlzLmhhbmRsZU1vbml0b3JFbnRlcik7CiAgICAvLyAgICAgICAgICAgICAvLyB3aW5kb3cueGFNYXAub24oIm1vdXNlb3V0IiwgbGF5ZXIuaWQsIHRoaXMuaGFuZGxlTW9uaXRvckxlYXZlKTsKICAgIC8vICAgICAgICAgfSkKICAgIC8vICAgICB9KS5jYXRjaChlID0+IHsgfSkuZmluYWxseSgoKSA9PiB7IH0pOwogICAgLy8gICAgIC8vIOebkeWQrOWcsOWbvueCueWHuwogICAgLy8gICAgIC8vIHdpbmRvdy54YU1hcC5vbigiY2xpY2siLCBmdW5jdGlvbihlKSAge30pCiAgICAvLyAgICAgLy8gd2luZG93LnhhTWFwLm9uKCJjbGljayIsIGxheWVyLmlkLGZ1bmN0aW9uKGUpICB7fSkvL+aJjeiDvemAieWIsGZlYXR1cmVzPz8/LOWwseaLv+WIsOi/h+S4gOasoQoKICAgIC8vICAgICB3aW5kb3cueGFNYXAub24oImNsaWNrIiwgKGUpID0+IHsKICAgIC8vICAgICAgICAgLy8g6Iul5Li6ZnVuY3RpbyhlKXsgdGhpc+aYr3RoaXMud2luZG93LnhhTWFwfQogICAgLy8gICAgICAgICAvLyAoZSk9PnsgdGhpc+aYr3RoaXN9CiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCJtYXAtY2xpY2stZSIsIGUpCiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCJlLmxuZ0xhdG4iLCBlLmxuZ0xhdCkKICAgIC8vICAgICAgICAgdmFyIGJib3ggPSBbCiAgICAvLyAgICAgICAgICAgICBbZS5wb2ludC54IC0gMSwgZS5wb2ludC55IC0gMV0sCiAgICAvLyAgICAgICAgICAgICBbZS5wb2ludC54ICsgMSwgZS5wb2ludC55ICsgMV0KICAgIC8vICAgICAgICAgXTsKICAgIC8vICAgICAgICAgY29uc29sZS5sb2coImJib3g6IiwgYmJveCkKICAgIC8vICAgICAgICAgLy8gbWFwYm94IOi/lOWbnuafpeivouimgee0oOeahOWbvuWxguWxnuaApwogICAgLy8gICAgICAgICBsZXQgcXVlcnlmZWF0dXJlcyA9IHdpbmRvdy54YU1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoYmJveCwgewogICAgLy8gICAgICAgICAgICAgbGF5ZXJzOiBbInJkX21hcF9kcmFpbnBpcGVfeXNfYmlnIiwgInJkX21hcF9kcmFpbnBpcGVfeXNfc21hbGwiLCAicmRfbWFwX2RyYWlucGlwZV93c19zbWFsbCIsICJyZF9tYXBfZHJhaW5waXBlX3dzX2JpZyIsCiAgICAvLyAgICAgICAgICAgICAgICAgInJkX21hcF9vdXRmYWxsIiwgInJkX21hcF9nYXRlIiwgInJkX21hcF9tYW5ob2xlIiwgInJkX21hcF9jb21iIiwKICAgIC8vICAgICAgICAgICAgICAgICAibWFwX3N1cHBseV9maXJlaHlkcmFudCIsICJtYXBfc3VwcGx5X3ZhbHZlIiwKICAgIC8vICAgICAgICAgICAgICAgICAibWFwX3N1cHBseV9waXBlX2Rpc3RyaWJ1dGUiLCAibWFwX3N1cHBseV9waXBlX2RlbGl2ZXJ5IiwgIm1hcF9zdXBwbHlfcGlwZV9jaXJjdWxhdGluZyIsCiAgICAvLyAgICAgICAgICAgICAgICAgIm1hcF9zdXBwbHlfbm9kZV9kaXN0cmlidXRlIiwgIm1hcF9zdXBwbHlfbm9kZV9kZWxpdmVyeSIsICJtYXBfc3VwcGx5X25vZGVfY2lyY3VsYXRpbmciLAogICAgLy8gICAgICAgICAgICAgICAgICJtYXBfcmVjeWNsZV9waXBlIiwgIm1hcF9yZWN5Y2xlX25vZGUiLCAibWFwX3dhdGVyd29yayJdCiAgICAvLyAgICAgICAgICAgICAvLyBsYXllcnM6IGxheWVycwogICAgLy8gICAgICAgICB9KTsKICAgIC8vICAgICAgICAgY29uc29sZS5sb2coIueCuemAiSjlvq7nn6nlvaIp5p+l6K+i5Yiw55qEcXVlcnlmZWF0dXJlczoiLCBxdWVyeWZlYXR1cmVzKQogICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZygi54K56YCJKOW+ruefqeW9oinmn6Xor6LnmoRxdWVyeWZlYXR1cmVzOiIsIHF1ZXJ5ZmVhdHVyZXMucHJvcGVydGllcykKICAgIC8vICAgICAgICAgLy8gdGhpcy5oaWdodExpZ2h0KHF1ZXJ5ZmVhdHVyZXMpLy8g6auY5Lqu6KGo5qC86K6w5b2V77yM5bm26auY5Lqu5Zyw5Zu+6KaB57SgCiAgICAvLyAgICAgICAgIHRoaXMub2JqSW5mbyA9IHt9Ly/lhYjnva7nqbrlho3otYvlgLwKICAgIC8vICAgICAgICAgLy8g54K55Ye75L2N572u55qE57uP57qs5bqmCiAgICAvLyAgICAgICAgIHRoaXMub2JqSW5mby5sbmcgPSBlLmxuZ0xhdC5sbmcKICAgIC8vICAgICAgICAgdGhpcy5vYmpJbmZvLmxhdCA9IGUubG5nTGF0LmxhdAogICAgLy8gICAgICAgICBpZiAocXVlcnlmZWF0dXJlcy5sZW5ndGggPiAwKSB7CiAgICAvLyAgICAgICAgICAgICAvLyBxdWVyeWZlYXR1cmVzLmZvckVhY2goZiA9PiB7CiAgICAvLyAgICAgICAgICAgICBsZXQgZiA9IHF1ZXJ5ZmVhdHVyZXNbMF0KICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmZmZmOiAnLCBmKTsKICAgIC8vICAgICAgICAgICAgIC8vIOeCueWHu+imgee0oOeahOe7j+e6rOW6pu+8jOacieeahOivneimhuebluaOieeCueWHu+S9jee9rue7j+e6rOW6pgogICAgLy8gICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmxuZyA9IGYucHJvcGVydGllcy5sb25naXR1ZGUgfHwgdGhpcy5vYmpJbmZvLmxuZwogICAgLy8gICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmxhdCA9IGYucHJvcGVydGllcy5sYXRpdHVkZSB8fCB0aGlzLm9iakluZm8ubGF0CiAgICAvLyAgICAgICAgICAgICAvLyDopoHntKDmiYDlnKjlm77lsYJJROWSjOWxnuaAp+S/oeaBrwogICAgLy8gICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmxheWVySUQgPSBmLmxheWVyLmlkCiAgICAvLyAgICAgICAgICAgICB0aGlzLm9iakluZm8ubGF5ZXJUeXBlID0gZi5sYXllci50eXBlCiAgICAvLyAgICAgICAgICAgICB0aGlzLm9iakluZm8ucHJvcGVydGllcyA9IGYucHJvcGVydGllcwogICAgLy8gICAgICAgICAgICAgLy8g5bqV5Zu+6KaB57SgbmFtZV9sb2NhbOaIluiuvuaWveimgee0oHJvYWRfbmFtZSxpZAogICAgLy8gICAgICAgICAgICAgdGhpcy5vYmpJbmZvLm5hbWVfbG9jYWwgPSBmLnByb3BlcnRpZXMubmFtZV9sb2NhbAogICAgLy8gICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnJvYWRfbmFtZSA9IGYucHJvcGVydGllcy5yb2FkX25hbWUKICAgIC8vICAgICAgICAgICAgIHRoaXMub2JqSW5mby5pZCA9IGYucHJvcGVydGllcy5pZAogICAgLy8gICAgICAgICAgICAgLy8g6KaB57Sg5a+56LGh57G75Z6L77yI5Lia5Yqh57G75Z6LL+iuvuaWveexu+Wei++8iQogICAgLy8gICAgICAgICAgICAgb2JqSW5mby5iaWdUeXBlID0gJycKICAgIC8vICAgICAgICAgICAgIG9iakluZm8uc21hbGxUeXBlID0gJycKICAgIC8vICAgICAgICAgICAgIHN3aXRjaCAoZi5sYXllci5pZCkgewogICAgLy8gICAgICAgICAgICAgICAgIC8vIOmbqOawtAogICAgLy8gICAgICAgICAgICAgICAgIGNhc2UgInJkX21hcF9jb21iIjovL2NvbWLkuIDlrprmmK/pm6jmsLTlj6MKICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqSW5mby5iaWdUeXBlID0gJ+mbqOawtCcKICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqSW5mby5zbWFsbFR5cGUgPSAn6Zuo5rC05Y+jJwogICAgLy8gICAgICAgICAgICAgICAgICAgICBicmVhawogICAgLy8gICAgICAgICAgICAgICAgIGNhc2UgInJkX21hcF9vdXRmYWxsIjovL+aOkuaUvuWPoyAxLembqOawtO+8myAyLeaxoeawtO+8myAzLeWQiOa1ge+8myA0LeWFtuS7lgogICAgLy8gICAgICAgICAgICAgICAgICAgICBvYmpJbmZvLmJpZ1R5cGUgPSBmLnByb3BlcnRpZXMucGlwZV90eXBlCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9iakluZm8uc21hbGxUeXBlID0gJ+aOkuaUvuWPoycKICAgIC8vICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgIC8vICAgICAgICAgICAgICAgICBjYXNlICJyZF9tYXBfbWFuaG9sZSI6Ly/mo4Dmn6XkupUgIDEt6Zuo5rC077ybMi3msaHmsLQKICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqSW5mby5iaWdUeXBlID0gZi5wcm9wZXJ0aWVzLm1hbmhvbGVfdHlwZQogICAgLy8gICAgICAgICAgICAgICAgICAgICBvYmpJbmZvLnNtYWxsVHlwZSA9IGYucHJvcGVydGllcy5tYW5ob2xlX3R5cGUgPT0gIumbqOawtCIgPyAn6Zuo5rC05qOA5p+l5LqVJyA6ICfmsaHmsLTmo4Dmn6XkupUnCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAvLyAgICAgICAgICAgICAgICAgY2FzZSAicmRfbWFwX2dhdGUiOi8v6Ze46ZeoIDEt6Zuo5rC077ybIDIt5rGh5rC077ybIDMt5ZCI5rWB77ybIDQt5YW25LuWCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9iakluZm8uYmlnVHlwZSA9IGYucHJvcGVydGllcy5waXBlX3R5cGUKICAgIC8vICAgICAgICAgICAgICAgICAgICAgLy8gb2JqSW5mby5zbWFsbFR5cGUgPSAn6Ze46ZeoJwogICAgLy8gICAgICAgICAgICAgICAgICAgICBvYmpJbmZvLnNtYWxsVHlwZSA9IGYucHJvcGVydGllcy5waXBlX3R5cGUgPT0gIumbqOawtCIgPyAn5YW25LuW77yI6Zuo77yJJyA6ICflhbbku5bvvIjmsaHvvIknCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAvLyAgICAgICAgICAgICAgICAgY2FzZSAicmRfbWFwX2RyYWlucGlwZV95c19iaWciOgogICAgLy8gICAgICAgICAgICAgICAgICAgICBvYmpJbmZvLmJpZ1R5cGUgPSAn6Zuo5rC0JwogICAgLy8gICAgICAgICAgICAgICAgICAgICBvYmpJbmZvLnNtYWxsVHlwZSA9ICfpm6jmsLTnrqHmuKAnCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAvLyAgICAgICAgICAgICAgICAgY2FzZSAicmRfbWFwX2RyYWlucGlwZV95c19zbWFsbCI6CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9iakluZm8uYmlnVHlwZSA9ICfpm6jmsLQnCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9iakluZm8uc21hbGxUeXBlID0gJ+mbqOawtOeuoea4oCcKICAgIC8vICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgIC8vICAgICAgICAgICAgICAgICAvLyDmsaHmsLQKICAgIC8vICAgICAgICAgICAgICAgICBjYXNlICJyZF9tYXBfZHJhaW5waXBlX3dzX2JpZyI6CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9iakluZm8uYmlnVHlwZSA9ICfmsaHmsLQnCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9iakluZm8uc21hbGxUeXBlID0gJ+axoeawtOeuoemBkycKICAgIC8vICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgIC8vICAgICAgICAgICAgICAgICBjYXNlICJyZF9tYXBfZHJhaW5waXBlX3dzX3NtYWxsIjoKICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqSW5mby5iaWdUeXBlID0gJ+axoeawtCcKICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqSW5mby5zbWFsbFR5cGUgPSAn5rGh5rC0566h6YGTJwogICAgLy8gICAgICAgICAgICAgICAgICAgICBicmVhawogICAgLy8gICAgICAgICAgICAgICAgIC8vIOS+m+awtAogICAgLy8gICAgICAgICAgICAgICAgIGNhc2UgIm1hcF9zdXBwbHlfZmlyZWh5ZHJhbnQiOi8v5raI54Gr5qCT5LiA5a6a5piv5L6b5rC0CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9iakluZm8uYmlnVHlwZSA9ICfkvpvmsLQnCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9iakluZm8uc21hbGxUeXBlID0gJ+a2iOmYsuagkycKICAgIC8vICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgIC8vICAgICAgICAgICAgICAgICBjYXNlICJtYXBfc3VwcGx5X3ZhbHZlIjovL+mYgOmXqHZhbHZl5LiA5a6a5piv5L6b5rC0CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9iakluZm8uYmlnVHlwZSA9ICfkvpvmsLQnCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9iakluZm8uc21hbGxUeXBlID0gJ+mYgOmXqCcKICAgIC8vICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgIC8vICAgICAgICAgICAgICAgICBjYXNlICJtYXBfc3VwcGx5X3BpcGVfZGlzdHJpYnV0ZSI6Ly/phY3msLTnrqHnur8KICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqSW5mby5iaWdUeXBlID0gJ+S+m+awtCcKICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqSW5mby5zbWFsbFR5cGUgPSAn5L6b5rC0566h6YGTJwogICAgLy8gICAgICAgICAgICAgICAgICAgICBicmVhawogICAgLy8gICAgICAgICAgICAgICAgIGNhc2UgIm1hcF9zdXBwbHlfcGlwZV9kZWxpdmVyeSI6Ly/ovpPmsLTnrqHnur8KICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqSW5mby5iaWdUeXBlID0gJ3N1cHBseScKICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqSW5mby5zbWFsbFR5cGUgPSAn5L6b5rC0566h6YGTJwogICAgLy8gICAgICAgICAgICAgICAgICAgICBicmVhawogICAgLy8gICAgICAgICAgICAgICAgIGNhc2UgIm1hcF9zdXBwbHlfcGlwZV9jaXJjdWxhdGluZyI6Ly/lm57msLTnrqHnur8KICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqSW5mby5iaWdUeXBlID0gJ+S+m+awtCcKICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqSW5mby5zbWFsbFR5cGUgPSAn5L6b5rC0566h6YGTJwogICAgLy8gICAgICAgICAgICAgICAgICAgICBicmVhawogICAgLy8gICAgICAgICAgICAgICAgIC8vIGNhc2UgIm1hcF9zdXBwbHlfbm9kZV9kaXN0cmlidXRlIjoKICAgIC8vICAgICAgICAgICAgICAgICAvLyAgICAgb2JqSW5mby5iaWdUeXBlID0gJ+S+m+awtCcKICAgIC8vICAgICAgICAgICAgICAgICAvLyAgICAgb2JqSW5mby5zbWFsbFR5cGUgPSAKICAgIC8vICAgICAgICAgICAgICAgICAvLyAgICAgYnJlYWsKICAgIC8vICAgICAgICAgICAgICAgICBjYXNlICJtYXBfc3VwcGx5X25vZGVfZGVsaXZlcnkiOgogICAgLy8gICAgICAgICAgICAgICAgICAgICBvYmpJbmZvLmJpZ1R5cGUgPSAn5L6b5rC0JwogICAgLy8gICAgICAgICAgICAgICAgICAgICBvYmpJbmZvLnNtYWxsVHlwZSA9IGYucHJvcGVydGllcy5hcHB1cnRlbmFuY2UgPT0gIua2iOmYsuS6lSIgPyAi5raI6Ziy5qCTIiA6IGYucHJvcGVydGllcy5hcHB1cnRlbmFuY2UgPT0gIuaOkuawlOmYgCIgPyAi6ZiA6ZeoIiA6ICflhbbku5bvvIjkvpvvvIknCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAvLyAgICAgICAgICAgICAgICAgLy8gY2FzZSAibWFwX3N1cHBseV9ub2RlX2NpcmN1bGF0aW5nIjogCiAgICAvLyAgICAgICAgICAgICAgICAgLy8gICAgIG9iakluZm8uYmlnVHlwZSA9ICfkvpvmsLQnCiAgICAvLyAgICAgICAgICAgICAgICAgLy8gICAgIG9iakluZm8uc21hbGxUeXBlID0gCiAgICAvLyAgICAgICAgICAgICAgICAgLy8gICAgIGJyZWFrCiAgICAvLyAgICAgICAgICAgICAgICAgY2FzZSAibWFwX3dhdGVyd29yayI6Ly/kvpvmsLTljoIKICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqSW5mby5iaWdUeXBlID0gJ+S+m+awtCcKICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqSW5mby5zbWFsbFR5cGUgPSAn5YW25LuW77yI5L6b77yJJwogICAgLy8gICAgICAgICAgICAgICAgICAgICBicmVhawogICAgLy8gICAgICAgICAgICAgICAgIC8vIOWGjeeUn+awtAogICAgLy8gICAgICAgICAgICAgICAgIGNhc2UgIm1hcF9yZWN5Y2xlX3BpcGUiOi8v5YaN55Sf5rC0566h57q/CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9iakluZm8uYmlnVHlwZSA9ICflho3nlJ/msLQnCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9iakluZm8uc21hbGxUeXBlID0gJ+WGjeeUn+awtOeuoemBkycKICAgIC8vICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgIC8vICAgICAgICAgICAgICAgICBjYXNlICJtYXBfd2F0ZXJ3b3JrIjovL+WGjeeUn+awtOWOggogICAgLy8gICAgICAgICAgICAgICAgICAgICBvYmpJbmZvLmJpZ1R5cGUgPSAn5YaN55Sf5rC0JwogICAgLy8gICAgICAgICAgICAgICAgICAgICBvYmpJbmZvLnNtYWxsVHlwZSA9ICflhbbku5bvvIjlho3vvIknCiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAvLyAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICAvLyDorr7mlr3nvJblj7cKICAgIC8vICAgICAgICAgICAgIG9iakluZm8uY29kZSA9IGYucHJvcGVydGllcy5zdGFydF9jb2RlICYmIGYucHJvcGVydGllcy5lbmRfY29kZSA/IChmLnByb3BlcnRpZXMuc3RhcnRfY29kZSArICcsJyArIGYucHJvcGVydGllcy5lbmRfY29kZSkgOiAnJwogICAgLy8gICAgICAgICAgICAgICAgIHx8IGYucHJvcGVydGllcy5tYW5ob2xlX2NvZGUgfHwgZi5wcm9wZXJ0aWVzLmdhdGVfY29kZSB8fCBmLnByb3BlcnRpZXMub3V0bGV0X2NvZGUKICAgIC8vICAgICAgICAgICAgICAgICB8fCBmLnByb3BlcnRpZXMuY29tYl9jb2RlIHx8IGYucHJvcGVydGllcy52YWx2ZV9jb2RlIHx8IGYucHJvcGVydGllcy5wdW1wX3N0YXRpb25fY29kZQogICAgLy8gICAgICAgICAgICAgICAgIHx8IGYucHJvcGVydGllcy5wbGFudF9jb2RlIHx8IGYucHJvcGVydGllcy5wdW1wX2NvZGUgfHwgZi5wcm9wZXJ0aWVzLmZpcmVfY29ja19jb2RlCiAgICAvLyAgICAgICAgICAgICAgICAgfHwgZi5wcm9wZXJ0aWVzLnBvaW50X2NvZGUgfHwgJycKICAgIC8vICAgICAgICAgICAgIC8vIH0pCiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMub2JqSW5mbzogJywgdGhpcy5vYmpJbmZvKTsKICAgIC8vICAgICAgICAgLy8gcG9wdXAKICAgIC8vICAgICAgICAgaWYgKHRoaXMuY2hvc2VQb2ludCkgewogICAgLy8gICAgICAgICAgICAgLy8gbGV0IHBvcHVwSHRtbCA9ICI8ZGl2IHN0eWxlPSd3aWR0aDoxNDBweDtoZWlnaHQ6MzBweDtiYWNrZ3JvdW5kLWNvbG9yOiMwOEFFRTknPjxoMz4iICsgZS5sbmdMYXQubG5nLnRvRml4ZWQoMykgKyAnLCcgKyBlLmxuZ0xhdC5sYXQudG9GaXhlZCgzKSArICI8L2gzPjxoMz4iK3RoaXMub2JqSW5mby5zbWFsbFR5cGUrJyAnK3RoaXMub2JqSW5mby5jb2RlKyI8L2gzPjxicj48Zm0tYnV0dG9uICBAY2xpY2s9J2NsaWNrUGx1cyc+56Gu5a6aPC9mbS1idXR0b24+IiArICI8L2Rpdj4iCiAgICAvLyAgICAgICAgICAgICBsZXQgcG9wdXBIdG1sID0gJzxkaXYgaWQ9ImJhc2UtYWRkIj48L2Rpdj4nCiAgICAvLyAgICAgICAgICAgICBuZXcgbWFwYm94Z2wuUG9wdXAoKQogICAgLy8gICAgICAgICAgICAgICAgIC5zZXRMbmdMYXQoW2UubG5nTGF0LmxuZywgZS5sbmdMYXQubGF0XSkKICAgIC8vICAgICAgICAgICAgICAgICAuc2V0SFRNTChwb3B1cEh0bWwpCiAgICAvLyAgICAgICAgICAgICAgICAgLmFkZFRvKHdpbmRvdy54YU1hcCk7CiAgICAvLyAgICAgICAgICAgICBuZXcgcG9wdXBJdGVtKHsKICAgIC8vICAgICAgICAgICAgICAgICBwcm9wc0RhdGE6IHsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgZGV0YWlsSWQ6IDk5OTk5LAogICAgLy8gICAgICAgICAgICAgICAgICAgICBsbmc6IGUubG5nTGF0LmxuZy50b0ZpeGVkKDMpLAogICAgLy8gICAgICAgICAgICAgICAgICAgICBsYXQ6IGUubG5nTGF0LmxhdC50b0ZpeGVkKDMpLAogICAgLy8gICAgICAgICAgICAgICAgICAgICBiaWdUeXBlOiB0aGlzLm9iakluZm8uYmlnVHlwZSwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgc21hbGxUeXBlOiB0aGlzLm9iakluZm8uc21hbGxUeXBlLAogICAgLy8gICAgICAgICAgICAgICAgICAgICBkZXZpY2VDb2RlOiB0aGlzLm9iakluZm8uY29kZSwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgZnVuOiB0aGlzLmVudGVyQWRkCiAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgfSkuJG1vdW50KCcjYmFzZS1hZGQnKQogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAvLyB3aW5kb3cueGFNYXAub24oJ2NsaWNrJyxlPT57fSnnu5PmnZ8KICAgIC8vIH0sCiAgICBhc3luYyBtYXBMb2FkZWQoKSB7CiAgICAgIE1hcE9iai5tYXAgPSB3aW5kb3cueGFNYXA7CiAgICAgIGF3YWl0IGFkZEljb25Ub01hcChNYXBPYmoubWFwLCB0aGlzLmljb25zKTsKICAgICAgTWFwT2JqLm1hcC5vbigiY2xpY2siLCBlID0+IHsKICAgICAgICAvLyDoi6XkuLpmdW5jdGlvKGUpeyB0aGlz5pivdGhpcy5NYXBPYmoubWFwfQogICAgICAgIC8vIChlKT0+eyB0aGlz5pivdGhpc30KICAgICAgICBjb25zb2xlLmxvZygibWFwLWNsaWNrLWUiLCBlKTsKICAgICAgICBjb25zb2xlLmxvZygiZS5sbmdMYXRuIiwgZS5sbmdMYXQpOwogICAgICAgIHZhciBiYm94ID0gW1tlLnBvaW50LnggLSAxLCBlLnBvaW50LnkgLSAxXSwgW2UucG9pbnQueCArIDEsIGUucG9pbnQueSArIDFdXTsKICAgICAgICBjb25zb2xlLmxvZygiYmJveDoiLCBiYm94KTsKICAgICAgICAvLyBtYXBib3gg6L+U5Zue5p+l6K+i6KaB57Sg55qE5Zu+5bGC5bGe5oCnCiAgICAgICAgbGV0IHF1ZXJ5ZmVhdHVyZXMgPSBNYXBPYmoubWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhiYm94LCB7CiAgICAgICAgICBsYXllcnM6IFsicmRfbWFwX2RyYWlucGlwZV95c19iaWciLCAicmRfbWFwX2RyYWlucGlwZV95c19zbWFsbCIsICJyZF9tYXBfZHJhaW5waXBlX3dzX3NtYWxsIiwgInJkX21hcF9kcmFpbnBpcGVfd3NfYmlnIiwgInJkX21hcF9vdXRmYWxsIiwgInJkX21hcF9nYXRlIiwgInJkX21hcF9tYW5ob2xlIiwgInJkX21hcF9jb21iIiwgIm1hcF9zdXBwbHlfZmlyZWh5ZHJhbnQiLCAibWFwX3N1cHBseV92YWx2ZSIsICJtYXBfc3VwcGx5X3BpcGVfZGlzdHJpYnV0ZSIsICJtYXBfc3VwcGx5X3BpcGVfZGVsaXZlcnkiLCAibWFwX3N1cHBseV9waXBlX2NpcmN1bGF0aW5nIiwgIm1hcF9zdXBwbHlfbm9kZV9kaXN0cmlidXRlIiwgIm1hcF9zdXBwbHlfbm9kZV9kZWxpdmVyeSIsICJtYXBfc3VwcGx5X25vZGVfY2lyY3VsYXRpbmciLCAibWFwX3JlY3ljbGVfcGlwZSIsICJtYXBfcmVjeWNsZV9ub2RlIiwgIm1hcF93YXRlcndvcmsiXQogICAgICAgICAgLy8gbGF5ZXJzOiBsYXllcnMKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygi54K56YCJKOW+ruefqeW9oinmn6Xor6LliLDnmoRxdWVyeWZlYXR1cmVzOiIsIHF1ZXJ5ZmVhdHVyZXMpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKCLngrnpgIko5b6u55+p5b2iKeafpeivoueahHF1ZXJ5ZmVhdHVyZXM6IiwgcXVlcnlmZWF0dXJlcy5wcm9wZXJ0aWVzKQogICAgICAgIC8vIHRoaXMuaGlnaHRMaWdodChxdWVyeWZlYXR1cmVzKS8vIOmrmOS6ruihqOagvOiusOW9le+8jOW5tumrmOS6ruWcsOWbvuimgee0oAogICAgICAgIHRoaXMub2JqSW5mbyA9IHt9OyAvL+WFiOe9ruepuuWGjei1i+WAvAogICAgICAgIC8vIOeCueWHu+S9jee9rueahOe7j+e6rOW6pgogICAgICAgIHRoaXMub2JqSW5mby5sbmcgPSBlLmxuZ0xhdC5sbmc7CiAgICAgICAgdGhpcy5vYmpJbmZvLmxhdCA9IGUubG5nTGF0LmxhdDsKICAgICAgICBpZiAocXVlcnlmZWF0dXJlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAvLyBxdWVyeWZlYXR1cmVzLmZvckVhY2goZiA9PiB7CiAgICAgICAgICBsZXQgZiA9IHF1ZXJ5ZmVhdHVyZXNbMF07CiAgICAgICAgICBjb25zb2xlLmxvZygnZmZmZjogJywgZik7CiAgICAgICAgICAvLyDngrnlh7vopoHntKDnmoTnu4/nuqzluqbvvIzmnInnmoTor53opobnm5bmjonngrnlh7vkvY3nva7nu4/nuqzluqYKICAgICAgICAgIC8vIHRoaXMub2JqSW5mby5sbmcgPSBmLnByb3BlcnRpZXMubG9uZ2l0dWRlIHx8IHRoaXMub2JqSW5mby5sbmcKICAgICAgICAgIC8vIHRoaXMub2JqSW5mby5sYXQgPSBmLnByb3BlcnRpZXMubGF0aXR1ZGUgfHwgdGhpcy5vYmpJbmZvLmxhdAogICAgICAgICAgLy8g6KaB57Sg5omA5Zyo5Zu+5bGCSUTlkozlsZ7mgKfkv6Hmga8KICAgICAgICAgIHRoaXMub2JqSW5mby5sYXllcklEID0gZi5sYXllci5pZDsKICAgICAgICAgIHRoaXMub2JqSW5mby5sYXllclR5cGUgPSBmLmxheWVyLnR5cGU7CiAgICAgICAgICB0aGlzLm9iakluZm8ucHJvcGVydGllcyA9IGYucHJvcGVydGllczsKICAgICAgICAgIC8vIOW6leWbvuimgee0oG5hbWVfbG9jYWzmiJborr7mlr3opoHntKByb2FkX25hbWUsaWQKICAgICAgICAgIHRoaXMub2JqSW5mby5uYW1lX2xvY2FsID0gZi5wcm9wZXJ0aWVzLm5hbWVfbG9jYWw7CiAgICAgICAgICB0aGlzLm9iakluZm8ucm9hZF9uYW1lID0gZi5wcm9wZXJ0aWVzLnJvYWRfbmFtZTsKICAgICAgICAgIHRoaXMub2JqSW5mby5pZCA9IGYucHJvcGVydGllcy5pZDsKICAgICAgICAgIC8vIOimgee0oOWvueixoeexu+Wei++8iOS4muWKoeexu+Weiy/orr7mlr3nsbvlnovvvIkKICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJyc7CiAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJyc7CiAgICAgICAgICBzd2l0Y2ggKGYubGF5ZXIuaWQpIHsKICAgICAgICAgICAgLy8g6Zuo5rC0CiAgICAgICAgICAgIGNhc2UgInJkX21hcF9jb21iIjoKICAgICAgICAgICAgICAvL2NvbWLkuIDlrprmmK/pm6jmsLTlj6MKICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfpm6jmsLQnOwogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6Zuo5rC05Y+jJzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAicmRfbWFwX291dGZhbGwiOgogICAgICAgICAgICAgIC8v5o6S5pS+5Y+jIDEt6Zuo5rC077ybIDIt5rGh5rC077ybIDMt5ZCI5rWB77ybIDQt5YW25LuWCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSBmLnByb3BlcnRpZXMucGlwZV90eXBlOwogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5o6S5pS+5Y+jJzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAicmRfbWFwX21hbmhvbGUiOgogICAgICAgICAgICAgIC8v5qOA5p+l5LqVICAxLembqOawtO+8mzIt5rGh5rC0CiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSBmLnByb3BlcnRpZXMubWFuaG9sZV90eXBlOwogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSBmLnByb3BlcnRpZXMubWFuaG9sZV90eXBlID09ICLpm6jmsLQiID8gJ+mbqOawtOajgOafpeS6lScgOiAn5rGh5rC05qOA5p+l5LqVJzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAicmRfbWFwX2dhdGUiOgogICAgICAgICAgICAgIC8v6Ze46ZeoIDEt6Zuo5rC077ybIDIt5rGh5rC077ybIDMt5ZCI5rWB77ybIDQt5YW25LuWCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSBmLnByb3BlcnRpZXMucGlwZV90eXBlOwogICAgICAgICAgICAgIC8vIG9iakluZm8uc21hbGxUeXBlID0gJ+mXuOmXqCcKICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gZi5wcm9wZXJ0aWVzLnBpcGVfdHlwZSA9PSAi6Zuo5rC0IiA/ICflhbbku5bvvIjpm6jvvIknIDogJ+WFtuS7lu+8iOaxoe+8iSc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgInJkX21hcF9kcmFpbnBpcGVfeXNfYmlnIjoKICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfpm6jmsLQnOwogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn6Zuo5rC0566h5rigJzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAicmRfbWFwX2RyYWlucGlwZV95c19zbWFsbCI6CiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn6Zuo5rC0JzsKICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+mbqOawtOeuoea4oCc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIC8vIOaxoeawtAogICAgICAgICAgICBjYXNlICJyZF9tYXBfZHJhaW5waXBlX3dzX2JpZyI6CiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn5rGh5rC0JzsKICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+axoeawtOeuoemBkyc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgInJkX21hcF9kcmFpbnBpcGVfd3Nfc21hbGwiOgogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+axoeawtCc7CiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfmsaHmsLTnrqHpgZMnOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAvLyDkvpvmsLQKICAgICAgICAgICAgY2FzZSAibWFwX3N1cHBseV9maXJlaHlkcmFudCI6CiAgICAgICAgICAgICAgLy/mtojngavmoJPkuIDlrprmmK/kvpvmsLQKICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfkvpvmsLQnOwogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5raI6Ziy5qCTJzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAibWFwX3N1cHBseV92YWx2ZSI6CiAgICAgICAgICAgICAgLy/pmIDpl6h2YWx2ZeS4gOWumuaYr+S+m+awtAogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+S+m+awtCc7CiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfpmIDpl6gnOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJtYXBfc3VwcGx5X3BpcGVfZGlzdHJpYnV0ZSI6CiAgICAgICAgICAgICAgLy/phY3msLTnrqHnur8KICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfkvpvmsLQnOwogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSAn5L6b5rC0566h6YGTJzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAibWFwX3N1cHBseV9waXBlX2RlbGl2ZXJ5IjoKICAgICAgICAgICAgICAvL+i+k+awtOeuoee6vwogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ3N1cHBseSc7CiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICfkvpvmsLTnrqHpgZMnOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJtYXBfc3VwcGx5X3BpcGVfY2lyY3VsYXRpbmciOgogICAgICAgICAgICAgIC8v5Zue5rC0566h57q/CiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn5L6b5rC0JzsKICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+S+m+awtOeuoemBkyc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIC8vIGNhc2UgIm1hcF9zdXBwbHlfbm9kZV9kaXN0cmlidXRlIjoKICAgICAgICAgICAgLy8gICAgIG9iakluZm8uYmlnVHlwZSA9ICfkvpvmsLQnCiAgICAgICAgICAgIC8vICAgICBvYmpJbmZvLnNtYWxsVHlwZSA9IAogICAgICAgICAgICAvLyAgICAgYnJlYWsKICAgICAgICAgICAgY2FzZSAibWFwX3N1cHBseV9ub2RlX2RlbGl2ZXJ5IjoKICAgICAgICAgICAgICB0aGlzLm9iakluZm8uYmlnVHlwZSA9ICfkvpvmsLQnOwogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5zbWFsbFR5cGUgPSBmLnByb3BlcnRpZXMuYXBwdXJ0ZW5hbmNlID09ICLmtojpmLLkupUiID8gIua2iOmYsuagkyIgOiBmLnByb3BlcnRpZXMuYXBwdXJ0ZW5hbmNlID09ICLmjpLmsJTpmIAiID8gIumYgOmXqCIgOiAn5YW25LuW77yI5L6b77yJJzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgLy8gY2FzZSAibWFwX3N1cHBseV9ub2RlX2NpcmN1bGF0aW5nIjogCiAgICAgICAgICAgIC8vICAgICBvYmpJbmZvLmJpZ1R5cGUgPSAn5L6b5rC0JwogICAgICAgICAgICAvLyAgICAgb2JqSW5mby5zbWFsbFR5cGUgPSAKICAgICAgICAgICAgLy8gICAgIGJyZWFrCiAgICAgICAgICAgIGNhc2UgIm1hcF93YXRlcndvcmsiOgogICAgICAgICAgICAgIC8v5L6b5rC05Y6CCiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLmJpZ1R5cGUgPSAn5L6b5rC0JzsKICAgICAgICAgICAgICB0aGlzLm9iakluZm8uc21hbGxUeXBlID0gJ+WFtuS7lu+8iOS+m++8iSc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIC8vIOWGjeeUn+awtAogICAgICAgICAgICBjYXNlICJtYXBfcmVjeWNsZV9waXBlIjoKICAgICAgICAgICAgICAvL+WGjeeUn+awtOeuoee6vwogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+WGjeeUn+awtCc7CiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICflho3nlJ/msLTnrqHpgZMnOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJtYXBfd2F0ZXJ3b3JrIjoKICAgICAgICAgICAgICAvL+WGjeeUn+awtOWOggogICAgICAgICAgICAgIHRoaXMub2JqSW5mby5iaWdUeXBlID0gJ+WGjeeUn+awtCc7CiAgICAgICAgICAgICAgdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSA9ICflhbbku5bvvIjlho3vvIknOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgICAgLy8g6K6+5pa957yW5Y+3CiAgICAgICAgICB0aGlzLm9iakluZm8uY29kZSA9IGYucHJvcGVydGllcy5zdGFydF9jb2RlICYmIGYucHJvcGVydGllcy5lbmRfY29kZSA/IGYucHJvcGVydGllcy5zdGFydF9jb2RlICsgJywnICsgZi5wcm9wZXJ0aWVzLmVuZF9jb2RlIDogJycgfHwgZi5wcm9wZXJ0aWVzLm1hbmhvbGVfY29kZSB8fCBmLnByb3BlcnRpZXMuZ2F0ZV9jb2RlIHx8IGYucHJvcGVydGllcy5vdXRsZXRfY29kZSB8fCBmLnByb3BlcnRpZXMuY29tYl9jb2RlIHx8IGYucHJvcGVydGllcy52YWx2ZV9jb2RlIHx8IGYucHJvcGVydGllcy5wdW1wX3N0YXRpb25fY29kZSB8fCBmLnByb3BlcnRpZXMucGxhbnRfY29kZSB8fCBmLnByb3BlcnRpZXMucHVtcF9jb2RlIHx8IGYucHJvcGVydGllcy5maXJlX2NvY2tfY29kZSB8fCBmLnByb3BlcnRpZXMucG9pbnRfY29kZSB8fCAnJzsKICAgICAgICAgIC8vIH0pCiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLm9iakluZm86ICcsIHRoaXMub2JqSW5mbyk7CiAgICAgICAgLy8gcG9wdXAKICAgICAgICBpZiAodGhpcy5jaG9zZVBvaW50KSB7CiAgICAgICAgICAvLyBsZXQgcG9wdXBIdG1sID0gIjxkaXYgc3R5bGU9J3dpZHRoOjE0MHB4O2hlaWdodDozMHB4O2JhY2tncm91bmQtY29sb3I6IzA4QUVFOSc+PGgzPiIgKyBlLmxuZ0xhdC5sbmcudG9GaXhlZCgzKSArICcsJyArIGUubG5nTGF0LmxhdC50b0ZpeGVkKDMpICsgIjwvaDM+PGgzPiIrdGhpcy5vYmpJbmZvLnNtYWxsVHlwZSsnICcrdGhpcy5vYmpJbmZvLmNvZGUrIjwvaDM+PGJyPjxmbS1idXR0b24gIEBjbGljaz0nY2xpY2tQbHVzJz7noa7lrpo8L2ZtLWJ1dHRvbj4iICsgIjwvZGl2PiIKICAgICAgICAgIGxldCBwb3B1cEh0bWwgPSAnPGRpdiBpZD0iYmFzZS1hZGQiPjwvZGl2Pic7CiAgICAgICAgICBuZXcgbWFwYm94Z2wuUG9wdXAoKS5zZXRMbmdMYXQoW2UubG5nTGF0LmxuZywgZS5sbmdMYXQubGF0XSkuc2V0SFRNTChwb3B1cEh0bWwpLmFkZFRvKE1hcE9iai5tYXApOwogICAgICAgICAgbmV3IHBvcHVwSXRlbSh7CiAgICAgICAgICAgIHByb3BzRGF0YTogewogICAgICAgICAgICAgIGRldGFpbElkOiA5OTk5OSwKICAgICAgICAgICAgICAvLyBsbmc6IGUubG5nTGF0LmxuZy50b0ZpeGVkKDMpLAogICAgICAgICAgICAgIC8vIGxhdDogZS5sbmdMYXQubGF0LnRvRml4ZWQoMyksCiAgICAgICAgICAgICAgbG5nOiBlLmxuZ0xhdC5sbmcsCiAgICAgICAgICAgICAgbGF0OiBlLmxuZ0xhdC5sYXQsCiAgICAgICAgICAgICAgYmlnVHlwZTogdGhpcy5vYmpJbmZvLmJpZ1R5cGUsCiAgICAgICAgICAgICAgc21hbGxUeXBlOiB0aGlzLm9iakluZm8uc21hbGxUeXBlLAogICAgICAgICAgICAgIGRldmljZUNvZGU6IHRoaXMub2JqSW5mby5jb2RlLAogICAgICAgICAgICAgIGZ1bjogdGhpcy5lbnRlckFkZAogICAgICAgICAgICB9CiAgICAgICAgICB9KS4kbW91bnQoJyNiYXNlLWFkZCcpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["listFlaws","addIconToMap","ENUM","mapboxgl","mapStyle","Toast","Uploader","fileUpload","axios","popup","Vue","myInterval","popupItem","extend","MapObj","map","name","components","data","tableData","total","tableList","objInfo","chosePoint","wpgHeader","accessToken","$storage","get","formToken","formURL","icons","url","require","computed","defectFromDic","console","log","$store","state","defectFrom","faultTypesDic","faultTypes","busDeviceTypeDic","defectType","mounted","getwpgHeader","beforeDestroy","methods","process","env","VUE_APP_THIRD_REQUEST_URL","method","params","token","headers","then","res","status","resultData","getTableData","records","getGeoJson","forEach","td","_td$formValue$detail","_td$formValue$deviceD","_td$formValue$deviceD2","item","id","deviceName","formValue","deviceType","device_type","flawsName","detail","ticketStatusName","content","questionDescribe","people","createByName","time","createTime","slice","flawsFrom","lnglat","deviceDetail","longitude","latitude","appealLng","appealLat","push","$emit","features","withoutPositionCount","length","removeSomeLayer","_item$formValue$devic","_item$formValue$devic2","_item$formValue$ticke","_item$formValue$ticke2","feature","properties","geometry","type","coordinates","ticketAddress","geoJson","crs","renderCluster","_MapObj$map2","_MapObj$map","getLayer","removeLayer","getSource","removeSource","geoJsonSource","addSource","cluster","clusterMaxZoom","clusterRadius","addLayer","source","filter","paint","layout","visibility","that","on","e","getCanvas","style","cursor","JSON","parse","Math","abs","lngLat","lng","popup1","Popup","closeOnClick","closeButton","anchor","offset","bottom","text","setLngLat","setHTML","addTo","queryRenderedFeatures","point","layers","clusterId","cluster_id","getClusterExpansionZoom","err","zoom","easeTo","center","setMinZoom","setMaxZoom","toTarget","flyTo","clickPlus","message","position","enterAdd","$router","query","msg","mapLoaded","window","xaMap","bbox","x","y","queryfeatures","lat","f","layerID","layer","layerType","name_local","road_name","bigType","smallType","pipe_type","manhole_type","appurtenance","code","start_code","end_code","manhole_code","gate_code","outlet_code","comb_code","valve_code","pump_station_code","plant_code","pump_code","fire_cock_code","point_code","popupHtml","propsData","detailId","deviceCode","fun","$mount"],"sources":["src/views/FlawsManagement/index.vue"],"sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <fm-nav-bar title=\"缺陷管理\" left-arrow @click-left=\"$router.go(-1)\" @click-right=\"clickPlus\">\r\n            <template #right>\r\n                <i class=\"fm-icon fm-icon-plus\"></i>\r\n            </template>\r\n        </fm-nav-bar>\r\n        <div class=\"mapContainer\">\r\n            <xa-map :create=\"mapLoaded\"></xa-map>\r\n        </div>\r\n\r\n        <!-- <div v-if=\"!isAdd && !isDetail\" class=\"flaws-list-container\">\r\n            <div class=\"tableList\">\r\n                <div class=\"con-div\" v-for=\"(item, index) in tableList\" :key=\"index\">\r\n                    <div class=\"top\">\r\n                        <div class=\"name\">\r\n                            {{ item.deviceName.length > 0 ? getZHCN(item.deviceName[0]) : '' }}\r\n                            {{ item.deviceName.length > 1 ? getZHCN(item.deviceName) : '' }}\r\n                        </div>\r\n                        <div :class=\"item.state == '已完成' ? 'state c1' : item.state == '处理中' ? 'state c2' : 'state c3'\">\r\n                            {{ item.state }}</div>\r\n                        <img class=\"img\" src=\"./img/gps.png\" @click=\"toTarget(item.lnglat)\" />\r\n                    </div>\r\n                    <div @click=\"enterDetail(item.id)\">\r\n                        <div class=\"content\">\r\n                            缺陷类型 {{ getZHCN(item.flawsName) }}\r\n                        </div>\r\n                        <div class=\"content\">\r\n                            现场情况 {{ item.content }}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"under\">\r\n                        <div class=\"under-div\"><i class=\"fm-icon fm-icon-contact\"></i>{{ item.people }}</div>\r\n                        <div class=\"under-div\"><i class=\"fm-icon fm-icon-down\"></i>\r\n                            {{ getZHCN(item.flawsFrom) }}</div>\r\n                        <div class=\"under-div\"><i class=\"fm-icon fm-icon-underway-o\"></i>{{ item.time }}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div> -->\r\n        <listFlaws :tableList=\"tableList\" @toTarget=\"toTarget\"></listFlaws>\r\n\r\n        <!-- <div v-show=\"isAdd && !isDetail\" class=\"add-container\">\r\n            <fm-nav-bar title=\"缺陷新增\" left-arrow @click-left=\"isAdd = false;\">\r\n            </fm-nav-bar>\r\n            <fm-form class=\"bigForm-container\" @submit=\"onSubmit\" @failed=\"onFailed\">\r\n                <fm-field readonly clickable required name=\"picker\" :value=\"commonForm.defectFrom\" label=\"缺陷来源\"\r\n                    placeholder=\"缺陷来源\" suffix-icon=\"arrow\" @click=\"choosePicker('缺陷来源')\"\r\n                    :rules=\"[{ required: true, message: '请填写缺陷来源' }]\" input-align=\"right\" />\r\n                <fm-field readonly clickable required name=\"picker\" :value=\"commonForm.bigType\" label=\"业务类型\"\r\n                    placeholder=\"业务类型\" suffix-icon=\"arrow\" @click=\"choosePicker('业务类型')\"\r\n                    :rules=\"[{ required: true, message: '请填写业务类型' }]\" input-align=\"right\" />\r\n                <fm-field readonly clickable required name=\"picker\" :value=\"commonForm.smallType\" label=\"设施类型\"\r\n                    placeholder=\"设施类型\" suffix-icon=\"arrow\" @click=\"choosePicker('设施类型')\"\r\n                    :rules=\"[{ required: true, message: '请填写设施类型' }]\" input-align=\"right\" />\r\n\r\n                <fm-popup :visible.sync=\"showPicker\" position=\"bottom\">\r\n                    <fm-picker show-toolbar :columns=\"columns\" @confirm=\"onConfirm\" @cancel=\"showPicker = false\" />\r\n                </fm-popup>\r\n\r\n                <fm-field clearable v-model=\"commonForm.smallCode\" name=\"input\" label=\"设施编号\" placeholder=\"设施编号\"\r\n                    input-align=\"right\" />\r\n                <fm-field v-model=\"commonForm.position\" name=\"input\" label=\"缺陷位置\" placeholder=\"缺陷位置\"\r\n                    input-align=\"right\" />\r\n                <div class=\"subtable\" v-for=\"(item, index) in subForms\" :key=\"item.id\">\r\n                    <img src=\"./img/link.png\" alt=\"\" style=\"position: absolute;height: 34px;z-index: 2;top: -18px\">\r\n                    <img src=\"./img/link.png\" alt=\"\"\r\n                        style=\"position: absolute;height: 34px;z-index: 2;float: right;right: 5px; top: -18px\">\r\n                    <fm-form>\r\n                        <fm-field v-model=\"item.defectType\" readonly clickable name=\"picker\" label=\"缺陷类型\"\r\n                            suffix-icon=\"arrow\" placeholder=\"缺陷类型\" @click=\"showPickerDefect = true\" input-align=\"right\">\r\n                        </fm-field>\r\n                        <fm-popup :visible.sync=\"showPickerDefect\" position=\"bottom\">\r\n                            <fm-picker show-toolbar :columns=\"defectTypeList\"\r\n                                @confirm=\"(val) => { item.defectType = val; showPickerDefect = false }\"\r\n                                @cancel=\"showPickerDefect = false\" />\r\n                        </fm-popup>\r\n\r\n                        <fm-field v-model=\"item.note\" name=\"input\" label=\"备注\" placeholder=\"备注\" input-align=\"right\">\r\n                        </fm-field>\r\n                        <uploader :wpgHeader=\"wpgHeader\" label=\"照片\" v-model=\"picUp\" ref=\"picUp\"\r\n                            @fileChange=\"(recall) => fileChange(recall, '', item.pic)\" style=\"width: 100%;\">\r\n                        </uploader>\r\n                    </fm-form>\r\n                </div>\r\n                <fm-button native-type=\"button\" type=\"default\" icon=\"plus\" size=\"large\" @click=\"addRow\"\r\n                    style=\"margin-left: 8px;width:96%\">新增缺陷\r\n                </fm-button>\r\n                <fm-field v-model=\"commonForm.describe\" name=\"input\" label=\"现场描述\" placeholder=\"现场描述\" type=\"textarea\"\r\n                    rows=\"2\" autosize maxlength=\"200\" show-word-limit input-align=\"right\" />\r\n\r\n                <uploader :wpgHeader=\"wpgHeader\" label=\"多媒体附件\" v-model=\"attachment\" ref=\"attachment\"\r\n                    @fileChange=\"(recall) => fileChange(recall, '公共')\" style=\"width: 100%;\">\r\n                </uploader>\r\n\r\n\r\n                <fm-field readonly v-model=\"upPerson\" name=\"input\" label=\"上报人\" placeholder=\"上报人\" input-align=\"right\" />\r\n                <fm-field readonly v-model=\"upTime\" name=\"input\" label=\"上报时间\" placeholder=\"上报时间\" input-align=\"right\" />\r\n                <div style=\"margin-top:10px;display:flex;justify-content: space-around;\">\r\n                    <fm-button type=\"default\" @click=\"concle\" native-type=\"button\">取消</fm-button>\r\n                    <fm-button type=\"primary\" :disabled=\"subForms.length < 1\" native-type=\"submit\">提交</fm-button>\r\n                </div>\r\n            </fm-form>\r\n        </div> -->\r\n        <!-- <div v-if=\"isDetail \" class=\"detail-container\">\r\n            <fm-nav-bar title=\"缺陷详情\" left-arrow @click-left=\"isDetail = false\"></fm-nav-bar>\r\n            <iframe id=\"form_frame\" class=\"formFrame\" name=\"form_frame\" :src=\"formURL\" />\r\n        </div> -->\r\n    </div>\r\n</template>\r\n<script>\r\nimport listFlaws from './listFlaws'\r\nimport { addIconToMap } from '@/utils/mapUtils'\r\nimport { ENUM } from '@/store/State/stateTypes'\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport mapStyle from './mapStyle';\r\nimport { Toast } from 'fawkes-mobile-lib';\r\nimport Uploader from './upload/Uploader';\r\nimport fileUpload from '@/components/fileUpload/index.vue';\r\nimport axios from 'axios'\r\nimport popup from './popup'\r\nimport Vue from 'vue'\r\nvar myInterval\r\nconst popupItem = Vue.extend(popup)\r\nconst MapObj = {\r\n    map: null,\r\n    //   viewer: null,\r\n    //   popupItem: '', // mapbox气泡框\r\n    //   marker: '',\r\n    //   monitorPopups: [],\r\n    //   monitorPopupContent: [],\r\n    //   eventPopupArray: [],// 事件点popup集合\r\n}\r\nexport default {\r\n    name: \"flawsManagement\",\r\n    components: { Uploader, fileUpload, listFlaws },\r\n    // components: {Uploader},\r\n    data() {\r\n        return {\r\n            // 列表相关\r\n            tableData: [],\r\n            total: 0,\r\n            tableList: [],\r\n            objInfo: {},// 地图点选的信息\r\n            chosePoint: false,//点选，弹popup\r\n            // wpg接口与页面显隐\r\n            wpgHeader: {},//上传相关\r\n            accessToken: this.$storage.get('access_token'),\r\n            formToken: '',//详情页URL所需token\r\n            formURL: '',//详情页URL\r\n            icons: [\r\n                {\r\n                    name: '事件点',\r\n                    url: require('@/assets/img/map/dw.png'),\r\n                },\r\n            ],\r\n        };\r\n    },\r\n    computed: {\r\n        defectFromDic() {\r\n            console.log('this.$store.state[ENUM].defectFrom: ', this.$store.state[ENUM].defectFrom);\r\n            return this.$store.state[ENUM].defectFrom;\r\n\r\n        },\r\n        faultTypesDic() {\r\n            console.log('this.$store.state[ENUM].faultTypes: ', this.$store.state[ENUM].faultTypes);\r\n            return this.$store.state[ENUM].faultTypes;\r\n        },\r\n        // 系统字典虽叫defectType，但实际二级为 业务类型/设施类型\r\n        // 业务类型/设施类型\r\n        busDeviceTypeDic() {\r\n            console.log('this.$store.state[ENUM].defectType: ', this.$store.state[ENUM].defectType);\r\n            return this.$store.state[ENUM].defectType;\r\n\r\n        },\r\n        // getZHCN() {\r\n        //     return (val) => {\r\n        //         try {\r\n        //             let result = val\r\n        //             // 翻译二级字典 业务类型/设施类型中  二级字段---设施类型\r\n        //             if (val instanceof Array) {\r\n        //                 if (this.busDeviceTypeDic.length > 0) {\r\n        //                     this.busDeviceTypeDic.forEach(element => {\r\n        //                         if (val[0] == element.code || val[0] == element['zh-CN']) {\r\n        //                             element.child.forEach(second => {\r\n        //                                 result = val[1]\r\n        //                                 if (val[1] == second.code || val[1] == second['zh-CN']) {\r\n        //                                     result = second['zh-CN']\r\n        //                                 }\r\n        //                             })\r\n        //                         }\r\n        //                     });\r\n        //                 }\r\n        //             } else {\r\n        //                 if (this.faultTypesDic.length > 0) {\r\n        //                     this.faultTypesDic.forEach((dic) => {\r\n        //                         if (val == dic.code || val == dic['zh-CN']) {\r\n        //                             result = dic['zh-CN']\r\n        //                         }\r\n        //                     })\r\n        //                 }\r\n        //                 if (this.defectFromDic.length > 0) {\r\n        //                     this.defectFromDic.forEach((dic) => {\r\n        //                         if (val == dic.code || val == dic['zh-CN']) {\r\n        //                             result = dic['zh-CN']\r\n        //                         }\r\n        //                     })\r\n        //                 }\r\n        //                 if (this.busDeviceTypeDic.length > 0) {\r\n        //                     this.busDeviceTypeDic.forEach((dic) => {\r\n        //                         if (val == dic.code || val == dic['ch-CN']) {\r\n        //                             result = dic['zh-CN']\r\n        //                         }\r\n        //                     })\r\n        //                 }\r\n        //             }\r\n        //             return result\r\n        //         } catch (error) {\r\n        //             console.log('error: ', error);\r\n        //         }\r\n        //     }\r\n        // }\r\n    },\r\n    mounted() {\r\n        // this.initMap()\r\n        this.getwpgHeader() //  获取header，提交工单用; 同时获取 tableData\r\n    },\r\n    beforeDestroy() {\r\n\r\n    },\r\n    methods: {\r\n\r\n        // 表单接口相关---获取 tableData、提交工单\r\n        // 获取header，提交工单用; 同时获取 tableData\r\n        async getwpgHeader() {\r\n            axios({\r\n                url: process.env.VUE_APP_THIRD_REQUEST_URL + '/main/userCenterApi/sso/tokenByToken',\r\n                method: 'post',\r\n                params: {\r\n                    token: this.accessToken\r\n                },\r\n                headers: {\r\n                    'Authorization': 'Basic b3V0d29yazp3cGcyMDIw'\r\n                }\r\n            }).then(res => {\r\n                console.log('wpgHeader6666-res: ', res);\r\n                if (res.status == 200) {\r\n                    this.formToken = res.data.resultData.token\r\n                    this.wpgHeader = {\r\n                        \"Authorization\": \"Bearer \" + this.formToken\r\n                    }\r\n                    console.log(' this.wpgHeader : ', this.wpgHeader);\r\n                    this.getTableData()\r\n                }\r\n            })\r\n        },\r\n        // 列表相关\r\n        async getTableData() {\r\n            // 获取 tableData\r\n            let params = {\r\n                \"sysCode\": \"outwork\",\r\n                \"smallType\": \"defect\",\r\n                \"page\": {\r\n                    \"current\": 1,\r\n                    \"size\": 50,//-1查全部\r\n                }\r\n            }\r\n            axios({\r\n                url: process.env.VUE_APP_THIRD_REQUEST_URL + '/main/outworkapi/ticketStatisticClient/getTicketList',\r\n                method: 'post',\r\n                data: params,\r\n                headers: this.wpgHeader,\r\n            }).then(res => {\r\n                console.log('getTableData-res: ', res);\r\n                if (res.status == 200) {\r\n                    this.tableData = res.data.resultData.records\r\n                    this.getGeoJson()\r\n                    this.total = res.data.resultData.total;\r\n                    console.log('this.tableData: ', this.tableData);\r\n                    this.tableData.forEach((td) => {\r\n                        let item = {\r\n                            id: td.id,\r\n                            deviceName: td.formValue.deviceType || td.formValue.device_type || [],\r\n                            // flawsName: td.formValue.faultTypes,\r\n                            flawsName: td.formValue.detail?.defectType || td.formValue.faultTypes || '',\r\n                            state: td.ticketStatusName,\r\n                            content: td.formValue.questionDescribe,\r\n                            people: td.createByName,\r\n                            time: td.createTime.slice(0, 10),\r\n                            flawsFrom: td.formValue.defectFrom,\r\n                            lnglat: [td.formValue.deviceDetail?.longitude, td.formValue.deviceDetail?.latitude] || [td.appealLng, td.appealLat],\r\n                        }\r\n                        this.tableList.push(item)\r\n\r\n                    })\r\n                    this.$emit('tableList', this.tableList)\r\n                    console.log('this.tableList: ', this.tableList);\r\n                }\r\n            })\r\n        },\r\n        // 将事件列表添加至地图\r\n        getGeoJson() {\r\n            let features = []\r\n            let withoutPositionCount = 0\r\n            console.log('要聚合展示的tableData', this.tableData)\r\n            if (this.tableData.length == 0) {\r\n                this.removeSomeLayer()\r\n                return\r\n            }\r\n            this.tableData.forEach((item) => {\r\n                let feature = {}\r\n                let properties = {}\r\n                let geometry = {}\r\n\r\n                properties = item\r\n                properties.defectFrom = item.formValue.defectFrom\r\n                feature.properties = properties\r\n                feature.type = 'Feature'\r\n                geometry.type = 'Point'\r\n                if (item.appealLat && item.appealLng) {\r\n                    // geometry.coordinates = [item.appealLat, item.appealLon]\r\n                    geometry.coordinates = [item.appealLng, item.appealLat] // wgs84\r\n                    feature.geometry = geometry\r\n                    features.push(feature)\r\n                } else if (\r\n                    item.formValue.deviceDetail?.latitude &&\r\n                    item.formValue.deviceDetail?.longitude\r\n                ) {\r\n                    geometry.coordinates = [\r\n                        item.formValue.deviceDetail.longitude,\r\n                        item.formValue.deviceDetail.latitude,\r\n                    ]\r\n                    feature.geometry = geometry\r\n                    features.push(feature)\r\n                } else if (\r\n                    item.formValue.ticketAddress?.longitude &&\r\n                    item.formValue.ticketAddress?.latitude\r\n                ) {\r\n                    geometry.coordinates = [\r\n                        item.formValue.ticketAddress.longitude,\r\n                        item.formValue.ticketAddress.latitude,\r\n                    ]\r\n                    feature.geometry = geometry\r\n                    features.push(feature)\r\n                } else {\r\n                    // geometry.coordinates = [39.06683064435245, 115.9453947097063]\r\n                    withoutPositionCount += 1\r\n                }\r\n            })\r\n            console.log('无坐标个数', withoutPositionCount)\r\n            // 聚合数据 构造头部\r\n            let geoJson = {\r\n                type: 'FeatureCollection',\r\n                crs: { type: 'name', properties: { name: 'urn:ogc:def:crs:OGC:1.3:CRS84' } },\r\n                features: [],\r\n            }\r\n            geoJson.features = features\r\n            console.log('聚合的geoJson', geoJson)\r\n            this.renderCluster(geoJson)\r\n        },\r\n        removeSomeLayer() {\r\n            ['clusters', 'cluster-count', 'unclustered-point'].forEach((item) => {\r\n                if (MapObj.map?.getLayer(item)) {\r\n                    MapObj.map.removeLayer(item)\r\n                }\r\n            })\r\n            if (MapObj.map?.getSource('earthquakes')) {\r\n                MapObj.map.removeSource('earthquakes')\r\n            }\r\n        },\r\n        // 渲染\r\n        renderCluster(geoJsonSource) {\r\n            this.removeSomeLayer()\r\n            MapObj.map.addSource('earthquakes', {\r\n                type: 'geojson',\r\n                data: geoJsonSource,\r\n                cluster: true,\r\n                clusterMaxZoom: 14, // Max zoom to cluster points on\r\n                clusterRadius: 50, // Radius of each cluster when clustering points (defaults to 50)\r\n            })\r\n\r\n            MapObj.map.addLayer({\r\n                id: 'clusters',\r\n                type: 'circle',\r\n                source: 'earthquakes',\r\n                filter: ['has', 'point_count'],\r\n                paint: {\r\n                    'circle-color': ['step', ['get', 'point_count'], \"rgba(0, 209, 134, 0.8)\", 5, \"rgba(255, 148, 41, 0.8)\", 15, \"rgba(255, 74, 65, 0.8)\"],\r\n                    'circle-radius': ['step', ['get', 'point_count'], 20, 5, 25, 15, 30],\r\n                    // 这个是外边框的颜色 circle-stroke-color这个对应了上面circle-color\r\n                    \"circle-stroke-color\": [\r\n                        \"step\",\r\n                        [\"get\", \"point_count\"],\r\n                        \"rgba(0, 209, 134, 0.3)\",\r\n                        5,\r\n                        \"rgba(255, 148, 41, 0.3)\",\r\n                        15,\r\n                        \"rgba(255, 74, 65, 0.3)\"\r\n                    ],\r\n                    // 这个是外边框晕染的范围\r\n                    \"circle-stroke-width\": [\r\n                        \"step\",\r\n                        [\"get\", \"point_count\"],\r\n                        8, //蓝色晕染长度，当点数小于100时为5px晕染\r\n                        5, //对应上面circle-color 数字，意思为100以内\r\n                        12, //点计数在100到750之间时为黄色，6px晕染\r\n                        15, //对应上面circle-color 数字，意思为750以内\r\n                        15 //点计数大于或等于750时为7px像素的粉红色晕染\r\n                    ]\r\n                },\r\n            })\r\n\r\n            MapObj.map.addLayer({\r\n                id: 'cluster-count',\r\n                type: 'symbol',\r\n                source: 'earthquakes',\r\n                filter: ['has', 'point_count'],\r\n                layout: {\r\n                    'text-field': '{point_count_abbreviated}',\r\n                    // 'text-font': ['DIN Offc Pro Medium', 'Arial Unicode MS Bold'],\r\n                    'text-size': 12,\r\n                },\r\n            })\r\n\r\n            MapObj.map.addLayer({\r\n                id: 'unclustered-point',\r\n                source: 'earthquakes',\r\n                filter: ['!', ['has', 'point_count']],\r\n                type: 'symbol',\r\n                layout: {\r\n                    'icon-image': '事件点', // 点的图标\r\n                    visibility: 'visible',\r\n                    'icon-size': 0.7,\r\n                },\r\n            })\r\n\r\n            let defectFromDic = this.$store.state[ENUM].defectFrom\r\n            let that = this\r\n            MapObj.map.on('click', 'unclustered-point', (e) => {\r\n                // 如果当前事件点所有popup为打开状态，即事件点popup数组长度不为0，退出该次点击事件\r\n                // if (MapObj.eventPopupArray.length > 0) return\r\n                // 每次点击新的事件点就清除预案数据\r\n                // this.fileList = []\r\n                console.log('e.features: ', e.features)\r\n                // console.log('formValue: ', JSON.parse(e.features[0].properties.formValue))\r\n                MapObj.map.getCanvas().style.cursor = 'pointer'\r\n\r\n                let formValue = JSON.parse(e.features[0].properties.formValue)\r\n                console.log('formValue: ', formValue)\r\n\r\n                var coordinates = e.features[0].geometry.coordinates.slice()\r\n                while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\r\n                    coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360\r\n                }\r\n                // Create a popup, but don't add it to the map yet.\r\n                this.popup1 = new mapboxgl.Popup({\r\n                    closeOnClick: true,\r\n                    closeButton: false,\r\n                    anchor: 'bottom',\r\n                    offset: { bottom: [0, -15] },\r\n                })\r\n                let text = formValue.detail ? formValue.detail.defectType : '其他'\r\n                console.log('text: ', text);\r\n                this.popup1\r\n                    .setLngLat(coordinates)\r\n                    .setHTML('<div id=\"vue-popup-custom\" class=\"vue-popup-custom\"><h3>'\r\n                        + text\r\n                        + '</h3></div>')\r\n                    .addTo(MapObj.map)\r\n            })\r\n\r\n            // inspect a cluster on click\r\n            MapObj.map.on('click', 'clusters', function (e) {\r\n                var features = MapObj.map.queryRenderedFeatures(e.point, { layers: ['clusters'] })\r\n                var clusterId = features[0].properties.cluster_id\r\n                MapObj.map\r\n                    .getSource('earthquakes')\r\n                    .getClusterExpansionZoom(clusterId, function (err, zoom) {\r\n                        if (err) return\r\n                        MapObj.map.easeTo({\r\n                            center: features[0].geometry.coordinates,\r\n                            zoom: zoom,\r\n                        })\r\n                    })\r\n            })\r\n            MapObj.map.setMinZoom(0)\r\n            MapObj.map.setMaxZoom(30)\r\n        },\r\n\r\n        // 地图相关\r\n        toTarget(lnglat) {\r\n            if (lnglat.length == 2) {\r\n                MapObj.map.flyTo({\r\n                    center: lnglat,\r\n                    zoom: 19,\r\n                })\r\n            } else {\r\n                console.log(\"无位置信息\")\r\n            }\r\n        },\r\n        // 开始点选\r\n        clickPlus() {\r\n            this.objInfo = {}\r\n            Toast({\r\n                message: '地图点选',\r\n                position: 'top',\r\n            });\r\n            this.chosePoint = true\r\n        },\r\n        // 点选要素回填信息\r\n        enterAdd() {\r\n            // this.isAdd = true//进入表单页\r\n            console.log(\"选点后进入表单页时的this.objInfo:\", this.objInfo)\r\n            // // 回填信息\r\n            // this.commonForm.bigType = this.objInfo.bigType || ''\r\n            // this.commonForm.smallType = this.objInfo.smallType || ''\r\n            // this.commonForm.smallCode = this.objInfo.code || ''\r\n            // this.commonForm.position = this.objInfo.road_name || [this.objInfo.lng.toFixed(3), this.objInfo.lat.toFixed(3)].toString()\r\n            // // 提交表单用的，不回填显示\r\n            // this.commonForm.lng = this.objInfo.lng\r\n            // this.commonForm.lat = this.objInfo.lat\r\n            // this.commonForm.properties = this.objInfo.properties\r\n            this.$router.push({\r\n                name: 'addFlaws',\r\n                query: { msg: this.objInfo, token: this.formToken },\r\n                params: { type: 'add' },\r\n            })\r\n        },\r\n        // initMap() {\r\n        //     mapboxgl.accessToken = \"pk.eyJ1IjoiOTM0MDk0Mjg2IiwiYSI6ImNsMnNmdmVrZDBrZGMzZG50cHJudXJkbW8ifQ.C0wKhJgrToFJgL8GH5M8rg\";\r\n        //     window.xaMap = new mapboxgl.Map({\r\n        //         container: 'mapContainer',// 容器DOM id\r\n        //         style: mapStyle,\r\n        //         center: [115.92486101369428, 39.06075549589073],\r\n        //         zoom: 13,\r\n        //         minZoom: 10,\r\n        //         pitch: 0,\r\n        //     });\r\n        //     // let needLayers=[]\r\n        //     // 加图层 http://172.20.79.65/api/swan/mapWorkshopSource/detail?id=1544640278559821826\r\n        //     axios.get(process.env.VUE_APP_BASE_URL + '/swan/mapWorkshopSource/detail?id=1548573412963749889').then(res => {\r\n        //         // axios.get('http://xasw.hdec.com/api/swan/mapWorkshopSource/detail?id=1548573412963749889').then(res => {\r\n        //         // axios.get(process.env.VUE_APP_MAP_REQUEST_URL+'/api/swan/mapWorkshopSource/detail?id=1548573412963749889').then(res => {\r\n        //         console.log('res: ', res);\r\n        //         let layers = JSON.parse(res.data.data.jsonData)\r\n        //         console.log('layers: ', layers);\r\n        //         Object.keys(layers.sources).forEach(key => {\r\n        //             window.xaMap.addSource(key, layers.sources[key])\r\n        //         })\r\n        //         // needLayers=layers.layers\r\n        //         layers.layers.forEach(layer => {\r\n        //             // console.log('77777777777777777777777', layer);\r\n        //             window.xaMap.addLayer(layer);\r\n        //             window.xaMap.setLayoutProperty(layer.id, 'visibility', 'visible')\r\n        //             // window.xaMap.on(\"click\", layer.id, this.handleMonitorClick);\r\n        //             // window.xaMap.on(\"mouseenter\", layer.id, this.handleMonitorEnter);\r\n        //             // window.xaMap.on(\"mouseout\", layer.id, this.handleMonitorLeave);\r\n        //         })\r\n        //     }).catch(e => { }).finally(() => { });\r\n        //     // 监听地图点击\r\n        //     // window.xaMap.on(\"click\", function(e)  {})\r\n        //     // window.xaMap.on(\"click\", layer.id,function(e)  {})//才能选到features???,就拿到过一次\r\n\r\n        //     window.xaMap.on(\"click\", (e) => {\r\n        //         // 若为functio(e){ this是this.window.xaMap}\r\n        //         // (e)=>{ this是this}\r\n        //         console.log(\"map-click-e\", e)\r\n        //         console.log(\"e.lngLatn\", e.lngLat)\r\n        //         var bbox = [\r\n        //             [e.point.x - 1, e.point.y - 1],\r\n        //             [e.point.x + 1, e.point.y + 1]\r\n        //         ];\r\n        //         console.log(\"bbox:\", bbox)\r\n        //         // mapbox 返回查询要素的图层属性\r\n        //         let queryfeatures = window.xaMap.queryRenderedFeatures(bbox, {\r\n        //             layers: [\"rd_map_drainpipe_ys_big\", \"rd_map_drainpipe_ys_small\", \"rd_map_drainpipe_ws_small\", \"rd_map_drainpipe_ws_big\",\r\n        //                 \"rd_map_outfall\", \"rd_map_gate\", \"rd_map_manhole\", \"rd_map_comb\",\r\n        //                 \"map_supply_firehydrant\", \"map_supply_valve\",\r\n        //                 \"map_supply_pipe_distribute\", \"map_supply_pipe_delivery\", \"map_supply_pipe_circulating\",\r\n        //                 \"map_supply_node_distribute\", \"map_supply_node_delivery\", \"map_supply_node_circulating\",\r\n        //                 \"map_recycle_pipe\", \"map_recycle_node\", \"map_waterwork\"]\r\n        //             // layers: layers\r\n        //         });\r\n        //         console.log(\"点选(微矩形)查询到的queryfeatures:\", queryfeatures)\r\n        //         // console.log(\"点选(微矩形)查询的queryfeatures:\", queryfeatures.properties)\r\n        //         // this.hightLight(queryfeatures)// 高亮表格记录，并高亮地图要素\r\n        //         this.objInfo = {}//先置空再赋值\r\n        //         // 点击位置的经纬度\r\n        //         this.objInfo.lng = e.lngLat.lng\r\n        //         this.objInfo.lat = e.lngLat.lat\r\n        //         if (queryfeatures.length > 0) {\r\n        //             // queryfeatures.forEach(f => {\r\n        //             let f = queryfeatures[0]\r\n        //             console.log('ffff: ', f);\r\n        //             // 点击要素的经纬度，有的话覆盖掉点击位置经纬度\r\n        //             this.objInfo.lng = f.properties.longitude || this.objInfo.lng\r\n        //             this.objInfo.lat = f.properties.latitude || this.objInfo.lat\r\n        //             // 要素所在图层ID和属性信息\r\n        //             this.objInfo.layerID = f.layer.id\r\n        //             this.objInfo.layerType = f.layer.type\r\n        //             this.objInfo.properties = f.properties\r\n        //             // 底图要素name_local或设施要素road_name,id\r\n        //             this.objInfo.name_local = f.properties.name_local\r\n        //             this.objInfo.road_name = f.properties.road_name\r\n        //             this.objInfo.id = f.properties.id\r\n        //             // 要素对象类型（业务类型/设施类型）\r\n        //             objInfo.bigType = ''\r\n        //             objInfo.smallType = ''\r\n        //             switch (f.layer.id) {\r\n        //                 // 雨水\r\n        //                 case \"rd_map_comb\"://comb一定是雨水口\r\n        //                     objInfo.bigType = '雨水'\r\n        //                     objInfo.smallType = '雨水口'\r\n        //                     break\r\n        //                 case \"rd_map_outfall\"://排放口 1-雨水； 2-污水； 3-合流； 4-其他\r\n        //                     objInfo.bigType = f.properties.pipe_type\r\n        //                     objInfo.smallType = '排放口'\r\n        //                     break\r\n        //                 case \"rd_map_manhole\"://检查井  1-雨水；2-污水\r\n        //                     objInfo.bigType = f.properties.manhole_type\r\n        //                     objInfo.smallType = f.properties.manhole_type == \"雨水\" ? '雨水检查井' : '污水检查井'\r\n        //                     break\r\n        //                 case \"rd_map_gate\"://闸门 1-雨水； 2-污水； 3-合流； 4-其他\r\n        //                     objInfo.bigType = f.properties.pipe_type\r\n        //                     // objInfo.smallType = '闸门'\r\n        //                     objInfo.smallType = f.properties.pipe_type == \"雨水\" ? '其他（雨）' : '其他（污）'\r\n        //                     break\r\n        //                 case \"rd_map_drainpipe_ys_big\":\r\n        //                     objInfo.bigType = '雨水'\r\n        //                     objInfo.smallType = '雨水管渠'\r\n        //                     break\r\n        //                 case \"rd_map_drainpipe_ys_small\":\r\n        //                     objInfo.bigType = '雨水'\r\n        //                     objInfo.smallType = '雨水管渠'\r\n        //                     break\r\n        //                 // 污水\r\n        //                 case \"rd_map_drainpipe_ws_big\":\r\n        //                     objInfo.bigType = '污水'\r\n        //                     objInfo.smallType = '污水管道'\r\n        //                     break\r\n        //                 case \"rd_map_drainpipe_ws_small\":\r\n        //                     objInfo.bigType = '污水'\r\n        //                     objInfo.smallType = '污水管道'\r\n        //                     break\r\n        //                 // 供水\r\n        //                 case \"map_supply_firehydrant\"://消火栓一定是供水\r\n        //                     objInfo.bigType = '供水'\r\n        //                     objInfo.smallType = '消防栓'\r\n        //                     break\r\n        //                 case \"map_supply_valve\"://阀门valve一定是供水\r\n        //                     objInfo.bigType = '供水'\r\n        //                     objInfo.smallType = '阀门'\r\n        //                     break\r\n        //                 case \"map_supply_pipe_distribute\"://配水管线\r\n        //                     objInfo.bigType = '供水'\r\n        //                     objInfo.smallType = '供水管道'\r\n        //                     break\r\n        //                 case \"map_supply_pipe_delivery\"://输水管线\r\n        //                     objInfo.bigType = 'supply'\r\n        //                     objInfo.smallType = '供水管道'\r\n        //                     break\r\n        //                 case \"map_supply_pipe_circulating\"://回水管线\r\n        //                     objInfo.bigType = '供水'\r\n        //                     objInfo.smallType = '供水管道'\r\n        //                     break\r\n        //                 // case \"map_supply_node_distribute\":\r\n        //                 //     objInfo.bigType = '供水'\r\n        //                 //     objInfo.smallType = \r\n        //                 //     break\r\n        //                 case \"map_supply_node_delivery\":\r\n        //                     objInfo.bigType = '供水'\r\n        //                     objInfo.smallType = f.properties.appurtenance == \"消防井\" ? \"消防栓\" : f.properties.appurtenance == \"排气阀\" ? \"阀门\" : '其他（供）'\r\n        //                     break\r\n        //                 // case \"map_supply_node_circulating\": \r\n        //                 //     objInfo.bigType = '供水'\r\n        //                 //     objInfo.smallType = \r\n        //                 //     break\r\n        //                 case \"map_waterwork\"://供水厂\r\n        //                     objInfo.bigType = '供水'\r\n        //                     objInfo.smallType = '其他（供）'\r\n        //                     break\r\n        //                 // 再生水\r\n        //                 case \"map_recycle_pipe\"://再生水管线\r\n        //                     objInfo.bigType = '再生水'\r\n        //                     objInfo.smallType = '再生水管道'\r\n        //                     break\r\n        //                 case \"map_waterwork\"://再生水厂\r\n        //                     objInfo.bigType = '再生水'\r\n        //                     objInfo.smallType = '其他（再）'\r\n        //                     break\r\n        //             }\r\n        //             // 设施编号\r\n        //             objInfo.code = f.properties.start_code && f.properties.end_code ? (f.properties.start_code + ',' + f.properties.end_code) : ''\r\n        //                 || f.properties.manhole_code || f.properties.gate_code || f.properties.outlet_code\r\n        //                 || f.properties.comb_code || f.properties.valve_code || f.properties.pump_station_code\r\n        //                 || f.properties.plant_code || f.properties.pump_code || f.properties.fire_cock_code\r\n        //                 || f.properties.point_code || ''\r\n        //             // })\r\n        //         }\r\n        //         console.log('this.objInfo: ', this.objInfo);\r\n        //         // popup\r\n        //         if (this.chosePoint) {\r\n        //             // let popupHtml = \"<div style='width:140px;height:30px;background-color:#08AEE9'><h3>\" + e.lngLat.lng.toFixed(3) + ',' + e.lngLat.lat.toFixed(3) + \"</h3><h3>\"+this.objInfo.smallType+' '+this.objInfo.code+\"</h3><br><fm-button  @click='clickPlus'>确定</fm-button>\" + \"</div>\"\r\n        //             let popupHtml = '<div id=\"base-add\"></div>'\r\n        //             new mapboxgl.Popup()\r\n        //                 .setLngLat([e.lngLat.lng, e.lngLat.lat])\r\n        //                 .setHTML(popupHtml)\r\n        //                 .addTo(window.xaMap);\r\n        //             new popupItem({\r\n        //                 propsData: {\r\n        //                     detailId: 99999,\r\n        //                     lng: e.lngLat.lng.toFixed(3),\r\n        //                     lat: e.lngLat.lat.toFixed(3),\r\n        //                     bigType: this.objInfo.bigType,\r\n        //                     smallType: this.objInfo.smallType,\r\n        //                     deviceCode: this.objInfo.code,\r\n        //                     fun: this.enterAdd\r\n        //                 }\r\n        //             }).$mount('#base-add')\r\n        //         }\r\n        //     })\r\n        //     // window.xaMap.on('click',e=>{})结束\r\n        // },\r\n        async mapLoaded() {\r\n            MapObj.map = window.xaMap\r\n            await addIconToMap(MapObj.map, this.icons)\r\n            MapObj.map.on(\"click\", (e) => {\r\n                // 若为functio(e){ this是this.MapObj.map}\r\n                // (e)=>{ this是this}\r\n                console.log(\"map-click-e\", e)\r\n                console.log(\"e.lngLatn\", e.lngLat)\r\n                var bbox = [\r\n                    [e.point.x - 1, e.point.y - 1],\r\n                    [e.point.x + 1, e.point.y + 1]\r\n                ];\r\n                console.log(\"bbox:\", bbox)\r\n                // mapbox 返回查询要素的图层属性\r\n                let queryfeatures = MapObj.map.queryRenderedFeatures(bbox, {\r\n                    layers: [\"rd_map_drainpipe_ys_big\", \"rd_map_drainpipe_ys_small\", \"rd_map_drainpipe_ws_small\", \"rd_map_drainpipe_ws_big\",\r\n                        \"rd_map_outfall\", \"rd_map_gate\", \"rd_map_manhole\", \"rd_map_comb\",\r\n                        \"map_supply_firehydrant\", \"map_supply_valve\",\r\n                        \"map_supply_pipe_distribute\", \"map_supply_pipe_delivery\", \"map_supply_pipe_circulating\",\r\n                        \"map_supply_node_distribute\", \"map_supply_node_delivery\", \"map_supply_node_circulating\",\r\n                        \"map_recycle_pipe\", \"map_recycle_node\", \"map_waterwork\"]\r\n                    // layers: layers\r\n                });\r\n                console.log(\"点选(微矩形)查询到的queryfeatures:\", queryfeatures)\r\n                // console.log(\"点选(微矩形)查询的queryfeatures:\", queryfeatures.properties)\r\n                // this.hightLight(queryfeatures)// 高亮表格记录，并高亮地图要素\r\n                this.objInfo = {}//先置空再赋值\r\n                // 点击位置的经纬度\r\n                this.objInfo.lng = e.lngLat.lng\r\n                this.objInfo.lat = e.lngLat.lat\r\n                if (queryfeatures.length > 0) {\r\n                    // queryfeatures.forEach(f => {\r\n                    let f = queryfeatures[0]\r\n                    console.log('ffff: ', f);\r\n                    // 点击要素的经纬度，有的话覆盖掉点击位置经纬度\r\n                    // this.objInfo.lng = f.properties.longitude || this.objInfo.lng\r\n                    // this.objInfo.lat = f.properties.latitude || this.objInfo.lat\r\n                    // 要素所在图层ID和属性信息\r\n                    this.objInfo.layerID = f.layer.id\r\n                    this.objInfo.layerType = f.layer.type\r\n                    this.objInfo.properties = f.properties\r\n                    // 底图要素name_local或设施要素road_name,id\r\n                    this.objInfo.name_local = f.properties.name_local\r\n                    this.objInfo.road_name = f.properties.road_name\r\n                    this.objInfo.id = f.properties.id\r\n                    // 要素对象类型（业务类型/设施类型）\r\n                    this.objInfo.bigType = ''\r\n                    this.objInfo.smallType = ''\r\n                    switch (f.layer.id) {\r\n                        // 雨水\r\n                        case \"rd_map_comb\"://comb一定是雨水口\r\n                            this.objInfo.bigType = '雨水'\r\n                            this.objInfo.smallType = '雨水口'\r\n                            break\r\n                        case \"rd_map_outfall\"://排放口 1-雨水； 2-污水； 3-合流； 4-其他\r\n                            this.objInfo.bigType = f.properties.pipe_type\r\n                            this.objInfo.smallType = '排放口'\r\n                            break\r\n                        case \"rd_map_manhole\"://检查井  1-雨水；2-污水\r\n                            this.objInfo.bigType = f.properties.manhole_type\r\n                            this.objInfo.smallType = f.properties.manhole_type == \"雨水\" ? '雨水检查井' : '污水检查井'\r\n                            break\r\n                        case \"rd_map_gate\"://闸门 1-雨水； 2-污水； 3-合流； 4-其他\r\n                            this.objInfo.bigType = f.properties.pipe_type\r\n                            // objInfo.smallType = '闸门'\r\n                            this.objInfo.smallType = f.properties.pipe_type == \"雨水\" ? '其他（雨）' : '其他（污）'\r\n                            break\r\n                        case \"rd_map_drainpipe_ys_big\":\r\n                            this.objInfo.bigType = '雨水'\r\n                            this.objInfo.smallType = '雨水管渠'\r\n                            break\r\n                        case \"rd_map_drainpipe_ys_small\":\r\n                            this.objInfo.bigType = '雨水'\r\n                            this.objInfo.smallType = '雨水管渠'\r\n                            break\r\n                        // 污水\r\n                        case \"rd_map_drainpipe_ws_big\":\r\n                            this.objInfo.bigType = '污水'\r\n                            this.objInfo.smallType = '污水管道'\r\n                            break\r\n                        case \"rd_map_drainpipe_ws_small\":\r\n                            this.objInfo.bigType = '污水'\r\n                            this.objInfo.smallType = '污水管道'\r\n                            break\r\n                        // 供水\r\n                        case \"map_supply_firehydrant\"://消火栓一定是供水\r\n                            this.objInfo.bigType = '供水'\r\n                            this.objInfo.smallType = '消防栓'\r\n                            break\r\n                        case \"map_supply_valve\"://阀门valve一定是供水\r\n                            this.objInfo.bigType = '供水'\r\n                            this.objInfo.smallType = '阀门'\r\n                            break\r\n                        case \"map_supply_pipe_distribute\"://配水管线\r\n                            this.objInfo.bigType = '供水'\r\n                            this.objInfo.smallType = '供水管道'\r\n                            break\r\n                        case \"map_supply_pipe_delivery\"://输水管线\r\n                            this.objInfo.bigType = 'supply'\r\n                            this.objInfo.smallType = '供水管道'\r\n                            break\r\n                        case \"map_supply_pipe_circulating\"://回水管线\r\n                            this.objInfo.bigType = '供水'\r\n                            this.objInfo.smallType = '供水管道'\r\n                            break\r\n                        // case \"map_supply_node_distribute\":\r\n                        //     objInfo.bigType = '供水'\r\n                        //     objInfo.smallType = \r\n                        //     break\r\n                        case \"map_supply_node_delivery\":\r\n                            this.objInfo.bigType = '供水'\r\n                            this.objInfo.smallType = f.properties.appurtenance == \"消防井\" ? \"消防栓\" : f.properties.appurtenance == \"排气阀\" ? \"阀门\" : '其他（供）'\r\n                            break\r\n                        // case \"map_supply_node_circulating\": \r\n                        //     objInfo.bigType = '供水'\r\n                        //     objInfo.smallType = \r\n                        //     break\r\n                        case \"map_waterwork\"://供水厂\r\n                            this.objInfo.bigType = '供水'\r\n                            this.objInfo.smallType = '其他（供）'\r\n                            break\r\n                        // 再生水\r\n                        case \"map_recycle_pipe\"://再生水管线\r\n                            this.objInfo.bigType = '再生水'\r\n                            this.objInfo.smallType = '再生水管道'\r\n                            break\r\n                        case \"map_waterwork\"://再生水厂\r\n                            this.objInfo.bigType = '再生水'\r\n                            this.objInfo.smallType = '其他（再）'\r\n                            break\r\n                    }\r\n                    // 设施编号\r\n                    this.objInfo.code = f.properties.start_code && f.properties.end_code ? (f.properties.start_code + ',' + f.properties.end_code) : ''\r\n                        || f.properties.manhole_code || f.properties.gate_code || f.properties.outlet_code\r\n                        || f.properties.comb_code || f.properties.valve_code || f.properties.pump_station_code\r\n                        || f.properties.plant_code || f.properties.pump_code || f.properties.fire_cock_code\r\n                        || f.properties.point_code || ''\r\n                    // })\r\n                }\r\n                console.log('this.objInfo: ', this.objInfo);\r\n                // popup\r\n                if (this.chosePoint) {\r\n                    // let popupHtml = \"<div style='width:140px;height:30px;background-color:#08AEE9'><h3>\" + e.lngLat.lng.toFixed(3) + ',' + e.lngLat.lat.toFixed(3) + \"</h3><h3>\"+this.objInfo.smallType+' '+this.objInfo.code+\"</h3><br><fm-button  @click='clickPlus'>确定</fm-button>\" + \"</div>\"\r\n                    let popupHtml = '<div id=\"base-add\"></div>'\r\n                    new mapboxgl.Popup()\r\n                        .setLngLat([e.lngLat.lng, e.lngLat.lat])\r\n                        .setHTML(popupHtml)\r\n                        .addTo(MapObj.map);\r\n                    new popupItem({\r\n                        propsData: {\r\n                            detailId: 99999,\r\n                            // lng: e.lngLat.lng.toFixed(3),\r\n                            // lat: e.lngLat.lat.toFixed(3),\r\n                            lng: e.lngLat.lng,\r\n                            lat: e.lngLat.lat,\r\n                            bigType: this.objInfo.bigType,\r\n                            smallType: this.objInfo.smallType,\r\n                            deviceCode: this.objInfo.code,\r\n                            fun: this.enterAdd\r\n                        }\r\n                    }).$mount('#base-add')\r\n                }\r\n            })\r\n        }\r\n    },\r\n\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.main {\r\n    width: 750px;\r\n    // height: 1334px;\r\n    height: 100%;\r\n    background: #F4F7FC;\r\n\r\n    // .map-container {\r\n    //     width: 750px;\r\n    //     height: 680px;\r\n\r\n    //     .mapboxgl-ctrl-bottom-left {\r\n    //         display: none !important;\r\n    //     }\r\n\r\n    //     .mapboxgl-ctrl a.mapboxgl-ctrl-logo {\r\n    //         display: none !important;\r\n    //     }\r\n\r\n    //     .mapboxgl-ctrl-bottom-left div {\r\n    //         display: none !important;\r\n    //     }\r\n    // }\r\n    .mapContainer {\r\n        height: 750px;\r\n        width: 100%;\r\n\r\n    }\r\n\r\n    .flaws-list-container {\r\n        height: 700px;\r\n        overflow: scroll;\r\n\r\n        .tableList {\r\n            padding-bottom: 10px;\r\n            // position: fixed;\r\n            bottom: 0px;\r\n            width: 750px;\r\n            height: auto;\r\n            overflow: scroll;\r\n            max-height: 580px;\r\n            background: #f4f7fc;\r\n            box-shadow: 0px -4px 12px 0px rgba(104, 115, 127, 0.1);\r\n\r\n            .con-div {\r\n                margin-top: 20px;\r\n                width: 690px;\r\n                margin-left: 30px;\r\n                height: 270px;\r\n                background: #ffffff;\r\n                box-shadow: 0px 4px 16px 0px rgba(104, 115, 127, 0.08);\r\n                border-radius: 16px;\r\n\r\n                .top {\r\n                    width: 100%;\r\n                    height: 80px;\r\n                    line-height: 80px;\r\n                    overflow: auto;\r\n\r\n                    // display: inline;\r\n                    .name {\r\n                        margin-left: 20px;\r\n                        float: left;\r\n                        width: auto;\r\n                        font-size: 36px;\r\n                        font-family: PingFangSC-Semibold, PingFang SC;\r\n                        font-weight: 600;\r\n                        color: #191919;\r\n                    }\r\n\r\n                    .img {\r\n                        width: 30px;\r\n                        height: 39px;\r\n                        float: right;\r\n                        margin-right: 20px;\r\n                        margin-top: 15px;\r\n                    }\r\n\r\n                    .state {\r\n                        float: left;\r\n                        margin-left: 20px;\r\n                        margin-top: 20px;\r\n                        width: auto;\r\n                        padding-left: 10px;\r\n                        padding-right: 10px;\r\n                        height: 42px;\r\n                        line-height: 42px;\r\n                        border-radius: 4px;\r\n                    }\r\n\r\n                    .c1 {\r\n                        background: rgba(64, 187, 90, 0.1);\r\n                        font-size: 24px;\r\n                        font-family: PingFangSC-Regular, PingFang SC;\r\n                        font-weight: 400;\r\n                        color: #40bb5a;\r\n                    }\r\n\r\n                    .c2 {\r\n                        font-size: 24px;\r\n                        font-family: PingFangSC-Regular, PingFang SC;\r\n                        font-weight: 400;\r\n                        color: #027aff;\r\n                        background: rgba(2, 122, 255, 0.1);\r\n                    }\r\n\r\n                    .c3 {\r\n                        background: rgba(255, 148, 41, 0.1);\r\n                        font-size: 24px;\r\n                        font-family: PingFangSC-Regular, PingFang SC;\r\n                        font-weight: 400;\r\n                        color: #ff9429;\r\n                    }\r\n                }\r\n\r\n                .content {\r\n                    white-space: nowrap;\r\n                    overflow: hidden;\r\n                    text-overflow: ellipsis;\r\n                    width: 96%;\r\n                    height: 60px;\r\n                    font-size: 28px;\r\n                    font-family: PingFangSC-Regular, PingFang SC;\r\n                    font-weight: 400;\r\n                    color: #555555;\r\n                    line-height: 60px;\r\n                    padding-left: 20px;\r\n                }\r\n\r\n                .under {\r\n                    width: 97%;\r\n                    margin-left: -17px;\r\n                    display: flex;\r\n                    justify-content: space-around;\r\n                    height: 70px;\r\n                    line-height: 70px;\r\n                    font-size: 28px;\r\n                    font-family: PingFangSC-Regular, PingFang SC;\r\n                    font-weight: 400;\r\n                    color: #555555;\r\n\r\n                    .under-div {\r\n                        margin-left: 30px;\r\n                        float: left;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .add-container {\r\n        .bigForm-container {\r\n            width: 750px;\r\n            height: 1234px;\r\n            overflow: scroll;\r\n            background: #FFFFFF;\r\n\r\n            .subtable {\r\n                position: relative;\r\n                margin: 10px;\r\n                padding: 13px;\r\n                // background-color: aquamarine;\r\n                border-radius: 16px;\r\n                border: 1px solid #5195d0;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    .detail-container {\r\n        width: 750px;\r\n        height: 1290px;\r\n\r\n        .formFrame {\r\n            width: 750px;\r\n            height: 1300px;\r\n            margin-top: -65px;\r\n\r\n            .outwork-detail {\r\n                .outwork-detail-titlebar .wbgc-card {}\r\n\r\n                .outwork-detail-box {\r\n                    height: 100%;\r\n                    width: 100% !important;\r\n                    overflow: auto;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"],"mappings":"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J,KAAA;UACAJ,MAAA,EAAA1E,MAAA;UACAwE,IAAA;QACA;MACA;QACAzH,OAAA,CAAAC,GAAA;MACA;IACA;IACA;IACA+H,UAAA;MACA,KAAA7I,OAAA;MACAjB,KAAA;QACA+J,OAAA;QACAC,QAAA;MACA;MACA,KAAA9I,UAAA;IACA;IACA;IACA+I,SAAA;MACA;MACAnI,OAAA,CAAAC,GAAA,iCAAAd,OAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,KAAAiJ,OAAA,CAAA7E,IAAA;QACA1E,IAAA;QACAwJ,KAAA;UAAAC,GAAA,OAAAnJ,OAAA;UAAA+B,KAAA,OAAAzB;QAAA;QACAwB,MAAA;UAAAmD,IAAA;QAAA;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IA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"}]}