{"remainingRequest":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\Login\\index1.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\src\\views\\Login\\index1.vue","mtime":1705912915798},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ty_project\\xasw-yy\\revenue\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IEJ1dHRvbiwgTmF2QmFyLCBGb3JtLCBGaWVsZCwgSW1hZ2UsIEljb24sIENoZWNrYm94LCBUb2FzdCB9IGZyb20gJ2Zhd2tlcy1tb2JpbGUtbGliJzsKaW1wb3J0IHsgZW5jcnlwdFNNNCB9IGZyb20gJ0AvdXRpbHMvc200JzsKaW1wb3J0IHsgR1JBTlRfVFlQRSB9IGZyb20gJ0Avc2V0dGluZ3MnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IFNFVF9URU1QX1VTRVIsIElTX0xPR0lOIH0gZnJvbSAnQC9zdG9yZS9NdXRhdGlvbi9tdXRhdGlvblR5cGVzJzsKaW1wb3J0IHsgVVNFUl9MT0dJTiB9IGZyb20gJ0Avc3RvcmUvQWN0aW9uL2FjdGlvblR5cGVzJzsKaW1wb3J0IHsgbG9hZExhbmd1YWdlQXN5bmMgfSBmcm9tICdAL3V0aWxzL2xvY2FsZSc7IC8v5byV5YWl6I635Y+W57O757uf6K+t6KiA55qE5pa55rOVCmltcG9ydCB7IGV2ZW50QmFja0J1dHRvbiwgZXhpdEFwcCB9IGZyb20gJ0AvdXRpbHMvYXBwJzsKaW1wb3J0IG1kNSBmcm9tICdqcy1tZDUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xvZ2luJywKICBjb21wb25lbnRzOiB7CiAgICAvLyBjaGFuZ2VMYW5nZSwKICAgIFtCdXR0b24ubmFtZV06IEJ1dHRvbiwKICAgIFtOYXZCYXIubmFtZV06IE5hdkJhciwKICAgIFtGb3JtLm5hbWVdOiBGb3JtLAogICAgW0ZpZWxkLm5hbWVdOiBGaWVsZCwKICAgIFtJbWFnZS5uYW1lXTogSW1hZ2UsCiAgICBbSWNvbi5uYW1lXTogSWNvbiwKICAgIFtDaGVja2JveC5uYW1lXTogQ2hlY2tib3gKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgcGhvbmVOdW1iZXI6ICcnLAogICAgICBjb2RlOiAnJywKICAgICAgZXJyb3JQYXJhbXM6IHt9LAogICAgICByZW1lbWJlck1lOiBmYWxzZSwKICAgICAgc2hvd0ljb246IHRydWUsCiAgICAgIHBhc3N3b3JkVHlwZTogJ3Bhc3N3b3JkJywKICAgICAgY2hlY2tlZEZpZWxkOiBudWxsLAogICAgICB1c2VyUnVsZXM6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ+eUqOaIt+WQjeS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ29uQmx1cicKICAgICAgfV0sCiAgICAgIHB3ZFJ1bGVzOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICflr4bnoIHkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdvbkJsdXInCiAgICAgIH1dLAogICAgICBwaG9uZVJ1bGVzOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfmiYvmnLrlj7fnoIHkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdvbkJsdXInCiAgICAgIH1dLAogICAgICBjb2RlUnVsZXM6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ+mqjOivgeeggeS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ29uQmx1cicKICAgICAgfV0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ3RlbXBVc2VyJ10pCiAgfSwKICB3YXRjaDogewogICAgdXNlcm5hbWUobmV3VXNlcm5hbWUpIHsKICAgICAgLy8g5riF56m655So5oi35ZCN5pe25a+G56CB5Lmf5riF56m6CiAgICAgIGlmICghbmV3VXNlcm5hbWUpIHsKICAgICAgICB0aGlzLnBhc3N3b3JkID0gJyc7CiAgICAgICAgdGhpcy5zaG93SWNvbiA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBwYXNzd29yZChuZXdQYXNzd29yZCkgewogICAgICAvLyDmuIXnqbrlr4bnoIHml7bmmL7npLrmn6XnnIvlr4bnoIHmjInpkq4KICAgICAgaWYgKCFuZXdQYXNzd29yZCkgewogICAgICAgIHRoaXMuc2hvd0ljb24gPSB0cnVlOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5yZW1lbWJlck1lID0gdGhpcy4kc3RvcmFnZS5nZXQoJ3JlbWVtYmVyTWUnKSA9PT0gJ3RydWUnOwogICAgaWYgKHRoaXMucmVtZW1iZXJNZSkgewogICAgICB0aGlzLnVzZXJuYW1lID0gdGhpcy4kc3RvcmFnZS5nZXQoJ3VzZXJuYW1lJyk7CiAgICAgIHRoaXMucGFzc3dvcmQgPSB0aGlzLiRzdG9yYWdlLmdldCgncGFzc3dvcmQnKTsKICAgICAgdGhpcy5zaG93SWNvbiA9IGZhbHNlOwogICAgICB0aGlzLnBhc3N3b3JkVHlwZSA9ICdwYXNzd29yZCc7CiAgICB9IGVsc2UgewogICAgICB2YXIgX3RoaXMkdGVtcFVzZXIsIF90aGlzJHRlbXBVc2VyMjsKICAgICAgdGhpcy51c2VybmFtZSA9IChfdGhpcyR0ZW1wVXNlciA9IHRoaXMudGVtcFVzZXIpID09PSBudWxsIHx8IF90aGlzJHRlbXBVc2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR0ZW1wVXNlci51c2VybmFtZTsKICAgICAgdGhpcy5wYXNzd29yZCA9IChfdGhpcyR0ZW1wVXNlcjIgPSB0aGlzLnRlbXBVc2VyKSA9PT0gbnVsbCB8fCBfdGhpcyR0ZW1wVXNlcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHRlbXBVc2VyMi5wYXNzd29yZDsKICAgIH0KICAgIC8vIOenu+mZpOi/lOWbnuS4iuS4gOe6p+i3r+eUseS6i+S7tu+8jOiuvue9rumAgOWHuuW6lOeUqAogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmFja2J1dHRvbicsIHRoaXMuJGJhY2ssIGZhbHNlKTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JhY2tidXR0b24nLCBldmVudEJhY2tCdXR0b24sIGZhbHNlKTsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoU0VUX1RFTVBfVVNFUiwgewogICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUKICAgIH0pOwogICAgLy8g5oGi5aSN6buY6K6k55qE6L+U5Zue5LiK5LiA57qn6Lev55Sx5ZON5bqU5LqL5Lu2CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdiYWNrYnV0dG9uJywgZXZlbnRCYWNrQnV0dG9uLCBmYWxzZSk7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdiYWNrYnV0dG9uJywgZXhpdEFwcCwgZmFsc2UpOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmFja2J1dHRvbicsIHRoaXMuJGJhY2ssIGZhbHNlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0UGhvbmUoKSB7fSwKICAgIHZpZXdQYXNzd29yZCgpIHsKICAgICAgaWYgKHRoaXMucGFzc3dvcmRUeXBlID09ICdwYXNzd29yZCcpIHsKICAgICAgICB0aGlzLnBhc3N3b3JkVHlwZSA9ICd0ZXh0JzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBhc3N3b3JkVHlwZSA9ICdwYXNzd29yZCc7CiAgICAgIH0KICAgIH0sCiAgICBvblN1Ym1pdCgpIHsKICAgICAgaWYgKCF0aGlzLnVzZXJuYW1lKSB7CiAgICAgICAgcmV0dXJuIFRvYXN0KCfnlKjmiLflkI3kuI3og73kuLrnqbonKTsKICAgICAgfQogICAgICBpZiAoIXRoaXMucGFzc3dvcmQpIHsKICAgICAgICByZXR1cm4gVG9hc3QoJ+WvhueggeS4jeiDveS4uuepuicpOwogICAgICB9CiAgICAgIGNvbnN0IGxvZ2luRGF0YSA9IHRoaXMuZ2V0TG9naW5Gb3JtKCk7CiAgICAgIGNvbnNvbGUubG9nKGxvZ2luRGF0YSk7CiAgICAgIGlmIChsb2dpbkRhdGEucGFzc3dvcmQgJiYgbG9naW5EYXRhLnVzZXJuYW1lKSB7CiAgICAgICAgdGhpcy4kbG9hZGluZy5zaG93KHsKICAgICAgICAgIHRpdGxlOiAnJwogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKFVTRVJfTE9HSU4sIGxvZ2luRGF0YSkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoSVNfTE9HSU4sIHRydWUpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy90YWJCYXInKTsKICAgICAgICAgIGlmICghdGhpcy4kc3RvcmFnZS5nZXQoJ2xhbmdMaXN0JykpIHsKICAgICAgICAgICAgbGV0IGtleSA9IHRoaXMuJHN0b3JhZ2UuZ2V0KCdpMThuTG9jYWxlJyk7CiAgICAgICAgICAgIGxldCBsb2NhbGUgPSB0aGlzLiRzdG9yYWdlLmdldCgnaTE4bkxvY2FsZUtleScpOwogICAgICAgICAgICAvLyBsb2FkTGFuZ3VhZ2VBc3luYyhrZXksIGxvY2FsZSwgdGhpcykKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMudXBkYXRhU3RvcmFnZSgpOwogICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgdGhpcy4kbG9hZGluZy5oaWRlKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRMb2dpbkZvcm0oKSB7CiAgICAgIGNvbnN0IGZvcm0gPSB7fTsKICAgICAgZm9ybS5ncmFudF90eXBlID0gR1JBTlRfVFlQRS5wYXNzd29yZC5jb2RlOwogICAgICBmb3JtLnVzZXJuYW1lID0gdGhpcy51c2VybmFtZTsKICAgICAgLy8gaWYgKHRoaXMuc2hvd0ljb24pIHsKICAgICAgZm9ybS5wYXNzd29yZCA9IGVuY3J5cHRTTTQodGhpcy5wYXNzd29yZCk7CiAgICAgIC8vIGZvcm0ucGFzc3dvcmQgPSBtZDUodGhpcy5wYXNzd29yZCkKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICBmb3JtLnBhc3N3b3JkID0gdGhpcy5wYXNzd29yZAogICAgICAvLyB9CiAgICAgIHJldHVybiBmb3JtOwogICAgfSwKICAgIC8vIOeZu+W9leaIkOWKn+aXtuabtOaWsOe8k+WtmAogICAgdXBkYXRhU3RvcmFnZSgpIHsKICAgICAgdGhpcy4kc3RvcmFnZS5zZXQoJ3VzZXJuYW1lJywgdGhpcy51c2VybmFtZSk7CiAgICAgIHRoaXMuJHN0b3JhZ2Uuc2V0KCdyZW1lbWJlck1lJywgdGhpcy5yZW1lbWJlck1lKTsKICAgICAgaWYgKHRoaXMucmVtZW1iZXJNZSkgewogICAgICAgIHRoaXMuJHN0b3JhZ2Uuc2V0KCdwYXNzd29yZCcsIHRoaXMucGFzc3dvcmQpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHN0b3JhZ2UucmVtb3ZlKCdwYXNzd29yZCcpOwogICAgICB9CiAgICAgIC8vIOiusOW9lemUmeivr+asoeaVsAogICAgICB0aGlzLmVycm9yUGFyYW1zW3RoaXMudXNlcm5hbWVdID0gMDsKICAgICAgdGhpcy4kc3RvcmFnZS5zZXQoJ2Vycm9yUGFyYW1zJywgSlNPTi5zdHJpbmdpZnkodGhpcy5lcnJvclBhcmFtcykpOwogICAgfSwKICAgIGdvVG9TaWduVXAoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvc2lnbnVwJyk7CiAgICB9LAogICAgLy8g5b+Y6K6w5a+G56CBCiAgICBmb3JnZXRQYXNzd29yZCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9mb3JnZXQnKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["Button","NavBar","Form","Field","Image","Icon","Checkbox","Toast","encryptSM4","GRANT_TYPE","mapGetters","SET_TEMP_USER","IS_LOGIN","USER_LOGIN","loadLanguageAsync","eventBackButton","exitApp","md5","name","components","data","username","password","phoneNumber","code","errorParams","rememberMe","showIcon","passwordType","checkedField","userRules","required","message","trigger","pwdRules","phoneRules","codeRules","computed","watch","newUsername","newPassword","mounted","$storage","get","_this$tempUser","_this$tempUser2","tempUser","document","removeEventListener","$back","addEventListener","beforeDestroy","$store","commit","methods","onSubmitPhone","viewPassword","onSubmit","loginData","getLoginForm","console","log","$loading","show","title","dispatch","then","$router","push","key","locale","updataStorage","finally","hide","form","grant_type","set","remove","JSON","stringify","goToSignUp","forgetPassword"],"sources":["src/views/Login/index1.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <!-- <change-lange></change-lange> -->\r\n    <div class=\"logo-container\">\r\n      <!-- <div class=\"logo-pic\"></div> -->\r\n      <span class=\"logo-title\"></span>\r\n    </div>\r\n    <!-- 表单登录 -->\r\n    <div class=\"form-container\">\r\n      <fm-tabs>\r\n        <fm-tab label=\"账号登录\">\r\n          <fm-form class=\"form-content\">\r\n            <fm-field\r\n              class=\"field-username\"\r\n              clearable\r\n              v-model=\"username\"\r\n              name=\"用户名\"\r\n              placeholder=\"请输入用户名\"\r\n              :rules=\"userRules\"\r\n              @focus=\"checkedField = 'user'\"\r\n              @blur=\"checkedField = null\"\r\n              clear-trigger=\"always\"\r\n              :class=\"checkedField == 'user' ? 'field-active' : ''\"\r\n            >\r\n              <template #prefix-icon>\r\n                <!-- <img\r\n                  v-if=\"checkedField == 'user'\"\r\n                  class=\"news-img\"\r\n                  :src=\"require('@/assets/img/login/user-checked.png')\"\r\n                /> -->\r\n                <img\r\n                  class=\"news-img\"\r\n                  :src=\"require('@/assets/img/login/user.png')\"\r\n                />\r\n              </template>\r\n            </fm-field>\r\n            <fm-field\r\n              class=\"field-pwd\"\r\n              clearable\r\n              v-model=\"password\"\r\n              :type=\"passwordType\"\r\n              name=\"密码\"\r\n              placeholder=\"请输入密码\"\r\n              :rules=\"pwdRules\"\r\n              @click-suffix-icon=\"viewPassword\"\r\n              @focus=\"checkedField = 'pwd'\"\r\n              @blur=\"checkedField = null\"\r\n              clear-trigger=\"always\"\r\n              :class=\"checkedField == 'pwd' ? 'field-active' : ''\"\r\n            >\r\n              <template #prefix-icon>\r\n                <img\r\n                  class=\"news-img\"\r\n                  :src=\"require('@/assets/img/login/password.png')\"\r\n                />\r\n              </template>\r\n              <template #suffix-icon v-if=\"showIcon\">\r\n                <fm-image\r\n                  v-if=\"passwordType == 'password'\"\r\n                  class=\"suffix-icon\"\r\n                  width=\"20\"\r\n                  height=\"20\"\r\n                  :src=\"require('@/assets/img/login/no-visible.png')\"\r\n                />\r\n                <fm-image\r\n                  v-else\r\n                  class=\"suffix-icon\"\r\n                  width=\"20\"\r\n                  height=\"20\"\r\n                  :src=\"require('@/assets/img/login/visible.png')\"\r\n                />\r\n                <!-- <i class=\"fm-icon fm-icon-eye-o suffix-icon\" v-if=\"passwordType == 'text'\"></i>\r\n          <i class=\"fm-icon fm-icon-closed-eye suffix-icon\" v-else></i> -->\r\n              </template>\r\n            </fm-field>\r\n            <div class=\"sub-menu\">\r\n              <fm-checkbox v-model=\"rememberMe\" shape=\"square\">{{\r\n                $t('login.RememberPassword')\r\n              }}</fm-checkbox>\r\n              <span @click=\"forgetPassword\">{{\r\n                $t('login.forgetPassword')\r\n              }}</span>\r\n            </div>\r\n            <div class=\"login-btn-container\">\r\n              <fm-button\r\n                class=\"login-btn\"\r\n                @click=\"onSubmit\"\r\n                block\r\n                type=\"primary\"\r\n                native-type=\"submit\"\r\n                >{{ $t('login.login') }}</fm-button\r\n              >\r\n            </div>\r\n          </fm-form>\r\n        </fm-tab>\r\n        <fm-tab label=\"手机登录\">\r\n          <fm-form class=\"form-content\">\r\n            <fm-field\r\n              class=\"field-username\"\r\n              clearable\r\n              v-model=\"phoneNumber\"\r\n              name=\"手机号码\"\r\n              placeholder=\"请输入手机号码\"\r\n              :rules=\"phoneRules\"\r\n              @focus=\"checkedField = 'phone'\"\r\n              @blur=\"checkedField = null\"\r\n              :class=\"checkedField == 'phone' ? 'field-active' : ''\"\r\n            >\r\n              <template #prefix-icon>\r\n                <img\r\n                  class=\"news-img\"\r\n                  :src=\"require('@/assets/img/login/phone.png')\"\r\n                />\r\n              </template>\r\n            </fm-field>\r\n            <fm-field\r\n              class=\"field-pwd\"\r\n              clearable\r\n              v-model=\"code\"\r\n              name=\"验证码\"\r\n              placeholder=\"请输入验证码\"\r\n              :rules=\"codeRules\"\r\n              @focus=\"checkedField = 'code'\"\r\n              @blur=\"checkedField = null\"\r\n              :class=\"checkedField == 'code' ? 'field-active' : ''\"\r\n            >\r\n              <template #prefix-icon>\r\n                <img\r\n                  class=\"news-img\"\r\n                  :src=\"require('@/assets/img/login/验证码.png')\"\r\n                />\r\n              </template>\r\n              <template #button>\r\n                <span class=\"send_code\">获取验证码</span>\r\n              </template>\r\n            </fm-field>\r\n            <div class=\"login-btn-container\">\r\n              <fm-button\r\n                class=\"login-btn\"\r\n                @click=\"onSubmitPhone\"\r\n                block\r\n                type=\"primary\"\r\n                native-type=\"submit\"\r\n                >{{ $t('login.login') }}</fm-button\r\n              >\r\n            </div>\r\n          </fm-form>\r\n        </fm-tab>\r\n      </fm-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  Button,\r\n  NavBar,\r\n  Form,\r\n  Field,\r\n  Image,\r\n  Icon,\r\n  Checkbox,\r\n  Toast,\r\n} from 'fawkes-mobile-lib'\r\nimport { encryptSM4 } from '@/utils/sm4'\r\nimport { GRANT_TYPE } from '@/settings'\r\nimport { mapGetters } from 'vuex'\r\nimport { SET_TEMP_USER, IS_LOGIN } from '@/store/Mutation/mutationTypes'\r\nimport { USER_LOGIN } from '@/store/Action/actionTypes'\r\nimport { loadLanguageAsync } from '@/utils/locale' //引入获取系统语言的方法\r\nimport { eventBackButton, exitApp } from '@/utils/app'\r\nimport md5 from 'js-md5'\r\n\r\nexport default {\r\n  name: 'login',\r\n  components: {\r\n    // changeLange,\r\n    [Button.name]: Button,\r\n    [NavBar.name]: NavBar,\r\n    [Form.name]: Form,\r\n    [Field.name]: Field,\r\n    [Image.name]: Image,\r\n    [Icon.name]: Icon,\r\n    [Checkbox.name]: Checkbox,\r\n  },\r\n  data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      phoneNumber: '',\r\n      code: '',\r\n      errorParams: {},\r\n      rememberMe: false,\r\n      showIcon: true,\r\n      passwordType: 'password',\r\n      checkedField: null,\r\n      userRules: [\r\n        {\r\n          required: true,\r\n          message: '用户名不能为空',\r\n          trigger: 'onBlur',\r\n        },\r\n      ],\r\n      pwdRules: [\r\n        {\r\n          required: true,\r\n          message: '密码不能为空',\r\n          trigger: 'onBlur',\r\n        },\r\n      ],\r\n      phoneRules: [\r\n        {\r\n          required: true,\r\n          message: '手机号码不能为空',\r\n          trigger: 'onBlur',          \r\n        }\r\n      ],\r\n      codeRules: [\r\n        {\r\n          required: true,\r\n          message: '验证码不能为空',\r\n          trigger: 'onBlur',          \r\n        }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['tempUser']),\r\n  },\r\n  watch: {\r\n    username(newUsername) {\r\n      // 清空用户名时密码也清空\r\n      if (!newUsername) {\r\n        this.password = ''\r\n        this.showIcon = true\r\n      }\r\n    },\r\n    password(newPassword) {\r\n      // 清空密码时显示查看密码按钮\r\n      if (!newPassword) {\r\n        this.showIcon = true\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.rememberMe = this.$storage.get('rememberMe') === 'true'\r\n    if (this.rememberMe) {\r\n      this.username = this.$storage.get('username')\r\n      this.password = this.$storage.get('password')\r\n      this.showIcon = false\r\n      this.passwordType = 'password'\r\n    } else {\r\n      this.username = this.tempUser?.username\r\n      this.password = this.tempUser?.password\r\n    }\r\n    // 移除返回上一级路由事件，设置退出应用\r\n    document.removeEventListener('backbutton', this.$back, false)\r\n    document.addEventListener('backbutton', eventBackButton, false)\r\n  },\r\n  beforeDestroy() {\r\n    this.$store.commit(SET_TEMP_USER, {\r\n      password: this.password,\r\n      username: this.username,\r\n    })\r\n    // 恢复默认的返回上一级路由响应事件\r\n    document.removeEventListener('backbutton', eventBackButton, false)\r\n    document.removeEventListener('backbutton', exitApp, false)\r\n    document.addEventListener('backbutton', this.$back, false)\r\n  },\r\n  methods: {\r\n    onSubmitPhone() {},\r\n    viewPassword() {\r\n      if (this.passwordType == 'password') {\r\n        this.passwordType = 'text'\r\n      } else {\r\n        this.passwordType = 'password'\r\n      }\r\n    },\r\n    onSubmit() {\r\n      if (!this.username) {\r\n        return Toast('用户名不能为空')\r\n      }\r\n      if (!this.password) {\r\n        return Toast('密码不能为空')\r\n      }\r\n      const loginData = this.getLoginForm()\r\n      console.log(loginData)\r\n\r\n      if (loginData.password && loginData.username) {\r\n        this.$loading.show({ title: '' })\r\n        this.$store\r\n          .dispatch(USER_LOGIN, loginData)\r\n          .then(() => {\r\n            this.$store.commit(IS_LOGIN, true)\r\n            this.$router.push('/tabBar')\r\n            if (!this.$storage.get('langList')) {\r\n              let key = this.$storage.get('i18nLocale')\r\n              let locale = this.$storage.get('i18nLocaleKey')\r\n              // loadLanguageAsync(key, locale, this)\r\n            }\r\n            this.updataStorage()\r\n          })\r\n          .finally(() => {\r\n            this.$loading.hide()\r\n          })\r\n      }\r\n    },\r\n    getLoginForm() {\r\n      const form = {}\r\n      form.grant_type = GRANT_TYPE.password.code\r\n      form.username = this.username\r\n      // if (this.showIcon) {\r\n      form.password = encryptSM4(this.password)\r\n      // form.password = md5(this.password)\r\n      // } else {\r\n      //   form.password = this.password\r\n      // }\r\n      return form\r\n    },\r\n    // 登录成功时更新缓存\r\n    updataStorage() {\r\n      this.$storage.set('username', this.username)\r\n      this.$storage.set('rememberMe', this.rememberMe)\r\n      if (this.rememberMe) {\r\n        this.$storage.set('password', this.password)\r\n      } else {\r\n        this.$storage.remove('password')\r\n      }\r\n      // 记录错误次数\r\n      this.errorParams[this.username] = 0\r\n      this.$storage.set('errorParams', JSON.stringify(this.errorParams))\r\n    },\r\n    goToSignUp() {\r\n      this.$router.push('/signup')\r\n    },\r\n    // 忘记密码\r\n    forgetPassword() {\r\n      this.$router.push('/forget')\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n/deep/.fm-field__error-message {\r\n  position: absolute;\r\n  top: 80px;\r\n}\r\n/deep/.fm-cell {\r\n  overflow: visible;\r\n  &::after {\r\n    left: 0px;\r\n    display: none;\r\n  }\r\n}\r\n/deep/ .fm-tabs {\r\n  padding-top: 31px;\r\n  z-index: 2;\r\n}\r\n.suffix-icon {\r\n  margin-left: 10px;\r\n}\r\n/deep/.fm-field__prefix-icon {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n/deep/.fm-field__suffix-icon {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.fm-icon-closed-eye:before {\r\n  width: 36px;\r\n  height: auto;\r\n}\r\n.fm-icon-eye-o:before {\r\n  width: 36px;\r\n  height: auto;\r\n}\r\n.news-img {\r\n  width: 32px;\r\n  height: 32px;\r\n  margin-right: 24px;\r\n}\r\n.send_code {\r\n  font-size: 28px;\r\n  font-family: PingFangSC-Semibold, PingFang SC;\r\n  font-weight: 600;\r\n  color: #5B9DFF;\r\n  line-height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  &::before {\r\n    content: '';\r\n    width: 2px;\r\n    height: 21px;\r\n    background: #5bcbff;\r\n    border-radius: 2px;\r\n    margin-right: 32px;\r\n  }\r\n}\r\n.fm-field {\r\n  border-radius: 0;\r\n}\r\n.login-container {\r\n  height: 100%;\r\n  background: url('../../assets/img/login/login_bg.png');\r\n  background-size: 100% 100%;\r\n  background-repeat: no-repeat;\r\n}\r\n.logo-container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  padding-top: 164px;\r\n  .logo-pic {\r\n    width: 120px;\r\n    height: 120px;\r\n    background-image: url('../../assets/img/login/new-logo.png');\r\n    background-repeat: no-repeat;\r\n    background-size: 100%;\r\n  }\r\n  .logo-title {\r\n    width: 279px;\r\n    height: 181px;\r\n    background-image: url('../../assets/img/login/login-logo.png');\r\n    background-repeat: no-repeat;\r\n    background-size: 100%;\r\n    // margin-top: 32px;\r\n    // font-size: 60px;\r\n    // font-family: SourceHanSansCN-Bold, SourceHanSansCN;\r\n    // font-weight: bold;\r\n    // color: #ffffff;\r\n    // line-height: 90px;\r\n    // letter-spacing: 8px;\r\n    // text-shadow: 0px 6px 8px rgba(1, 17, 50, 0.2);\r\n    // background-clip: text;\r\n  }\r\n}\r\n.tip {\r\n  margin-bottom: 44px;\r\n  font-size: 36px;\r\n  font-weight: 600;\r\n}\r\n.form-container {\r\n  width: 100%;\r\n  margin: 72px 0 0 0;\r\n  position: relative;\r\n  // background: url('../../assets/img/login/login_form_bg.png');\r\n  // background-size: 100% 100%;\r\n  // background-repeat: no-repeat;\r\n  height: calc(100% - 173px);\r\n  &::after{\r\n    content: '';\r\n    position: absolute;\r\n    width: 200%;\r\n    height: 100%;\r\n    left: -50%;\r\n    top: 0;\r\n    border-radius: 50% 50% 0 0;\r\n    background: #fff;\r\n    z-index: 1;\r\n    overflow: hidden;\r\n  }\r\n  /deep/ .fm-tabs__nav {\r\n    background-color: transparent;\r\n    margin: 0 147px;\r\n    .fm-tab {\r\n      color: rgba(25, 25, 25, 0.4);\r\n      font-weight: 600;\r\n      font-family: PingFangSC-Semibold, PingFang SC;\r\n    }\r\n    .fm-tab--active {\r\n      color: rgba(25, 25, 25, 1);\r\n    }\r\n    .fm-tabs__line {\r\n      background: rgba(30, 108, 218, 1);\r\n      border-radius: 6px;\r\n      width: 50px;\r\n    }\r\n  }\r\n  .form-content {\r\n    padding: 0 50px;\r\n    margin-top: 68px;\r\n    .sub-menu {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      color: #999999;\r\n      font-size: 28px;\r\n      margin-top: -13px;\r\n      /deep/.fm-checkbox__label {\r\n        font-size: 24px;\r\n        font-family: PingFangSC-Regular, PingFang SC;\r\n        font-weight: 400;\r\n        color: #555555;\r\n        line-height: 33px;\r\n        letter-spacing: 2px;\r\n      }\r\n    }\r\n  }\r\n}\r\n/deep/.fm-checkbox__icon {\r\n  background-color: #f5f5f5;\r\n  height: 24px;\r\n  border-radius: 3px;\r\n}\r\n/deep/.fm-icon {\r\n  border: none;\r\n  width: 24px;\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;  \r\n}\r\n/deep/ .fm-icon-success:before {\r\n  height: 24px;\r\n  font-size: 24px;\r\n  position: absolute;\r\n  left: -1px;\r\n  top: -1px;\r\n}\r\n/deep/.fm-field__control {\r\n  color: #BDC3CD !important;\r\n  &::placeholder {\r\n    color: #BDC3CD !important;\r\n  }\r\n}\r\n.field-username,\r\n.field-pwd {\r\n  // background-color: #f5f5f5;\r\n  // height: 75px;\r\n  margin-bottom: 57px;\r\n  background: #F1F5FC;\r\n  border-radius: 42px;\r\n  height: 84px;\r\n  display: flex;\r\n  align-items: center;\r\n  /deep/ .fm-cell__value {\r\n    .fm-field__body {\r\n      .fm-icon-clear {\r\n        &::before {\r\n          font-size: 24px;\r\n        }\r\n      }\r\n    }\r\n  }  \r\n}\r\n.field-pwd {\r\n  /deep/ .fm-cell__value {\r\n    .fm-field__body {\r\n      .fm-icon-clear {\r\n        &::before {\r\n          position: absolute;\r\n          bottom: -10px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.field-active {\r\n  /deep/.fm-field__control {\r\n    color: #191919 !important;\r\n  }\r\n}\r\n\r\n.footer-container {\r\n  padding-top: 260px;\r\n  display: flex;\r\n  justify-content: center;\r\n  .logo-footer {\r\n    width: 134px;\r\n    height: 20px;\r\n  }\r\n}\r\n\r\n.login-btn-container {\r\n  margin: 0 auto;\r\n  padding-top: 64px;\r\n  height: 80px;\r\n  .login-btn {\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 32px;\r\n    font-family: PingFangSC-Regular, PingFang SC;\r\n    font-weight: 400;\r\n    color: #ffffff;\r\n    line-height: 45px;\r\n    border-radius: 44px;\r\n    border: none;\r\n    background: linear-gradient(90deg, #247BFD 0%, #3AA0EE 100%);\r\n  }\r\n}\r\n.fm-field--error ::placeholder {\r\n  color: #BDC3CD;\r\n}\r\n/deep/ .fm-field--error .fm-field__control,\r\n.fm-field--error .fm-field__control::placeholder {\r\n  color: #999999;\r\n}\r\n.fm-field ::placeholder {\r\n  color: #999999;\r\n}\r\n</style>\r\n"],"mappings":";AAyJA,SACAA,MAAA,EACAC,MAAA,EACAC,IAAA,EACAC,KAAA,EACAC,KAAA,EACAC,IAAA,EACAC,QAAA,EACAC,KAAA,QACA;AACA,SAAAC,UAAA;AACA,SAAAC,UAAA;AACA,SAAAC,UAAA;AACA,SAAAC,aAAA,EAAAC,QAAA;AACA,SAAAC,UAAA;AACA,SAAAC,iBAAA;AACA,SAAAC,eAAA,EAAAC,OAAA;AACA,OAAAC,GAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACA;IACA,CAAAnB,MAAA,CAAAkB,IAAA,GAAAlB,MAAA;IACA,CAAAC,MAAA,CAAAiB,IAAA,GAAAjB,MAAA;IACA,CAAAC,IAAA,CAAAgB,IAAA,GAAAhB,IAAA;IACA,CAAAC,KAAA,CAAAe,IAAA,GAAAf,KAAA;IACA,CAAAC,KAAA,CAAAc,IAAA,GAAAd,KAAA;IACA,CAAAC,IAAA,CAAAa,IAAA,GAAAb,IAAA;IACA,CAAAC,QAAA,CAAAY,IAAA,GAAAZ;EACA;EACAc,KAAA;IACA;MACAC,QAAA;MACAC,QAAA;MACAC,WAAA;MACAC,IAAA;MACAC,WAAA;MACAC,UAAA;MACAC,QAAA;MACAC,YAAA;MACAC,YAAA;MACAC,SAAA,GACA;QACAC,QAAA;QACAC,OAAA;QACAC,OAAA;MACA,EACA;MACAC,QAAA,GACA;QACAH,QAAA;QACAC,OAAA;QACAC,OAAA;MACA,EACA;MACAE,UAAA,GACA;QACAJ,QAAA;QACAC,OAAA;QACAC,OAAA;MACA,EACA;MACAG,SAAA,GACA;QACAL,QAAA;QACAC,OAAA;QACAC,OAAA;MACA;IAEA;EACA;EACAI,QAAA;IACA,GAAA3B,UAAA;EACA;EACA4B,KAAA;IACAjB,SAAAkB,WAAA;MACA;MACA,KAAAA,WAAA;QACA,KAAAjB,QAAA;QACA,KAAAK,QAAA;MACA;IACA;IACAL,SAAAkB,WAAA;MACA;MACA,KAAAA,WAAA;QACA,KAAAb,QAAA;MACA;IACA;EACA;EACAc,QAAA;IACA,KAAAf,UAAA,QAAAgB,QAAA,CAAAC,GAAA;IACA,SAAAjB,UAAA;MACA,KAAAL,QAAA,QAAAqB,QAAA,CAAAC,GAAA;MACA,KAAArB,QAAA,QAAAoB,QAAA,CAAAC,GAAA;MACA,KAAAhB,QAAA;MACA,KAAAC,YAAA;IACA;MAAA,IAAAgB,cAAA,EAAAC,eAAA;MACA,KAAAxB,QAAA,IAAAuB,cAAA,QAAAE,QAAA,cAAAF,cAAA,uBAAAA,cAAA,CAAAvB,QAAA;MACA,KAAAC,QAAA,IAAAuB,eAAA,QAAAC,QAAA,cAAAD,eAAA,uBAAAA,eAAA,CAAAvB,QAAA;IACA;IACA;IACAyB,QAAA,CAAAC,mBAAA,oBAAAC,KAAA;IACAF,QAAA,CAAAG,gBAAA,eAAAnC,eAAA;EACA;EACAoC,cAAA;IACA,KAAAC,MAAA,CAAAC,MAAA,CAAA1C,aAAA;MACAW,QAAA,OAAAA,QAAA;MACAD,QAAA,OAAAA;IACA;IACA;IACA0B,QAAA,CAAAC,mBAAA,eAAAjC,eAAA;IACAgC,QAAA,CAAAC,mBAAA,eAAAhC,OAAA;IACA+B,QAAA,CAAAG,gBAAA,oBAAAD,KAAA;EACA;EACAK,OAAA;IACAC,cAAA;IACAC,aAAA;MACA,SAAA5B,YAAA;QACA,KAAAA,YAAA;MACA;QACA,KAAAA,YAAA;MACA;IACA;IACA6B,SAAA;MACA,UAAApC,QAAA;QACA,OAAAd,KAAA;MACA;MACA,UAAAe,QAAA;QACA,OAAAf,KAAA;MACA;MACA,MAAAmD,SAAA,QAAAC,YAAA;MACAC,OAAA,CAAAC,GAAA,CAAAH,SAAA;MAEA,IAAAA,SAAA,CAAApC,QAAA,IAAAoC,SAAA,CAAArC,QAAA;QACA,KAAAyC,QAAA,CAAAC,IAAA;UAAAC,KAAA;QAAA;QACA,KAAAZ,MAAA,CACAa,QAAA,CAAApD,UAAA,EAAA6C,SAAA,EACAQ,IAAA;UACA,KAAAd,MAAA,CAAAC,MAAA,CAAAzC,QAAA;UACA,KAAAuD,OAAA,CAAAC,IAAA;UACA,UAAA1B,QAAA,CAAAC,GAAA;YACA,IAAA0B,GAAA,QAAA3B,QAAA,CAAAC,GAAA;YACA,IAAA2B,MAAA,QAAA5B,QAAA,CAAAC,GAAA;YACA;UACA;UACA,KAAA4B,aAAA;QACA,GACAC,OAAA;UACA,KAAAV,QAAA,CAAAW,IAAA;QACA;MACA;IACA;IACAd,aAAA;MACA,MAAAe,IAAA;MACAA,IAAA,CAAAC,UAAA,GAAAlE,UAAA,CAAAa,QAAA,CAAAE,IAAA;MACAkD,IAAA,CAAArD,QAAA,QAAAA,QAAA;MACA;MACAqD,IAAA,CAAApD,QAAA,GAAAd,UAAA,MAAAc,QAAA;MACA;MACA;MACA;MACA;MACA,OAAAoD,IAAA;IACA;IACA;IACAH,cAAA;MACA,KAAA7B,QAAA,CAAAkC,GAAA,kBAAAvD,QAAA;MACA,KAAAqB,QAAA,CAAAkC,GAAA,oBAAAlD,UAAA;MACA,SAAAA,UAAA;QACA,KAAAgB,QAAA,CAAAkC,GAAA,kBAAAtD,QAAA;MACA;QACA,KAAAoB,QAAA,CAAAmC,MAAA;MACA;MACA;MACA,KAAApD,WAAA,MAAAJ,QAAA;MACA,KAAAqB,QAAA,CAAAkC,GAAA,gBAAAE,IAAA,CAAAC,SAAA,MAAAtD,WAAA;IACA;IACAuD,WAAA;MACA,KAAAb,OAAA,CAAAC,IAAA;IACA;IACA;IACAa,eAAA;MACA,KAAAd,OAAA,CAAAC,IAAA;IACA;EACA;AACA"}]}