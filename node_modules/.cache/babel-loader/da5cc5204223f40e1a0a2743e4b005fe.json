{"remainingRequest":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\Project\\WL\\xasw-mobile\\src\\components\\upload\\Uploader.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\src\\components\\upload\\Uploader.vue","mtime":1708928163330},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\babel.config.js","mtime":1705912799600},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\Project\\WL\\xasw-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tZXhjZXB0aW9uLnN0YWNrLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWxhc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWxhc3QtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1yZXZlcnNlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXNvcnRlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LndpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuZGVsZXRlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmhhcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5zaXplLmpzIjsKLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi8KLy8g6K+l57uE5Lu26ZyA6KaB5ZKM55yf5py65Lqk5LqS77yM5Lya5Ye6546w5Y6f55SfIEFQSSDmnKrlrprkuYnnmoTmg4XlhrXvvIzmlYXlhajlsYDlupTnlKjlsY/olL0gbm8tdW5kZWYg6KeE5YiZCgppbXBvcnQgeyBVcGxvYWRlciwgVG9hc3QsIEJ1dHRvbiwgRmllbGQgfSBmcm9tICdmYXdrZXMtbW9iaWxlLWxpYic7CmltcG9ydCB7IGNoYW5nZUZpbGVHOXMsIGdldEZpbGVUb2tlbiB9IGZyb20gJ0AvYXBpL2ZpbGUnOwppbXBvcnQgeyB1dWlkIH0gZnJvbSAnQC91dGlscy9wYXJhbSc7CmltcG9ydCB7IGlzSW1hZ2UsIGRvd25sb2FkRmlsZSwgY2FsY0ZpbGVTaXplIH0gZnJvbSAnQC91dGlscy9maWxlJzsKaW1wb3J0IHJlcXVlc3QgZnJvbSAnQC91dGlscy9yZXF1ZXN0JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKY29uc3QgY2FuY2VsVG9rZW5PYmogPSBuZXcgTWFwKCk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVXBsb2FkZXInLAogIGNvbXBvbmVudHM6IHsKICAgIFtVcGxvYWRlci5uYW1lXTogVXBsb2FkZXIsCiAgICBbVG9hc3QubmFtZV06IFRvYXN0LAogICAgW0J1dHRvbi5uYW1lXTogQnV0dG9uLAogICAgW0ZpZWxkLm5hbWVdOiBGaWVsZAogIH0sCiAgZmlsdGVyczogewogICAgY2FsY3VsYXRlRmlsZVNpemU6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgcmV0dXJuIGNhbGNGaWxlU2l6ZSh2YWwpOwogICAgfQogIH0sCiAgcHJvcHM6IHsKICAgIC8vIOaWh+S7tmdyb3VwVG9rZW4KICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgLy8gVE9ETzog5paH5Lu25LiK5Lyg5pWw6YeP6ZmQ5Yi277yM5pqC5pyq5L2/55SoCiAgICBsaW1pdDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICAvLyDlm77niYfkuIrkvKDml7bnmoTmoIfnrb7lkI3np7AKICAgIGxhYmVsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ+mZhOS7ticKICAgIH0sCiAgICAvLyDlkI3np7DvvIzmj5DkuqTooajljZXnmoTmoIfor4bnrKYKICAgIG5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAndXBsb2FkZXInCiAgICB9LAogICAgLy8g5byA5ZCv6Ieq5Yqo5LiK5LygCiAgICBhdXRvVXBsb2FkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBkaXNhYmxlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOaYr+WQpuWxleekuuWIoOmZpOaMiemSrgogICAgZGVsZXRhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICAvLyDmmK/lkKbmmL7npLrkuIrkvKDljLrln58KICAgIHNob3dVcGxvYWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIC8vIOS4iuS8oOexu+Wei++8jGltYWdl5oiWZmlsZQogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdpbWFnZScKICAgIH0sCiAgICAvLyDlm77niYflpJrpgInpmZDliLbmlbDph4/vvIzpu5jorqTkuLo5CiAgICBtYXhJbWFnZXNDb3VudDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDkKICAgIH0sCiAgICAvLyDkuIrkvKDliY3nmoTmoKHpqozmlrnms5UKICAgIGJlZm9yZVJlYWQ6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8vIOWFgeiuuOmihOiniO+8jOm7mOiupOS4unRydWUKICAgIHByZXZpZXdGdWxsSW1hZ2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIC8vIOaWh+S7tuS4iuS8oOaXtuagh+etvuWQjeensAogICAgcHJldmlld0xhYmVsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ+mZhOS7ticKICAgIH0KICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBmaWxlTGlzdDogW10sCiAgICBmaWxlVG9rZW5MaXN0OiBbXSwKICAgIC8vIOaYr+WQpumcgOimgeivt+axguaWh+S7tui1hOa6kAogICAgbmVlZFRvR2V0RmlsZTogdHJ1ZSwKICAgIHBlcmNlbnQ6IDAKICB9KSwKICBjb21wdXRlZDogewogICAgLy8g5YWB6K645LiK5Lyg55qE5paH5Lu257G75Z6LCiAgICBhY2NlcHQoKSB7CiAgICAgIHJldHVybiB0aGlzLnR5cGUgPT0gJ2ltYWdlJyA/ICdpbWFnZS8qJyA6ICcqJzsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXIobmV3VmFsKSB7CiAgICAgICAgaWYgKCFuZXdWYWwpIHsKICAgICAgICAgIHRoaXMuZmlsZVRva2VuTGlzdCA9IFtdOwogICAgICAgICAgdGhpcy5maWxlTGlzdCA9IFtdOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5uZWVkVG9HZXRGaWxlKSB7CiAgICAgICAgICBsZXQgcG9zdERhdGEgPSB7CiAgICAgICAgICAgIGc5czogW25ld1ZhbF0KICAgICAgICAgIH07CiAgICAgICAgICBnZXRGaWxlVG9rZW4ocG9zdERhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMpIHsKICAgICAgICAgICAgICBsZXQgZmlsZVRva2VuTGlzdCA9IHJlcy5kYXRhOwogICAgICAgICAgICAgIGNvbnN0IGZpbGVMaXN0ID0gW107CiAgICAgICAgICAgICAgZmlsZVRva2VuTGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgbGV0IGlzSW1hZ2VUeXBlID0gaXNJbWFnZShpdGVtLmZpbGVOYW1lKTsKICAgICAgICAgICAgICAgIGxldCBmaWxlSXRlbSA9IHsKICAgICAgICAgICAgICAgICAgZmlsZTogewogICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0uZmlsZU5hbWUsCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogaXRlbS5zaXplCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBpdGVtLAogICAgICAgICAgICAgICAgICBpc0ltYWdlOiBpc0ltYWdlVHlwZSwKICAgICAgICAgICAgICAgICAgZmlsZVRva2VuOiBpdGVtLmZpbGVUb2tlbgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIC8vIOWxleekuuWbvueJhwogICAgICAgICAgICAgICAgaWYgKGlzSW1hZ2VUeXBlKSB7CiAgICAgICAgICAgICAgICAgIGZpbGVJdGVtLnVybCA9IGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9VUkx9L3N5cy1zdG9yYWdlL2Rvd25sb2FkX2ltYWdlP2Y4cz0ke2l0ZW0uZmlsZVRva2VufWA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAvLyDlsZXnpLrmlofku7YKICAgICAgICAgICAgICAgICAgZmlsZUl0ZW0udXJsID0gaXRlbS5maWxlVG9rZW47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmaWxlTGlzdC5wdXNoKGZpbGVJdGVtKTsKICAgICAgICAgICAgICAgIHRoaXMuZmlsZVRva2VuTGlzdC5wdXNoKGl0ZW0uZmlsZVRva2VuKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3Q7CiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnZmlsZUNoYW5nZScsIHsKICAgICAgICAgICAgICAgIGZpbGU6IG51bGwsCiAgICAgICAgICAgICAgICBmaWxlTGlzdCwKICAgICAgICAgICAgICAgIGxlbmd0aDogZmlsZUxpc3QubGVuZ3RoCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2V0RzlzKCkgewogICAgICBpZiAodGhpcy5maWxlVG9rZW5MaXN0Lmxlbmd0aCkgewogICAgICAgIGNvbnN0IGc5cyA9IHV1aWQoKTsKICAgICAgICAvL+WwhuWQhOaWh+S7tueahGZpbGV0b2tlbuWQiOW5tuaIkGdyb3VwdG9rZW4KICAgICAgICBjaGFuZ2VGaWxlRzlzKGc5cywgdGhpcy5maWxlVG9rZW5MaXN0KS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgZzlzKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsICcnKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGFmdGVyUmVhZChmaWxlKSB7CiAgICAgIC8vIOaWh+S7tuS4iuS8oOWujOavleWQjuS8muinpuWPkSBhZnRlci1yZWFkIOWbnuiwg+WHveaVsO+8jOiOt+WPluWIsOWvueW6lOeahCBmaWxlIOWvueixoeOAggogICAgICBjb25zb2xlLmxvZygn5paH5Lu25LiK5Lyg5a6M5q+VJywgZmlsZSk7CiAgICAgIC8vIOWkmumAieeahOaDheWGteS4iwogICAgICBpZiAoQXJyYXkuaXNBcnJheShmaWxlKSkgewogICAgICAgIGNvbnNvbGUubG9nKCLlpJrpgInnmoTmg4XlhrXkuIsiLCBmaWxlKTsKICAgICAgICBmaWxlLmZvckVhY2goZWwgPT4gdGhpcy5hZnRlclJlYWQoZWwpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIuWNlemAieeahOaDheWGteS4iyIsIGZpbGUpOwogICAgICAgIGF3YWl0IGNvbXByZXNzSW1nKGZpbGUuZmlsZSwgMC4yKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygi5Y6L57yp5ZCO55qEZmlsZSIsIHJlcyk7CiAgICAgICAgICBmaWxlLmZpbGUgPSByZXMuZmlsZTsgLy8g5pu/5o2i5Y6f5p2l55qEZmlsZQogICAgICAgIH0pOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGNvbXByZXNzSW1nKGZpbGUsIHF1YWxpdHkpIHsKICAgICAgICBpZiAoZmlsZVswXSkgewogICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKEFycmF5LmZyb20oZmlsZSkubWFwKGFzeW5jIGUgPT4gYXdhaXQgY29tcHJlc3NJbWcoZSwgcXVhbGl0eSkpKTsgLy8g5aaC5p6c5pivIGZpbGUg5pWw57uE6L+U5ZueIFByb21pc2Ug5pWw57uECiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsgLy8g5Yib5bu6IEZpbGVSZWFkZXIKICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICh7CiAgICAgICAgICAgICAgdGFyZ2V0OiB7CiAgICAgICAgICAgICAgICByZXN1bHQ6IHNyYwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkgPT4gewogICAgICAgICAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7IC8vIOWIm+W7uiBpbWcg5YWD57SgCiAgICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gYXN5bmMgKCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7IC8vIOWIm+W7uiBjYW52YXMg5YWD57SgCiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDsKICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7CiAgICAgICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKS5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpOyAvLyDnu5jliLYgY2FudmFzCiAgICAgICAgICAgICAgICBjb25zdCBjYW52YXNVUkwgPSBjYW52YXMudG9EYXRhVVJMKCJpbWFnZS9qcGVnIiwgcXVhbGl0eSk7CiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSBhdG9iKGNhbnZhc1VSTC5zcGxpdCgiLCIpWzFdKTsKICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSBidWZmZXIubGVuZ3RoOwogICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyQXJyYXkgPSBuZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKSk7CiAgICAgICAgICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHsKICAgICAgICAgICAgICAgICAgYnVmZmVyQXJyYXlbbGVuZ3RoXSA9IGJ1ZmZlci5jaGFyQ29kZUF0KGxlbmd0aCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCBtaW5pRmlsZSA9IG5ldyBGaWxlKFtidWZmZXJBcnJheV0sIGZpbGUubmFtZSwgewogICAgICAgICAgICAgICAgICB0eXBlOiAiaW1hZ2UvanBlZyIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmVzb2x2ZSh7CiAgICAgICAgICAgICAgICAgIGZpbGU6IG1pbmlGaWxlLAogICAgICAgICAgICAgICAgICBvcmlnaW46IGZpbGUsCiAgICAgICAgICAgICAgICAgIGJlZm9yZVNyYzogc3JjLAogICAgICAgICAgICAgICAgICBhZnRlclNyYzogY2FudmFzVVJMLAogICAgICAgICAgICAgICAgICBiZWZvcmVLQjogTnVtYmVyKChmaWxlLnNpemUgLyAxMDI0KS50b0ZpeGVkKDIpKSwKICAgICAgICAgICAgICAgICAgYWZ0ZXJLQjogTnVtYmVyKChtaW5pRmlsZS5zaXplIC8gMTAyNCkudG9GaXhlZCgyKSkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gc3JjOwogICAgICAgICAgICB9OwogICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgICBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTsKICAgICAgaWYgKHRoaXMuYXV0b1VwbG9hZCkgewogICAgICAgIC8vIOWmguaenOaYr+iHquWKqOS4iuS8oOeahOaDheWGteS4iwogICAgICAgIC8vIOWkmumAieeahOaDheWGteS4iwogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZpbGUpKSB7CiAgICAgICAgICBmaWxlLmZvckVhY2goZWwgPT4gdGhpcy51cGxvYWRGaWxlKGVsKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudXBsb2FkRmlsZShmaWxlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB1cGxvYWRGaWxlKGZpbGUpIHsKICAgICAgY29uc29sZS5sb2coJ+i/m+WFpeS4iuS8oOaWh+S7tuWHveaVsCcpOwogICAgICAvL+aWh+S7tuivu+WPluWujOaIkOWQjueahOWbnuiwg+WHveaVsAogICAgICBmaWxlLnN0YXR1cyA9ICd1cGxvYWRpbmcnOwogICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZS5maWxlKTsKCiAgICAgIC8vIGZpbGVJZOeUqOS6juagh+iusOaWh+S7tu+8jOaWueS+v+WQjue7reWIoOmZpOWumuS9jeaWh+S7tgogICAgICBjb25zdCBmaWxlSWQgPSB1dWlkKCk7CiAgICAgIGZpbGUuZmlsZUlkID0gZmlsZUlkOwoKICAgICAgLy/nlJ/miJDlj5bmtojor7fmsYLnmoR0b2tlbizmlrnkvr/lnKhoYW5kbGVSZW1vdmXlj5bmtojkuIrkvKDml7bnu5PmnZ/or7fmsYIKICAgICAgY29uc3QgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjsKICAgICAgY29uc3Qgc291cmNlID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7CiAgICAgIGNhbmNlbFRva2VuT2JqLnNldChmaWxlSWQsIHNvdXJjZSk7CiAgICAgIHJlcXVlc3QoewogICAgICAgIHVybDogJy9zeXMtc3RvcmFnZS91cGxvYWQnLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICB9LAogICAgICAgIGRhdGE6IGZvcm1EYXRhLAogICAgICAgIHRpbWVvdXQ6IDAsCiAgICAgICAgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlbiwKICAgICAgICBvblVwbG9hZFByb2dyZXNzOiBwcm9ncmVzc0V2ZW50ID0+IHsKICAgICAgICAgIGxldCBwZXJjZW50ID0gcHJvZ3Jlc3NFdmVudC5sb2FkZWQgLyBwcm9ncmVzc0V2ZW50LnRvdGFsICogMTAwIHwgMDsKICAgICAgICAgIC8v6LCD55Sob25Qcm9ncmVzc+aWueazleadpeaYvuekuui/m+W6puadoe+8jOmcgOimgeS8oOmAkuS4quWvueixoSBwZXJjZW505Li66L+b5bqm5YC8CiAgICAgICAgICAvLyBmaWxlLm9uUHJvZ3Jlc3MoeyBwZXJjZW50OiBwZXJjZW50IH0pOwogICAgICAgICAgZmlsZS5tZXNzYWdlID0gYOS4iuS8oOS4rSAke3BlcmNlbnR9JWA7CiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJy9zeXMtc3RvcmFnZS91cGxvYWQtLS1yZXM6ICcsIHJlcyk7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMpIHsKICAgICAgICAgIHZhciBfcmVzJGRhdGEsIF9yZXMkZGF0YTI7CiAgICAgICAgICBmaWxlLnN0YXR1cyA9ICdzdWNjZXNzJzsKICAgICAgICAgIGZpbGUuZmlsZVRva2VuID0gcmVzID09PSBudWxsIHx8IHJlcyA9PT0gdm9pZCAwIHx8IChfcmVzJGRhdGEgPSByZXMuZGF0YSkgPT09IG51bGwgfHwgX3JlcyRkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzJGRhdGEuZmlsZVRva2VuOwogICAgICAgICAgdGhpcy5maWxlVG9rZW5MaXN0LnB1c2gocmVzID09PSBudWxsIHx8IHJlcyA9PT0gdm9pZCAwIHx8IChfcmVzJGRhdGEyID0gcmVzLmRhdGEpID09PSBudWxsIHx8IF9yZXMkZGF0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXMkZGF0YTIuZmlsZVRva2VuKTsKICAgICAgICAgIHRoaXMuc2V0RzlzKCk7CiAgICAgICAgICAvLyDop6PlhrPkuIrkvKDnu5PmnZ/lkI7ov5vluqbku43nhLbmmL7npLrpl67popgKICAgICAgICAgIHRoaXMuJHJlZnMucmVsVXBsb2FkZXIuJGZvcmNlVXBkYXRlKCk7CiAgICAgICAgICAvLyBmaWxlQ2hhbmdlR2FsbGVyeeS6i+S7tuWcqOeuoeW7iuW3oeajgOaooeWdl+eUn+aViAogICAgICAgICAgdGhpcy4kZW1pdCgnZmlsZUNoYW5nZUdhbGxlcnknLCB7CiAgICAgICAgICAgIGZpbGU6IHJlcy5kYXRhLAogICAgICAgICAgICBmaWxlTGlzdDogdGhpcy5maWxlTGlzdCwKICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLmZpbGVMaXN0Lmxlbmd0aAogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFRvYXN0KHJlcy5tZXNzYWdlKTsKICAgICAgICAgIC8vIOWIoOmZpOS4iuS8oOWksei0peeahOaWh+S7tgogICAgICAgICAgdGhpcy5maWxlTGlzdC5zcGxpY2UodGhpcy5maWxlTGlzdC5maW5kSW5kZXgoZWwgPT4gZWwuZmlsZUlkID09PSBmaWxlSWQpLCAxKTsKICAgICAgICB9CiAgICAgICAgLy8gZmlsZS5vblN1Y2Nlc3MocmVzLmRhdGEpOwogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICBUb2FzdCgn5LiK5Lyg5aSx6LSlJyk7CiAgICAgICAgLy8g5Yig6Zmk5LiK5Lyg5aSx6LSl55qE5paH5Lu2CiAgICAgICAgdGhpcy5maWxlTGlzdC5zcGxpY2UodGhpcy5maWxlTGlzdC5maW5kSW5kZXgoZWwgPT4gZWwuZmlsZUlkID09PSBmaWxlSWQpLCAxKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlRmlsZShmaWxlKSB7CiAgICAgIGNvbnN0IGZpbGVJZCA9IGZpbGUuZmlsZUlkOwogICAgICAvL+WmguaenOaWh+S7tuWcqOS4iuS8oOS4reeahOivne+8jOWImeWPlua2iOS4iuS8oOivt+axggogICAgICBjb25zdCBzb3VyY2UgPSBjYW5jZWxUb2tlbk9iai5nZXQoZmlsZUlkKTsKICAgICAgc291cmNlICYmIHNvdXJjZS5jYW5jZWwoKTsKICAgICAgLy8g5rKh5pyJ5LiK5Lyg5oiQ5Yqf77yM5oiW6Z2e5p+l55yL6aG16Z2i6aKE6KeI5pe277yM55u05o6lcmV0dXJuCiAgICAgIGlmIChmaWxlLnN0YXR1cyAhPT0gJ3N1Y2Nlc3MnICYmICFmaWxlLnJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuZmlsZVRva2VuTGlzdCA9IHRoaXMuZmlsZVRva2VuTGlzdC5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGZpbGUuZmlsZVRva2VuOwogICAgICB9KTsKICAgICAgaWYgKGZpbGVJZCkgewogICAgICAgIHRoaXMuZmlsZUxpc3Quc3BsaWNlKHRoaXMuZmlsZUxpc3QuZmluZEluZGV4KGVsID0+IGVsLmZpbGVJZCA9PT0gZmlsZUlkKSwgMSk7CiAgICAgICAgLy8g5LuO5ZCO5Y+w6I635Y+W6ZmE5Lu25ZCO5rKh5pyJZmlsZWRJZOaXtu+8jOWIqeeUqHRva2Vu5a6a5L2N5paH5Lu25YGa5Yig6ZmkCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maWxlTGlzdC5zcGxpY2UodGhpcy5maWxlTGlzdC5maW5kSW5kZXgoZWwgPT4gZWwuZmlsZVRva2VuID09PSBmaWxlLmZpbGVUb2tlbiksIDEpOwogICAgICB9CgogICAgICAvL+a0vuWPkeaWh+S7tuWIl+ihqOeKtuaAgeWPmOWMluS6i+S7tgogICAgICB0aGlzLiRlbWl0KCdmaWxlQ2hhbmdlJywgewogICAgICAgIGZpbGUsCiAgICAgICAgZmlsZUxpc3Q6IHRoaXMuZmlsZUxpc3QsCiAgICAgICAgbGVuZ3RoOiB0aGlzLmZpbGVMaXN0Lmxlbmd0aAogICAgICB9KTsKICAgIH0sCiAgICAvLyDnp7vliqjnq6/orr7lpIfkuIvovb3mlofku7YKICAgIGRvd25sb2FkKGZpbGUpIHsKICAgICAgaWYgKGZpbGUuaXNJbWFnZSAmJiB0aGlzLnR5cGUgPT0gJ2ltYWdlJyB8fCAhdGhpcy5kaXNhYmxlZCkgewogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgeXVhbmNodSAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGxldCBhY2Nlc3NUb2tlbiA9IHRoaXMuJHN0b3JhZ2UuZ2V0KCdhY2Nlc3NfdG9rZW4nKTsKICAgICAgICBsZXQgdXJsID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX1VSTCArICcvc3lzLXN0b3JhZ2UvZG93bmxvYWQ/ZjhzPScgKyBmaWxlLmZpbGVUb2tlbjsKICAgICAgICBsZXQgbmFtZSA9IGZpbGUuZmlsZS5uYW1lOwogICAgICAgIHRoaXMuJGxvYWRpbmcuc2hvdyh7CiAgICAgICAgICB0aXRsZTogJycKICAgICAgICB9KTsKCiAgICAgICAgLy8g5LuO6K6+5aSH5bqU55So57yT5a2Y55uu5b2V5LiL6I635Y+W5paH5Lu257O757uf6Lev5b6ECiAgICAgICAgbGV0IGZpbGVVcmwgPSB5dWFuY2h1LmZpbGVTeXN0ZW1QYXRocy5maWxlLmNhY2hlRGlyZWN0b3J5ICsgbmFtZTsKCiAgICAgICAgLy8g6LCD55So5Y6f55Sf5qGG5p626ZmE5Lu25LiL6L295o+S5Lu25pq06Zyy55qE5o6l5Y+jCiAgICAgICAgbGV0IGZpbGVUcmFuc2ZlciA9IG5ldyB5dWFuY2h1LmZpbGVUcmFuc2ZlcigpOwogICAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgICB0aGF0LmZpbGVUcmFuc2ZlciA9IGZpbGVUcmFuc2ZlcjsKICAgICAgICBmaWxlVHJhbnNmZXIub25wcm9ncmVzcyA9IHByb2dyZXNzRXZlbnQgPT4gewogICAgICAgICAgaWYgKHByb2dyZXNzRXZlbnQpIHsKICAgICAgICAgICAgdmFyIF9maWxlJHJlc3BvbnNlOwogICAgICAgICAgICBpZiAoKGZpbGUgPT09IG51bGwgfHwgZmlsZSA9PT0gdm9pZCAwIHx8IChfZmlsZSRyZXNwb25zZSA9IGZpbGUucmVzcG9uc2UpID09PSBudWxsIHx8IF9maWxlJHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZmlsZSRyZXNwb25zZS5zaXplKSAhPSBwcm9ncmVzc0V2ZW50LnRvdGFsKSB7CiAgICAgICAgICAgICAgdmFyIF9maWxlJHJlc3BvbnNlMjsKICAgICAgICAgICAgICB0aGF0LnBlcmNlbnQgPSBNYXRoLnJvdW5kKHByb2dyZXNzRXZlbnQubG9hZGVkICogMTAwIC8gKGZpbGUgPT09IG51bGwgfHwgZmlsZSA9PT0gdm9pZCAwIHx8IChfZmlsZSRyZXNwb25zZTIgPSBmaWxlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZmlsZSRyZXNwb25zZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9maWxlJHJlc3BvbnNlMi5zaXplKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGZpbGVUcmFuc2Zlci5kb3dubG9hZCh1cmwsIGZpbGVVcmwsIGVudHJ5ID0+IHsKICAgICAgICAgIGVudHJ5LmZpbGUoZGF0YSA9PiB7CiAgICAgICAgICAgIHl1YW5jaHUuZmlsZU9wZW5lcjIub3BlbihlbnRyeS50b1VSTCgpLCBkYXRhLnR5cGUsIHsKICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICAgICAgICAgICAgdGhpcy4kbG9hZGluZy5oaWRlKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy4kbG9hZGluZy5oaWRlKCk7CiAgICAgICAgfSwgKCkgPT4gewogICAgICAgICAgdGhhdC5wZXJjZW50ID0gMDsKICAgICAgICAgIHRoaXMuJGxvYWRpbmcuaGlkZSgpOwogICAgICAgIH0sIGZhbHNlLCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdGYXdrZXMtQXV0aCc6IGFjY2Vzc1Rva2VuCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG93bmxvYWRGaWxlKGZpbGUuZmlsZVRva2VuKTsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZUZpbGUoaW5kZXgpIHsKICAgICAgdGhpcy4kcmVmcy5yZWxVcGxvYWRlci5vbkRlbGV0ZSh0aGlzLmZpbGVMaXN0W2luZGV4XSwgaW5kZXgpOwogICAgfSwKICAgIG9uQ2xpY2tVcGxvYWQoZXZlbnQpIHsKICAgICAgaWYgKHRoaXMudHlwZSA9PSAnaW1hZ2UnKSB7CiAgICAgICAgLy8g6Kej5Yaz5rWP6KeI5Zmo6LCD6K+V5pe25o6n5Yi25oql6ZSZ6Zeu6aKYCiAgICAgICAgaWYgKHR5cGVvZiB5dWFuY2h1ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICB0aGlzLnRha2VQaWN0dXJlKCk7CiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzLnJlbFVwbG9hZGVyLiRlbWl0KCdjbGljay11cGxvYWQnLCBldmVudCk7CiAgICAgIH0KICAgIH0sCiAgICB0YWtlUGljdHVyZSgpIHsKICAgICAgLy8g6LCD55So5Y6f55Sf5o+S5Lu25ouN54Wn5oiW5LuO55u45YaM6YCJ5Y+WCiAgICAgIHl1YW5jaHUuaW1hZ2VQaWNrZXIuZ2V0UGljdHVyZXModGhpcy5vblN1Y2Nlc3MsIHRoaXMub25GYWlsLCB7CiAgICAgICAgcXVhbGl0eTogNTAsCiAgICAgICAgbWF4aW11bUltYWdlc0NvdW50OiB0aGlzLm1heEltYWdlc0NvdW50LAogICAgICAgIHdpZHRoOiAxOTIwLAogICAgICAgIGhlaWdodDogMTQ0MAogICAgICB9KTsKICAgIH0sCiAgICBvbkZhaWwoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICB9LAogICAgLy8g5ouN54Wn5oiW5LuO55u45YaM6YCJ5Y+W5Zu+54mH5oiQ5Yqf5ZCO5Zue6LCDCiAgICBvblN1Y2Nlc3Mob2JqKSB7CiAgICAgIG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCB8fCBvYmouaW1hZ2VzLmZvckVhY2godmFsID0+IHsKICAgICAgICByZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMKHZhbC51cmksIGZpbGVFbnRyeSA9PiB7CiAgICAgICAgICAvL+iOt+WPlmZpbGXlr7nosaHvvIzlkoxqc+WOn+eUn+eahGZpbGXkuI3kuIDmoLfvvIzpnIDopoHmj5Lku7blpITnkIYKICAgICAgICAgIGZpbGVFbnRyeS5maWxlKGZpbGUgPT4gewogICAgICAgICAgICAvL+ivu+WPluaWh+S7tuWvueixoQogICAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgeXVhbmNodS5maWxlUmVhZGVyKCk7CiAgICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBldmVudCA9PiB7CiAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge307CiAgICAgICAgICAgICAgY29uc3QgdGhpc0ZpbGUgPSBuZXcgRmlsZShbbmV3IEJsb2IoW2V2ZW50LnRhcmdldC5yZXN1bHRdLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBmaWxlLnR5cGUKICAgICAgICAgICAgICB9KV0sIGZpbGUubmFtZSk7CiAgICAgICAgICAgICAgcmVzdWx0LnVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtldmVudC50YXJnZXQucmVzdWx0XSkpOwogICAgICAgICAgICAgIHJlc3VsdC5pc0ltYWdlID0gdHJ1ZTsKICAgICAgICAgICAgICByZXN1bHQuZmlsZSA9IHRoaXNGaWxlOwogICAgICAgICAgICAgIC8vIOaPkuWFpeWIsGZpbGVMaXN05Lit5bm26LCD55So5LiK5Lyg5pa55rOVCiAgICAgICAgICAgICAgdGhpcy5maWxlTGlzdC5wdXNoKHJlc3VsdCk7CiAgICAgICAgICAgICAgdGhpcy5hZnRlclJlYWQocmVzdWx0KTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpOwogICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Vycm9yJywgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdlcnJvciByZXNvbHZlJywgZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBjbGlja1VwbG9hZCgpIHsKICAgICAgdmFyIF90aGlzJCRyZWZzOwogICAgICAoX3RoaXMkJHJlZnMgPSB0aGlzLiRyZWZzKSA9PT0gbnVsbCB8fCBfdGhpcyQkcmVmcyA9PT0gdm9pZCAwIHx8IChfdGhpcyQkcmVmcyA9IF90aGlzJCRyZWZzLnJlbFVwbG9hZGVyKSA9PT0gbnVsbCB8fCBfdGhpcyQkcmVmcyA9PT0gdm9pZCAwIHx8IChfdGhpcyQkcmVmcyA9IF90aGlzJCRyZWZzLiRyZWZzKSA9PT0gbnVsbCB8fCBfdGhpcyQkcmVmcyA9PT0gdm9pZCAwIHx8IF90aGlzJCRyZWZzLmlucHV0LmNsaWNrKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["Uploader","Toast","Button","Field","changeFileG9s","getFileToken","uuid","isImage","downloadFile","calcFileSize","request","axios","cancelTokenObj","Map","name","components","filters","calculateFileSize","val","props","value","type","String","required","default","limit","Number","label","autoUpload","Boolean","disabled","deletable","showUpload","maxImagesCount","beforeRead","Function","previewFullImage","previewLabel","data","fileList","fileTokenList","needToGetFile","percent","computed","accept","watch","immediate","handler","newVal","postData","g9s","then","res","status","forEach","item","isImageType","fileName","fileItem","file","size","response","fileToken","url","process","env","VUE_APP_BASE_URL","push","$emit","length","methods","setG9s","afterRead","console","log","Array","isArray","el","compressImg","quality","Promise","all","from","map","e","resolve","reader","FileReader","onload","target","result","src","image","Image","canvas","document","createElement","width","height","getContext","drawImage","canvasURL","toDataURL","buffer","atob","split","bufferArray","Uint8Array","ArrayBuffer","charCodeAt","miniFile","File","origin","beforeSrc","afterSrc","beforeKB","toFixed","afterKB","readAsDataURL","uploadFile","formData","FormData","append","fileId","CancelToken","source","set","method","headers","timeout","cancelToken","token","onUploadProgress","progressEvent","loaded","total","message","_res$data","_res$data2","$refs","relUploader","$forceUpdate","splice","findIndex","catch","err","error","removeFile","get","cancel","filter","download","yuanchu","accessToken","$storage","$loading","show","title","fileUrl","fileSystemPaths","cacheDirectory","fileTransfer","that","onprogress","_file$response","_file$response2","Math","round","entry","fileOpener2","open","toURL","success","hide","deleteFile","index","onDelete","onClickUpload","event","takePicture","preventDefault","imagePicker","getPictures","onSuccess","onFail","maximumImagesCount","obj","images","resolveLocalFileSystemURL","uri","fileEntry","fileReader","onloadend","thisFile","Blob","window","URL","createObjectURL","readAsArrayBuffer","clickUpload","_this$$refs","input","click"],"sources":["src/components/upload/Uploader.vue"],"sourcesContent":["<!--\r\n * @Author: xie_sm\r\n * @Date: 2022-02-28 16:07:02\r\n * @LastEditors: Please set LastEditors\r\n * @LastEditTime: 2022-06-22 08:50:15\r\n * @FilePath: \\mobile-template\\src\\components\\upload\\Uploader.vue\r\n * @Description: 参考凤翎web端form-upload组件，demo可查看src\\views\\CommonOne\\index.vue\r\n *\r\n-->\r\n<template>\r\n  <div>\r\n    <fm-field\r\n      :name=\"name\"\r\n      :label=\"label\"\r\n      label-class=\"cus-label\"\r\n      :class=\"[\r\n        'field-attachment',\r\n        type === 'file' && fileList.length == 0 && !disabled\r\n          ? 'no-upload-list'\r\n          : '',\r\n      ]\"\r\n    >\r\n      <template #label v-if=\"type == 'file'\">\r\n        <!-- 提供该组件label插槽，其中按照移动端设计规范设置默认样式 -->\r\n        <slot name=\"uploader-label\">\r\n          <div class=\"cus-label__div\">\r\n            <span>{{ previewLabel }}</span>\r\n            <!--  点击文本触发的原生input上传事件 -->\r\n            <div v-if=\"!disabled\" @click=\"clickUpload\">\r\n              <span class=\"label-action\">点击添加</span>\r\n              <i class=\"fm-icon fm-icon-arrow\"></i>\r\n            </div>\r\n          </div>\r\n        </slot>\r\n      </template>\r\n      <template #input>\r\n        <fm-uploader\r\n          :after-read=\"afterRead\"\r\n          :before-read=\"beforeRead\"\r\n          v-model=\"fileList\"\r\n          :multiple=\"false\"\r\n          :accept=\"accept\"\r\n          :before-delete=\"removeFile\"\r\n          :disabled=\"disabled\"\r\n          :deletable=\"deletable\"\r\n          @click-preview=\"download\"\r\n          :show-upload=\"showUpload\"\r\n          :onClickUpload=\"onClickUpload\"\r\n          ref=\"relUploader\"\r\n          class=\"uploader\"\r\n          :preview-full-image=\"previewFullImage\"\r\n        >\r\n          <!-- 提供修改上传区域的插槽 -->\r\n          <slot name=\"upload-area\" v-if=\"type == 'file'\">\r\n            <div></div>\r\n          </slot>\r\n          <span v-if=\"fileList.length == 0 && type === 'file' && disabled\"\r\n            >暂无附件</span\r\n          >\r\n          <!-- 自定义预览列表样式 -->\r\n          <template #preview-list=\"previewFileList\" v-if=\"type === 'file'\">\r\n            <slot name=\"upload-list\" v-bind=\"fileList\">\r\n              <div\r\n                v-for=\"(file, index) in previewFileList\"\r\n                :key=\"file.fileToken || file.fileId\"\r\n                class=\"preview-list-item\"\r\n                @click=\"download(file)\"\r\n              >\r\n                <img :src=\"file.file.name | getFileIcon\" class=\"file-icon\" />\r\n                <div class=\"file-info\">\r\n                  <span>{{ file.file.name }}</span>\r\n                  <span>{{ file.file.size | calculateFileSize }}</span>\r\n                </div>\r\n                <span\r\n                  class=\"delete-text\"\r\n                  @click=\"deleteFile(index)\"\r\n                  v-if=\"!disabled\"\r\n                  >删除</span\r\n                >\r\n              </div>\r\n            </slot>\r\n          </template>\r\n          <template #preview-list v-else-if=\"fileList.length == 0 && disabled\">\r\n            <span>暂无附件</span>\r\n          </template>\r\n        </fm-uploader>\r\n      </template>\r\n    </fm-field>\r\n  </div>\r\n</template>\r\n<script>\r\n/* eslint-disable no-undef */\r\n// 该组件需要和真机交互，会出现原生 API 未定义的情况，故全局应用屏蔽 no-undef 规则\r\n\r\nimport { Uploader, Toast, Button, Field } from 'fawkes-mobile-lib'\r\nimport { changeFileG9s, getFileToken } from '@/api/file'\r\nimport { uuid } from '@/utils/param'\r\nimport { isImage, downloadFile, calcFileSize } from '@/utils/file'\r\nimport request from '@/utils/request'\r\nimport axios from 'axios'\r\n\r\nconst cancelTokenObj = new Map()\r\n\r\nexport default {\r\n  name: 'Uploader',\r\n  components: {\r\n    [Uploader.name]: Uploader,\r\n    [Toast.name]: Toast,\r\n    [Button.name]: Button,\r\n    [Field.name]: Field,\r\n  },\r\n  filters: {\r\n    calculateFileSize: function (val) {\r\n      return calcFileSize(val)\r\n    },\r\n  },\r\n  props: {\r\n    // 文件groupToken\r\n    value: {\r\n      type: String,\r\n      required: true,\r\n      default: '',\r\n    },\r\n    // TODO: 文件上传数量限制，暂未使用\r\n    limit: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    // 图片上传时的标签名称\r\n    label: {\r\n      type: String,\r\n      default: '附件',\r\n    },\r\n    // 名称，提交表单的标识符\r\n    name: {\r\n      type: String,\r\n      default: 'uploader',\r\n    },\r\n    // 开启自动上传\r\n    autoUpload: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否展示删除按钮\r\n    deletable: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    // 是否显示上传区域\r\n    showUpload: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    // 上传类型，image或file\r\n    type: {\r\n      type: String,\r\n      default: 'image',\r\n    },\r\n    // 图片多选限制数量，默认为9\r\n    maxImagesCount: {\r\n      type: Number,\r\n      default: 9,\r\n    },\r\n    // 上传前的校验方法\r\n    beforeRead: {\r\n      type: Function,\r\n      default: function () {\r\n        return true\r\n      },\r\n    },\r\n    // 允许预览，默认为true\r\n    previewFullImage: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    // 文件上传时标签名称\r\n    previewLabel: {\r\n      type: String,\r\n      default: '附件',\r\n    },\r\n  },\r\n  data: () => ({\r\n    fileList: [],\r\n    fileTokenList: [],\r\n    // 是否需要请求文件资源\r\n    needToGetFile: true,\r\n    percent: 0,\r\n  }),\r\n  computed: {\r\n    // 允许上传的文件类型\r\n    accept() {\r\n      return this.type == 'image' ? 'image/*' : '*'\r\n    },\r\n  },\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      handler(newVal) {\r\n        if (!newVal) {\r\n          this.fileTokenList = []\r\n          this.fileList = []\r\n          return\r\n        } else if (this.needToGetFile) {\r\n          let postData = {\r\n            g9s: [newVal],\r\n          }\r\n          getFileToken(postData).then((res) => {\r\n            if (res.status) {\r\n              let fileTokenList = res.data\r\n              const fileList = []\r\n              fileTokenList.forEach((item) => {\r\n                let isImageType = isImage(item.fileName)\r\n                let fileItem = {\r\n                  file: {\r\n                    name: item.fileName,\r\n                    size: item.size,\r\n                  },\r\n                  response: item,\r\n                  isImage: isImageType,\r\n                  fileToken: item.fileToken,\r\n                }\r\n                // 展示图片\r\n                if (isImageType) {\r\n                  fileItem.url = `${process.env.VUE_APP_BASE_URL}/sys-storage/download_image?f8s=${item.fileToken}`\r\n                } else {\r\n                  // 展示文件\r\n                  fileItem.url = item.fileToken\r\n                }\r\n\r\n                fileList.push(fileItem)\r\n                this.fileTokenList.push(item.fileToken)\r\n              })\r\n              this.fileList = fileList\r\n              this.$emit('fileChange', {\r\n                file: null,\r\n                fileList,\r\n                length: fileList.length,\r\n              })\r\n            }\r\n          })\r\n        }\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    setG9s() {\r\n      if (this.fileTokenList.length) {\r\n        const g9s = uuid()\r\n        //将各文件的filetoken合并成grouptoken\r\n        changeFileG9s(g9s, this.fileTokenList).then(() => {\r\n          this.$emit('input', g9s)\r\n        })\r\n      } else {\r\n        this.$emit('input', '')\r\n      }\r\n    },\r\n    async afterRead(file) { // 文件上传完毕后会触发 after-read 回调函数，获取到对应的 file 对象。\r\n      console.log('文件上传完毕', file);\r\n      // 多选的情况下\r\n      if (Array.isArray(file)) {\r\n        console.log(\"多选的情况下\", file);\r\n        file.forEach((el) => this.afterRead(el))\r\n        return;\r\n      } else {\r\n        console.log(\"单选的情况下\", file);\r\n        await compressImg(file.file, 0.2).then((res) => {\r\n          console.log(\"压缩后的file\", res);\r\n          file.file = res.file; // 替换原来的file\r\n        });\r\n      }\r\n      function compressImg(file, quality) {\r\n        if (file[0]) {\r\n          return Promise.all(Array.from(file).map(async (e) => await compressImg(e, quality))); // 如果是 file 数组返回 Promise 数组\r\n        } else {\r\n          return new Promise((resolve) => {\r\n            const reader = new FileReader(); // 创建 FileReader\r\n            reader.onload = ({ target: { result: src } }) => {\r\n              const image = new Image(); // 创建 img 元素\r\n              image.onload = async () => {\r\n                const canvas = document.createElement(\"canvas\"); // 创建 canvas 元素\r\n                canvas.width = image.width;\r\n                canvas.height = image.height;\r\n                canvas.getContext(\"2d\").drawImage(image, 0, 0, image.width, image.height); // 绘制 canvas\r\n                const canvasURL = canvas.toDataURL(\"image/jpeg\", quality);\r\n                const buffer = atob(canvasURL.split(\",\")[1]);\r\n                let length = buffer.length;\r\n                const bufferArray = new Uint8Array(new ArrayBuffer(length));\r\n                while (length--) {\r\n                  bufferArray[length] = buffer.charCodeAt(length);\r\n                }\r\n                const miniFile = new File([bufferArray], file.name, {\r\n                  type: \"image/jpeg\",\r\n                });\r\n                resolve({\r\n                  file: miniFile,\r\n                  origin: file,\r\n                  beforeSrc: src,\r\n                  afterSrc: canvasURL,\r\n                  beforeKB: Number((file.size / 1024).toFixed(2)),\r\n                  afterKB: Number((miniFile.size / 1024).toFixed(2)),\r\n                });\r\n              };\r\n              image.src = src;\r\n            };\r\n            reader.readAsDataURL(file);\r\n          });\r\n        }\r\n      }\r\n      console.log('-----------------------------------------------------------------------------------');\r\n      if (this.autoUpload) { // 如果是自动上传的情况下\r\n        // 多选的情况下\r\n        if (Array.isArray(file)) {\r\n          file.forEach((el) => this.uploadFile(el))\r\n        } else {\r\n          this.uploadFile(file)\r\n        }\r\n      }\r\n    },\r\n    uploadFile(file) {\r\n      console.log('进入上传文件函数');\r\n      //文件读取完成后的回调函数\r\n      file.status = 'uploading'\r\n      let formData = new FormData()\r\n\r\n      formData.append('file', file.file)\r\n\r\n      // fileId用于标记文件，方便后续删除定位文件\r\n      const fileId = uuid()\r\n      file.fileId = fileId\r\n\r\n      //生成取消请求的token,方便在handleRemove取消上传时结束请求\r\n      const CancelToken = axios.CancelToken\r\n      const source = CancelToken.source()\r\n      cancelTokenObj.set(fileId, source)\r\n      request({\r\n        url: '/sys-storage/upload',\r\n        method: 'post',\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n        data: formData,\r\n        timeout: 0,\r\n        cancelToken: source.token,\r\n        onUploadProgress: (progressEvent) => {\r\n          let percent = ((progressEvent.loaded / progressEvent.total) * 100) | 0\r\n          //调用onProgress方法来显示进度条，需要传递个对象 percent为进度值\r\n          // file.onProgress({ percent: percent });\r\n          file.message = `上传中 ${percent}%`\r\n        },\r\n      })\r\n        .then((res) => {\r\n          // console.log('/sys-storage/upload---res: ', res);\r\n          if (res.status) {\r\n            file.status = 'success'\r\n            file.fileToken = res?.data?.fileToken\r\n            this.fileTokenList.push(res?.data?.fileToken)\r\n            this.setG9s()\r\n            // 解决上传结束后进度仍然显示问题\r\n            this.$refs.relUploader.$forceUpdate()\r\n            // fileChangeGallery事件在管廊巡检模块生效\r\n            this.$emit('fileChangeGallery', {\r\n              file: res.data,\r\n              fileList: this.fileList,\r\n              length: this.fileList.length,\r\n            })\r\n          } else {\r\n            Toast(res.message)\r\n            // 删除上传失败的文件\r\n            this.fileList.splice(\r\n              this.fileList.findIndex((el) => el.fileId === fileId),\r\n              1\r\n            )\r\n          }\r\n          // file.onSuccess(res.data);\r\n        })\r\n        .catch((err) => {\r\n          console.error(err)\r\n          Toast('上传失败')\r\n          // 删除上传失败的文件\r\n          this.fileList.splice(\r\n            this.fileList.findIndex((el) => el.fileId === fileId),\r\n            1\r\n          )\r\n        })\r\n    },\r\n    removeFile(file) {\r\n      const fileId = file.fileId\r\n      //如果文件在上传中的话，则取消上传请求\r\n      const source = cancelTokenObj.get(fileId)\r\n      source && source.cancel()\r\n      // 没有上传成功，或非查看页面预览时，直接return\r\n      if (file.status !== 'success' && !file.response) {\r\n        return\r\n      }\r\n      this.fileTokenList = this.fileTokenList.filter((item) => {\r\n        return item !== file.fileToken\r\n      })\r\n\r\n      if (fileId) {\r\n        this.fileList.splice(\r\n          this.fileList.findIndex((el) => el.fileId === fileId),\r\n          1\r\n        )\r\n        // 从后台获取附件后没有filedId时，利用token定位文件做删除\r\n      } else {\r\n        this.fileList.splice(\r\n          this.fileList.findIndex((el) => el.fileToken === file.fileToken),\r\n          1\r\n        )\r\n      }\r\n\r\n      //派发文件列表状态变化事件\r\n      this.$emit('fileChange', {\r\n        file,\r\n        fileList: this.fileList,\r\n        length: this.fileList.length,\r\n      })\r\n    },\r\n    // 移动端设备下载文件\r\n    download(file) {\r\n      if ((file.isImage && this.type == 'image') || !this.disabled) {\r\n        return\r\n      } else if (typeof yuanchu != 'undefined') {\r\n        let accessToken = this.$storage.get('access_token')\r\n        let url =\r\n          process.env.VUE_APP_BASE_URL +\r\n          '/sys-storage/download?f8s=' +\r\n          file.fileToken\r\n        let name = file.file.name\r\n        this.$loading.show({ title: '' })\r\n\r\n        // 从设备应用缓存目录下获取文件系统路径\r\n        let fileUrl = yuanchu.fileSystemPaths.file.cacheDirectory + name\r\n\r\n        // 调用原生框架附件下载插件暴露的接口\r\n        let fileTransfer = new yuanchu.fileTransfer()\r\n        let that = this\r\n        that.fileTransfer = fileTransfer\r\n        fileTransfer.onprogress = (progressEvent) => {\r\n          if (progressEvent) {\r\n            if (file?.response?.size != progressEvent.total) {\r\n              that.percent = Math.round(\r\n                (progressEvent.loaded * 100) / file?.response?.size\r\n              )\r\n            }\r\n          }\r\n        }\r\n\r\n        fileTransfer.download(\r\n          url,\r\n          fileUrl,\r\n          (entry) => {\r\n            entry.file((data) => {\r\n              yuanchu.fileOpener2.open(entry.toURL(), data.type, {\r\n                success: function () {\r\n                  return\r\n                },\r\n                error: function (err) {\r\n                  console.error(err)\r\n                  this.$loading.hide()\r\n                },\r\n              })\r\n            })\r\n            this.$loading.hide()\r\n          },\r\n          () => {\r\n            that.percent = 0\r\n            this.$loading.hide()\r\n          },\r\n          false,\r\n          {\r\n            headers: {\r\n              'Fawkes-Auth': accessToken,\r\n            },\r\n          }\r\n        )\r\n      } else {\r\n        downloadFile(file.fileToken)\r\n      }\r\n    },\r\n    deleteFile(index) {\r\n      this.$refs.relUploader.onDelete(this.fileList[index], index)\r\n    },\r\n    onClickUpload(event) {\r\n      if (this.type == 'image') {\r\n        // 解决浏览器调试时控制报错问题\r\n        if (typeof yuanchu != 'undefined') {\r\n          this.takePicture()\r\n          event.preventDefault()\r\n        }\r\n      } else {\r\n        this.$refs.relUploader.$emit('click-upload', event)\r\n      }\r\n    },\r\n    takePicture() {\r\n      // 调用原生插件拍照或从相册选取\r\n      yuanchu.imagePicker.getPictures(this.onSuccess, this.onFail, {\r\n        quality: 50,\r\n        maximumImagesCount: this.maxImagesCount,\r\n        width: 1920,\r\n        height: 1440,\r\n      })\r\n    },\r\n    onFail(error) {\r\n      console.error(error)\r\n    },\r\n    // 拍照或从相册选取图片成功后回调\r\n    onSuccess(obj) {\r\n      obj?.images.forEach((val) => {\r\n        resolveLocalFileSystemURL(\r\n          val.uri,\r\n          (fileEntry) => {\r\n            //获取file对象，和js原生的file不一样，需要插件处理\r\n            fileEntry.file(\r\n              (file) => {\r\n                //读取文件对象\r\n                const reader = new yuanchu.fileReader()\r\n                reader.onloadend = (event) => {\r\n                  const result = {}\r\n                  const thisFile = new File(\r\n                    [new Blob([event.target.result], { type: file.type })],\r\n                    file.name\r\n                  )\r\n                  result.url = window.URL.createObjectURL(\r\n                    new Blob([event.target.result])\r\n                  )\r\n                  result.isImage = true\r\n                  result.file = thisFile\r\n                  // 插入到fileList中并调用上传方法\r\n                  this.fileList.push(result)\r\n                  this.afterRead(result)\r\n                }\r\n                reader.readAsArrayBuffer(file)\r\n              },\r\n              function (error) {\r\n                console.error('error', error)\r\n              }\r\n            )\r\n          },\r\n          function (error) {\r\n            console.error('error resolve', error)\r\n          }\r\n        )\r\n      })\r\n    },\r\n    clickUpload() {\r\n      this.$refs?.relUploader?.$refs?.input.click()\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n// 自定义文件列表预览\r\n.custom-preview-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n// 自定义文件项\r\n.preview-list-item {\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-bottom: 12px;\r\n  padding-top: 16px;\r\n\r\n  .file-info {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding-left: 12px;\r\n    height: 3em;\r\n    justify-content: space-between;\r\n    flex: 1;\r\n    min-width: 0;\r\n\r\n    span {\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n      text-align: left;\r\n    }\r\n\r\n    span + span {\r\n      font-size: 28px;\r\n      color: #999999;\r\n    }\r\n  }\r\n\r\n  .file-icon {\r\n    height: 53px;\r\n    width: 44px;\r\n    margin-top: 24px;\r\n  }\r\n\r\n  .delete-text {\r\n    color: #999999;\r\n  }\r\n}\r\n.field-attachment {\r\n  height: 100%;\r\n  flex-direction: column;\r\n  /deep/ .fm-field__control--right {\r\n    justify-content: flex-start;\r\n  }\r\n}\r\n/deep/ .cus-label {\r\n  width: 100%;\r\n}\r\n.cus-label__div {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  .label-action {\r\n    color: #027aff;\r\n  }\r\n}\r\n.uploder-attachment {\r\n  width: 100%;\r\n}\r\n\r\n.no-upload-list {\r\n  /deep/ .fm-field__control {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"}]}