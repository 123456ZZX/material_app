import Vue from 'vue';
import { VanComponent } from './component';

export type NotifyMessage = string | number;

export type NotifyType = 'primary' | 'success' | 'error' | 'warning' | 'info';

export type NotifyOptions = {
  type?: NotifyType;
  visible?: boolean;
  color?: string;
  message?: NotifyMessage;
  duration?: number;
  customClass?: any;
  position?: string;
  background?: string;
  onClose?: (() => void) | null;
  onOpened?: (() => void) | null;
  onClick?: ((event: Event) => void) | null;
};

export interface VanNotify extends Vue {
  message: NotifyMessage;
  color: string;
  background: string;
  duration: number;
}

export interface Notify {
  (message: NotifyOptions | NotifyMessage): VanNotify;
  clear(): void;
  close(): void;
  closeAll(): void;
  primary(): any;
  success(): any;
  error(): any;
  warning(): any;
  info(): any;
  install(): void;
  currentOptions: NotifyOptions;
  defaultOptions: NotifyOptions;
  setDefaultOptions(options: NotifyOptions): void;
  resetDefaultOptions(): void;
  Component: typeof VanComponent;
}

declare module 'vue/types/vue' {
  interface Vue {
    $notify: Notify;
  }
}

export const Notify: Notify;
